var l$=Object.defineProperty;var u5=n=>{throw TypeError(n)};var c$=(n,t,e)=>t in n?l$(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var X=(n,t,e)=>c$(n,typeof t!="symbol"?t+"":t,e),CM=(n,t,e)=>t.has(n)||u5("Cannot "+e);var h=(n,t,e)=>(CM(n,t,"read from private field"),e?e.call(n):t.get(n)),E=(n,t,e)=>t.has(n)?u5("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),b=(n,t,e,i)=>(CM(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),_=(n,t,e)=>(CM(n,t,"access private method"),e);var fe=(n,t,e,i)=>({set _(r){b(n,t,r,e)},get _(){return h(n,t,i)}});function h$(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var u$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function d$(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),e}var PW={exports:{}},lF={},RW={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk=Symbol.for("react.element"),f$=Symbol.for("react.portal"),p$=Symbol.for("react.fragment"),g$=Symbol.for("react.strict_mode"),m$=Symbol.for("react.profiler"),v$=Symbol.for("react.provider"),y$=Symbol.for("react.context"),b$=Symbol.for("react.forward_ref"),w$=Symbol.for("react.suspense"),x$=Symbol.for("react.memo"),S$=Symbol.for("react.lazy"),d5=Symbol.iterator;function A$(n){return n===null||typeof n!="object"?null:(n=d5&&n[d5]||n["@@iterator"],typeof n=="function"?n:null)}var DW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FW=Object.assign,MW={};function J1(n,t,e){this.props=n,this.context=t,this.refs=MW,this.updater=e||DW}J1.prototype.isReactComponent={};J1.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};J1.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function NW(){}NW.prototype=J1.prototype;function FB(n,t,e){this.props=n,this.context=t,this.refs=MW,this.updater=e||DW}var MB=FB.prototype=new NW;MB.constructor=FB;FW(MB,J1.prototype);MB.isPureReactComponent=!0;var f5=Array.isArray,IW=Object.prototype.hasOwnProperty,NB={current:null},LW={key:!0,ref:!0,__self:!0,__source:!0};function OW(n,t,e){var i,r={},s=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)IW.call(t,i)&&!LW.hasOwnProperty(i)&&(r[i]=t[i]);var o=arguments.length-2;if(o===1)r.children=e;else if(1<o){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+2];r.children=c}if(n&&n.defaultProps)for(i in o=n.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:Pk,type:n,key:s,ref:a,props:r,_owner:NB.current}}function E$(n,t){return{$$typeof:Pk,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function IB(n){return typeof n=="object"&&n!==null&&n.$$typeof===Pk}function _$(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var p5=/\/+/g;function kM(n,t){return typeof n=="object"&&n!==null&&n.key!=null?_$(""+n.key):t.toString(36)}function F2(n,t,e,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Pk:case f$:a=!0}}if(a)return a=n,r=r(a),n=i===""?"."+kM(a,0):i,f5(r)?(e="",n!=null&&(e=n.replace(p5,"$&/")+"/"),F2(r,t,e,"",function(l){return l})):r!=null&&(IB(r)&&(r=E$(r,e+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(p5,"$&/")+"/")+n)),t.push(r)),1;if(a=0,i=i===""?".":i+":",f5(n))for(var o=0;o<n.length;o++){s=n[o];var c=i+kM(s,o);a+=F2(s,t,e,c,r)}else if(c=A$(n),typeof c=="function")for(n=c.call(n),o=0;!(s=n.next()).done;)s=s.value,c=i+kM(s,o++),a+=F2(s,t,e,c,r);else if(s==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function yT(n,t,e){if(n==null)return n;var i=[],r=0;return F2(n,i,"","",function(s){return t.call(e,s,r++)}),i}function C$(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var us={current:null},M2={transition:null},k$={ReactCurrentDispatcher:us,ReactCurrentBatchConfig:M2,ReactCurrentOwner:NB};function BW(){throw Error("act(...) is not supported in production builds of React.")}$t.Children={map:yT,forEach:function(n,t,e){yT(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return yT(n,function(){t++}),t},toArray:function(n){return yT(n,function(t){return t})||[]},only:function(n){if(!IB(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};$t.Component=J1;$t.Fragment=p$;$t.Profiler=m$;$t.PureComponent=FB;$t.StrictMode=g$;$t.Suspense=w$;$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k$;$t.act=BW;$t.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=FW({},n.props),r=n.key,s=n.ref,a=n._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=NB.current),t.key!==void 0&&(r=""+t.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(c in t)IW.call(t,c)&&!LW.hasOwnProperty(c)&&(i[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)i.children=e;else if(1<c){o=Array(c);for(var l=0;l<c;l++)o[l]=arguments[l+2];i.children=o}return{$$typeof:Pk,type:n.type,key:r,ref:s,props:i,_owner:a}};$t.createContext=function(n){return n={$$typeof:y$,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:v$,_context:n},n.Consumer=n};$t.createElement=OW;$t.createFactory=function(n){var t=OW.bind(null,n);return t.type=n,t};$t.createRef=function(){return{current:null}};$t.forwardRef=function(n){return{$$typeof:b$,render:n}};$t.isValidElement=IB;$t.lazy=function(n){return{$$typeof:S$,_payload:{_status:-1,_result:n},_init:C$}};$t.memo=function(n,t){return{$$typeof:x$,type:n,compare:t===void 0?null:t}};$t.startTransition=function(n){var t=M2.transition;M2.transition={};try{n()}finally{M2.transition=t}};$t.unstable_act=BW;$t.useCallback=function(n,t){return us.current.useCallback(n,t)};$t.useContext=function(n){return us.current.useContext(n)};$t.useDebugValue=function(){};$t.useDeferredValue=function(n){return us.current.useDeferredValue(n)};$t.useEffect=function(n,t){return us.current.useEffect(n,t)};$t.useId=function(){return us.current.useId()};$t.useImperativeHandle=function(n,t,e){return us.current.useImperativeHandle(n,t,e)};$t.useInsertionEffect=function(n,t){return us.current.useInsertionEffect(n,t)};$t.useLayoutEffect=function(n,t){return us.current.useLayoutEffect(n,t)};$t.useMemo=function(n,t){return us.current.useMemo(n,t)};$t.useReducer=function(n,t,e){return us.current.useReducer(n,t,e)};$t.useRef=function(n){return us.current.useRef(n)};$t.useState=function(n){return us.current.useState(n)};$t.useSyncExternalStore=function(n,t,e){return us.current.useSyncExternalStore(n,t,e)};$t.useTransition=function(){return us.current.useTransition()};$t.version="18.3.1";RW.exports=$t;var I=RW.exports;const un=hd(I),T$=h$({__proto__:null,default:un},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P$=I,R$=Symbol.for("react.element"),D$=Symbol.for("react.fragment"),F$=Object.prototype.hasOwnProperty,M$=P$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N$={key:!0,ref:!0,__self:!0,__source:!0};function zW(n,t,e){var i,r={},s=null,a=null;e!==void 0&&(s=""+e),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)F$.call(t,i)&&!N$.hasOwnProperty(i)&&(r[i]=t[i]);if(n&&n.defaultProps)for(i in t=n.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:R$,type:n,key:s,ref:a,props:r,_owner:M$.current}}lF.Fragment=D$;lF.jsx=zW;lF.jsxs=zW;PW.exports=lF;var P=PW.exports,yI={},jW={exports:{}},ja={},UW={exports:{}},HW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(G,H){var M=G.length;G.push(H);t:for(;0<M;){var N=M-1>>>1,W=G[N];if(0<r(W,H))G[N]=H,G[M]=W,M=N;else break t}}function e(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var H=G[0],M=G.pop();if(M!==H){G[0]=M;t:for(var N=0,W=G.length,q=W>>>1;N<q;){var Q=2*(N+1)-1,et=G[Q],J=Q+1,Z=G[J];if(0>r(et,M))J<W&&0>r(Z,et)?(G[N]=Z,G[J]=M,N=J):(G[N]=et,G[Q]=M,N=Q);else if(J<W&&0>r(Z,M))G[N]=Z,G[J]=M,N=J;else break t}}return H}function r(G,H){var M=G.sortIndex-H.sortIndex;return M!==0?M:G.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var c=[],l=[],u=1,d=null,f=3,p=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(G){for(var H=e(l);H!==null;){if(H.callback===null)i(l);else if(H.startTime<=G)i(l),H.sortIndex=H.expirationTime,t(c,H);else break;H=e(l)}}function A(G){if(m=!1,x(G),!g)if(e(c)!==null)g=!0,z(S);else{var H=e(l);H!==null&&B(A,H.startTime-G)}}function S(G,H){g=!1,m&&(m=!1,v(T),T=-1),p=!0;var M=f;try{for(x(H),d=e(c);d!==null&&(!(d.expirationTime>H)||G&&!D());){var N=d.callback;if(typeof N=="function"){d.callback=null,f=d.priorityLevel;var W=N(d.expirationTime<=H);H=n.unstable_now(),typeof W=="function"?d.callback=W:d===e(c)&&i(c),x(H)}else i(c);d=e(c)}if(d!==null)var q=!0;else{var Q=e(l);Q!==null&&B(A,Q.startTime-H),q=!1}return q}finally{d=null,f=M,p=!1}}var C=!1,k=null,T=-1,R=5,F=-1;function D(){return!(n.unstable_now()-F<R)}function U(){if(k!==null){var G=n.unstable_now();F=G;var H=!0;try{H=k(!0,G)}finally{H?j():(C=!1,k=null)}}else C=!1}var j;if(typeof w=="function")j=function(){w(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=U,j=function(){Y.postMessage(null)}}else j=function(){y(U,0)};function z(G){k=G,C||(C=!0,j())}function B(G,H){T=y(function(){G(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,z(S))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return e(c)},n.unstable_next=function(G){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var M=f;f=H;try{return G()}finally{f=M}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,H){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var M=f;f=G;try{return H()}finally{f=M}},n.unstable_scheduleCallback=function(G,H,M){var N=n.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?N+M:N):M=N,G){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=M+W,G={id:u++,callback:H,priorityLevel:G,startTime:M,expirationTime:W,sortIndex:-1},M>N?(G.sortIndex=M,t(l,G),e(c)===null&&G===e(l)&&(m?(v(T),T=-1):m=!0,B(A,M-N))):(G.sortIndex=W,t(c,G),g||p||(g=!0,z(S))),G},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(G){var H=f;return function(){var M=f;f=H;try{return G.apply(this,arguments)}finally{f=M}}}})(HW);UW.exports=HW;var I$=UW.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L$=I,Ba=I$;function nt(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WW=new Set,PA={};function Cv(n,t){B1(n,t),B1(n+"Capture",t)}function B1(n,t){for(PA[n]=t,n=0;n<t.length;n++)WW.add(t[n])}var ed=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bI=Object.prototype.hasOwnProperty,O$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g5={},m5={};function B$(n){return bI.call(m5,n)?!0:bI.call(g5,n)?!1:O$.test(n)?m5[n]=!0:(g5[n]=!0,!1)}function z$(n,t,e,i){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function j$(n,t,e,i){if(t===null||typeof t>"u"||z$(n,t,e,i))return!0;if(i)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ds(n,t,e,i,r,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){vr[n]=new ds(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];vr[t]=new ds(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){vr[n]=new ds(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){vr[n]=new ds(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){vr[n]=new ds(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){vr[n]=new ds(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){vr[n]=new ds(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){vr[n]=new ds(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){vr[n]=new ds(n,5,!1,n.toLowerCase(),null,!1,!1)});var LB=/[\-:]([a-z])/g;function OB(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(LB,OB);vr[t]=new ds(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(LB,OB);vr[t]=new ds(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(LB,OB);vr[t]=new ds(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){vr[n]=new ds(n,1,!1,n.toLowerCase(),null,!1,!1)});vr.xlinkHref=new ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){vr[n]=new ds(n,1,!1,n.toLowerCase(),null,!0,!0)});function BB(n,t,e,i){var r=vr.hasOwnProperty(t)?vr[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j$(t,e,r,i)&&(e=null),i||r===null?B$(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):r.mustUseProperty?n[r.propertyName]=e===null?r.type===3?!1:"":e:(t=r.attributeName,i=r.attributeNamespace,e===null?n.removeAttribute(t):(r=r.type,e=r===3||r===4&&e===!0?"":""+e,i?n.setAttributeNS(i,t,e):n.setAttribute(t,e))))}var ud=L$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bT=Symbol.for("react.element"),Ey=Symbol.for("react.portal"),_y=Symbol.for("react.fragment"),zB=Symbol.for("react.strict_mode"),wI=Symbol.for("react.profiler"),VW=Symbol.for("react.provider"),GW=Symbol.for("react.context"),jB=Symbol.for("react.forward_ref"),xI=Symbol.for("react.suspense"),SI=Symbol.for("react.suspense_list"),UB=Symbol.for("react.memo"),Ld=Symbol.for("react.lazy"),XW=Symbol.for("react.offscreen"),v5=Symbol.iterator;function Ex(n){return n===null||typeof n!="object"?null:(n=v5&&n[v5]||n["@@iterator"],typeof n=="function"?n:null)}var Sn=Object.assign,TM;function Jx(n){if(TM===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);TM=t&&t[1]||""}return`
`+TM+n}var PM=!1;function RM(n,t){if(!n||PM)return"";PM=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var i=l}Reflect.construct(n,[],t)}else{try{t.call()}catch(l){i=l}n.call(t.prototype)}else{try{throw Error()}catch(l){i=l}n()}}catch(l){if(l&&i&&typeof l.stack=="string"){for(var r=l.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var c=`
`+r[a].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=a&&0<=o);break}}}finally{PM=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Jx(n):""}function U$(n){switch(n.tag){case 5:return Jx(n.type);case 16:return Jx("Lazy");case 13:return Jx("Suspense");case 19:return Jx("SuspenseList");case 0:case 2:case 15:return n=RM(n.type,!1),n;case 11:return n=RM(n.type.render,!1),n;case 1:return n=RM(n.type,!0),n;default:return""}}function AI(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _y:return"Fragment";case Ey:return"Portal";case wI:return"Profiler";case zB:return"StrictMode";case xI:return"Suspense";case SI:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case GW:return(n.displayName||"Context")+".Consumer";case VW:return(n._context.displayName||"Context")+".Provider";case jB:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case UB:return t=n.displayName||null,t!==null?t:AI(n.type)||"Memo";case Ld:t=n._payload,n=n._init;try{return AI(n(t))}catch{}}return null}function H$(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return AI(t);case 8:return t===zB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xp(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qW(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function W$(n){var t=qW(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),i=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var r=e.get,s=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function wT(n){n._valueTracker||(n._valueTracker=W$(n))}function KW(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),i="";return n&&(i=qW(n)?n.checked?"true":"false":n.value),n=i,n!==e?(t.setValue(n),!0):!1}function bR(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function EI(n,t){var e=t.checked;return Sn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function y5(n,t){var e=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;e=Xp(t.value!=null?t.value:e),n._wrapperState={initialChecked:i,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function YW(n,t){t=t.checked,t!=null&&BB(n,"checked",t,!1)}function _I(n,t){YW(n,t);var e=Xp(t.value),i=t.type;if(e!=null)i==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?CI(n,t.type,e):t.hasOwnProperty("defaultValue")&&CI(n,t.type,Xp(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function b5(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function CI(n,t,e){(t!=="number"||bR(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var $x=Array.isArray;function Xy(n,t,e,i){if(n=n.options,t){t={};for(var r=0;r<e.length;r++)t["$"+e[r]]=!0;for(e=0;e<n.length;e++)r=t.hasOwnProperty("$"+n[e].value),n[e].selected!==r&&(n[e].selected=r),r&&i&&(n[e].defaultSelected=!0)}else{for(e=""+Xp(e),t=null,r=0;r<n.length;r++){if(n[r].value===e){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}t!==null||n[r].disabled||(t=n[r])}t!==null&&(t.selected=!0)}}function kI(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(nt(91));return Sn({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function w5(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(nt(92));if($x(e)){if(1<e.length)throw Error(nt(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:Xp(e)}}function ZW(n,t){var e=Xp(t.value),i=Xp(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),i!=null&&(n.defaultValue=""+i)}function x5(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function QW(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function TI(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?QW(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var xT,JW=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,i,r){MSApp.execUnsafeLocalFunction(function(){return n(t,e,i,r)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(xT=xT||document.createElement("div"),xT.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xT.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function RA(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var ZS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V$=["Webkit","ms","Moz","O"];Object.keys(ZS).forEach(function(n){V$.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),ZS[t]=ZS[n]})});function $W(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||ZS.hasOwnProperty(n)&&ZS[n]?(""+t).trim():t+"px"}function tV(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var i=e.indexOf("--")===0,r=$W(e,t[e],i);e==="float"&&(e="cssFloat"),i?n.setProperty(e,r):n[e]=r}}var G$=Sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function PI(n,t){if(t){if(G$[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(nt(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(nt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(nt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(nt(62))}}function RI(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DI=null;function HB(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var FI=null,qy=null,Ky=null;function S5(n){if(n=Fk(n)){if(typeof FI!="function")throw Error(nt(280));var t=n.stateNode;t&&(t=fF(t),FI(n.stateNode,n.type,t))}}function eV(n){qy?Ky?Ky.push(n):Ky=[n]:qy=n}function nV(){if(qy){var n=qy,t=Ky;if(Ky=qy=null,S5(n),t)for(n=0;n<t.length;n++)S5(t[n])}}function iV(n,t){return n(t)}function rV(){}var DM=!1;function sV(n,t,e){if(DM)return n(t,e);DM=!0;try{return iV(n,t,e)}finally{DM=!1,(qy!==null||Ky!==null)&&(rV(),nV())}}function DA(n,t){var e=n.stateNode;if(e===null)return null;var i=fF(e);if(i===null)return null;e=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(nt(231,t,typeof e));return e}var MI=!1;if(ed)try{var _x={};Object.defineProperty(_x,"passive",{get:function(){MI=!0}}),window.addEventListener("test",_x,_x),window.removeEventListener("test",_x,_x)}catch{MI=!1}function X$(n,t,e,i,r,s,a,o,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(e,l)}catch(u){this.onError(u)}}var QS=!1,wR=null,xR=!1,NI=null,q$={onError:function(n){QS=!0,wR=n}};function K$(n,t,e,i,r,s,a,o,c){QS=!1,wR=null,X$.apply(q$,arguments)}function Y$(n,t,e,i,r,s,a,o,c){if(K$.apply(this,arguments),QS){if(QS){var l=wR;QS=!1,wR=null}else throw Error(nt(198));xR||(xR=!0,NI=l)}}function kv(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function aV(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function A5(n){if(kv(n)!==n)throw Error(nt(188))}function Z$(n){var t=n.alternate;if(!t){if(t=kv(n),t===null)throw Error(nt(188));return t!==n?null:n}for(var e=n,i=t;;){var r=e.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){e=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===e)return A5(r),n;if(s===i)return A5(r),t;s=s.sibling}throw Error(nt(188))}if(e.return!==i.return)e=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===e){a=!0,e=r,i=s;break}if(o===i){a=!0,i=r,e=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===e){a=!0,e=s,i=r;break}if(o===i){a=!0,i=s,e=r;break}o=o.sibling}if(!a)throw Error(nt(189))}}if(e.alternate!==i)throw Error(nt(190))}if(e.tag!==3)throw Error(nt(188));return e.stateNode.current===e?n:t}function oV(n){return n=Z$(n),n!==null?lV(n):null}function lV(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=lV(n);if(t!==null)return t;n=n.sibling}return null}var cV=Ba.unstable_scheduleCallback,E5=Ba.unstable_cancelCallback,Q$=Ba.unstable_shouldYield,J$=Ba.unstable_requestPaint,Un=Ba.unstable_now,$$=Ba.unstable_getCurrentPriorityLevel,WB=Ba.unstable_ImmediatePriority,hV=Ba.unstable_UserBlockingPriority,SR=Ba.unstable_NormalPriority,ttt=Ba.unstable_LowPriority,uV=Ba.unstable_IdlePriority,cF=null,$c=null;function ett(n){if($c&&typeof $c.onCommitFiberRoot=="function")try{$c.onCommitFiberRoot(cF,n,void 0,(n.current.flags&128)===128)}catch{}}var Al=Math.clz32?Math.clz32:rtt,ntt=Math.log,itt=Math.LN2;function rtt(n){return n>>>=0,n===0?32:31-(ntt(n)/itt|0)|0}var ST=64,AT=4194304;function tS(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function AR(n,t){var e=n.pendingLanes;if(e===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,a=e&268435455;if(a!==0){var o=a&~r;o!==0?i=tS(o):(s&=a,s!==0&&(i=tS(s)))}else a=e&~r,a!==0?i=tS(a):s!==0&&(i=tS(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(i&4&&(i|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=i;0<t;)e=31-Al(t),r=1<<e,i|=n[e],t&=~r;return i}function stt(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function att(n,t){for(var e=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-Al(s),o=1<<a,c=r[a];c===-1?(!(o&e)||o&i)&&(r[a]=stt(o,t)):c<=t&&(n.expiredLanes|=o),s&=~o}}function II(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function dV(){var n=ST;return ST<<=1,!(ST&4194240)&&(ST=64),n}function FM(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function Rk(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-Al(t),n[t]=e}function ott(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<e;){var r=31-Al(e),s=1<<r;t[r]=0,i[r]=-1,n[r]=-1,e&=~s}}function VB(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var i=31-Al(e),r=1<<i;r&t|n[i]&t&&(n[i]|=t),e&=~r}}var Ie=0;function fV(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var pV,GB,gV,mV,vV,LI=!1,ET=[],Fp=null,Mp=null,Np=null,FA=new Map,MA=new Map,jd=[],ltt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _5(n,t){switch(n){case"focusin":case"focusout":Fp=null;break;case"dragenter":case"dragleave":Mp=null;break;case"mouseover":case"mouseout":Np=null;break;case"pointerover":case"pointerout":FA.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":MA.delete(t.pointerId)}}function Cx(n,t,e,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:t,domEventName:e,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Fk(t),t!==null&&GB(t)),n):(n.eventSystemFlags|=i,t=n.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),n)}function ctt(n,t,e,i,r){switch(t){case"focusin":return Fp=Cx(Fp,n,t,e,i,r),!0;case"dragenter":return Mp=Cx(Mp,n,t,e,i,r),!0;case"mouseover":return Np=Cx(Np,n,t,e,i,r),!0;case"pointerover":var s=r.pointerId;return FA.set(s,Cx(FA.get(s)||null,n,t,e,i,r)),!0;case"gotpointercapture":return s=r.pointerId,MA.set(s,Cx(MA.get(s)||null,n,t,e,i,r)),!0}return!1}function yV(n){var t=Cg(n.target);if(t!==null){var e=kv(t);if(e!==null){if(t=e.tag,t===13){if(t=aV(e),t!==null){n.blockedOn=t,vV(n.priority,function(){gV(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function N2(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=OI(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var i=new e.constructor(e.type,e);DI=i,e.target.dispatchEvent(i),DI=null}else return t=Fk(e),t!==null&&GB(t),n.blockedOn=e,!1;t.shift()}return!0}function C5(n,t,e){N2(n)&&e.delete(t)}function htt(){LI=!1,Fp!==null&&N2(Fp)&&(Fp=null),Mp!==null&&N2(Mp)&&(Mp=null),Np!==null&&N2(Np)&&(Np=null),FA.forEach(C5),MA.forEach(C5)}function kx(n,t){n.blockedOn===t&&(n.blockedOn=null,LI||(LI=!0,Ba.unstable_scheduleCallback(Ba.unstable_NormalPriority,htt)))}function NA(n){function t(r){return kx(r,n)}if(0<ET.length){kx(ET[0],n);for(var e=1;e<ET.length;e++){var i=ET[e];i.blockedOn===n&&(i.blockedOn=null)}}for(Fp!==null&&kx(Fp,n),Mp!==null&&kx(Mp,n),Np!==null&&kx(Np,n),FA.forEach(t),MA.forEach(t),e=0;e<jd.length;e++)i=jd[e],i.blockedOn===n&&(i.blockedOn=null);for(;0<jd.length&&(e=jd[0],e.blockedOn===null);)yV(e),e.blockedOn===null&&jd.shift()}var Yy=ud.ReactCurrentBatchConfig,ER=!0;function utt(n,t,e,i){var r=Ie,s=Yy.transition;Yy.transition=null;try{Ie=1,XB(n,t,e,i)}finally{Ie=r,Yy.transition=s}}function dtt(n,t,e,i){var r=Ie,s=Yy.transition;Yy.transition=null;try{Ie=4,XB(n,t,e,i)}finally{Ie=r,Yy.transition=s}}function XB(n,t,e,i){if(ER){var r=OI(n,t,e,i);if(r===null)HM(n,t,i,_R,e),_5(n,i);else if(ctt(r,n,t,e,i))i.stopPropagation();else if(_5(n,i),t&4&&-1<ltt.indexOf(n)){for(;r!==null;){var s=Fk(r);if(s!==null&&pV(s),s=OI(n,t,e,i),s===null&&HM(n,t,i,_R,e),s===r)break;r=s}r!==null&&i.stopPropagation()}else HM(n,t,i,null,e)}}var _R=null;function OI(n,t,e,i){if(_R=null,n=HB(i),n=Cg(n),n!==null)if(t=kv(n),t===null)n=null;else if(e=t.tag,e===13){if(n=aV(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return _R=n,null}function bV(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($$()){case WB:return 1;case hV:return 4;case SR:case ttt:return 16;case uV:return 536870912;default:return 16}default:return 16}}var Sp=null,qB=null,I2=null;function wV(){if(I2)return I2;var n,t=qB,e=t.length,i,r="value"in Sp?Sp.value:Sp.textContent,s=r.length;for(n=0;n<e&&t[n]===r[n];n++);var a=e-n;for(i=1;i<=a&&t[e-i]===r[s-i];i++);return I2=r.slice(n,1<i?1-i:void 0)}function L2(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function _T(){return!0}function k5(){return!1}function Ua(n){function t(e,i,r,s,a){this._reactName=e,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(e=n[o],this[o]=e?e(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_T:k5,this.isPropagationStopped=k5,this}return Sn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=_T)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=_T)},persist:function(){},isPersistent:_T}),t}var $1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KB=Ua($1),Dk=Sn({},$1,{view:0,detail:0}),ftt=Ua(Dk),MM,NM,Tx,hF=Sn({},Dk,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:YB,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Tx&&(Tx&&n.type==="mousemove"?(MM=n.screenX-Tx.screenX,NM=n.screenY-Tx.screenY):NM=MM=0,Tx=n),MM)},movementY:function(n){return"movementY"in n?n.movementY:NM}}),T5=Ua(hF),ptt=Sn({},hF,{dataTransfer:0}),gtt=Ua(ptt),mtt=Sn({},Dk,{relatedTarget:0}),IM=Ua(mtt),vtt=Sn({},$1,{animationName:0,elapsedTime:0,pseudoElement:0}),ytt=Ua(vtt),btt=Sn({},$1,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wtt=Ua(btt),xtt=Sn({},$1,{data:0}),P5=Ua(xtt),Stt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Att={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ett={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _tt(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=Ett[n])?!!t[n]:!1}function YB(){return _tt}var Ctt=Sn({},Dk,{key:function(n){if(n.key){var t=Stt[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=L2(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Att[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:YB,charCode:function(n){return n.type==="keypress"?L2(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?L2(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ktt=Ua(Ctt),Ttt=Sn({},hF,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R5=Ua(Ttt),Ptt=Sn({},Dk,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:YB}),Rtt=Ua(Ptt),Dtt=Sn({},$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ftt=Ua(Dtt),Mtt=Sn({},hF,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ntt=Ua(Mtt),Itt=[9,13,27,32],ZB=ed&&"CompositionEvent"in window,JS=null;ed&&"documentMode"in document&&(JS=document.documentMode);var Ltt=ed&&"TextEvent"in window&&!JS,xV=ed&&(!ZB||JS&&8<JS&&11>=JS),D5=" ",F5=!1;function SV(n,t){switch(n){case"keyup":return Itt.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AV(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Cy=!1;function Ott(n,t){switch(n){case"compositionend":return AV(t);case"keypress":return t.which!==32?null:(F5=!0,D5);case"textInput":return n=t.data,n===D5&&F5?null:n;default:return null}}function Btt(n,t){if(Cy)return n==="compositionend"||!ZB&&SV(n,t)?(n=wV(),I2=qB=Sp=null,Cy=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xV&&t.locale!=="ko"?null:t.data;default:return null}}var ztt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M5(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!ztt[n.type]:t==="textarea"}function EV(n,t,e,i){eV(i),t=CR(t,"onChange"),0<t.length&&(e=new KB("onChange","change",null,e,i),n.push({event:e,listeners:t}))}var $S=null,IA=null;function jtt(n){IV(n,0)}function uF(n){var t=Py(n);if(KW(t))return n}function Utt(n,t){if(n==="change")return t}var _V=!1;if(ed){var LM;if(ed){var OM="oninput"in document;if(!OM){var N5=document.createElement("div");N5.setAttribute("oninput","return;"),OM=typeof N5.oninput=="function"}LM=OM}else LM=!1;_V=LM&&(!document.documentMode||9<document.documentMode)}function I5(){$S&&($S.detachEvent("onpropertychange",CV),IA=$S=null)}function CV(n){if(n.propertyName==="value"&&uF(IA)){var t=[];EV(t,IA,n,HB(n)),sV(jtt,t)}}function Htt(n,t,e){n==="focusin"?(I5(),$S=t,IA=e,$S.attachEvent("onpropertychange",CV)):n==="focusout"&&I5()}function Wtt(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return uF(IA)}function Vtt(n,t){if(n==="click")return uF(t)}function Gtt(n,t){if(n==="input"||n==="change")return uF(t)}function Xtt(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var Tl=typeof Object.is=="function"?Object.is:Xtt;function LA(n,t){if(Tl(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(i=0;i<e.length;i++){var r=e[i];if(!bI.call(t,r)||!Tl(n[r],t[r]))return!1}return!0}function L5(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function O5(n,t){var e=L5(n);n=0;for(var i;e;){if(e.nodeType===3){if(i=n+e.textContent.length,n<=t&&i>=t)return{node:e,offset:t-n};n=i}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=L5(e)}}function kV(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?kV(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function TV(){for(var n=window,t=bR();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=bR(n.document)}return t}function QB(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function qtt(n){var t=TV(),e=n.focusedElem,i=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&kV(e.ownerDocument.documentElement,e)){if(i!==null&&QB(e)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var r=e.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=O5(e,s);var a=O5(e,i);r&&a&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(t),n.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ktt=ed&&"documentMode"in document&&11>=document.documentMode,ky=null,BI=null,tA=null,zI=!1;function B5(n,t,e){var i=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;zI||ky==null||ky!==bR(i)||(i=ky,"selectionStart"in i&&QB(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),tA&&LA(tA,i)||(tA=i,i=CR(BI,"onSelect"),0<i.length&&(t=new KB("onSelect","select",null,t,e),n.push({event:t,listeners:i}),t.target=ky)))}function CT(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var Ty={animationend:CT("Animation","AnimationEnd"),animationiteration:CT("Animation","AnimationIteration"),animationstart:CT("Animation","AnimationStart"),transitionend:CT("Transition","TransitionEnd")},BM={},PV={};ed&&(PV=document.createElement("div").style,"AnimationEvent"in window||(delete Ty.animationend.animation,delete Ty.animationiteration.animation,delete Ty.animationstart.animation),"TransitionEvent"in window||delete Ty.transitionend.transition);function dF(n){if(BM[n])return BM[n];if(!Ty[n])return n;var t=Ty[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in PV)return BM[n]=t[e];return n}var RV=dF("animationend"),DV=dF("animationiteration"),FV=dF("animationstart"),MV=dF("transitionend"),NV=new Map,z5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sg(n,t){NV.set(n,t),Cv(t,[n])}for(var zM=0;zM<z5.length;zM++){var jM=z5[zM],Ytt=jM.toLowerCase(),Ztt=jM[0].toUpperCase()+jM.slice(1);sg(Ytt,"on"+Ztt)}sg(RV,"onAnimationEnd");sg(DV,"onAnimationIteration");sg(FV,"onAnimationStart");sg("dblclick","onDoubleClick");sg("focusin","onFocus");sg("focusout","onBlur");sg(MV,"onTransitionEnd");B1("onMouseEnter",["mouseout","mouseover"]);B1("onMouseLeave",["mouseout","mouseover"]);B1("onPointerEnter",["pointerout","pointerover"]);B1("onPointerLeave",["pointerout","pointerover"]);Cv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cv("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eS="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qtt=new Set("cancel close invalid load scroll toggle".split(" ").concat(eS));function j5(n,t,e){var i=n.type||"unknown-event";n.currentTarget=e,Y$(i,t,void 0,n),n.currentTarget=null}function IV(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var i=n[e],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==s&&r.isPropagationStopped())break t;j5(r,o,l),s=c}else for(a=0;a<i.length;a++){if(o=i[a],c=o.instance,l=o.currentTarget,o=o.listener,c!==s&&r.isPropagationStopped())break t;j5(r,o,l),s=c}}}if(xR)throw n=NI,xR=!1,NI=null,n}function Je(n,t){var e=t[VI];e===void 0&&(e=t[VI]=new Set);var i=n+"__bubble";e.has(i)||(LV(t,n,2,!1),e.add(i))}function UM(n,t,e){var i=0;t&&(i|=4),LV(e,n,i,t)}var kT="_reactListening"+Math.random().toString(36).slice(2);function OA(n){if(!n[kT]){n[kT]=!0,WW.forEach(function(e){e!=="selectionchange"&&(Qtt.has(e)||UM(e,!1,n),UM(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[kT]||(t[kT]=!0,UM("selectionchange",!1,t))}}function LV(n,t,e,i){switch(bV(t)){case 1:var r=utt;break;case 4:r=dtt;break;default:r=XB}e=r.bind(null,t,e,n),r=void 0,!MI||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(t,e,{capture:!0,passive:r}):n.addEventListener(t,e,!0):r!==void 0?n.addEventListener(t,e,{passive:r}):n.addEventListener(t,e,!1)}function HM(n,t,e,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;o!==null;){if(a=Cg(o),a===null)return;if(c=a.tag,c===5||c===6){i=s=a;continue t}o=o.parentNode}}i=i.return}sV(function(){var l=s,u=HB(e),d=[];t:{var f=NV.get(n);if(f!==void 0){var p=KB,g=n;switch(n){case"keypress":if(L2(e)===0)break t;case"keydown":case"keyup":p=ktt;break;case"focusin":g="focus",p=IM;break;case"focusout":g="blur",p=IM;break;case"beforeblur":case"afterblur":p=IM;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=T5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=gtt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Rtt;break;case RV:case DV:case FV:p=ytt;break;case MV:p=Ftt;break;case"scroll":p=ftt;break;case"wheel":p=Ntt;break;case"copy":case"cut":case"paste":p=wtt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=R5}var m=(t&4)!==0,y=!m&&n==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var w=l,x;w!==null;){x=w;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,v!==null&&(A=DA(w,v),A!=null&&m.push(BA(w,A,x)))),y)break;w=w.return}0<m.length&&(f=new p(f,g,null,e,u),d.push({event:f,listeners:m}))}}if(!(t&7)){t:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&e!==DI&&(g=e.relatedTarget||e.fromElement)&&(Cg(g)||g[nd]))break t;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=e.relatedTarget||e.toElement,p=l,g=g?Cg(g):null,g!==null&&(y=kv(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=l),p!==g)){if(m=T5,A="onMouseLeave",v="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(m=R5,A="onPointerLeave",v="onPointerEnter",w="pointer"),y=p==null?f:Py(p),x=g==null?f:Py(g),f=new m(A,w+"leave",p,e,u),f.target=y,f.relatedTarget=x,A=null,Cg(u)===l&&(m=new m(v,w+"enter",g,e,u),m.target=x,m.relatedTarget=y,A=m),y=A,p&&g)e:{for(m=p,v=g,w=0,x=m;x;x=Yv(x))w++;for(x=0,A=v;A;A=Yv(A))x++;for(;0<w-x;)m=Yv(m),w--;for(;0<x-w;)v=Yv(v),x--;for(;w--;){if(m===v||v!==null&&m===v.alternate)break e;m=Yv(m),v=Yv(v)}m=null}else m=null;p!==null&&U5(d,f,p,m,!1),g!==null&&y!==null&&U5(d,y,g,m,!0)}}t:{if(f=l?Py(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=Utt;else if(M5(f))if(_V)S=Gtt;else{S=Wtt;var C=Htt}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Vtt);if(S&&(S=S(n,l))){EV(d,S,e,u);break t}C&&C(n,f,l),n==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&CI(f,"number",f.value)}switch(C=l?Py(l):window,n){case"focusin":(M5(C)||C.contentEditable==="true")&&(ky=C,BI=l,tA=null);break;case"focusout":tA=BI=ky=null;break;case"mousedown":zI=!0;break;case"contextmenu":case"mouseup":case"dragend":zI=!1,B5(d,e,u);break;case"selectionchange":if(Ktt)break;case"keydown":case"keyup":B5(d,e,u)}var k;if(ZB)t:{switch(n){case"compositionstart":var T="onCompositionStart";break t;case"compositionend":T="onCompositionEnd";break t;case"compositionupdate":T="onCompositionUpdate";break t}T=void 0}else Cy?SV(n,e)&&(T="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(T="onCompositionStart");T&&(xV&&e.locale!=="ko"&&(Cy||T!=="onCompositionStart"?T==="onCompositionEnd"&&Cy&&(k=wV()):(Sp=u,qB="value"in Sp?Sp.value:Sp.textContent,Cy=!0)),C=CR(l,T),0<C.length&&(T=new P5(T,n,null,e,u),d.push({event:T,listeners:C}),k?T.data=k:(k=AV(e),k!==null&&(T.data=k)))),(k=Ltt?Ott(n,e):Btt(n,e))&&(l=CR(l,"onBeforeInput"),0<l.length&&(u=new P5("onBeforeInput","beforeinput",null,e,u),d.push({event:u,listeners:l}),u.data=k))}IV(d,t)})}function BA(n,t,e){return{instance:n,listener:t,currentTarget:e}}function CR(n,t){for(var e=t+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=DA(n,e),s!=null&&i.unshift(BA(n,s,r)),s=DA(n,t),s!=null&&i.push(BA(n,s,r))),n=n.return}return i}function Yv(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function U5(n,t,e,i,r){for(var s=t._reactName,a=[];e!==null&&e!==i;){var o=e,c=o.alternate,l=o.stateNode;if(c!==null&&c===i)break;o.tag===5&&l!==null&&(o=l,r?(c=DA(e,s),c!=null&&a.unshift(BA(e,c,o))):r||(c=DA(e,s),c!=null&&a.push(BA(e,c,o)))),e=e.return}a.length!==0&&n.push({event:t,listeners:a})}var Jtt=/\r\n?/g,$tt=/\u0000|\uFFFD/g;function H5(n){return(typeof n=="string"?n:""+n).replace(Jtt,`
`).replace($tt,"")}function TT(n,t,e){if(t=H5(t),H5(n)!==t&&e)throw Error(nt(425))}function kR(){}var jI=null,UI=null;function HI(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var WI=typeof setTimeout=="function"?setTimeout:void 0,tet=typeof clearTimeout=="function"?clearTimeout:void 0,W5=typeof Promise=="function"?Promise:void 0,eet=typeof queueMicrotask=="function"?queueMicrotask:typeof W5<"u"?function(n){return W5.resolve(null).then(n).catch(net)}:WI;function net(n){setTimeout(function(){throw n})}function WM(n,t){var e=t,i=0;do{var r=e.nextSibling;if(n.removeChild(e),r&&r.nodeType===8)if(e=r.data,e==="/$"){if(i===0){n.removeChild(r),NA(t);return}i--}else e!=="$"&&e!=="$?"&&e!=="$!"||i++;e=r}while(e);NA(t)}function Ip(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function V5(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var tx=Math.random().toString(36).slice(2),Uc="__reactFiber$"+tx,zA="__reactProps$"+tx,nd="__reactContainer$"+tx,VI="__reactEvents$"+tx,iet="__reactListeners$"+tx,ret="__reactHandles$"+tx;function Cg(n){var t=n[Uc];if(t)return t;for(var e=n.parentNode;e;){if(t=e[nd]||e[Uc]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=V5(n);n!==null;){if(e=n[Uc])return e;n=V5(n)}return t}n=e,e=n.parentNode}return null}function Fk(n){return n=n[Uc]||n[nd],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Py(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(nt(33))}function fF(n){return n[zA]||null}var GI=[],Ry=-1;function ag(n){return{current:n}}function $e(n){0>Ry||(n.current=GI[Ry],GI[Ry]=null,Ry--)}function Ze(n,t){Ry++,GI[Ry]=n.current,n.current=t}var qp={},Ir=ag(qp),Fs=ag(!1),$m=qp;function z1(n,t){var e=n.type.contextTypes;if(!e)return qp;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in e)r[s]=t[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=r),r}function Ms(n){return n=n.childContextTypes,n!=null}function TR(){$e(Fs),$e(Ir)}function G5(n,t,e){if(Ir.current!==qp)throw Error(nt(168));Ze(Ir,t),Ze(Fs,e)}function OV(n,t,e){var i=n.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return e;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(nt(108,H$(n)||"Unknown",r));return Sn({},e,i)}function PR(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||qp,$m=Ir.current,Ze(Ir,n),Ze(Fs,Fs.current),!0}function X5(n,t,e){var i=n.stateNode;if(!i)throw Error(nt(169));e?(n=OV(n,t,$m),i.__reactInternalMemoizedMergedChildContext=n,$e(Fs),$e(Ir),Ze(Ir,n)):$e(Fs),Ze(Fs,e)}var _h=null,pF=!1,VM=!1;function BV(n){_h===null?_h=[n]:_h.push(n)}function set(n){pF=!0,BV(n)}function og(){if(!VM&&_h!==null){VM=!0;var n=0,t=Ie;try{var e=_h;for(Ie=1;n<e.length;n++){var i=e[n];do i=i(!0);while(i!==null)}_h=null,pF=!1}catch(r){throw _h!==null&&(_h=_h.slice(n+1)),cV(WB,og),r}finally{Ie=t,VM=!1}}return null}var Dy=[],Fy=0,RR=null,DR=0,uo=[],fo=0,tv=null,Gu=1,Xu="";function pg(n,t){Dy[Fy++]=DR,Dy[Fy++]=RR,RR=n,DR=t}function zV(n,t,e){uo[fo++]=Gu,uo[fo++]=Xu,uo[fo++]=tv,tv=n;var i=Gu;n=Xu;var r=32-Al(i)-1;i&=~(1<<r),e+=1;var s=32-Al(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Gu=1<<32-Al(t)+r|e<<r|i,Xu=s+n}else Gu=1<<s|e<<r|i,Xu=n}function JB(n){n.return!==null&&(pg(n,1),zV(n,1,0))}function $B(n){for(;n===RR;)RR=Dy[--Fy],Dy[Fy]=null,DR=Dy[--Fy],Dy[Fy]=null;for(;n===tv;)tv=uo[--fo],uo[fo]=null,Xu=uo[--fo],uo[fo]=null,Gu=uo[--fo],uo[fo]=null}var Ma=null,ka=null,dn=!1,yl=null;function jV(n,t){var e=wo(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function q5(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,Ma=n,ka=Ip(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,Ma=n,ka=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=tv!==null?{id:Gu,overflow:Xu}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=wo(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,Ma=n,ka=null,!0):!1;default:return!1}}function XI(n){return(n.mode&1)!==0&&(n.flags&128)===0}function qI(n){if(dn){var t=ka;if(t){var e=t;if(!q5(n,t)){if(XI(n))throw Error(nt(418));t=Ip(e.nextSibling);var i=Ma;t&&q5(n,t)?jV(i,e):(n.flags=n.flags&-4097|2,dn=!1,Ma=n)}}else{if(XI(n))throw Error(nt(418));n.flags=n.flags&-4097|2,dn=!1,Ma=n}}}function K5(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ma=n}function PT(n){if(n!==Ma)return!1;if(!dn)return K5(n),dn=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!HI(n.type,n.memoizedProps)),t&&(t=ka)){if(XI(n))throw UV(),Error(nt(418));for(;t;)jV(n,t),t=Ip(t.nextSibling)}if(K5(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(nt(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){ka=Ip(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}ka=null}}else ka=Ma?Ip(n.stateNode.nextSibling):null;return!0}function UV(){for(var n=ka;n;)n=Ip(n.nextSibling)}function j1(){ka=Ma=null,dn=!1}function tz(n){yl===null?yl=[n]:yl.push(n)}var aet=ud.ReactCurrentBatchConfig;function Px(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(nt(309));var i=e.stateNode}if(!i)throw Error(nt(147,n));var r=i,s=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=r.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof n!="string")throw Error(nt(284));if(!e._owner)throw Error(nt(290,n))}return n}function RT(n,t){throw n=Object.prototype.toString.call(t),Error(nt(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function Y5(n){var t=n._init;return t(n._payload)}function HV(n){function t(v,w){if(n){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function e(v,w){if(!n)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function i(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function r(v,w){return v=zp(v,w),v.index=0,v.sibling=null,v}function s(v,w,x){return v.index=x,n?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return n&&v.alternate===null&&(v.flags|=2),v}function o(v,w,x,A){return w===null||w.tag!==6?(w=QM(x,v.mode,A),w.return=v,w):(w=r(w,x),w.return=v,w)}function c(v,w,x,A){var S=x.type;return S===_y?u(v,w,x.props.children,A,x.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ld&&Y5(S)===w.type)?(A=r(w,x.props),A.ref=Px(v,w,x),A.return=v,A):(A=W2(x.type,x.key,x.props,null,v.mode,A),A.ref=Px(v,w,x),A.return=v,A)}function l(v,w,x,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=JM(x,v.mode,A),w.return=v,w):(w=r(w,x.children||[]),w.return=v,w)}function u(v,w,x,A,S){return w===null||w.tag!==7?(w=Jm(x,v.mode,A,S),w.return=v,w):(w=r(w,x),w.return=v,w)}function d(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=QM(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bT:return x=W2(w.type,w.key,w.props,null,v.mode,x),x.ref=Px(v,null,w),x.return=v,x;case Ey:return w=JM(w,v.mode,x),w.return=v,w;case Ld:var A=w._init;return d(v,A(w._payload),x)}if($x(w)||Ex(w))return w=Jm(w,v.mode,x,null),w.return=v,w;RT(v,w)}return null}function f(v,w,x,A){var S=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:o(v,w,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bT:return x.key===S?c(v,w,x,A):null;case Ey:return x.key===S?l(v,w,x,A):null;case Ld:return S=x._init,f(v,w,S(x._payload),A)}if($x(x)||Ex(x))return S!==null?null:u(v,w,x,A,null);RT(v,x)}return null}function p(v,w,x,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(x)||null,o(w,v,""+A,S);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case bT:return v=v.get(A.key===null?x:A.key)||null,c(w,v,A,S);case Ey:return v=v.get(A.key===null?x:A.key)||null,l(w,v,A,S);case Ld:var C=A._init;return p(v,w,x,C(A._payload),S)}if($x(A)||Ex(A))return v=v.get(x)||null,u(w,v,A,S,null);RT(w,A)}return null}function g(v,w,x,A){for(var S=null,C=null,k=w,T=w=0,R=null;k!==null&&T<x.length;T++){k.index>T?(R=k,k=null):R=k.sibling;var F=f(v,k,x[T],A);if(F===null){k===null&&(k=R);break}n&&k&&F.alternate===null&&t(v,k),w=s(F,w,T),C===null?S=F:C.sibling=F,C=F,k=R}if(T===x.length)return e(v,k),dn&&pg(v,T),S;if(k===null){for(;T<x.length;T++)k=d(v,x[T],A),k!==null&&(w=s(k,w,T),C===null?S=k:C.sibling=k,C=k);return dn&&pg(v,T),S}for(k=i(v,k);T<x.length;T++)R=p(k,v,T,x[T],A),R!==null&&(n&&R.alternate!==null&&k.delete(R.key===null?T:R.key),w=s(R,w,T),C===null?S=R:C.sibling=R,C=R);return n&&k.forEach(function(D){return t(v,D)}),dn&&pg(v,T),S}function m(v,w,x,A){var S=Ex(x);if(typeof S!="function")throw Error(nt(150));if(x=S.call(x),x==null)throw Error(nt(151));for(var C=S=null,k=w,T=w=0,R=null,F=x.next();k!==null&&!F.done;T++,F=x.next()){k.index>T?(R=k,k=null):R=k.sibling;var D=f(v,k,F.value,A);if(D===null){k===null&&(k=R);break}n&&k&&D.alternate===null&&t(v,k),w=s(D,w,T),C===null?S=D:C.sibling=D,C=D,k=R}if(F.done)return e(v,k),dn&&pg(v,T),S;if(k===null){for(;!F.done;T++,F=x.next())F=d(v,F.value,A),F!==null&&(w=s(F,w,T),C===null?S=F:C.sibling=F,C=F);return dn&&pg(v,T),S}for(k=i(v,k);!F.done;T++,F=x.next())F=p(k,v,T,F.value,A),F!==null&&(n&&F.alternate!==null&&k.delete(F.key===null?T:F.key),w=s(F,w,T),C===null?S=F:C.sibling=F,C=F);return n&&k.forEach(function(U){return t(v,U)}),dn&&pg(v,T),S}function y(v,w,x,A){if(typeof x=="object"&&x!==null&&x.type===_y&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case bT:t:{for(var S=x.key,C=w;C!==null;){if(C.key===S){if(S=x.type,S===_y){if(C.tag===7){e(v,C.sibling),w=r(C,x.props.children),w.return=v,v=w;break t}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ld&&Y5(S)===C.type){e(v,C.sibling),w=r(C,x.props),w.ref=Px(v,C,x),w.return=v,v=w;break t}e(v,C);break}else t(v,C);C=C.sibling}x.type===_y?(w=Jm(x.props.children,v.mode,A,x.key),w.return=v,v=w):(A=W2(x.type,x.key,x.props,null,v.mode,A),A.ref=Px(v,w,x),A.return=v,v=A)}return a(v);case Ey:t:{for(C=x.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){e(v,w.sibling),w=r(w,x.children||[]),w.return=v,v=w;break t}else{e(v,w);break}else t(v,w);w=w.sibling}w=JM(x,v.mode,A),w.return=v,v=w}return a(v);case Ld:return C=x._init,y(v,w,C(x._payload),A)}if($x(x))return g(v,w,x,A);if(Ex(x))return m(v,w,x,A);RT(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(e(v,w.sibling),w=r(w,x),w.return=v,v=w):(e(v,w),w=QM(x,v.mode,A),w.return=v,v=w),a(v)):e(v,w)}return y}var U1=HV(!0),WV=HV(!1),FR=ag(null),MR=null,My=null,ez=null;function nz(){ez=My=MR=null}function iz(n){var t=FR.current;$e(FR),n._currentValue=t}function KI(n,t,e){for(;n!==null;){var i=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),n===e)break;n=n.return}}function Zy(n,t){MR=n,ez=My=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(Ts=!0),n.firstContext=null)}function Fo(n){var t=n._currentValue;if(ez!==n)if(n={context:n,memoizedValue:t,next:null},My===null){if(MR===null)throw Error(nt(308));My=n,MR.dependencies={lanes:0,firstContext:n}}else My=My.next=n;return t}var kg=null;function rz(n){kg===null?kg=[n]:kg.push(n)}function VV(n,t,e,i){var r=t.interleaved;return r===null?(e.next=e,rz(t)):(e.next=r.next,r.next=e),t.interleaved=e,id(n,i)}function id(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var Od=!1;function sz(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GV(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function qu(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Lp(n,t,e){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,ge&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,id(n,e)}return r=i.interleaved,r===null?(t.next=t,rz(i)):(t.next=r.next,r.next=t),i.interleaved=t,id(n,e)}function O2(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,VB(n,e)}}function Z5(n,t){var e=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,e===i)){var r=null,s=null;if(e=e.firstBaseUpdate,e!==null){do{var a={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};s===null?r=s=a:s=s.next=a,e=e.next}while(e!==null);s===null?r=s=t:s=s.next=t}else r=s=t;e={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function NR(n,t,e,i){var r=n.updateQueue;Od=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,l=c.next;c.next=null,a===null?s=l:a.next=l,a=c;var u=n.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=c))}if(s!==null){var d=r.baseState;a=0,u=l=c=null,o=s;do{var f=o.lane,p=o.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var g=n,m=o;switch(f=t,p=e,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,f);break t}d=g;break t;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break t;d=Sn({},d,f);break t;case 2:Od=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,a|=f;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;f=o,o=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(c=d),r.baseState=c,r.firstBaseUpdate=l,r.lastBaseUpdate=u,t=r.shared.interleaved,t!==null){r=t;do a|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);nv|=a,n.lanes=a,n.memoizedState=d}}function Q5(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var i=n[t],r=i.callback;if(r!==null){if(i.callback=null,i=e,typeof r!="function")throw Error(nt(191,r));r.call(i)}}}var Mk={},th=ag(Mk),jA=ag(Mk),UA=ag(Mk);function Tg(n){if(n===Mk)throw Error(nt(174));return n}function az(n,t){switch(Ze(UA,t),Ze(jA,n),Ze(th,Mk),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:TI(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=TI(t,n)}$e(th),Ze(th,t)}function H1(){$e(th),$e(jA),$e(UA)}function XV(n){Tg(UA.current);var t=Tg(th.current),e=TI(t,n.type);t!==e&&(Ze(jA,n),Ze(th,e))}function oz(n){jA.current===n&&($e(th),$e(jA))}var wn=ag(0);function IR(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var GM=[];function lz(){for(var n=0;n<GM.length;n++)GM[n]._workInProgressVersionPrimary=null;GM.length=0}var B2=ud.ReactCurrentDispatcher,XM=ud.ReactCurrentBatchConfig,ev=0,xn=null,ci=null,Li=null,LR=!1,eA=!1,HA=0,oet=0;function br(){throw Error(nt(321))}function cz(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!Tl(n[e],t[e]))return!1;return!0}function hz(n,t,e,i,r,s){if(ev=s,xn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B2.current=n===null||n.memoizedState===null?det:fet,n=e(i,r),eA){s=0;do{if(eA=!1,HA=0,25<=s)throw Error(nt(301));s+=1,Li=ci=null,t.updateQueue=null,B2.current=pet,n=e(i,r)}while(eA)}if(B2.current=OR,t=ci!==null&&ci.next!==null,ev=0,Li=ci=xn=null,LR=!1,t)throw Error(nt(300));return n}function uz(){var n=HA!==0;return HA=0,n}function tc(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Li===null?xn.memoizedState=Li=n:Li=Li.next=n,Li}function Mo(){if(ci===null){var n=xn.alternate;n=n!==null?n.memoizedState:null}else n=ci.next;var t=Li===null?xn.memoizedState:Li.next;if(t!==null)Li=t,ci=n;else{if(n===null)throw Error(nt(310));ci=n,n={memoizedState:ci.memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},Li===null?xn.memoizedState=Li=n:Li=Li.next=n}return Li}function WA(n,t){return typeof t=="function"?t(n):t}function qM(n){var t=Mo(),e=t.queue;if(e===null)throw Error(nt(311));e.lastRenderedReducer=n;var i=ci,r=i.baseQueue,s=e.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,e.pending=null}if(r!==null){s=r.next,i=i.baseState;var o=a=null,c=null,l=s;do{var u=l.lane;if((ev&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),i=l.hasEagerState?l.eagerState:n(i,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(o=c=d,a=i):c=c.next=d,xn.lanes|=u,nv|=u}l=l.next}while(l!==null&&l!==s);c===null?a=i:c.next=o,Tl(i,t.memoizedState)||(Ts=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,e.lastRenderedState=i}if(n=e.interleaved,n!==null){r=n;do s=r.lane,xn.lanes|=s,nv|=s,r=r.next;while(r!==n)}else r===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function KM(n){var t=Mo(),e=t.queue;if(e===null)throw Error(nt(311));e.lastRenderedReducer=n;var i=e.dispatch,r=e.pending,s=t.memoizedState;if(r!==null){e.pending=null;var a=r=r.next;do s=n(s,a.action),a=a.next;while(a!==r);Tl(s,t.memoizedState)||(Ts=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),e.lastRenderedState=s}return[s,i]}function qV(){}function KV(n,t){var e=xn,i=Mo(),r=t(),s=!Tl(i.memoizedState,r);if(s&&(i.memoizedState=r,Ts=!0),i=i.queue,dz(QV.bind(null,e,i,n),[n]),i.getSnapshot!==t||s||Li!==null&&Li.memoizedState.tag&1){if(e.flags|=2048,VA(9,ZV.bind(null,e,i,r,t),void 0,null),ji===null)throw Error(nt(349));ev&30||YV(e,t,r)}return r}function YV(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=xn.updateQueue,t===null?(t={lastEffect:null,stores:null},xn.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function ZV(n,t,e,i){t.value=e,t.getSnapshot=i,JV(t)&&$V(n)}function QV(n,t,e){return e(function(){JV(t)&&$V(n)})}function JV(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!Tl(n,e)}catch{return!0}}function $V(n){var t=id(n,1);t!==null&&El(t,n,1,-1)}function J5(n){var t=tc();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:WA,lastRenderedState:n},t.queue=n,n=n.dispatch=uet.bind(null,xn,n),[t.memoizedState,n]}function VA(n,t,e,i){return n={tag:n,create:t,destroy:e,deps:i,next:null},t=xn.updateQueue,t===null?(t={lastEffect:null,stores:null},xn.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(i=e.next,e.next=n,n.next=i,t.lastEffect=n)),n}function tG(){return Mo().memoizedState}function z2(n,t,e,i){var r=tc();xn.flags|=n,r.memoizedState=VA(1|t,e,void 0,i===void 0?null:i)}function gF(n,t,e,i){var r=Mo();i=i===void 0?null:i;var s=void 0;if(ci!==null){var a=ci.memoizedState;if(s=a.destroy,i!==null&&cz(i,a.deps)){r.memoizedState=VA(t,e,s,i);return}}xn.flags|=n,r.memoizedState=VA(1|t,e,s,i)}function $5(n,t){return z2(8390656,8,n,t)}function dz(n,t){return gF(2048,8,n,t)}function eG(n,t){return gF(4,2,n,t)}function nG(n,t){return gF(4,4,n,t)}function iG(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function rG(n,t,e){return e=e!=null?e.concat([n]):null,gF(4,4,iG.bind(null,t,n),e)}function fz(){}function sG(n,t){var e=Mo();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&cz(t,i[1])?i[0]:(e.memoizedState=[n,t],n)}function aG(n,t){var e=Mo();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&cz(t,i[1])?i[0]:(n=n(),e.memoizedState=[n,t],n)}function oG(n,t,e){return ev&21?(Tl(e,t)||(e=dV(),xn.lanes|=e,nv|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,Ts=!0),n.memoizedState=e)}function cet(n,t){var e=Ie;Ie=e!==0&&4>e?e:4,n(!0);var i=XM.transition;XM.transition={};try{n(!1),t()}finally{Ie=e,XM.transition=i}}function lG(){return Mo().memoizedState}function het(n,t,e){var i=Bp(n);if(e={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null},cG(n))hG(t,e);else if(e=VV(n,t,e,i),e!==null){var r=as();El(e,n,i,r),uG(e,t,i)}}function uet(n,t,e){var i=Bp(n),r={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null};if(cG(n))hG(t,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,e);if(r.hasEagerState=!0,r.eagerState=o,Tl(o,a)){var c=t.interleaved;c===null?(r.next=r,rz(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}e=VV(n,t,r,i),e!==null&&(r=as(),El(e,n,i,r),uG(e,t,i))}}function cG(n){var t=n.alternate;return n===xn||t!==null&&t===xn}function hG(n,t){eA=LR=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function uG(n,t,e){if(e&4194240){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,VB(n,e)}}var OR={readContext:Fo,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},det={readContext:Fo,useCallback:function(n,t){return tc().memoizedState=[n,t===void 0?null:t],n},useContext:Fo,useEffect:$5,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,z2(4194308,4,iG.bind(null,t,n),e)},useLayoutEffect:function(n,t){return z2(4194308,4,n,t)},useInsertionEffect:function(n,t){return z2(4,2,n,t)},useMemo:function(n,t){var e=tc();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var i=tc();return t=e!==void 0?e(t):t,i.memoizedState=i.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},i.queue=n,n=n.dispatch=het.bind(null,xn,n),[i.memoizedState,n]},useRef:function(n){var t=tc();return n={current:n},t.memoizedState=n},useState:J5,useDebugValue:fz,useDeferredValue:function(n){return tc().memoizedState=n},useTransition:function(){var n=J5(!1),t=n[0];return n=cet.bind(null,n[1]),tc().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var i=xn,r=tc();if(dn){if(e===void 0)throw Error(nt(407));e=e()}else{if(e=t(),ji===null)throw Error(nt(349));ev&30||YV(i,t,e)}r.memoizedState=e;var s={value:e,getSnapshot:t};return r.queue=s,$5(QV.bind(null,i,s,n),[n]),i.flags|=2048,VA(9,ZV.bind(null,i,s,e,t),void 0,null),e},useId:function(){var n=tc(),t=ji.identifierPrefix;if(dn){var e=Xu,i=Gu;e=(i&~(1<<32-Al(i)-1)).toString(32)+e,t=":"+t+"R"+e,e=HA++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=oet++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},fet={readContext:Fo,useCallback:sG,useContext:Fo,useEffect:dz,useImperativeHandle:rG,useInsertionEffect:eG,useLayoutEffect:nG,useMemo:aG,useReducer:qM,useRef:tG,useState:function(){return qM(WA)},useDebugValue:fz,useDeferredValue:function(n){var t=Mo();return oG(t,ci.memoizedState,n)},useTransition:function(){var n=qM(WA)[0],t=Mo().memoizedState;return[n,t]},useMutableSource:qV,useSyncExternalStore:KV,useId:lG,unstable_isNewReconciler:!1},pet={readContext:Fo,useCallback:sG,useContext:Fo,useEffect:dz,useImperativeHandle:rG,useInsertionEffect:eG,useLayoutEffect:nG,useMemo:aG,useReducer:KM,useRef:tG,useState:function(){return KM(WA)},useDebugValue:fz,useDeferredValue:function(n){var t=Mo();return ci===null?t.memoizedState=n:oG(t,ci.memoizedState,n)},useTransition:function(){var n=KM(WA)[0],t=Mo().memoizedState;return[n,t]},useMutableSource:qV,useSyncExternalStore:KV,useId:lG,unstable_isNewReconciler:!1};function Ko(n,t){if(n&&n.defaultProps){t=Sn({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function YI(n,t,e,i){t=n.memoizedState,e=e(i,t),e=e==null?t:Sn({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var mF={isMounted:function(n){return(n=n._reactInternals)?kv(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var i=as(),r=Bp(n),s=qu(i,r);s.payload=t,e!=null&&(s.callback=e),t=Lp(n,s,r),t!==null&&(El(t,n,r,i),O2(t,n,r))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var i=as(),r=Bp(n),s=qu(i,r);s.tag=1,s.payload=t,e!=null&&(s.callback=e),t=Lp(n,s,r),t!==null&&(El(t,n,r,i),O2(t,n,r))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=as(),i=Bp(n),r=qu(e,i);r.tag=2,t!=null&&(r.callback=t),t=Lp(n,r,i),t!==null&&(El(t,n,i,e),O2(t,n,i))}};function t8(n,t,e,i,r,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!LA(e,i)||!LA(r,s):!0}function dG(n,t,e){var i=!1,r=qp,s=t.contextType;return typeof s=="object"&&s!==null?s=Fo(s):(r=Ms(t)?$m:Ir.current,i=t.contextTypes,s=(i=i!=null)?z1(n,r):qp),t=new t(e,s),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mF,n.stateNode=t,t._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),t}function e8(n,t,e,i){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,i),t.state!==n&&mF.enqueueReplaceState(t,t.state,null)}function ZI(n,t,e,i){var r=n.stateNode;r.props=e,r.state=n.memoizedState,r.refs={},sz(n);var s=t.contextType;typeof s=="object"&&s!==null?r.context=Fo(s):(s=Ms(t)?$m:Ir.current,r.context=z1(n,s)),r.state=n.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(YI(n,t,s,e),r.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&mF.enqueueReplaceState(r,r.state,null),NR(n,e,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function W1(n,t){try{var e="",i=t;do e+=U$(i),i=i.return;while(i);var r=e}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:t,stack:r,digest:null}}function YM(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function QI(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var get=typeof WeakMap=="function"?WeakMap:Map;function fG(n,t,e){e=qu(-1,e),e.tag=3,e.payload={element:null};var i=t.value;return e.callback=function(){zR||(zR=!0,oL=i),QI(n,t)},e}function pG(n,t,e){e=qu(-1,e),e.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;e.payload=function(){return i(r)},e.callback=function(){QI(n,t)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){QI(n,t),typeof i!="function"&&(Op===null?Op=new Set([this]):Op.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),e}function n8(n,t,e){var i=n.pingCache;if(i===null){i=n.pingCache=new get;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(e)||(r.add(e),n=Ret.bind(null,n,t,e),t.then(n,n))}function i8(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function r8(n,t,e,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=qu(-1,1),t.tag=2,Lp(e,t,1))),e.lanes|=1),n)}var met=ud.ReactCurrentOwner,Ts=!1;function $r(n,t,e,i){t.child=n===null?WV(t,null,e,i):U1(t,n.child,e,i)}function s8(n,t,e,i,r){e=e.render;var s=t.ref;return Zy(t,r),i=hz(n,t,e,i,s,r),e=uz(),n!==null&&!Ts?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~r,rd(n,t,r)):(dn&&e&&JB(t),t.flags|=1,$r(n,t,i,r),t.child)}function a8(n,t,e,i,r){if(n===null){var s=e.type;return typeof s=="function"&&!xz(s)&&s.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=s,gG(n,t,s,i,r)):(n=W2(e.type,null,i,t,t.mode,r),n.ref=t.ref,n.return=t,t.child=n)}if(s=n.child,!(n.lanes&r)){var a=s.memoizedProps;if(e=e.compare,e=e!==null?e:LA,e(a,i)&&n.ref===t.ref)return rd(n,t,r)}return t.flags|=1,n=zp(s,i),n.ref=t.ref,n.return=t,t.child=n}function gG(n,t,e,i,r){if(n!==null){var s=n.memoizedProps;if(LA(s,i)&&n.ref===t.ref)if(Ts=!1,t.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Ts=!0);else return t.lanes=n.lanes,rd(n,t,r)}return JI(n,t,e,i,r)}function mG(n,t,e){var i=t.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Iy,Sa),Sa|=e;else{if(!(e&1073741824))return n=s!==null?s.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,Ze(Iy,Sa),Sa|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:e,Ze(Iy,Sa),Sa|=i}else s!==null?(i=s.baseLanes|e,t.memoizedState=null):i=e,Ze(Iy,Sa),Sa|=i;return $r(n,t,r,e),t.child}function vG(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function JI(n,t,e,i,r){var s=Ms(e)?$m:Ir.current;return s=z1(t,s),Zy(t,r),e=hz(n,t,e,i,s,r),i=uz(),n!==null&&!Ts?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~r,rd(n,t,r)):(dn&&i&&JB(t),t.flags|=1,$r(n,t,e,r),t.child)}function o8(n,t,e,i,r){if(Ms(e)){var s=!0;PR(t)}else s=!1;if(Zy(t,r),t.stateNode===null)j2(n,t),dG(t,e,i),ZI(t,e,i,r),i=!0;else if(n===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,l=e.contextType;typeof l=="object"&&l!==null?l=Fo(l):(l=Ms(e)?$m:Ir.current,l=z1(t,l));var u=e.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||c!==l)&&e8(t,a,i,l),Od=!1;var f=t.memoizedState;a.state=f,NR(t,i,a,r),c=t.memoizedState,o!==i||f!==c||Fs.current||Od?(typeof u=="function"&&(YI(t,e,u,i),c=t.memoizedState),(o=Od||t8(t,e,o,i,f,c,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=l,i=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,GV(n,t),o=t.memoizedProps,l=t.type===t.elementType?o:Ko(t.type,o),a.props=l,d=t.pendingProps,f=a.context,c=e.contextType,typeof c=="object"&&c!==null?c=Fo(c):(c=Ms(e)?$m:Ir.current,c=z1(t,c));var p=e.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==c)&&e8(t,a,i,c),Od=!1,f=t.memoizedState,a.state=f,NR(t,i,a,r);var g=t.memoizedState;o!==d||f!==g||Fs.current||Od?(typeof p=="function"&&(YI(t,e,p,i),g=t.memoizedState),(l=Od||t8(t,e,l,i,f,g,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),a.props=i,a.state=g,a.context=c,i=l):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(t.flags|=1024),i=!1)}return $I(n,t,e,i,s,r)}function $I(n,t,e,i,r,s){vG(n,t);var a=(t.flags&128)!==0;if(!i&&!a)return r&&X5(t,e,!1),rd(n,t,s);i=t.stateNode,met.current=t;var o=a&&typeof e.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,n!==null&&a?(t.child=U1(t,n.child,null,s),t.child=U1(t,null,o,s)):$r(n,t,o,s),t.memoizedState=i.state,r&&X5(t,e,!0),t.child}function yG(n){var t=n.stateNode;t.pendingContext?G5(n,t.pendingContext,t.pendingContext!==t.context):t.context&&G5(n,t.context,!1),az(n,t.containerInfo)}function l8(n,t,e,i,r){return j1(),tz(r),t.flags|=256,$r(n,t,e,i),t.child}var tL={dehydrated:null,treeContext:null,retryLane:0};function eL(n){return{baseLanes:n,cachePool:null,transitions:null}}function bG(n,t,e){var i=t.pendingProps,r=wn.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(r&2)!==0),o?(s=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Ze(wn,r&1),n===null)return qI(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,n=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=bF(a,i,0,null),n=Jm(n,i,e,null),s.return=t,n.return=t,s.sibling=n,t.child=s,t.child.memoizedState=eL(e),t.memoizedState=tL,n):pz(t,a));if(r=n.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return vet(n,t,a,i,o,r,e);if(s){s=i.fallback,a=t.mode,r=n.child,o=r.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=c,t.deletions=null):(i=zp(r,c),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=zp(o,s):(s=Jm(s,a,e,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,a=n.child.memoizedState,a=a===null?eL(e):{baseLanes:a.baseLanes|e,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~e,t.memoizedState=tL,i}return s=n.child,n=s.sibling,i=zp(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=e),i.return=t,i.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=i,t.memoizedState=null,i}function pz(n,t){return t=bF({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function DT(n,t,e,i){return i!==null&&tz(i),U1(t,n.child,null,e),n=pz(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function vet(n,t,e,i,r,s,a){if(e)return t.flags&256?(t.flags&=-257,i=YM(Error(nt(422))),DT(n,t,a,i)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=bF({mode:"visible",children:i.children},r,0,null),s=Jm(s,r,a,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&U1(t,n.child,null,a),t.child.memoizedState=eL(a),t.memoizedState=tL,s);if(!(t.mode&1))return DT(n,t,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(nt(419)),i=YM(s,i,void 0),DT(n,t,a,i)}if(o=(a&n.childLanes)!==0,Ts||o){if(i=ji,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,id(n,r),El(i,n,r,-1))}return wz(),i=YM(Error(nt(421))),DT(n,t,a,i)}return r.data==="$?"?(t.flags|=128,t.child=n.child,t=Det.bind(null,n),r._reactRetry=t,null):(n=s.treeContext,ka=Ip(r.nextSibling),Ma=t,dn=!0,yl=null,n!==null&&(uo[fo++]=Gu,uo[fo++]=Xu,uo[fo++]=tv,Gu=n.id,Xu=n.overflow,tv=t),t=pz(t,i.children),t.flags|=4096,t)}function c8(n,t,e){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t),KI(n.return,t,e)}function ZM(n,t,e,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:e,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=e,s.tailMode=r)}function wG(n,t,e){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if($r(n,t,i.children,e),i=wn.current,i&2)i=i&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&c8(n,e,t);else if(n.tag===19)c8(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Ze(wn,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(e=t.child,r=null;e!==null;)n=e.alternate,n!==null&&IR(n)===null&&(r=e),e=e.sibling;e=r,e===null?(r=t.child,t.child=null):(r=e.sibling,e.sibling=null),ZM(t,!1,r,e,s);break;case"backwards":for(e=null,r=t.child,t.child=null;r!==null;){if(n=r.alternate,n!==null&&IR(n)===null){t.child=r;break}n=r.sibling,r.sibling=e,e=r,r=n}ZM(t,!0,e,null,s);break;case"together":ZM(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function j2(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function rd(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),nv|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(nt(153));if(t.child!==null){for(n=t.child,e=zp(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=zp(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function yet(n,t,e){switch(t.tag){case 3:yG(t),j1();break;case 5:XV(t);break;case 1:Ms(t.type)&&PR(t);break;case 4:az(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Ze(FR,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Ze(wn,wn.current&1),t.flags|=128,null):e&t.child.childLanes?bG(n,t,e):(Ze(wn,wn.current&1),n=rd(n,t,e),n!==null?n.sibling:null);Ze(wn,wn.current&1);break;case 19:if(i=(e&t.childLanes)!==0,n.flags&128){if(i)return wG(n,t,e);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ze(wn,wn.current),i)break;return null;case 22:case 23:return t.lanes=0,mG(n,t,e)}return rd(n,t,e)}var xG,nL,SG,AG;xG=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};nL=function(){};SG=function(n,t,e,i){var r=n.memoizedProps;if(r!==i){n=t.stateNode,Tg(th.current);var s=null;switch(e){case"input":r=EI(n,r),i=EI(n,i),s=[];break;case"select":r=Sn({},r,{value:void 0}),i=Sn({},i,{value:void 0}),s=[];break;case"textarea":r=kI(n,r),i=kI(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=kR)}PI(e,i);var a;e=null;for(l in r)if(!i.hasOwnProperty(l)&&r.hasOwnProperty(l)&&r[l]!=null)if(l==="style"){var o=r[l];for(a in o)o.hasOwnProperty(a)&&(e||(e={}),e[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(PA.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in i){var c=i[l];if(o=r!=null?r[l]:void 0,i.hasOwnProperty(l)&&c!==o&&(c!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(e||(e={}),e[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(e||(e={}),e[a]=c[a])}else e||(s||(s=[]),s.push(l,e)),e=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(PA.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Je("scroll",n),s||o===c||(s=[])):(s=s||[]).push(l,c))}e&&(s=s||[]).push("style",e);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};AG=function(n,t,e,i){e!==i&&(t.flags|=4)};function Rx(n,t){if(!dn)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function wr(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,i=0;if(t)for(var r=n.child;r!==null;)e|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)e|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=e,t}function bet(n,t,e){var i=t.pendingProps;switch($B(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(t),null;case 1:return Ms(t.type)&&TR(),wr(t),null;case 3:return i=t.stateNode,H1(),$e(Fs),$e(Ir),lz(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(PT(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yl!==null&&(hL(yl),yl=null))),nL(n,t),wr(t),null;case 5:oz(t);var r=Tg(UA.current);if(e=t.type,n!==null&&t.stateNode!=null)SG(n,t,e,i,r),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(nt(166));return wr(t),null}if(n=Tg(th.current),PT(t)){i=t.stateNode,e=t.type;var s=t.memoizedProps;switch(i[Uc]=t,i[zA]=s,n=(t.mode&1)!==0,e){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(r=0;r<eS.length;r++)Je(eS[r],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":y5(i,s),Je("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Je("invalid",i);break;case"textarea":w5(i,s),Je("invalid",i)}PI(e,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&TT(i.textContent,o,n),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&TT(i.textContent,o,n),r=["children",""+o]):PA.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Je("scroll",i)}switch(e){case"input":wT(i),b5(i,s,!0);break;case"textarea":wT(i),x5(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=kR)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=QW(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(e,{is:i.is}):(n=a.createElement(e),e==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,e),n[Uc]=t,n[zA]=i,xG(n,t,!1,!1),t.stateNode=n;t:{switch(a=RI(e,i),e){case"dialog":Je("cancel",n),Je("close",n),r=i;break;case"iframe":case"object":case"embed":Je("load",n),r=i;break;case"video":case"audio":for(r=0;r<eS.length;r++)Je(eS[r],n);r=i;break;case"source":Je("error",n),r=i;break;case"img":case"image":case"link":Je("error",n),Je("load",n),r=i;break;case"details":Je("toggle",n),r=i;break;case"input":y5(n,i),r=EI(n,i),Je("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Sn({},i,{value:void 0}),Je("invalid",n);break;case"textarea":w5(n,i),r=kI(n,i),Je("invalid",n);break;default:r=i}PI(e,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?tV(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&JW(n,c)):s==="children"?typeof c=="string"?(e!=="textarea"||c!=="")&&RA(n,c):typeof c=="number"&&RA(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(PA.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Je("scroll",n):c!=null&&BB(n,s,c,a))}switch(e){case"input":wT(n),b5(n,i,!1);break;case"textarea":wT(n),x5(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Xp(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Xy(n,!!i.multiple,s,!1):i.defaultValue!=null&&Xy(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=kR)}switch(e){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wr(t),null;case 6:if(n&&t.stateNode!=null)AG(n,t,n.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(nt(166));if(e=Tg(UA.current),Tg(th.current),PT(t)){if(i=t.stateNode,e=t.memoizedProps,i[Uc]=t,(s=i.nodeValue!==e)&&(n=Ma,n!==null))switch(n.tag){case 3:TT(i.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&TT(i.nodeValue,e,(n.mode&1)!==0)}s&&(t.flags|=4)}else i=(e.nodeType===9?e:e.ownerDocument).createTextNode(i),i[Uc]=t,t.stateNode=i}return wr(t),null;case 13:if($e(wn),i=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(dn&&ka!==null&&t.mode&1&&!(t.flags&128))UV(),j1(),t.flags|=98560,s=!1;else if(s=PT(t),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(nt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(nt(317));s[Uc]=t}else j1(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wr(t),s=!1}else yl!==null&&(hL(yl),yl=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(n===null||wn.current&1?gi===0&&(gi=3):wz())),t.updateQueue!==null&&(t.flags|=4),wr(t),null);case 4:return H1(),nL(n,t),n===null&&OA(t.stateNode.containerInfo),wr(t),null;case 10:return iz(t.type._context),wr(t),null;case 17:return Ms(t.type)&&TR(),wr(t),null;case 19:if($e(wn),s=t.memoizedState,s===null)return wr(t),null;if(i=(t.flags&128)!==0,a=s.rendering,a===null)if(i)Rx(s,!1);else{if(gi!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(a=IR(n),a!==null){for(t.flags|=128,Rx(s,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=e,e=t.child;e!==null;)s=e,n=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return Ze(wn,wn.current&1|2),t.child}n=n.sibling}s.tail!==null&&Un()>V1&&(t.flags|=128,i=!0,Rx(s,!1),t.lanes=4194304)}else{if(!i)if(n=IR(a),n!==null){if(t.flags|=128,i=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),Rx(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!dn)return wr(t),null}else 2*Un()-s.renderingStartTime>V1&&e!==1073741824&&(t.flags|=128,i=!0,Rx(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(e=s.last,e!==null?e.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Un(),t.sibling=null,e=wn.current,Ze(wn,i?e&1|2:e&1),t):(wr(t),null);case 22:case 23:return bz(),i=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Sa&1073741824&&(wr(t),t.subtreeFlags&6&&(t.flags|=8192)):wr(t),null;case 24:return null;case 25:return null}throw Error(nt(156,t.tag))}function wet(n,t){switch($B(t),t.tag){case 1:return Ms(t.type)&&TR(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return H1(),$e(Fs),$e(Ir),lz(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return oz(t),null;case 13:if($e(wn),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(nt(340));j1()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return $e(wn),null;case 4:return H1(),null;case 10:return iz(t.type._context),null;case 22:case 23:return bz(),null;case 24:return null;default:return null}}var FT=!1,Mr=!1,xet=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Ny(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(i){Tn(n,t,i)}else e.current=null}function iL(n,t,e){try{e()}catch(i){Tn(n,t,i)}}var h8=!1;function Aet(n,t){if(jI=ER,n=TV(),QB(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var i=e.getSelection&&e.getSelection();if(i&&i.rangeCount!==0){e=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{e.nodeType,s.nodeType}catch{e=null;break t}var a=0,o=-1,c=-1,l=0,u=0,d=n,f=null;e:for(;;){for(var p;d!==e||r!==0&&d.nodeType!==3||(o=a+r),d!==s||i!==0&&d.nodeType!==3||(c=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break e;if(f===e&&++l===r&&(o=a),f===s&&++u===i&&(c=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}e=o===-1||c===-1?null:{start:o,end:c}}else e=null}e=e||{start:0,end:0}}else e=null;for(UI={focusedElem:n,selectionRange:e},ER=!1,pt=t;pt!==null;)if(t=pt,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,pt=n;else for(;pt!==null;){t=pt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ko(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(A){Tn(t,t.return,A)}if(n=t.sibling,n!==null){n.return=t.return,pt=n;break}pt=t.return}return g=h8,h8=!1,g}function nA(n,t,e){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&iL(t,e,s)}r=r.next}while(r!==i)}}function vF(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}}function rL(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function EG(n){var t=n.alternate;t!==null&&(n.alternate=null,EG(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[Uc],delete t[zA],delete t[VI],delete t[iet],delete t[ret])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function _G(n){return n.tag===5||n.tag===3||n.tag===4}function u8(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||_G(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sL(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=kR));else if(i!==4&&(n=n.child,n!==null))for(sL(n,t,e),n=n.sibling;n!==null;)sL(n,t,e),n=n.sibling}function aL(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(aL(n,t,e),n=n.sibling;n!==null;)aL(n,t,e),n=n.sibling}var ir=null,vl=!1;function xd(n,t,e){for(e=e.child;e!==null;)CG(n,t,e),e=e.sibling}function CG(n,t,e){if($c&&typeof $c.onCommitFiberUnmount=="function")try{$c.onCommitFiberUnmount(cF,e)}catch{}switch(e.tag){case 5:Mr||Ny(e,t);case 6:var i=ir,r=vl;ir=null,xd(n,t,e),ir=i,vl=r,ir!==null&&(vl?(n=ir,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):ir.removeChild(e.stateNode));break;case 18:ir!==null&&(vl?(n=ir,e=e.stateNode,n.nodeType===8?WM(n.parentNode,e):n.nodeType===1&&WM(n,e),NA(n)):WM(ir,e.stateNode));break;case 4:i=ir,r=vl,ir=e.stateNode.containerInfo,vl=!0,xd(n,t,e),ir=i,vl=r;break;case 0:case 11:case 14:case 15:if(!Mr&&(i=e.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&iL(e,t,a),r=r.next}while(r!==i)}xd(n,t,e);break;case 1:if(!Mr&&(Ny(e,t),i=e.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=e.memoizedProps,i.state=e.memoizedState,i.componentWillUnmount()}catch(o){Tn(e,t,o)}xd(n,t,e);break;case 21:xd(n,t,e);break;case 22:e.mode&1?(Mr=(i=Mr)||e.memoizedState!==null,xd(n,t,e),Mr=i):xd(n,t,e);break;default:xd(n,t,e)}}function d8(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new xet),t.forEach(function(i){var r=Fet.bind(null,n,i);e.has(i)||(e.add(i),i.then(r,r))})}}function Wo(n,t){var e=t.deletions;if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];try{var s=n,a=t,o=a;t:for(;o!==null;){switch(o.tag){case 5:ir=o.stateNode,vl=!1;break t;case 3:ir=o.stateNode.containerInfo,vl=!0;break t;case 4:ir=o.stateNode.containerInfo,vl=!0;break t}o=o.return}if(ir===null)throw Error(nt(160));CG(s,a,r),ir=null,vl=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(l){Tn(r,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kG(t,n),t=t.sibling}function kG(n,t){var e=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Wo(t,n),zl(n),i&4){try{nA(3,n,n.return),vF(3,n)}catch(m){Tn(n,n.return,m)}try{nA(5,n,n.return)}catch(m){Tn(n,n.return,m)}}break;case 1:Wo(t,n),zl(n),i&512&&e!==null&&Ny(e,e.return);break;case 5:if(Wo(t,n),zl(n),i&512&&e!==null&&Ny(e,e.return),n.flags&32){var r=n.stateNode;try{RA(r,"")}catch(m){Tn(n,n.return,m)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,a=e!==null?e.memoizedProps:s,o=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&YW(r,s),RI(o,a);var l=RI(o,s);for(a=0;a<c.length;a+=2){var u=c[a],d=c[a+1];u==="style"?tV(r,d):u==="dangerouslySetInnerHTML"?JW(r,d):u==="children"?RA(r,d):BB(r,u,d,l)}switch(o){case"input":_I(r,s);break;case"textarea":ZW(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Xy(r,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Xy(r,!!s.multiple,s.defaultValue,!0):Xy(r,!!s.multiple,s.multiple?[]:"",!1))}r[zA]=s}catch(m){Tn(n,n.return,m)}}break;case 6:if(Wo(t,n),zl(n),i&4){if(n.stateNode===null)throw Error(nt(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(m){Tn(n,n.return,m)}}break;case 3:if(Wo(t,n),zl(n),i&4&&e!==null&&e.memoizedState.isDehydrated)try{NA(t.containerInfo)}catch(m){Tn(n,n.return,m)}break;case 4:Wo(t,n),zl(n);break;case 13:Wo(t,n),zl(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(vz=Un())),i&4&&d8(n);break;case 22:if(u=e!==null&&e.memoizedState!==null,n.mode&1?(Mr=(l=Mr)||u,Wo(t,n),Mr=l):Wo(t,n),zl(n),i&8192){if(l=n.memoizedState!==null,(n.stateNode.isHidden=l)&&!u&&n.mode&1)for(pt=n,u=n.child;u!==null;){for(d=pt=u;pt!==null;){switch(f=pt,p=f.child,f.tag){case 0:case 11:case 14:case 15:nA(4,f,f.return);break;case 1:Ny(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,e=f.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Tn(i,e,m)}}break;case 5:Ny(f,f.return);break;case 22:if(f.memoizedState!==null){p8(d);continue}}p!==null?(p.return=f,pt=p):p8(d)}u=u.sibling}t:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,l?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=$W("display",a))}catch(m){Tn(n,n.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Tn(n,n.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break t;for(;d.sibling===null;){if(d.return===null||d.return===n)break t;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wo(t,n),zl(n),i&4&&d8(n);break;case 21:break;default:Wo(t,n),zl(n)}}function zl(n){var t=n.flags;if(t&2){try{t:{for(var e=n.return;e!==null;){if(_G(e)){var i=e;break t}e=e.return}throw Error(nt(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(RA(r,""),i.flags&=-33);var s=u8(n);aL(n,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,o=u8(n);sL(n,o,a);break;default:throw Error(nt(161))}}catch(c){Tn(n,n.return,c)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function Eet(n,t,e){pt=n,TG(n)}function TG(n,t,e){for(var i=(n.mode&1)!==0;pt!==null;){var r=pt,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||FT;if(!a){var o=r.alternate,c=o!==null&&o.memoizedState!==null||Mr;o=FT;var l=Mr;if(FT=a,(Mr=c)&&!l)for(pt=r;pt!==null;)a=pt,c=a.child,a.tag===22&&a.memoizedState!==null?g8(r):c!==null?(c.return=a,pt=c):g8(r);for(;s!==null;)pt=s,TG(s),s=s.sibling;pt=r,FT=o,Mr=l}f8(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,pt=s):f8(n)}}function f8(n){for(;pt!==null;){var t=pt;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mr||vF(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Mr)if(e===null)i.componentDidMount();else{var r=t.elementType===t.type?e.memoizedProps:Ko(t.type,e.memoizedProps);i.componentDidUpdate(r,e.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Q5(t,s,i);break;case 3:var a=t.updateQueue;if(a!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}Q5(t,a,e)}break;case 5:var o=t.stateNode;if(e===null&&t.flags&4){e=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&e.focus();break;case"img":c.src&&(e.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&NA(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}Mr||t.flags&512&&rL(t)}catch(f){Tn(t,t.return,f)}}if(t===n){pt=null;break}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function p8(n){for(;pt!==null;){var t=pt;if(t===n){pt=null;break}var e=t.sibling;if(e!==null){e.return=t.return,pt=e;break}pt=t.return}}function g8(n){for(;pt!==null;){var t=pt;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{vF(4,t)}catch(c){Tn(t,e,c)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(c){Tn(t,r,c)}}var s=t.return;try{rL(t)}catch(c){Tn(t,s,c)}break;case 5:var a=t.return;try{rL(t)}catch(c){Tn(t,a,c)}}}catch(c){Tn(t,t.return,c)}if(t===n){pt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,pt=o;break}pt=t.return}}var _et=Math.ceil,BR=ud.ReactCurrentDispatcher,gz=ud.ReactCurrentOwner,Ao=ud.ReactCurrentBatchConfig,ge=0,ji=null,Yn=null,pr=0,Sa=0,Iy=ag(0),gi=0,GA=null,nv=0,yF=0,mz=0,iA=null,ks=null,vz=0,V1=1/0,xh=null,zR=!1,oL=null,Op=null,MT=!1,Ap=null,jR=0,rA=0,lL=null,U2=-1,H2=0;function as(){return ge&6?Un():U2!==-1?U2:U2=Un()}function Bp(n){return n.mode&1?ge&2&&pr!==0?pr&-pr:aet.transition!==null?(H2===0&&(H2=dV()),H2):(n=Ie,n!==0||(n=window.event,n=n===void 0?16:bV(n.type)),n):1}function El(n,t,e,i){if(50<rA)throw rA=0,lL=null,Error(nt(185));Rk(n,e,i),(!(ge&2)||n!==ji)&&(n===ji&&(!(ge&2)&&(yF|=e),gi===4&&Ud(n,pr)),Ns(n,i),e===1&&ge===0&&!(t.mode&1)&&(V1=Un()+500,pF&&og()))}function Ns(n,t){var e=n.callbackNode;att(n,t);var i=AR(n,n===ji?pr:0);if(i===0)e!==null&&E5(e),n.callbackNode=null,n.callbackPriority=0;else if(t=i&-i,n.callbackPriority!==t){if(e!=null&&E5(e),t===1)n.tag===0?set(m8.bind(null,n)):BV(m8.bind(null,n)),eet(function(){!(ge&6)&&og()}),e=null;else{switch(fV(i)){case 1:e=WB;break;case 4:e=hV;break;case 16:e=SR;break;case 536870912:e=uV;break;default:e=SR}e=LG(e,PG.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function PG(n,t){if(U2=-1,H2=0,ge&6)throw Error(nt(327));var e=n.callbackNode;if(Qy()&&n.callbackNode!==e)return null;var i=AR(n,n===ji?pr:0);if(i===0)return null;if(i&30||i&n.expiredLanes||t)t=UR(n,i);else{t=i;var r=ge;ge|=2;var s=DG();(ji!==n||pr!==t)&&(xh=null,V1=Un()+500,Qm(n,t));do try{Tet();break}catch(o){RG(n,o)}while(!0);nz(),BR.current=s,ge=r,Yn!==null?t=0:(ji=null,pr=0,t=gi)}if(t!==0){if(t===2&&(r=II(n),r!==0&&(i=r,t=cL(n,r))),t===1)throw e=GA,Qm(n,0),Ud(n,i),Ns(n,Un()),e;if(t===6)Ud(n,i);else{if(r=n.current.alternate,!(i&30)&&!Cet(r)&&(t=UR(n,i),t===2&&(s=II(n),s!==0&&(i=s,t=cL(n,s))),t===1))throw e=GA,Qm(n,0),Ud(n,i),Ns(n,Un()),e;switch(n.finishedWork=r,n.finishedLanes=i,t){case 0:case 1:throw Error(nt(345));case 2:gg(n,ks,xh);break;case 3:if(Ud(n,i),(i&130023424)===i&&(t=vz+500-Un(),10<t)){if(AR(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){as(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=WI(gg.bind(null,n,ks,xh),t);break}gg(n,ks,xh);break;case 4:if(Ud(n,i),(i&4194240)===i)break;for(t=n.eventTimes,r=-1;0<i;){var a=31-Al(i);s=1<<a,a=t[a],a>r&&(r=a),i&=~s}if(i=r,i=Un()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_et(i/1960))-i,10<i){n.timeoutHandle=WI(gg.bind(null,n,ks,xh),i);break}gg(n,ks,xh);break;case 5:gg(n,ks,xh);break;default:throw Error(nt(329))}}}return Ns(n,Un()),n.callbackNode===e?PG.bind(null,n):null}function cL(n,t){var e=iA;return n.current.memoizedState.isDehydrated&&(Qm(n,t).flags|=256),n=UR(n,t),n!==2&&(t=ks,ks=e,t!==null&&hL(t)),n}function hL(n){ks===null?ks=n:ks.push.apply(ks,n)}function Cet(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var i=0;i<e.length;i++){var r=e[i],s=r.getSnapshot;r=r.value;try{if(!Tl(s(),r))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ud(n,t){for(t&=~mz,t&=~yF,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-Al(t),i=1<<e;n[e]=-1,t&=~i}}function m8(n){if(ge&6)throw Error(nt(327));Qy();var t=AR(n,0);if(!(t&1))return Ns(n,Un()),null;var e=UR(n,t);if(n.tag!==0&&e===2){var i=II(n);i!==0&&(t=i,e=cL(n,i))}if(e===1)throw e=GA,Qm(n,0),Ud(n,t),Ns(n,Un()),e;if(e===6)throw Error(nt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,gg(n,ks,xh),Ns(n,Un()),null}function yz(n,t){var e=ge;ge|=1;try{return n(t)}finally{ge=e,ge===0&&(V1=Un()+500,pF&&og())}}function iv(n){Ap!==null&&Ap.tag===0&&!(ge&6)&&Qy();var t=ge;ge|=1;var e=Ao.transition,i=Ie;try{if(Ao.transition=null,Ie=1,n)return n()}finally{Ie=i,Ao.transition=e,ge=t,!(ge&6)&&og()}}function bz(){Sa=Iy.current,$e(Iy)}function Qm(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,tet(e)),Yn!==null)for(e=Yn.return;e!==null;){var i=e;switch($B(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&TR();break;case 3:H1(),$e(Fs),$e(Ir),lz();break;case 5:oz(i);break;case 4:H1();break;case 13:$e(wn);break;case 19:$e(wn);break;case 10:iz(i.type._context);break;case 22:case 23:bz()}e=e.return}if(ji=n,Yn=n=zp(n.current,null),pr=Sa=t,gi=0,GA=null,mz=yF=nv=0,ks=iA=null,kg!==null){for(t=0;t<kg.length;t++)if(e=kg[t],i=e.interleaved,i!==null){e.interleaved=null;var r=i.next,s=e.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}e.pending=i}kg=null}return n}function RG(n,t){do{var e=Yn;try{if(nz(),B2.current=OR,LR){for(var i=xn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}LR=!1}if(ev=0,Li=ci=xn=null,eA=!1,HA=0,gz.current=null,e===null||e.return===null){gi=1,GA=t,Yn=null;break}t:{var s=n,a=e.return,o=e,c=t;if(t=pr,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=i8(a);if(p!==null){p.flags&=-257,r8(p,a,o,s,t),p.mode&1&&n8(s,l,t),t=p,c=l;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break t}else{if(!(t&1)){n8(s,l,t),wz();break t}c=Error(nt(426))}}else if(dn&&o.mode&1){var y=i8(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),r8(y,a,o,s,t),tz(W1(c,o));break t}}s=c=W1(c,o),gi!==4&&(gi=2),iA===null?iA=[s]:iA.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=fG(s,c,t);Z5(s,v);break t;case 1:o=c;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Op===null||!Op.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var A=pG(s,o,t);Z5(s,A);break t}}s=s.return}while(s!==null)}MG(e)}catch(S){t=S,Yn===e&&e!==null&&(Yn=e=e.return);continue}break}while(!0)}function DG(){var n=BR.current;return BR.current=OR,n===null?OR:n}function wz(){(gi===0||gi===3||gi===2)&&(gi=4),ji===null||!(nv&268435455)&&!(yF&268435455)||Ud(ji,pr)}function UR(n,t){var e=ge;ge|=2;var i=DG();(ji!==n||pr!==t)&&(xh=null,Qm(n,t));do try{ket();break}catch(r){RG(n,r)}while(!0);if(nz(),ge=e,BR.current=i,Yn!==null)throw Error(nt(261));return ji=null,pr=0,gi}function ket(){for(;Yn!==null;)FG(Yn)}function Tet(){for(;Yn!==null&&!Q$();)FG(Yn)}function FG(n){var t=IG(n.alternate,n,Sa);n.memoizedProps=n.pendingProps,t===null?MG(n):Yn=t,gz.current=null}function MG(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=wet(e,t),e!==null){e.flags&=32767,Yn=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{gi=6,Yn=null;return}}else if(e=bet(e,t,Sa),e!==null){Yn=e;return}if(t=t.sibling,t!==null){Yn=t;return}Yn=t=n}while(t!==null);gi===0&&(gi=5)}function gg(n,t,e){var i=Ie,r=Ao.transition;try{Ao.transition=null,Ie=1,Pet(n,t,e,i)}finally{Ao.transition=r,Ie=i}return null}function Pet(n,t,e,i){do Qy();while(Ap!==null);if(ge&6)throw Error(nt(327));e=n.finishedWork;var r=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(nt(177));n.callbackNode=null,n.callbackPriority=0;var s=e.lanes|e.childLanes;if(ott(n,s),n===ji&&(Yn=ji=null,pr=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||MT||(MT=!0,LG(SR,function(){return Qy(),null})),s=(e.flags&15990)!==0,e.subtreeFlags&15990||s){s=Ao.transition,Ao.transition=null;var a=Ie;Ie=1;var o=ge;ge|=4,gz.current=null,Aet(n,e),kG(e,n),qtt(UI),ER=!!jI,UI=jI=null,n.current=e,Eet(e),J$(),ge=o,Ie=a,Ao.transition=s}else n.current=e;if(MT&&(MT=!1,Ap=n,jR=r),s=n.pendingLanes,s===0&&(Op=null),ett(e.stateNode),Ns(n,Un()),t!==null)for(i=n.onRecoverableError,e=0;e<t.length;e++)r=t[e],i(r.value,{componentStack:r.stack,digest:r.digest});if(zR)throw zR=!1,n=oL,oL=null,n;return jR&1&&n.tag!==0&&Qy(),s=n.pendingLanes,s&1?n===lL?rA++:(rA=0,lL=n):rA=0,og(),null}function Qy(){if(Ap!==null){var n=fV(jR),t=Ao.transition,e=Ie;try{if(Ao.transition=null,Ie=16>n?16:n,Ap===null)var i=!1;else{if(n=Ap,Ap=null,jR=0,ge&6)throw Error(nt(331));var r=ge;for(ge|=4,pt=n.current;pt!==null;){var s=pt,a=s.child;if(pt.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var l=o[c];for(pt=l;pt!==null;){var u=pt;switch(u.tag){case 0:case 11:case 15:nA(8,u,s)}var d=u.child;if(d!==null)d.return=u,pt=d;else for(;pt!==null;){u=pt;var f=u.sibling,p=u.return;if(EG(u),u===l){pt=null;break}if(f!==null){f.return=p,pt=f;break}pt=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}pt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,pt=a;else t:for(;pt!==null;){if(s=pt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:nA(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,pt=v;break t}pt=s.return}}var w=n.current;for(pt=w;pt!==null;){a=pt;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,pt=x;else t:for(a=w;pt!==null;){if(o=pt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:vF(9,o)}}catch(S){Tn(o,o.return,S)}if(o===a){pt=null;break t}var A=o.sibling;if(A!==null){A.return=o.return,pt=A;break t}pt=o.return}}if(ge=r,og(),$c&&typeof $c.onPostCommitFiberRoot=="function")try{$c.onPostCommitFiberRoot(cF,n)}catch{}i=!0}return i}finally{Ie=e,Ao.transition=t}}return!1}function v8(n,t,e){t=W1(e,t),t=fG(n,t,1),n=Lp(n,t,1),t=as(),n!==null&&(Rk(n,1,t),Ns(n,t))}function Tn(n,t,e){if(n.tag===3)v8(n,n,e);else for(;t!==null;){if(t.tag===3){v8(t,n,e);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Op===null||!Op.has(i))){n=W1(e,n),n=pG(t,n,1),t=Lp(t,n,1),n=as(),t!==null&&(Rk(t,1,n),Ns(t,n));break}}t=t.return}}function Ret(n,t,e){var i=n.pingCache;i!==null&&i.delete(t),t=as(),n.pingedLanes|=n.suspendedLanes&e,ji===n&&(pr&e)===e&&(gi===4||gi===3&&(pr&130023424)===pr&&500>Un()-vz?Qm(n,0):mz|=e),Ns(n,t)}function NG(n,t){t===0&&(n.mode&1?(t=AT,AT<<=1,!(AT&130023424)&&(AT=4194304)):t=1);var e=as();n=id(n,t),n!==null&&(Rk(n,t,e),Ns(n,e))}function Det(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),NG(n,e)}function Fet(n,t){var e=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(e=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(nt(314))}i!==null&&i.delete(t),NG(n,e)}var IG;IG=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||Fs.current)Ts=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return Ts=!1,yet(n,t,e);Ts=!!(n.flags&131072)}else Ts=!1,dn&&t.flags&1048576&&zV(t,DR,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;j2(n,t),n=t.pendingProps;var r=z1(t,Ir.current);Zy(t,e),r=hz(null,t,i,n,r,e);var s=uz();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ms(i)?(s=!0,PR(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,sz(t),r.updater=mF,t.stateNode=r,r._reactInternals=t,ZI(t,i,n,e),t=$I(null,t,i,!0,s,e)):(t.tag=0,dn&&s&&JB(t),$r(null,t,r,e),t=t.child),t;case 16:i=t.elementType;t:{switch(j2(n,t),n=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=Net(i),n=Ko(i,n),r){case 0:t=JI(null,t,i,n,e);break t;case 1:t=o8(null,t,i,n,e);break t;case 11:t=s8(null,t,i,n,e);break t;case 14:t=a8(null,t,i,Ko(i.type,n),e);break t}throw Error(nt(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Ko(i,r),JI(n,t,i,r,e);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Ko(i,r),o8(n,t,i,r,e);case 3:t:{if(yG(t),n===null)throw Error(nt(387));i=t.pendingProps,s=t.memoizedState,r=s.element,GV(n,t),NR(t,i,null,e);var a=t.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=W1(Error(nt(423)),t),t=l8(n,t,i,e,r);break t}else if(i!==r){r=W1(Error(nt(424)),t),t=l8(n,t,i,e,r);break t}else for(ka=Ip(t.stateNode.containerInfo.firstChild),Ma=t,dn=!0,yl=null,e=WV(t,null,i,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(j1(),i===r){t=rd(n,t,e);break t}$r(n,t,i,e)}t=t.child}return t;case 5:return XV(t),n===null&&qI(t),i=t.type,r=t.pendingProps,s=n!==null?n.memoizedProps:null,a=r.children,HI(i,r)?a=null:s!==null&&HI(i,s)&&(t.flags|=32),vG(n,t),$r(n,t,a,e),t.child;case 6:return n===null&&qI(t),null;case 13:return bG(n,t,e);case 4:return az(t,t.stateNode.containerInfo),i=t.pendingProps,n===null?t.child=U1(t,null,i,e):$r(n,t,i,e),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Ko(i,r),s8(n,t,i,r,e);case 7:return $r(n,t,t.pendingProps,e),t.child;case 8:return $r(n,t,t.pendingProps.children,e),t.child;case 12:return $r(n,t,t.pendingProps.children,e),t.child;case 10:t:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,a=r.value,Ze(FR,i._currentValue),i._currentValue=a,s!==null)if(Tl(s.value,a)){if(s.children===r.children&&!Fs.current){t=rd(n,t,e);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===i){if(s.tag===1){c=qu(-1,e&-e),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=e,c=s.alternate,c!==null&&(c.lanes|=e),KI(s.return,e,t),o.lanes|=e;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(nt(341));a.lanes|=e,o=a.alternate,o!==null&&(o.lanes|=e),KI(a,e,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}$r(n,t,r.children,e),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Zy(t,e),r=Fo(r),i=i(r),t.flags|=1,$r(n,t,i,e),t.child;case 14:return i=t.type,r=Ko(i,t.pendingProps),r=Ko(i.type,r),a8(n,t,i,r,e);case 15:return gG(n,t,t.type,t.pendingProps,e);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Ko(i,r),j2(n,t),t.tag=1,Ms(i)?(n=!0,PR(t)):n=!1,Zy(t,e),dG(t,i,r),ZI(t,i,r,e),$I(null,t,i,!0,n,e);case 19:return wG(n,t,e);case 22:return mG(n,t,e)}throw Error(nt(156,t.tag))};function LG(n,t){return cV(n,t)}function Met(n,t,e,i){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wo(n,t,e,i){return new Met(n,t,e,i)}function xz(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Net(n){if(typeof n=="function")return xz(n)?1:0;if(n!=null){if(n=n.$$typeof,n===jB)return 11;if(n===UB)return 14}return 2}function zp(n,t){var e=n.alternate;return e===null?(e=wo(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function W2(n,t,e,i,r,s){var a=2;if(i=n,typeof n=="function")xz(n)&&(a=1);else if(typeof n=="string")a=5;else t:switch(n){case _y:return Jm(e.children,r,s,t);case zB:a=8,r|=8;break;case wI:return n=wo(12,e,t,r|2),n.elementType=wI,n.lanes=s,n;case xI:return n=wo(13,e,t,r),n.elementType=xI,n.lanes=s,n;case SI:return n=wo(19,e,t,r),n.elementType=SI,n.lanes=s,n;case XW:return bF(e,r,s,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case VW:a=10;break t;case GW:a=9;break t;case jB:a=11;break t;case UB:a=14;break t;case Ld:a=16,i=null;break t}throw Error(nt(130,n==null?n:typeof n,""))}return t=wo(a,e,t,r),t.elementType=n,t.type=i,t.lanes=s,t}function Jm(n,t,e,i){return n=wo(7,n,i,t),n.lanes=e,n}function bF(n,t,e,i){return n=wo(22,n,i,t),n.elementType=XW,n.lanes=e,n.stateNode={isHidden:!1},n}function QM(n,t,e){return n=wo(6,n,null,t),n.lanes=e,n}function JM(n,t,e){return t=wo(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function Iet(n,t,e,i,r){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=FM(0),this.expirationTimes=FM(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=FM(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Sz(n,t,e,i,r,s,a,o,c){return n=new Iet(n,t,e,o,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=wo(3,null,null,t),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},sz(s),n}function Let(n,t,e){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ey,key:i==null?null:""+i,children:n,containerInfo:t,implementation:e}}function OG(n){if(!n)return qp;n=n._reactInternals;t:{if(kv(n)!==n||n.tag!==1)throw Error(nt(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Ms(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(nt(171))}if(n.tag===1){var e=n.type;if(Ms(e))return OV(n,e,t)}return t}function BG(n,t,e,i,r,s,a,o,c){return n=Sz(e,i,!0,n,r,s,a,o,c),n.context=OG(null),e=n.current,i=as(),r=Bp(e),s=qu(i,r),s.callback=t??null,Lp(e,s,r),n.current.lanes=r,Rk(n,r,i),Ns(n,i),n}function wF(n,t,e,i){var r=t.current,s=as(),a=Bp(r);return e=OG(e),t.context===null?t.context=e:t.pendingContext=e,t=qu(s,a),t.payload={element:n},i=i===void 0?null:i,i!==null&&(t.callback=i),n=Lp(r,t,a),n!==null&&(El(n,r,a,s),O2(n,r,a)),a}function HR(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function y8(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function Az(n,t){y8(n,t),(n=n.alternate)&&y8(n,t)}function Oet(){return null}var zG=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ez(n){this._internalRoot=n}xF.prototype.render=Ez.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(nt(409));wF(n,t,null,null)};xF.prototype.unmount=Ez.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;iv(function(){wF(null,n,null,null)}),t[nd]=null}};function xF(n){this._internalRoot=n}xF.prototype.unstable_scheduleHydration=function(n){if(n){var t=mV();n={blockedOn:null,target:n,priority:t};for(var e=0;e<jd.length&&t!==0&&t<jd[e].priority;e++);jd.splice(e,0,n),e===0&&yV(n)}};function _z(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function SF(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function b8(){}function Bet(n,t,e,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var l=HR(a);s.call(l)}}var a=BG(t,i,n,0,null,!1,!1,"",b8);return n._reactRootContainer=a,n[nd]=a.current,OA(n.nodeType===8?n.parentNode:n),iv(),a}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var l=HR(c);o.call(l)}}var c=Sz(n,0,!1,null,null,!1,!1,"",b8);return n._reactRootContainer=c,n[nd]=c.current,OA(n.nodeType===8?n.parentNode:n),iv(function(){wF(t,c,e,i)}),c}function AF(n,t,e,i,r){var s=e._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var c=HR(a);o.call(c)}}wF(t,a,n,r)}else a=Bet(e,t,n,r,i);return HR(a)}pV=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=tS(t.pendingLanes);e!==0&&(VB(t,e|1),Ns(t,Un()),!(ge&6)&&(V1=Un()+500,og()))}break;case 13:iv(function(){var i=id(n,1);if(i!==null){var r=as();El(i,n,1,r)}}),Az(n,1)}};GB=function(n){if(n.tag===13){var t=id(n,134217728);if(t!==null){var e=as();El(t,n,134217728,e)}Az(n,134217728)}};gV=function(n){if(n.tag===13){var t=Bp(n),e=id(n,t);if(e!==null){var i=as();El(e,n,t,i)}Az(n,t)}};mV=function(){return Ie};vV=function(n,t){var e=Ie;try{return Ie=n,t()}finally{Ie=e}};FI=function(n,t,e){switch(t){case"input":if(_I(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var i=e[t];if(i!==n&&i.form===n.form){var r=fF(i);if(!r)throw Error(nt(90));KW(i),_I(i,r)}}}break;case"textarea":ZW(n,e);break;case"select":t=e.value,t!=null&&Xy(n,!!e.multiple,t,!1)}};iV=yz;rV=iv;var zet={usingClientEntryPoint:!1,Events:[Fk,Py,fF,eV,nV,yz]},Dx={findFiberByHostInstance:Cg,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jet={bundleType:Dx.bundleType,version:Dx.version,rendererPackageName:Dx.rendererPackageName,rendererConfig:Dx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ud.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=oV(n),n===null?null:n.stateNode},findFiberByHostInstance:Dx.findFiberByHostInstance||Oet,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var NT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!NT.isDisabled&&NT.supportsFiber)try{cF=NT.inject(jet),$c=NT}catch{}}ja.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zet;ja.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_z(t))throw Error(nt(200));return Let(n,t,null,e)};ja.createRoot=function(n,t){if(!_z(n))throw Error(nt(299));var e=!1,i="",r=zG;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Sz(n,1,!1,null,null,e,!1,i,r),n[nd]=t.current,OA(n.nodeType===8?n.parentNode:n),new Ez(t)};ja.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(nt(188)):(n=Object.keys(n).join(","),Error(nt(268,n)));return n=oV(t),n=n===null?null:n.stateNode,n};ja.flushSync=function(n){return iv(n)};ja.hydrate=function(n,t,e){if(!SF(t))throw Error(nt(200));return AF(null,n,t,!0,e)};ja.hydrateRoot=function(n,t,e){if(!_z(n))throw Error(nt(405));var i=e!=null&&e.hydratedSources||null,r=!1,s="",a=zG;if(e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),t=BG(t,null,n,1,e??null,r,!1,s,a),n[nd]=t.current,OA(n),i)for(n=0;n<i.length;n++)e=i[n],r=e._getVersion,r=r(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,r]:t.mutableSourceEagerHydrationData.push(e,r);return new xF(t)};ja.render=function(n,t,e){if(!SF(t))throw Error(nt(200));return AF(null,n,t,!1,e)};ja.unmountComponentAtNode=function(n){if(!SF(n))throw Error(nt(40));return n._reactRootContainer?(iv(function(){AF(null,null,n,!1,function(){n._reactRootContainer=null,n[nd]=null})}),!0):!1};ja.unstable_batchedUpdates=yz;ja.unstable_renderSubtreeIntoContainer=function(n,t,e,i){if(!SF(e))throw Error(nt(200));if(n==null||n._reactInternals===void 0)throw Error(nt(38));return AF(n,t,e,!1,i)};ja.version="18.3.1-next-f1338f8080-20240426";function jG(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jG)}catch(n){console.error(n)}}jG(),jW.exports=ja;var Qc=jW.exports,w8=Qc;yI.createRoot=w8.createRoot,yI.hydrateRoot=w8.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function XA(){return XA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},XA.apply(this,arguments)}var Ep;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ep||(Ep={}));const x8="popstate";function Uet(n){n===void 0&&(n={});function t(i,r){let{pathname:s,search:a,hash:o}=i.location;return uL("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:WR(r)}return Wet(t,e,null,n)}function Jn(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function UG(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Het(){return Math.random().toString(36).substr(2,8)}function S8(n,t){return{usr:n.state,key:n.key,idx:t}}function uL(n,t,e,i){return e===void 0&&(e=null),XA({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?ex(t):t,{state:e,key:t&&t.key||i||Het()})}function WR(n){let{pathname:t="/",search:e="",hash:i=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function ex(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substr(i),n=n.substr(0,i)),n&&(t.pathname=n)}return t}function Wet(n,t,e,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o=Ep.Pop,c=null,l=u();l==null&&(l=0,a.replaceState(XA({},a.state,{idx:l}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=Ep.Pop;let y=u(),v=y==null?null:y-l;l=y,c&&c({action:o,location:m.location,delta:v})}function f(y,v){o=Ep.Push;let w=uL(m.location,y,v);l=u()+1;let x=S8(w,l),A=m.createHref(w);try{a.pushState(x,"",A)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(A)}s&&c&&c({action:o,location:m.location,delta:1})}function p(y,v){o=Ep.Replace;let w=uL(m.location,y,v);l=u();let x=S8(w,l),A=m.createHref(w);a.replaceState(x,"",A),s&&c&&c({action:o,location:m.location,delta:0})}function g(y){let v=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof y=="string"?y:WR(y);return w=w.replace(/ $/,"%20"),Jn(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let m={get action(){return o},get location(){return n(r,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(x8,d),c=y,()=>{r.removeEventListener(x8,d),c=null}},createHref(y){return t(r,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(y){return a.go(y)}};return m}var A8;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(A8||(A8={}));function Vet(n,t,e){return e===void 0&&(e="/"),Get(n,t,e)}function Get(n,t,e,i){let r=typeof t=="string"?ex(t):t,s=Cz(r.pathname||"/",e);if(s==null)return null;let a=HG(n);Xet(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let l=rnt(s);o=ent(a[c],l)}return o}function HG(n,t,e,i){t===void 0&&(t=[]),e===void 0&&(e=[]),i===void 0&&(i="");let r=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Jn(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let l=jp([i,c.relativePath]),u=e.concat(c);s.children&&s.children.length>0&&(Jn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),HG(s.children,t,u,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:$et(l,s.index),routesMeta:u})};return n.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let c of WG(s.path))r(s,a,c)}),t}function WG(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),s=e.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=WG(i.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),r&&o.push(...a),o.map(c=>n.startsWith("/")&&c===""?"/":c)}function Xet(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:tnt(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}const qet=/^:[\w-]+$/,Ket=3,Yet=2,Zet=1,Qet=10,Jet=-2,E8=n=>n==="*";function $et(n,t){let e=n.split("/"),i=e.length;return e.some(E8)&&(i+=Jet),t&&(i+=Yet),e.filter(r=>!E8(r)).reduce((r,s)=>r+(qet.test(s)?Ket:s===""?Zet:Qet),i)}function tnt(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function ent(n,t,e){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let c=i[o],l=o===i.length-1,u=s==="/"?t:t.slice(s.length)||"/",d=nnt({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),f=c.route;if(!d)return null;Object.assign(r,d.params),a.push({params:r,pathname:jp([s,d.pathname]),pathnameBase:lnt(jp([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=jp([s,d.pathnameBase]))}return a}function nnt(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=int(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((l,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let m=o[d]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?l[f]=void 0:l[f]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:a,pattern:n}}function int(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),UG(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(i.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function rnt(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return UG(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function Cz(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function snt(n,t){t===void 0&&(t="/");let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?ex(n):n;return{pathname:e?e.startsWith("/")?e:ant(e,t):t,search:cnt(i),hash:hnt(r)}}function ant(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function $M(n,t,e,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ont(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function VG(n,t){let e=ont(n);return t?e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase):e.map(i=>i.pathnameBase)}function GG(n,t,e,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=ex(n):(r=XA({},n),Jn(!r.pathname||!r.pathname.includes("?"),$M("?","pathname","search",r)),Jn(!r.pathname||!r.pathname.includes("#"),$M("#","pathname","hash",r)),Jn(!r.search||!r.search.includes("#"),$M("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=e;else{let d=t.length-1;if(!i&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}o=d>=0?t[d]:"/"}let c=snt(r,o),l=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&e.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const jp=n=>n.join("/").replace(/\/\/+/g,"/"),lnt=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cnt=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hnt=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function unt(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const XG=["post","put","patch","delete"];new Set(XG);const dnt=["get",...XG];new Set(dnt);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qA(){return qA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},qA.apply(this,arguments)}const kz=I.createContext(null),fnt=I.createContext(null),Tv=I.createContext(null),EF=I.createContext(null),Pv=I.createContext({outlet:null,matches:[],isDataRoute:!1}),qG=I.createContext(null);function pnt(n,t){let{relative:e}=t===void 0?{}:t;Nk()||Jn(!1);let{basename:i,navigator:r}=I.useContext(Tv),{hash:s,pathname:a,search:o}=YG(n,{relative:e}),c=a;return i!=="/"&&(c=a==="/"?i:jp([i,a])),r.createHref({pathname:c,search:o,hash:s})}function Nk(){return I.useContext(EF)!=null}function Ik(){return Nk()||Jn(!1),I.useContext(EF).location}function KG(n){I.useContext(Tv).static||I.useLayoutEffect(n)}function gnt(){let{isDataRoute:n}=I.useContext(Pv);return n?Tnt():mnt()}function mnt(){Nk()||Jn(!1);let n=I.useContext(kz),{basename:t,future:e,navigator:i}=I.useContext(Tv),{matches:r}=I.useContext(Pv),{pathname:s}=Ik(),a=JSON.stringify(VG(r,e.v7_relativeSplatPath)),o=I.useRef(!1);return KG(()=>{o.current=!0}),I.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){i.go(l);return}let d=GG(l,JSON.parse(a),s,u.relative==="path");n==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:jp([t,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[t,i,a,s,n])}function YG(n,t){let{relative:e}=t===void 0?{}:t,{future:i}=I.useContext(Tv),{matches:r}=I.useContext(Pv),{pathname:s}=Ik(),a=JSON.stringify(VG(r,i.v7_relativeSplatPath));return I.useMemo(()=>GG(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function vnt(n,t){return ynt(n,t)}function ynt(n,t,e,i){Nk()||Jn(!1);let{navigator:r}=I.useContext(Tv),{matches:s}=I.useContext(Pv),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let l=Ik(),u;if(t){var d;let y=typeof t=="string"?ex(t):t;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||Jn(!1),u=y}else u=l;let f=u.pathname||"/",p=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=Vet(n,{pathname:p}),m=Ant(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:jp([c,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:jp([c,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,e,i);return t&&m?I.createElement(EF.Provider,{value:{location:qA({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ep.Pop}},m):m}function bnt(){let n=knt(),t=unt(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),e?I.createElement("pre",{style:r},e):null,null)}const wnt=I.createElement(bnt,null);class xnt extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(Pv.Provider,{value:this.props.routeContext},I.createElement(qG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Snt(n){let{routeContext:t,match:e,children:i}=n,r=I.useContext(kz);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Pv.Provider,{value:t},i)}function Ant(n,t,e,i){var r;if(t===void 0&&(t=[]),e===void 0&&(e=null),i===void 0&&(i=null),n==null){var s;if(!e)return null;if(e.errors)n=e.matches;else if((s=i)!=null&&s.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let a=n,o=(r=e)==null?void 0:r.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||Jn(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,l=-1;if(e&&i&&i.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:f,errors:p}=e,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){c=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let p,g=!1,m=null,y=null;e&&(p=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||wnt,c&&(l<0&&f===0?(Pnt("route-fallback"),g=!0,y=null):l===f&&(g=!0,y=d.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,f+1)),w=()=>{let x;return p?x=m:g?x=y:d.route.Component?x=I.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,I.createElement(Snt,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:e!=null},children:x})};return e&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?I.createElement(xnt,{location:e.location,revalidation:e.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var ZG=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(ZG||{}),QG=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(QG||{});function Ent(n){let t=I.useContext(kz);return t||Jn(!1),t}function _nt(n){let t=I.useContext(fnt);return t||Jn(!1),t}function Cnt(n){let t=I.useContext(Pv);return t||Jn(!1),t}function JG(n){let t=Cnt(),e=t.matches[t.matches.length-1];return e.route.id||Jn(!1),e.route.id}function knt(){var n;let t=I.useContext(qG),e=_nt(),i=JG();return t!==void 0?t:(n=e.errors)==null?void 0:n[i]}function Tnt(){let{router:n}=Ent(ZG.UseNavigateStable),t=JG(QG.UseNavigateStable),e=I.useRef(!1);return KG(()=>{e.current=!0}),I.useCallback(function(r,s){s===void 0&&(s={}),e.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,qA({fromRouteId:t},s)))},[n,t])}const _8={};function Pnt(n,t,e){_8[n]||(_8[n]=!0)}function Rnt(n,t){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Ae(n){Jn(!1)}function Dnt(n){let{basename:t="/",children:e=null,location:i,navigationType:r=Ep.Pop,navigator:s,static:a=!1,future:o}=n;Nk()&&Jn(!1);let c=t.replace(/^\/*/,"/"),l=I.useMemo(()=>({basename:c,navigator:s,static:a,future:qA({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof i=="string"&&(i=ex(i));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:g="default"}=i,m=I.useMemo(()=>{let y=Cz(u,c);return y==null?null:{location:{pathname:y,search:d,hash:f,state:p,key:g},navigationType:r}},[c,u,d,f,p,g,r]);return m==null?null:I.createElement(Tv.Provider,{value:l},I.createElement(EF.Provider,{children:e,value:m}))}function Fnt(n){let{children:t,location:e}=n;return vnt(dL(t),e)}new Promise(()=>{});function dL(n,t){t===void 0&&(t=[]);let e=[];return I.Children.forEach(n,(i,r)=>{if(!I.isValidElement(i))return;let s=[...t,r];if(i.type===I.Fragment){e.push.apply(e,dL(i.props.children,s));return}i.type!==Ae&&Jn(!1),!i.props.index||!i.props.children||Jn(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=dL(i.props.children,s)),e.push(a)}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fL(){return fL=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},fL.apply(this,arguments)}function Mnt(n,t){if(n==null)return{};var e={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}function Nnt(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Int(n,t){return n.button===0&&(!t||t==="_self")&&!Nnt(n)}const Lnt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ont="6";try{window.__reactRouterVersion=Ont}catch{}const Bnt="startTransition",C8=T$[Bnt];function znt(n){let{basename:t,children:e,future:i,window:r}=n,s=I.useRef();s.current==null&&(s.current=Uet({window:r,v5Compat:!0}));let a=s.current,[o,c]=I.useState({action:a.action,location:a.location}),{v7_startTransition:l}=i||{},u=I.useCallback(d=>{l&&C8?C8(()=>c(d)):c(d)},[c,l]);return I.useLayoutEffect(()=>a.listen(u),[a,u]),I.useEffect(()=>Rnt(i),[i]),I.createElement(Dnt,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a,future:i})}const jnt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Unt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bi=I.forwardRef(function(t,e){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:o,target:c,to:l,preventScrollReset:u,viewTransition:d}=t,f=Mnt(t,Lnt),{basename:p}=I.useContext(Tv),g,m=!1;if(typeof l=="string"&&Unt.test(l)&&(g=l,jnt))try{let x=new URL(window.location.href),A=l.startsWith("//")?new URL(x.protocol+l):new URL(l),S=Cz(A.pathname,p);A.origin===x.origin&&S!=null?l=S+A.search+A.hash:m=!0}catch{}let y=pnt(l,{relative:r}),v=Hnt(l,{replace:a,state:o,target:c,preventScrollReset:u,relative:r,viewTransition:d});function w(x){i&&i(x),x.defaultPrevented||v(x)}return I.createElement("a",fL({},f,{href:g||y,onClick:m||s?i:w,ref:e,target:c}))});var k8;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(k8||(k8={}));var T8;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(T8||(T8={}));function Hnt(n,t){let{target:e,replace:i,state:r,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,c=gnt(),l=Ik(),u=YG(n,{relative:a});return I.useCallback(d=>{if(Int(d,e)){d.preventDefault();let f=i!==void 0?i:WR(l)===WR(u);c(n,{replace:f,state:r,preventScrollReset:s,relative:a,viewTransition:o})}},[l,c,u,i,r,e,n,s,a,o])}const $G=I.createContext();function Wnt({children:n}){const[t,e]=I.useState("light");I.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const i=()=>{e(t==="dark"?"light":"dark")};return P.jsx($G.Provider,{value:{theme:t,toggleTheme:i},children:n})}function Vnt(){const{theme:n,toggleTheme:t}=I.useContext($G),e=Ik(),i=[{name:"Dashboard",path:"/dashboard"},{name:"Tools Hub",path:"/"}];return P.jsxs("nav",{className:"bg-gray-800 dark:bg-gray-900 text-white px-6 py-3 flex justify-between items-center shadow-lg",children:[P.jsxs(Bi,{to:"/",className:"font-extrabold text-xl tracking-wide",children:["QuickTools",P.jsx("span",{className:"text-blue-400",children:"PDF"})]}),P.jsxs("div",{className:"flex items-center space-x-6",children:[i.map((r,s)=>P.jsx(Bi,{to:r.path,className:`hover:text-blue-400 transition ${e.pathname===r.path?"text-blue-400 font-semibold":""}`,children:r.name},s)),P.jsx("button",{onClick:t,className:"ml-4 px-3 py-1 rounded-lg bg-gray-700 hover:bg-gray-600 transition flex items-center",children:n==="dark"?"🌙 Dark Mode":"☀️ Light Mode"})]})]})}function Gnt(){return P.jsx("footer",{className:"mt-16 bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-300 border-t border-gray-200 dark:border-gray-700",children:P.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 grid grid-cols-1 sm:grid-cols-3 gap-6",children:[P.jsxs("div",{children:[P.jsxs("h2",{className:"text-xl font-extrabold text-gray-900 dark:text-gray-100",children:["QuickTools",P.jsx("span",{className:"text-blue-500",children:"PDF"})]}),P.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Your all-in-one PDF & AI toolkit."})]}),P.jsxs("div",{className:"flex flex-col space-y-2",children:[P.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:"Quick Links"}),P.jsx(Bi,{to:"/",className:"hover:text-blue-500",children:"Home"}),P.jsx(Bi,{to:"/tools",className:"hover:text-blue-500",children:"Tools Hub"}),P.jsx(Bi,{to:"/dashboard",className:"hover:text-blue-500",children:"Dashboard"}),P.jsx(Bi,{to:"/pricing",className:"hover:text-blue-500",children:"Pricing"}),P.jsx(Bi,{to:"/about",className:"hover:text-blue-500",children:"About"}),P.jsx(Bi,{to:"/contact",className:"hover:text-blue-500",children:"Contact"}),P.jsx(Bi,{to:"/faq",className:"hover:text-blue-500",children:"FAQ"})]}),P.jsxs("div",{className:"sm:text-right text-sm flex flex-col justify-center",children:[P.jsxs("p",{children:["© ",new Date().getFullYear()," QuickToolsPDF"]}),P.jsx("p",{className:"mt-1",children:"Made with ❤️ by Team QuickTools"})]})]})})}function Xnt(){return P.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 via-white to-gray-200 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 flex flex-col items-center text-center px-6",children:[P.jsxs("h1",{className:"text-5xl font-extrabold text-gray-900 dark:text-white mb-6 leading-tight",children:["All-in-One ",P.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"PDF"})," & AI Toolkit"]}),P.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 max-w-2xl mb-8",children:"Edit, convert, secure, and enhance your documents instantly. Trusted by students, professionals, and businesses worldwide."}),P.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[P.jsx(Bi,{to:"/tools",className:"px-8 py-3 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-bold shadow-lg transition",children:"🚀 Start Free"}),P.jsx(Bi,{to:"/pricing",className:"px-8 py-3 rounded-lg bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100 font-bold shadow-lg transition",children:"💰 See Pricing"})]}),P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mt-16 max-w-6xl w-full",children:[{icon:"✂️",title:"Edit PDF",desc:"Merge, split, rotate, and organize your PDFs easily."},{icon:"🔄",title:"Convert",desc:"PDF to Word, Excel, PPT, Image, and vice versa."},{icon:"🔐",title:"Secure",desc:"Protect with password, unlock, sign, and watermark."},{icon:"🤖",title:"Smart AI",desc:"OCR, summaries, and AI-powered form filling."}].map((n,t)=>P.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transform hover:-translate-y-1 transition p-6 text-left",children:[P.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:[n.icon," ",n.title]}),P.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:n.desc})]},t))}),P.jsxs("div",{className:"max-w-6xl w-full mt-20",children:[P.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-10",children:"💬 What Our Users Say"}),P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[{name:"Sarah J.",role:"University Student",feedback:"QuickToolsPDF saved me hours during my thesis. The PDF to Word tool is a lifesaver!",stars:5},{name:"Michael K.",role:"Freelancer",feedback:"I use the compress and merge tools daily. Simple, fast, and reliable.",stars:5},{name:"Aisha R.",role:"Project Manager",feedback:"Our team uses the eSign workflow — it streamlined our approvals. Highly recommend!",stars:4}].map((n,t)=>P.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-lg transition p-6 text-left",children:[P.jsxs("div",{className:"flex items-center mb-3",children:[Array.from({length:n.stars}).map((e,i)=>P.jsx("span",{className:"text-yellow-400 text-lg",children:"★"},i)),Array.from({length:5-n.stars}).map((e,i)=>P.jsx("span",{className:"text-gray-300 dark:text-gray-600 text-lg",children:"★"},i))]}),P.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4 text-sm",children:n.feedback}),P.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:n.name}),P.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:n.role})]},t))})]}),P.jsxs("div",{className:"w-full max-w-5xl bg-blue-600 dark:bg-blue-700 rounded-2xl shadow-xl mt-20 p-10 text-center text-white",children:[P.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Boost Your Productivity?"}),P.jsx("p",{className:"mb-6 text-lg",children:"Join thousands of users who trust QuickToolsPDF to simplify their document workflow."}),P.jsx(Bi,{to:"/tools",className:"px-10 py-4 bg-white text-blue-600 font-bold rounded-lg shadow-md hover:bg-gray-100 transition",children:"🚀 Get Started Free"})]})]})}function qnt(){const n=[{title:"✂️ Edit PDF",path:"/dashboard/edit",desc:"Merge, split, rotate & organize PDF files"},{title:"🔄 Convert PDF",path:"/dashboard/convert",desc:"Convert PDF to Word, Excel, PPT or images"},{title:"🔐 Secure PDF",path:"/dashboard/secure",desc:"Protect, unlock, sign & watermark your PDFs"},{title:"🤖 Smart AI",path:"/dashboard/smartai",desc:"OCR, auto summary & AI-powered form filling"}];return P.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 via-gray-50 to-gray-200 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 p-8",children:[P.jsx("h1",{className:"text-4xl font-extrabold mb-10 text-center text-gray-800 dark:text-gray-100",children:"🚀 QuickTools Dashboard"}),P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((t,e)=>P.jsxs(Bi,{to:t.path,className:"block bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 p-6 text-center",children:[P.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-900 dark:text-gray-100",children:t.title}),P.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:t.desc})]},e))})]})}function Knt(){const n=[{name:"Merge PDF",path:"/merge",desc:"Combine multiple PDFs into one file",icon:"🔗"},{name:"Split PDF",path:"/split",desc:"Split PDF into smaller files",icon:"✂️"},{name:"Rotate PDF",path:"/rotate",desc:"Rotate selected pages",icon:"🔄"},{name:"Delete Pages",path:"/delete",desc:"Remove unwanted pages",icon:"🗑️"},{name:"Organize PDF",path:"/organize",desc:"Rearrange and manage PDF pages",icon:"📑"}];return P.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 via-gray-50 to-gray-200 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 p-8",children:[P.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800 dark:text-gray-100",children:"✂️ Edit PDF Tools"}),P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((t,e)=>P.jsxs(Bi,{to:t.path,className:"block bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transform hover:-translate-y-1 transition-all p-6",children:[P.jsxs("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:[t.icon," ",t.name]}),P.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:t.desc})]},e))})]})}function Ynt(){const n=[{name:"PDF → Word",path:"/pdf-to-word",desc:"Convert PDF to Word document",icon:"📄"},{name:"Word → PDF",path:"/word-to-pdf",desc:"Convert Word documents to PDF",icon:"📝"},{name:"PDF → Excel",path:"/pdf-to-excel",desc:"Extract tables to Excel",icon:"📊"},{name:"PDF → PPT",path:"/pdf-to-ppt",desc:"Convert PDF slides to PowerPoint",icon:"📑"},{name:"PDF → Image",path:"/pdf-to-image",desc:"Export PDF pages as images",icon:"🖼️"},{name:"Image → PDF",path:"/image-to-pdf",desc:"Combine images into one PDF",icon:"📷"}];return P.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 via-gray-50 to-gray-200 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 p-8",children:[P.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800 dark:text-gray-100",children:"🔄 Convert PDF Tools"}),P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((t,e)=>P.jsxs(Bi,{to:t.path,className:"block bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transform hover:-translate-y-1 transition-all p-6",children:[P.jsxs("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:[t.icon," ",t.name]}),P.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:t.desc})]},e))})]})}function Znt(){const n=[{name:"Protect PDF",path:"/protect",desc:"Add password protection",icon:"🔒"},{name:"Unlock PDF",path:"/unlock",desc:"Remove password protection",icon:"🔓"},{name:"Sign PDF",path:"/sign",desc:"Add digital signatures",icon:"✍️"},{name:"Watermark PDF",path:"/watermark",desc:"Insert watermark",icon:"💧"},{name:"eSign Flow",path:"/esign",desc:"Full e-signature workflow",icon:"🖊️"}];return P.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 via-gray-50 to-gray-200 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 p-8",children:[P.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800 dark:text-gray-100",children:"🔐 Secure PDF Tools"}),P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((t,e)=>P.jsxs(Bi,{to:t.path,className:"block bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transform hover:-translate-y-1 transition-all p-6",children:[P.jsxs("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:[t.icon," ",t.name]}),P.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:t.desc})]},e))})]})}function Qnt(){const n=[{name:"OCR PDF",path:"/ocr",desc:"Recognize text from scanned PDFs",icon:"👁️"},{name:"AI Summary",path:"/ai-summary",desc:"Generate automatic summaries",icon:"🤖"},{name:"Form Filler",path:"/form-filler",desc:"Fill PDF forms with AI",icon:"📝"}];return P.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 via-gray-50 to-gray-200 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 p-8",children:[P.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800 dark:text-gray-100",children:"🤖 Smart AI Tools"}),P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((t,e)=>P.jsxs(Bi,{to:t.path,className:"block bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transform hover:-translate-y-1 transition-all p-6",children:[P.jsxs("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:[t.icon," ",t.name]}),P.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:t.desc})]},e))})]})}function Jnt(){const n=[{title:"✂️ Edit PDF",tools:[{name:"Merge PDF",path:"/merge",desc:"Combine multiple PDFs into one"},{name:"Split PDF",path:"/split",desc:"Split a PDF into separate files"},{name:"Rotate PDF",path:"/rotate",desc:"Rotate selected PDF pages"},{name:"Delete Pages",path:"/delete",desc:"Remove specific pages from PDF"},{name:"Organize PDF",path:"/organize",desc:"Rearrange and manage PDF pages"}]},{title:"🔄 Convert PDF",tools:[{name:"PDF → Word",path:"/pdf-to-word",desc:"Convert PDF to editable Word document"},{name:"Word → PDF",path:"/word-to-pdf",desc:"Convert Word documents to PDF"},{name:"PDF → Excel",path:"/pdf-to-excel",desc:"Extract tables from PDF to Excel"},{name:"PDF → PPT",path:"/pdf-to-ppt",desc:"Convert PDF slides into PowerPoint"},{name:"PDF → Image",path:"/pdf-to-image",desc:"Export PDF pages as images"},{name:"Image → PDF",path:"/image-to-pdf",desc:"Combine images into a single PDF"}]},{title:"🔐 Secure PDF",tools:[{name:"Protect PDF",path:"/protect",desc:"Add password protection to PDF"},{name:"Unlock PDF",path:"/unlock",desc:"Remove password protection"},{name:"Sign PDF",path:"/sign",desc:"Add digital signature to your PDF"},{name:"Watermark PDF",path:"/watermark",desc:"Insert watermark into PDF pages"},{name:"eSign Flow",path:"/esign",desc:"Full e-signature workflow"}]},{title:"🤖 Smart AI",tools:[{name:"OCR PDF",path:"/ocr",desc:"Recognize text from scanned PDFs"},{name:"AI Summary",path:"/ai-summary",desc:"Generate automatic summaries"},{name:"Form Filler",path:"/form-filler",desc:"Fill in PDF forms with AI"}]}];return P.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 via-gray-50 to-gray-200 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 p-8",children:[P.jsx("h1",{className:"text-4xl font-extrabold mb-10 text-center text-gray-800 dark:text-gray-100",children:"🚀 QuickTools PDF Hub"}),n.map((t,e)=>P.jsxs("div",{className:"mb-12",children:[P.jsx("h2",{className:"text-2xl font-semibold mb-6 text-gray-800 dark:text-gray-100",children:t.title}),P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.tools.map((i,r)=>P.jsxs(Bi,{to:i.path,className:"block bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 p-6",children:[P.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100",children:i.name}),P.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:i.desc})]},r))})]},e))]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pL=function(n,t){return pL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])},pL(n,t)};function rt(n,t){pL(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Nt=function(){return Nt=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Nt.apply(this,arguments)};function $nt(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function Ut(n,t,e,i){function r(s){return s instanceof e?s:new e(function(a){a(s)})}return new(e||(e=Promise))(function(s,a){function o(u){try{l(i.next(u))}catch(d){a(d)}}function c(u){try{l(i.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):r(u.value).then(o,c)}l((i=i.apply(n,[])).next())})}function Ht(n,t){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return c([l,u])}}function c(l){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=l[0]&2?r.return:l[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,l[1])).done)return s;switch(r=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,r=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){e.label=l[1];break}if(l[0]===6&&e.label<s[1]){e.label=s[1],s=l;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(l);break}s[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(u){l=[6,u],r=0}finally{i=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ce(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,r++)i[r]=s[a];return i}var Ly="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nS=new Uint8Array(256);for(var IT=0;IT<Ly.length;IT++)nS[Ly.charCodeAt(IT)]=IT;var tit=function(n){for(var t="",e=n.length,i=0;i<e;i+=3)t+=Ly[n[i]>>2],t+=Ly[(n[i]&3)<<4|n[i+1]>>4],t+=Ly[(n[i+1]&15)<<2|n[i+2]>>6],t+=Ly[n[i+2]&63];return e%3===2?t=t.substring(0,t.length-1)+"=":e%3===1&&(t=t.substring(0,t.length-2)+"=="),t},P8=function(n){var t=n.length*.75,e=n.length,i,r=0,s,a,o,c;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);var l=new Uint8Array(t);for(i=0;i<e;i+=4)s=nS[n.charCodeAt(i)],a=nS[n.charCodeAt(i+1)],o=nS[n.charCodeAt(i+2)],c=nS[n.charCodeAt(i+3)],l[r++]=s<<2|a>>4,l[r++]=(a&15)<<4|o>>2,l[r++]=(o&3)<<6|c&63;return l},eit=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,nit=function(n){var t=n.trim(),e=t.substring(0,100),i=e.match(eit);if(!i)return P8(t);var r=i[0],s=t.substring(r.length);return P8(s)},Ft=function(n){return n.charCodeAt(0)},iit=function(n){return n.codePointAt(0)},Lk=function(n,t){return bl(n.toString(16),t,"0").toUpperCase()},_F=function(n){return Lk(n,2)},Ku=function(n){return String.fromCharCode(n)},rit=function(n){return Ku(parseInt(n,16))},bl=function(n,t,e){for(var i="",r=0,s=t-n.length;r<s;r++)i+=e;return i+n},hr=function(n,t,e){for(var i=n.length,r=0;r<i;r++)t[e++]=n.charCodeAt(r);return i},sit=function(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},Ok=function(n){return n.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},ait=["\\n","\\f","\\r","\\u000B"],t7=function(n){return/^[\n\f\r\u000B]$/.test(n)},e7=function(n){return n.split(/[\n\f\r\u000B]/)},n7=function(n){return n.replace(/[\n\f\r\u000B]/g," ")},i7=function(n,t){var e=n.charCodeAt(t),i,r=t+1,s=1;return e>=55296&&e<=56319&&n.length>r&&(i=n.charCodeAt(r),i>=56320&&i<=57343&&(s=2)),[n.slice(t,t+s),s]},oit=function(n){for(var t=[],e=0,i=n.length;e<i;){var r=i7(n,e),s=r[0],a=r[1];t.push(s),e+=a}return t},lit=function(n){for(var t=ait.join("|"),e=["$"],i=0,r=n.length;i<r;i++){var s=n[i];if(t7(s))throw new TypeError("`wordBreak` must not include "+t);e.push(s===""?".":sit(s))}var a=e.join("|");return new RegExp("("+t+")|((.*?)("+a+"))","gm")},cit=function(n,t,e,i){for(var r=lit(t),s=Ok(n).match(r),a="",o=0,c=[],l=function(){a!==""&&c.push(a),a="",o=0},u=0,d=s.length;u<d;u++){var f=s[u];if(t7(f))l();else{var p=i(f);o+p>e&&l(),a+=f,o+=p}}return l(),c},hit=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,r7=function(n){var t=n.match(hit);if(t){var e=t[1],i=t[2],r=i===void 0?"01":i,s=t[3],a=s===void 0?"01":s,o=t[4],c=o===void 0?"00":o,l=t[5],u=l===void 0?"00":l,d=t[6],f=d===void 0?"00":d,p=t[7],g=p===void 0?"Z":p,m=t[8],y=m===void 0?"00":m,v=t[9],w=v===void 0?"00":v,x=g==="Z"?"Z":""+g+y+":"+w,A=new Date(e+"-"+r+"-"+a+"T"+c+":"+u+":"+f+x);return A}},Tz=function(n,t){for(var e,i=0,r;i<n.length;){var s=n.substring(i).match(t);if(!s)return{match:r,pos:i};r=s,i+=((e=s.index)!==null&&e!==void 0?e:0)+s[0].length}return{match:r,pos:i}},VR=function(n){return n[n.length-1]},gL=function(n){if(n instanceof Uint8Array)return n;for(var t=n.length,e=new Uint8Array(t),i=0;i<t;i++)e[i]=n.charCodeAt(i);return e},uit=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=n.length,i=[],r=0;r<e;r++){var s=n[r];i[r]=s instanceof Uint8Array?s:gL(s)}for(var a=0,r=0;r<e;r++)a+=n[r].length;for(var o=new Uint8Array(a),c=0,l=0;l<e;l++)for(var u=i[l],d=0,f=u.length;d<f;d++)o[c++]=u[d];return o},dit=function(n){for(var t=0,e=0,i=n.length;e<i;e++)t+=n[e].length;for(var r=new Uint8Array(t),s=0,e=0,i=n.length;e<i;e++){var a=n[e];r.set(a,s),s+=a.length}return r},s7=function(n){for(var t="",e=0,i=n.length;e<i;e++)t+=Ku(n[e]);return t},fit=function(n,t){return n.id-t.id},pit=function(n,t){for(var e=[],i=0,r=n.length;i<r;i++){var s=n[i],a=n[i-1];(i===0||t(s)!==t(a))&&e.push(s)}return e},Zv=function(n){for(var t=n.length,e=0,i=Math.floor(t/2);e<i;e++){var r=e,s=t-e-1,a=n[e];n[r]=n[s],n[s]=a}return n},git=function(n){for(var t=0,e=0,i=n.length;e<i;e++)t+=n[e];return t},mit=function(n,t){for(var e=new Array(t-n),i=0,r=e.length;i<r;i++)e[i]=n+i;return e},vit=function(n,t){for(var e=new Array(t.length),i=0,r=t.length;i<r;i++)e[i]=n[t[i]];return e},yit=function(n){return n instanceof Uint8Array||n instanceof ArrayBuffer||typeof n=="string"},Fx=function(n){if(typeof n=="string")return nit(n);if(n instanceof ArrayBuffer)return new Uint8Array(n);if(n instanceof Uint8Array)return n;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},G1=function(){return new Promise(function(n){setTimeout(function(){return n()},0)})},bit=function(n,t){t===void 0&&(t=!0);var e=[];t&&e.push(65279);for(var i=0,r=n.length;i<r;){var s=n.codePointAt(i);if(s<65536)e.push(s),i+=1;else if(s<1114112)e.push(a7(s),o7(s)),i+=2;else throw new Error("Invalid code point: 0x"+_F(s))}return new Uint16Array(e)},wit=function(n){return n>=0&&n<=65535},xit=function(n){return n>=65536&&n<=1114111},a7=function(n){return Math.floor((n-65536)/1024)+55296},o7=function(n){return(n-65536)%1024+56320},Up;(function(n){n.BigEndian="BigEndian",n.LittleEndian="LittleEndian"})(Up||(Up={}));var Mx="�".codePointAt(0),l7=function(n,t){if(t===void 0&&(t=!0),n.length<=1)return String.fromCodePoint(Mx);for(var e=t?Ait(n):Up.BigEndian,i=t?2:0,r=[];n.length-i>=2;){var s=D8(n[i++],n[i++],e);if(Sit(s))if(n.length-i<2)r.push(Mx);else{var a=D8(n[i++],n[i++],e);R8(a)?r.push(s,a):r.push(Mx)}else R8(s)?(i+=2,r.push(Mx)):r.push(s)}return i<n.length&&r.push(Mx),String.fromCodePoint.apply(String,r)},Sit=function(n){return n>=55296&&n<=56319},R8=function(n){return n>=56320&&n<=57343},D8=function(n,t,e){if(e===Up.LittleEndian)return t<<8|n;if(e===Up.BigEndian)return n<<8|t;throw new Error("Invalid byteOrder: "+e)},Ait=function(n){return c7(n)?Up.BigEndian:h7(n)?Up.LittleEndian:Up.BigEndian},c7=function(n){return n[0]===254&&n[1]===255},h7=function(n){return n[0]===255&&n[1]===254},u7=function(n){return c7(n)||h7(n)},Eit=function(n){var t=String(n);if(Math.abs(n)<1){var e=parseInt(n.toString().split("e-")[1]);if(e){var i=n<0;i&&(n*=-1),n*=Math.pow(10,e-1),t="0."+new Array(e).join("0")+n.toString().substring(2),i&&(t="-"+t)}}else{var e=parseInt(n.toString().split("+")[1]);e>20&&(e-=20,n/=Math.pow(10,e),t=n.toString()+new Array(e+1).join("0"))}return t},V2=function(n){return Math.ceil(n.toString(2).length/8)},Qv=function(n){for(var t=new Uint8Array(V2(n)),e=1;e<=t.length;e++)t[e-1]=n>>(t.length-e)*8;return t},Bk=function(n){throw new Error(n)},dd={};(function(n){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function e(s,a){return Object.prototype.hasOwnProperty.call(s,a)}n.assign=function(s){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var o=a.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var c in o)e(o,c)&&(s[c]=o[c])}}return s},n.shrinkBuf=function(s,a){return s.length===a?s:s.subarray?s.subarray(0,a):(s.length=a,s)};var i={arraySet:function(s,a,o,c,l){if(a.subarray&&s.subarray){s.set(a.subarray(o,o+c),l);return}for(var u=0;u<c;u++)s[l+u]=a[o+u]},flattenChunks:function(s){var a,o,c,l,u,d;for(c=0,a=0,o=s.length;a<o;a++)c+=s[a].length;for(d=new Uint8Array(c),l=0,a=0,o=s.length;a<o;a++)u=s[a],d.set(u,l),l+=u.length;return d}},r={arraySet:function(s,a,o,c,l){for(var u=0;u<c;u++)s[l+u]=a[o+u]},flattenChunks:function(s){return[].concat.apply([],s)}};n.setTyped=function(s){s?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(t)})(dd);var zk={},sh={},nx={},_it=dd,Cit=4,F8=0,M8=1,kit=2;function ix(n){for(var t=n.length;--t>=0;)n[t]=0}var Tit=0,d7=1,Pit=2,Rit=3,Dit=258,Pz=29,jk=256,KA=jk+1+Pz,Jy=30,Rz=19,f7=2*KA+1,Pg=15,tN=16,Fit=7,Dz=256,p7=16,g7=17,m7=18,mL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],G2=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Mit=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],v7=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Nit=512,Ch=new Array((KA+2)*2);ix(Ch);var sA=new Array(Jy*2);ix(sA);var YA=new Array(Nit);ix(YA);var ZA=new Array(Dit-Rit+1);ix(ZA);var Fz=new Array(Pz);ix(Fz);var GR=new Array(Jy);ix(GR);function eN(n,t,e,i,r){this.static_tree=n,this.extra_bits=t,this.extra_base=e,this.elems=i,this.max_length=r,this.has_stree=n&&n.length}var y7,b7,w7;function nN(n,t){this.dyn_tree=n,this.max_code=0,this.stat_desc=t}function x7(n){return n<256?YA[n]:YA[256+(n>>>7)]}function QA(n,t){n.pending_buf[n.pending++]=t&255,n.pending_buf[n.pending++]=t>>>8&255}function Ps(n,t,e){n.bi_valid>tN-e?(n.bi_buf|=t<<n.bi_valid&65535,QA(n,n.bi_buf),n.bi_buf=t>>tN-n.bi_valid,n.bi_valid+=e-tN):(n.bi_buf|=t<<n.bi_valid&65535,n.bi_valid+=e)}function Hc(n,t,e){Ps(n,e[t*2],e[t*2+1])}function S7(n,t){var e=0;do e|=n&1,n>>>=1,e<<=1;while(--t>0);return e>>>1}function Iit(n){n.bi_valid===16?(QA(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)}function Lit(n,t){var e=t.dyn_tree,i=t.max_code,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length,l,u,d,f,p,g,m=0;for(f=0;f<=Pg;f++)n.bl_count[f]=0;for(e[n.heap[n.heap_max]*2+1]=0,l=n.heap_max+1;l<f7;l++)u=n.heap[l],f=e[e[u*2+1]*2+1]+1,f>c&&(f=c,m++),e[u*2+1]=f,!(u>i)&&(n.bl_count[f]++,p=0,u>=o&&(p=a[u-o]),g=e[u*2],n.opt_len+=g*(f+p),s&&(n.static_len+=g*(r[u*2+1]+p)));if(m!==0){do{for(f=c-1;n.bl_count[f]===0;)f--;n.bl_count[f]--,n.bl_count[f+1]+=2,n.bl_count[c]--,m-=2}while(m>0);for(f=c;f!==0;f--)for(u=n.bl_count[f];u!==0;)d=n.heap[--l],!(d>i)&&(e[d*2+1]!==f&&(n.opt_len+=(f-e[d*2+1])*e[d*2],e[d*2+1]=f),u--)}}function A7(n,t,e){var i=new Array(Pg+1),r=0,s,a;for(s=1;s<=Pg;s++)i[s]=r=r+e[s-1]<<1;for(a=0;a<=t;a++){var o=n[a*2+1];o!==0&&(n[a*2]=S7(i[o]++,o))}}function Oit(){var n,t,e,i,r,s=new Array(Pg+1);for(e=0,i=0;i<Pz-1;i++)for(Fz[i]=e,n=0;n<1<<mL[i];n++)ZA[e++]=i;for(ZA[e-1]=i,r=0,i=0;i<16;i++)for(GR[i]=r,n=0;n<1<<G2[i];n++)YA[r++]=i;for(r>>=7;i<Jy;i++)for(GR[i]=r<<7,n=0;n<1<<G2[i]-7;n++)YA[256+r++]=i;for(t=0;t<=Pg;t++)s[t]=0;for(n=0;n<=143;)Ch[n*2+1]=8,n++,s[8]++;for(;n<=255;)Ch[n*2+1]=9,n++,s[9]++;for(;n<=279;)Ch[n*2+1]=7,n++,s[7]++;for(;n<=287;)Ch[n*2+1]=8,n++,s[8]++;for(A7(Ch,KA+1,s),n=0;n<Jy;n++)sA[n*2+1]=5,sA[n*2]=S7(n,5);y7=new eN(Ch,mL,jk+1,KA,Pg),b7=new eN(sA,G2,0,Jy,Pg),w7=new eN(new Array(0),Mit,0,Rz,Fit)}function E7(n){var t;for(t=0;t<KA;t++)n.dyn_ltree[t*2]=0;for(t=0;t<Jy;t++)n.dyn_dtree[t*2]=0;for(t=0;t<Rz;t++)n.bl_tree[t*2]=0;n.dyn_ltree[Dz*2]=1,n.opt_len=n.static_len=0,n.last_lit=n.matches=0}function _7(n){n.bi_valid>8?QA(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0}function Bit(n,t,e,i){_7(n),QA(n,e),QA(n,~e),_it.arraySet(n.pending_buf,n.window,t,e,n.pending),n.pending+=e}function N8(n,t,e,i){var r=t*2,s=e*2;return n[r]<n[s]||n[r]===n[s]&&i[t]<=i[e]}function iN(n,t,e){for(var i=n.heap[e],r=e<<1;r<=n.heap_len&&(r<n.heap_len&&N8(t,n.heap[r+1],n.heap[r],n.depth)&&r++,!N8(t,i,n.heap[r],n.depth));)n.heap[e]=n.heap[r],e=r,r<<=1;n.heap[e]=i}function I8(n,t,e){var i,r,s=0,a,o;if(n.last_lit!==0)do i=n.pending_buf[n.d_buf+s*2]<<8|n.pending_buf[n.d_buf+s*2+1],r=n.pending_buf[n.l_buf+s],s++,i===0?Hc(n,r,t):(a=ZA[r],Hc(n,a+jk+1,t),o=mL[a],o!==0&&(r-=Fz[a],Ps(n,r,o)),i--,a=x7(i),Hc(n,a,e),o=G2[a],o!==0&&(i-=GR[a],Ps(n,i,o)));while(s<n.last_lit);Hc(n,Dz,t)}function vL(n,t){var e=t.dyn_tree,i=t.stat_desc.static_tree,r=t.stat_desc.has_stree,s=t.stat_desc.elems,a,o,c=-1,l;for(n.heap_len=0,n.heap_max=f7,a=0;a<s;a++)e[a*2]!==0?(n.heap[++n.heap_len]=c=a,n.depth[a]=0):e[a*2+1]=0;for(;n.heap_len<2;)l=n.heap[++n.heap_len]=c<2?++c:0,e[l*2]=1,n.depth[l]=0,n.opt_len--,r&&(n.static_len-=i[l*2+1]);for(t.max_code=c,a=n.heap_len>>1;a>=1;a--)iN(n,e,a);l=s;do a=n.heap[1],n.heap[1]=n.heap[n.heap_len--],iN(n,e,1),o=n.heap[1],n.heap[--n.heap_max]=a,n.heap[--n.heap_max]=o,e[l*2]=e[a*2]+e[o*2],n.depth[l]=(n.depth[a]>=n.depth[o]?n.depth[a]:n.depth[o])+1,e[a*2+1]=e[o*2+1]=l,n.heap[1]=l++,iN(n,e,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],Lit(n,t),A7(e,c,n.bl_count)}function L8(n,t,e){var i,r=-1,s,a=t[0*2+1],o=0,c=7,l=4;for(a===0&&(c=138,l=3),t[(e+1)*2+1]=65535,i=0;i<=e;i++)s=a,a=t[(i+1)*2+1],!(++o<c&&s===a)&&(o<l?n.bl_tree[s*2]+=o:s!==0?(s!==r&&n.bl_tree[s*2]++,n.bl_tree[p7*2]++):o<=10?n.bl_tree[g7*2]++:n.bl_tree[m7*2]++,o=0,r=s,a===0?(c=138,l=3):s===a?(c=6,l=3):(c=7,l=4))}function O8(n,t,e){var i,r=-1,s,a=t[0*2+1],o=0,c=7,l=4;for(a===0&&(c=138,l=3),i=0;i<=e;i++)if(s=a,a=t[(i+1)*2+1],!(++o<c&&s===a)){if(o<l)do Hc(n,s,n.bl_tree);while(--o!==0);else s!==0?(s!==r&&(Hc(n,s,n.bl_tree),o--),Hc(n,p7,n.bl_tree),Ps(n,o-3,2)):o<=10?(Hc(n,g7,n.bl_tree),Ps(n,o-3,3)):(Hc(n,m7,n.bl_tree),Ps(n,o-11,7));o=0,r=s,a===0?(c=138,l=3):s===a?(c=6,l=3):(c=7,l=4)}}function zit(n){var t;for(L8(n,n.dyn_ltree,n.l_desc.max_code),L8(n,n.dyn_dtree,n.d_desc.max_code),vL(n,n.bl_desc),t=Rz-1;t>=3&&n.bl_tree[v7[t]*2+1]===0;t--);return n.opt_len+=3*(t+1)+5+5+4,t}function jit(n,t,e,i){var r;for(Ps(n,t-257,5),Ps(n,e-1,5),Ps(n,i-4,4),r=0;r<i;r++)Ps(n,n.bl_tree[v7[r]*2+1],3);O8(n,n.dyn_ltree,t-1),O8(n,n.dyn_dtree,e-1)}function Uit(n){var t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&n.dyn_ltree[e*2]!==0)return F8;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return M8;for(e=32;e<jk;e++)if(n.dyn_ltree[e*2]!==0)return M8;return F8}var B8=!1;function Hit(n){B8||(Oit(),B8=!0),n.l_desc=new nN(n.dyn_ltree,y7),n.d_desc=new nN(n.dyn_dtree,b7),n.bl_desc=new nN(n.bl_tree,w7),n.bi_buf=0,n.bi_valid=0,E7(n)}function C7(n,t,e,i){Ps(n,(Tit<<1)+(i?1:0),3),Bit(n,t,e)}function Wit(n){Ps(n,d7<<1,3),Hc(n,Dz,Ch),Iit(n)}function Vit(n,t,e,i){var r,s,a=0;n.level>0?(n.strm.data_type===kit&&(n.strm.data_type=Uit(n)),vL(n,n.l_desc),vL(n,n.d_desc),a=zit(n),r=n.opt_len+3+7>>>3,s=n.static_len+3+7>>>3,s<=r&&(r=s)):r=s=e+5,e+4<=r&&t!==-1?C7(n,t,e,i):n.strategy===Cit||s===r?(Ps(n,(d7<<1)+(i?1:0),3),I8(n,Ch,sA)):(Ps(n,(Pit<<1)+(i?1:0),3),jit(n,n.l_desc.max_code+1,n.d_desc.max_code+1,a+1),I8(n,n.dyn_ltree,n.dyn_dtree)),E7(n),i&&_7(n)}function Git(n,t,e){return n.pending_buf[n.d_buf+n.last_lit*2]=t>>>8&255,n.pending_buf[n.d_buf+n.last_lit*2+1]=t&255,n.pending_buf[n.l_buf+n.last_lit]=e&255,n.last_lit++,t===0?n.dyn_ltree[e*2]++:(n.matches++,t--,n.dyn_ltree[(ZA[e]+jk+1)*2]++,n.dyn_dtree[x7(t)*2]++),n.last_lit===n.lit_bufsize-1}nx._tr_init=Hit;nx._tr_stored_block=C7;nx._tr_flush_block=Vit;nx._tr_tally=Git;nx._tr_align=Wit;function Xit(n,t,e,i){for(var r=n&65535|0,s=n>>>16&65535|0,a=0;e!==0;){a=e>2e3?2e3:e,e-=a;do r=r+t[i++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0}var k7=Xit;function qit(){for(var n,t=[],e=0;e<256;e++){n=e;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t}var Kit=qit();function Yit(n,t,e,i){var r=Kit,s=i+e;n^=-1;for(var a=i;a<s;a++)n=n>>>8^r[(n^t[a])&255];return n^-1}var T7=Yit,Mz={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ts=dd,Eo=nx,P7=k7,Td=T7,Zit=Mz,Rv=0,Qit=1,Jit=3,Hp=4,z8=5,Wc=0,j8=1,_o=-2,$it=-3,rN=-5,trt=-1,ert=1,LT=2,nrt=3,irt=4,rrt=0,srt=2,CF=8,art=9,ort=15,lrt=8,crt=29,hrt=256,yL=hrt+1+crt,urt=30,drt=19,frt=2*yL+1,prt=15,se=3,_p=258,_l=_p+se+1,grt=32,kF=42,bL=69,X2=73,q2=91,K2=103,Rg=113,iS=666,di=1,Uk=2,rv=3,rx=4,mrt=3;function Cp(n,t){return n.msg=Zit[t],t}function U8(n){return(n<<1)-(n>4?9:0)}function Hd(n){for(var t=n.length;--t>=0;)n[t]=0}function Pd(n){var t=n.state,e=t.pending;e>n.avail_out&&(e=n.avail_out),e!==0&&(ts.arraySet(n.output,t.pending_buf,t.pending_out,e,n.next_out),n.next_out+=e,t.pending_out+=e,n.total_out+=e,n.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))}function ur(n,t){Eo._tr_flush_block(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,t),n.block_start=n.strstart,Pd(n.strm)}function we(n,t){n.pending_buf[n.pending++]=t}function Nx(n,t){n.pending_buf[n.pending++]=t>>>8&255,n.pending_buf[n.pending++]=t&255}function vrt(n,t,e,i){var r=n.avail_in;return r>i&&(r=i),r===0?0:(n.avail_in-=r,ts.arraySet(t,n.input,n.next_in,r,e),n.state.wrap===1?n.adler=P7(n.adler,t,r,e):n.state.wrap===2&&(n.adler=Td(n.adler,t,r,e)),n.next_in+=r,n.total_in+=r,r)}function R7(n,t){var e=n.max_chain_length,i=n.strstart,r,s,a=n.prev_length,o=n.nice_match,c=n.strstart>n.w_size-_l?n.strstart-(n.w_size-_l):0,l=n.window,u=n.w_mask,d=n.prev,f=n.strstart+_p,p=l[i+a-1],g=l[i+a];n.prev_length>=n.good_match&&(e>>=2),o>n.lookahead&&(o=n.lookahead);do if(r=t,!(l[r+a]!==g||l[r+a-1]!==p||l[r]!==l[i]||l[++r]!==l[i+1])){i+=2,r++;do;while(l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&i<f);if(s=_p-(f-i),i=f-_p,s>a){if(n.match_start=t,a=s,s>=o)break;p=l[i+a-1],g=l[i+a]}}while((t=d[t&u])>c&&--e!==0);return a<=n.lookahead?a:n.lookahead}function sv(n){var t=n.w_size,e,i,r,s,a;do{if(s=n.window_size-n.lookahead-n.strstart,n.strstart>=t+(t-_l)){ts.arraySet(n.window,n.window,t,t,0),n.match_start-=t,n.strstart-=t,n.block_start-=t,i=n.hash_size,e=i;do r=n.head[--e],n.head[e]=r>=t?r-t:0;while(--i);i=t,e=i;do r=n.prev[--e],n.prev[e]=r>=t?r-t:0;while(--i);s+=t}if(n.strm.avail_in===0)break;if(i=vrt(n.strm,n.window,n.strstart+n.lookahead,s),n.lookahead+=i,n.lookahead+n.insert>=se)for(a=n.strstart-n.insert,n.ins_h=n.window[a],n.ins_h=(n.ins_h<<n.hash_shift^n.window[a+1])&n.hash_mask;n.insert&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[a+se-1])&n.hash_mask,n.prev[a&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=a,a++,n.insert--,!(n.lookahead+n.insert<se)););}while(n.lookahead<_l&&n.strm.avail_in!==0)}function yrt(n,t){var e=65535;for(e>n.pending_buf_size-5&&(e=n.pending_buf_size-5);;){if(n.lookahead<=1){if(sv(n),n.lookahead===0&&t===Rv)return di;if(n.lookahead===0)break}n.strstart+=n.lookahead,n.lookahead=0;var i=n.block_start+e;if((n.strstart===0||n.strstart>=i)&&(n.lookahead=n.strstart-i,n.strstart=i,ur(n,!1),n.strm.avail_out===0)||n.strstart-n.block_start>=n.w_size-_l&&(ur(n,!1),n.strm.avail_out===0))return di}return n.insert=0,t===Hp?(ur(n,!0),n.strm.avail_out===0?rv:rx):(n.strstart>n.block_start&&(ur(n,!1),n.strm.avail_out===0),di)}function sN(n,t){for(var e,i;;){if(n.lookahead<_l){if(sv(n),n.lookahead<_l&&t===Rv)return di;if(n.lookahead===0)break}if(e=0,n.lookahead>=se&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+se-1])&n.hash_mask,e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),e!==0&&n.strstart-e<=n.w_size-_l&&(n.match_length=R7(n,e)),n.match_length>=se)if(i=Eo._tr_tally(n,n.strstart-n.match_start,n.match_length-se),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=se){n.match_length--;do n.strstart++,n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+se-1])&n.hash_mask,e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+1])&n.hash_mask;else i=Eo._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(i&&(ur(n,!1),n.strm.avail_out===0))return di}return n.insert=n.strstart<se-1?n.strstart:se-1,t===Hp?(ur(n,!0),n.strm.avail_out===0?rv:rx):n.last_lit&&(ur(n,!1),n.strm.avail_out===0)?di:Uk}function Jv(n,t){for(var e,i,r;;){if(n.lookahead<_l){if(sv(n),n.lookahead<_l&&t===Rv)return di;if(n.lookahead===0)break}if(e=0,n.lookahead>=se&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+se-1])&n.hash_mask,e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=se-1,e!==0&&n.prev_length<n.max_lazy_match&&n.strstart-e<=n.w_size-_l&&(n.match_length=R7(n,e),n.match_length<=5&&(n.strategy===ert||n.match_length===se&&n.strstart-n.match_start>4096)&&(n.match_length=se-1)),n.prev_length>=se&&n.match_length<=n.prev_length){r=n.strstart+n.lookahead-se,i=Eo._tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-se),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=r&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+se-1])&n.hash_mask,e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=se-1,n.strstart++,i&&(ur(n,!1),n.strm.avail_out===0))return di}else if(n.match_available){if(i=Eo._tr_tally(n,0,n.window[n.strstart-1]),i&&ur(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return di}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(i=Eo._tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<se-1?n.strstart:se-1,t===Hp?(ur(n,!0),n.strm.avail_out===0?rv:rx):n.last_lit&&(ur(n,!1),n.strm.avail_out===0)?di:Uk}function brt(n,t){for(var e,i,r,s,a=n.window;;){if(n.lookahead<=_p){if(sv(n),n.lookahead<=_p&&t===Rv)return di;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=se&&n.strstart>0&&(r=n.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){s=n.strstart+_p;do;while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);n.match_length=_p-(s-r),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=se?(e=Eo._tr_tally(n,1,n.match_length-se),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(e=Eo._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),e&&(ur(n,!1),n.strm.avail_out===0))return di}return n.insert=0,t===Hp?(ur(n,!0),n.strm.avail_out===0?rv:rx):n.last_lit&&(ur(n,!1),n.strm.avail_out===0)?di:Uk}function wrt(n,t){for(var e;;){if(n.lookahead===0&&(sv(n),n.lookahead===0)){if(t===Rv)return di;break}if(n.match_length=0,e=Eo._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,e&&(ur(n,!1),n.strm.avail_out===0))return di}return n.insert=0,t===Hp?(ur(n,!0),n.strm.avail_out===0?rv:rx):n.last_lit&&(ur(n,!1),n.strm.avail_out===0)?di:Uk}function jl(n,t,e,i,r){this.good_length=n,this.max_lazy=t,this.nice_length=e,this.max_chain=i,this.func=r}var Oy;Oy=[new jl(0,0,0,0,yrt),new jl(4,4,8,4,sN),new jl(4,5,16,8,sN),new jl(4,6,32,32,sN),new jl(4,4,16,16,Jv),new jl(8,16,32,32,Jv),new jl(8,16,128,128,Jv),new jl(8,32,128,256,Jv),new jl(32,128,258,1024,Jv),new jl(32,258,258,4096,Jv)];function xrt(n){n.window_size=2*n.w_size,Hd(n.head),n.max_lazy_match=Oy[n.level].max_lazy,n.good_match=Oy[n.level].good_length,n.nice_match=Oy[n.level].nice_length,n.max_chain_length=Oy[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=se-1,n.match_available=0,n.ins_h=0}function Srt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=CF,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ts.Buf16(frt*2),this.dyn_dtree=new ts.Buf16((2*urt+1)*2),this.bl_tree=new ts.Buf16((2*drt+1)*2),Hd(this.dyn_ltree),Hd(this.dyn_dtree),Hd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ts.Buf16(prt+1),this.heap=new ts.Buf16(2*yL+1),Hd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ts.Buf16(2*yL+1),Hd(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function D7(n){var t;return!n||!n.state?Cp(n,_o):(n.total_in=n.total_out=0,n.data_type=srt,t=n.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?kF:Rg,n.adler=t.wrap===2?0:1,t.last_flush=Rv,Eo._tr_init(t),Wc)}function F7(n){var t=D7(n);return t===Wc&&xrt(n.state),t}function Art(n,t){return!n||!n.state||n.state.wrap!==2?_o:(n.state.gzhead=t,Wc)}function M7(n,t,e,i,r,s){if(!n)return _o;var a=1;if(t===trt&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>art||e!==CF||i<8||i>15||t<0||t>9||s<0||s>irt)return Cp(n,_o);i===8&&(i=9);var o=new Srt;return n.state=o,o.strm=n,o.wrap=a,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+se-1)/se),o.window=new ts.Buf8(o.w_size*2),o.head=new ts.Buf16(o.hash_size),o.prev=new ts.Buf16(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new ts.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=s,o.method=e,F7(n)}function Ert(n,t){return M7(n,t,CF,ort,lrt,rrt)}function _rt(n,t){var e,i,r,s;if(!n||!n.state||t>z8||t<0)return n?Cp(n,_o):_o;if(i=n.state,!n.output||!n.input&&n.avail_in!==0||i.status===iS&&t!==Hp)return Cp(n,n.avail_out===0?rN:_o);if(i.strm=n,e=i.last_flush,i.last_flush=t,i.status===kF)if(i.wrap===2)n.adler=0,we(i,31),we(i,139),we(i,8),i.gzhead?(we(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),we(i,i.gzhead.time&255),we(i,i.gzhead.time>>8&255),we(i,i.gzhead.time>>16&255),we(i,i.gzhead.time>>24&255),we(i,i.level===9?2:i.strategy>=LT||i.level<2?4:0),we(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(we(i,i.gzhead.extra.length&255),we(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(n.adler=Td(n.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=bL):(we(i,0),we(i,0),we(i,0),we(i,0),we(i,0),we(i,i.level===9?2:i.strategy>=LT||i.level<2?4:0),we(i,mrt),i.status=Rg);else{var a=CF+(i.w_bits-8<<4)<<8,o=-1;i.strategy>=LT||i.level<2?o=0:i.level<6?o=1:i.level===6?o=2:o=3,a|=o<<6,i.strstart!==0&&(a|=grt),a+=31-a%31,i.status=Rg,Nx(i,a),i.strstart!==0&&(Nx(i,n.adler>>>16),Nx(i,n.adler&65535)),n.adler=1}if(i.status===bL)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=Td(n.adler,i.pending_buf,i.pending-r,r)),Pd(n),r=i.pending,i.pending===i.pending_buf_size));)we(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(n.adler=Td(n.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=X2)}else i.status=X2;if(i.status===X2)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=Td(n.adler,i.pending_buf,i.pending-r,r)),Pd(n),r=i.pending,i.pending===i.pending_buf_size)){s=1;break}i.gzindex<i.gzhead.name.length?s=i.gzhead.name.charCodeAt(i.gzindex++)&255:s=0,we(i,s)}while(s!==0);i.gzhead.hcrc&&i.pending>r&&(n.adler=Td(n.adler,i.pending_buf,i.pending-r,r)),s===0&&(i.gzindex=0,i.status=q2)}else i.status=q2;if(i.status===q2)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=Td(n.adler,i.pending_buf,i.pending-r,r)),Pd(n),r=i.pending,i.pending===i.pending_buf_size)){s=1;break}i.gzindex<i.gzhead.comment.length?s=i.gzhead.comment.charCodeAt(i.gzindex++)&255:s=0,we(i,s)}while(s!==0);i.gzhead.hcrc&&i.pending>r&&(n.adler=Td(n.adler,i.pending_buf,i.pending-r,r)),s===0&&(i.status=K2)}else i.status=K2;if(i.status===K2&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Pd(n),i.pending+2<=i.pending_buf_size&&(we(i,n.adler&255),we(i,n.adler>>8&255),n.adler=0,i.status=Rg)):i.status=Rg),i.pending!==0){if(Pd(n),n.avail_out===0)return i.last_flush=-1,Wc}else if(n.avail_in===0&&U8(t)<=U8(e)&&t!==Hp)return Cp(n,rN);if(i.status===iS&&n.avail_in!==0)return Cp(n,rN);if(n.avail_in!==0||i.lookahead!==0||t!==Rv&&i.status!==iS){var c=i.strategy===LT?wrt(i,t):i.strategy===nrt?brt(i,t):Oy[i.level].func(i,t);if((c===rv||c===rx)&&(i.status=iS),c===di||c===rv)return n.avail_out===0&&(i.last_flush=-1),Wc;if(c===Uk&&(t===Qit?Eo._tr_align(i):t!==z8&&(Eo._tr_stored_block(i,0,0,!1),t===Jit&&(Hd(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),Pd(n),n.avail_out===0))return i.last_flush=-1,Wc}return t!==Hp?Wc:i.wrap<=0?j8:(i.wrap===2?(we(i,n.adler&255),we(i,n.adler>>8&255),we(i,n.adler>>16&255),we(i,n.adler>>24&255),we(i,n.total_in&255),we(i,n.total_in>>8&255),we(i,n.total_in>>16&255),we(i,n.total_in>>24&255)):(Nx(i,n.adler>>>16),Nx(i,n.adler&65535)),Pd(n),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Wc:j8)}function Crt(n){var t;return!n||!n.state?_o:(t=n.state.status,t!==kF&&t!==bL&&t!==X2&&t!==q2&&t!==K2&&t!==Rg&&t!==iS?Cp(n,_o):(n.state=null,t===Rg?Cp(n,$it):Wc))}function krt(n,t){var e=t.length,i,r,s,a,o,c,l,u;if(!n||!n.state||(i=n.state,a=i.wrap,a===2||a===1&&i.status!==kF||i.lookahead))return _o;for(a===1&&(n.adler=P7(n.adler,t,e,0)),i.wrap=0,e>=i.w_size&&(a===0&&(Hd(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new ts.Buf8(i.w_size),ts.arraySet(u,t,e-i.w_size,i.w_size,0),t=u,e=i.w_size),o=n.avail_in,c=n.next_in,l=n.input,n.avail_in=e,n.next_in=0,n.input=t,sv(i);i.lookahead>=se;){r=i.strstart,s=i.lookahead-(se-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+se-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++;while(--s);i.strstart=r,i.lookahead=se-1,sv(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=se-1,i.match_available=0,n.next_in=c,n.input=l,n.avail_in=o,i.wrap=a,Wc}sh.deflateInit=Ert;sh.deflateInit2=M7;sh.deflateReset=F7;sh.deflateResetKeep=D7;sh.deflateSetHeader=Art;sh.deflate=_rt;sh.deflateEnd=Crt;sh.deflateSetDictionary=krt;sh.deflateInfo="pako deflate (from Nodeca project)";var Dv={},TF=dd,N7=!0,I7=!0;try{String.fromCharCode.apply(null,[0])}catch{N7=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{I7=!1}var JA=new TF.Buf8(256);for(var Sd=0;Sd<256;Sd++)JA[Sd]=Sd>=252?6:Sd>=248?5:Sd>=240?4:Sd>=224?3:Sd>=192?2:1;JA[254]=JA[254]=1;Dv.string2buf=function(n){var t,e,i,r,s,a=n.length,o=0;for(r=0;r<a;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<a&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),o+=e<128?1:e<2048?2:e<65536?3:4;for(t=new TF.Buf8(o),s=0,r=0;s<o;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<a&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),e<128?t[s++]=e:e<2048?(t[s++]=192|e>>>6,t[s++]=128|e&63):e<65536?(t[s++]=224|e>>>12,t[s++]=128|e>>>6&63,t[s++]=128|e&63):(t[s++]=240|e>>>18,t[s++]=128|e>>>12&63,t[s++]=128|e>>>6&63,t[s++]=128|e&63);return t};function L7(n,t){if(t<65534&&(n.subarray&&I7||!n.subarray&&N7))return String.fromCharCode.apply(null,TF.shrinkBuf(n,t));for(var e="",i=0;i<t;i++)e+=String.fromCharCode(n[i]);return e}Dv.buf2binstring=function(n){return L7(n,n.length)};Dv.binstring2buf=function(n){for(var t=new TF.Buf8(n.length),e=0,i=t.length;e<i;e++)t[e]=n.charCodeAt(e);return t};Dv.buf2string=function(n,t){var e,i,r,s,a=t||n.length,o=new Array(a*2);for(i=0,e=0;e<a;){if(r=n[e++],r<128){o[i++]=r;continue}if(s=JA[r],s>4){o[i++]=65533,e+=s-1;continue}for(r&=s===2?31:s===3?15:7;s>1&&e<a;)r=r<<6|n[e++]&63,s--;if(s>1){o[i++]=65533;continue}r<65536?o[i++]=r:(r-=65536,o[i++]=55296|r>>10&1023,o[i++]=56320|r&1023)}return L7(o,i)};Dv.utf8border=function(n,t){var e;for(t=t||n.length,t>n.length&&(t=n.length),e=t-1;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+JA[n[e]]>t?e:t};function Trt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var O7=Trt,aA=sh,oA=dd,wL=Dv,xL=Mz,Prt=O7,B7=Object.prototype.toString,Rrt=0,aN=4,$y=0,H8=1,W8=2,Drt=-1,Frt=0,Mrt=8;function av(n){if(!(this instanceof av))return new av(n);this.options=oA.assign({level:Drt,method:Mrt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Frt,to:""},n||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Prt,this.strm.avail_out=0;var e=aA.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==$y)throw new Error(xL[e]);if(t.header&&aA.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(typeof t.dictionary=="string"?i=wL.string2buf(t.dictionary):B7.call(t.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(t.dictionary):i=t.dictionary,e=aA.deflateSetDictionary(this.strm,i),e!==$y)throw new Error(xL[e]);this._dict_set=!0}}av.prototype.push=function(n,t){var e=this.strm,i=this.options.chunkSize,r,s;if(this.ended)return!1;s=t===~~t?t:t===!0?aN:Rrt,typeof n=="string"?e.input=wL.string2buf(n):B7.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;do{if(e.avail_out===0&&(e.output=new oA.Buf8(i),e.next_out=0,e.avail_out=i),r=aA.deflate(e,s),r!==H8&&r!==$y)return this.onEnd(r),this.ended=!0,!1;(e.avail_out===0||e.avail_in===0&&(s===aN||s===W8))&&(this.options.to==="string"?this.onData(wL.buf2binstring(oA.shrinkBuf(e.output,e.next_out))):this.onData(oA.shrinkBuf(e.output,e.next_out)))}while((e.avail_in>0||e.avail_out===0)&&r!==H8);return s===aN?(r=aA.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===$y):(s===W8&&(this.onEnd($y),e.avail_out=0),!0)};av.prototype.onData=function(n){this.chunks.push(n)};av.prototype.onEnd=function(n){n===$y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=oA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Nz(n,t){var e=new av(t);if(e.push(n,!0),e.err)throw e.msg||xL[e.err];return e.result}function Nrt(n,t){return t=t||{},t.raw=!0,Nz(n,t)}function Irt(n,t){return t=t||{},t.gzip=!0,Nz(n,t)}zk.Deflate=av;zk.deflate=Nz;zk.deflateRaw=Nrt;zk.gzip=Irt;var Hk={},Ml={},OT=30,Lrt=12,Ort=function(t,e){var i,r,s,a,o,c,l,u,d,f,p,g,m,y,v,w,x,A,S,C,k,T,R,F,D;i=t.state,r=t.next_in,F=t.input,s=r+(t.avail_in-5),a=t.next_out,D=t.output,o=a-(e-t.avail_out),c=a+(t.avail_out-257),l=i.dmax,u=i.wsize,d=i.whave,f=i.wnext,p=i.window,g=i.hold,m=i.bits,y=i.lencode,v=i.distcode,w=(1<<i.lenbits)-1,x=(1<<i.distbits)-1;t:do{m<15&&(g+=F[r++]<<m,m+=8,g+=F[r++]<<m,m+=8),A=y[g&w];e:for(;;){if(S=A>>>24,g>>>=S,m-=S,S=A>>>16&255,S===0)D[a++]=A&65535;else if(S&16){C=A&65535,S&=15,S&&(m<S&&(g+=F[r++]<<m,m+=8),C+=g&(1<<S)-1,g>>>=S,m-=S),m<15&&(g+=F[r++]<<m,m+=8,g+=F[r++]<<m,m+=8),A=v[g&x];n:for(;;){if(S=A>>>24,g>>>=S,m-=S,S=A>>>16&255,S&16){if(k=A&65535,S&=15,m<S&&(g+=F[r++]<<m,m+=8,m<S&&(g+=F[r++]<<m,m+=8)),k+=g&(1<<S)-1,k>l){t.msg="invalid distance too far back",i.mode=OT;break t}if(g>>>=S,m-=S,S=a-o,k>S){if(S=k-S,S>d&&i.sane){t.msg="invalid distance too far back",i.mode=OT;break t}if(T=0,R=p,f===0){if(T+=u-S,S<C){C-=S;do D[a++]=p[T++];while(--S);T=a-k,R=D}}else if(f<S){if(T+=u+f-S,S-=f,S<C){C-=S;do D[a++]=p[T++];while(--S);if(T=0,f<C){S=f,C-=S;do D[a++]=p[T++];while(--S);T=a-k,R=D}}}else if(T+=f-S,S<C){C-=S;do D[a++]=p[T++];while(--S);T=a-k,R=D}for(;C>2;)D[a++]=R[T++],D[a++]=R[T++],D[a++]=R[T++],C-=3;C&&(D[a++]=R[T++],C>1&&(D[a++]=R[T++]))}else{T=a-k;do D[a++]=D[T++],D[a++]=D[T++],D[a++]=D[T++],C-=3;while(C>2);C&&(D[a++]=D[T++],C>1&&(D[a++]=D[T++]))}}else if(S&64){t.msg="invalid distance code",i.mode=OT;break t}else{A=v[(A&65535)+(g&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){i.mode=Lrt;break t}else{t.msg="invalid literal/length code",i.mode=OT;break t}else{A=y[(A&65535)+(g&(1<<S)-1)];continue e}break}}while(r<s&&a<c);C=m>>3,r-=C,m-=C<<3,g&=(1<<m)-1,t.next_in=r,t.next_out=a,t.avail_in=r<s?5+(s-r):5-(r-s),t.avail_out=a<c?257+(c-a):257-(a-c),i.hold=g,i.bits=m},V8=dd,$v=15,G8=852,X8=592,q8=0,oN=1,K8=2,Brt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],zrt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],jrt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Urt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Hrt=function(t,e,i,r,s,a,o,c){var l=c.bits,u=0,d=0,f=0,p=0,g=0,m=0,y=0,v=0,w=0,x=0,A,S,C,k,T,R=null,F=0,D,U=new V8.Buf16($v+1),j=new V8.Buf16($v+1),V=null,Y=0,z,B,G;for(u=0;u<=$v;u++)U[u]=0;for(d=0;d<r;d++)U[e[i+d]]++;for(g=l,p=$v;p>=1&&U[p]===0;p--);if(g>p&&(g=p),p===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,c.bits=1,0;for(f=1;f<p&&U[f]===0;f++);for(g<f&&(g=f),v=1,u=1;u<=$v;u++)if(v<<=1,v-=U[u],v<0)return-1;if(v>0&&(t===q8||p!==1))return-1;for(j[1]=0,u=1;u<$v;u++)j[u+1]=j[u]+U[u];for(d=0;d<r;d++)e[i+d]!==0&&(o[j[e[i+d]]++]=d);if(t===q8?(R=V=o,D=19):t===oN?(R=Brt,F-=257,V=zrt,Y-=257,D=256):(R=jrt,V=Urt,D=-1),x=0,d=0,u=f,T=a,m=g,y=0,C=-1,w=1<<g,k=w-1,t===oN&&w>G8||t===K8&&w>X8)return 1;for(;;){z=u-y,o[d]<D?(B=0,G=o[d]):o[d]>D?(B=V[Y+o[d]],G=R[F+o[d]]):(B=96,G=0),A=1<<u-y,S=1<<m,f=S;do S-=A,s[T+(x>>y)+S]=z<<24|B<<16|G|0;while(S!==0);for(A=1<<u-1;x&A;)A>>=1;if(A!==0?(x&=A-1,x+=A):x=0,d++,--U[u]===0){if(u===p)break;u=e[i+o[d]]}if(u>g&&(x&k)!==C){for(y===0&&(y=g),T+=f,m=u-y,v=1<<m;m+y<p&&(v-=U[m+y],!(v<=0));)m++,v<<=1;if(w+=1<<m,t===oN&&w>G8||t===K8&&w>X8)return 1;C=x&k,s[C]=g<<24|m<<16|T-a|0}}return x!==0&&(s[T+x]=u-y<<24|64<<16|0),c.bits=g,0},Ta=dd,SL=k7,Ul=T7,Wrt=Ort,lA=Hrt,Vrt=0,z7=1,j7=2,Y8=4,Grt=5,BT=6,ov=0,Xrt=1,qrt=2,No=-2,U7=-3,H7=-4,Krt=-5,Z8=8,W7=1,Q8=2,J8=3,$8=4,t4=5,e4=6,n4=7,i4=8,r4=9,s4=10,XR=11,dh=12,lN=13,a4=14,cN=15,o4=16,l4=17,c4=18,h4=19,zT=20,jT=21,u4=22,d4=23,f4=24,p4=25,g4=26,hN=27,m4=28,v4=29,tn=30,V7=31,Yrt=32,Zrt=852,Qrt=592,Jrt=15,$rt=Jrt;function y4(n){return(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24)}function tst(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ta.Buf16(320),this.work=new Ta.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function G7(n){var t;return!n||!n.state?No:(t=n.state,n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=W7,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Ta.Buf32(Zrt),t.distcode=t.distdyn=new Ta.Buf32(Qrt),t.sane=1,t.back=-1,ov)}function X7(n){var t;return!n||!n.state?No:(t=n.state,t.wsize=0,t.whave=0,t.wnext=0,G7(n))}function q7(n,t){var e,i;return!n||!n.state||(i=n.state,t<0?(e=0,t=-t):(e=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?No:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=e,i.wbits=t,X7(n))}function K7(n,t){var e,i;return n?(i=new tst,n.state=i,i.window=null,e=q7(n,t),e!==ov&&(n.state=null),e):No}function est(n){return K7(n,$rt)}var b4=!0,uN,dN;function nst(n){if(b4){var t;for(uN=new Ta.Buf32(512),dN=new Ta.Buf32(32),t=0;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(lA(z7,n.lens,0,288,uN,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;lA(j7,n.lens,0,32,dN,0,n.work,{bits:5}),b4=!1}n.lencode=uN,n.lenbits=9,n.distcode=dN,n.distbits=5}function Y7(n,t,e,i){var r,s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Ta.Buf8(s.wsize)),i>=s.wsize?(Ta.arraySet(s.window,t,e-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),Ta.arraySet(s.window,t,e-i,r,s.wnext),i-=r,i?(Ta.arraySet(s.window,t,e-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0}function ist(n,t){var e,i,r,s,a,o,c,l,u,d,f,p,g,m,y=0,v,w,x,A,S,C,k,T,R=new Ta.Buf8(4),F,D,U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!n||!n.state||!n.output||!n.input&&n.avail_in!==0)return No;e=n.state,e.mode===dh&&(e.mode=lN),a=n.next_out,r=n.output,c=n.avail_out,s=n.next_in,i=n.input,o=n.avail_in,l=e.hold,u=e.bits,d=o,f=c,T=ov;t:for(;;)switch(e.mode){case W7:if(e.wrap===0){e.mode=lN;break}for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(e.wrap&2&&l===35615){e.check=0,R[0]=l&255,R[1]=l>>>8&255,e.check=Ul(e.check,R,2,0),l=0,u=0,e.mode=Q8;break}if(e.flags=0,e.head&&(e.head.done=!1),!(e.wrap&1)||(((l&255)<<8)+(l>>8))%31){n.msg="incorrect header check",e.mode=tn;break}if((l&15)!==Z8){n.msg="unknown compression method",e.mode=tn;break}if(l>>>=4,u-=4,k=(l&15)+8,e.wbits===0)e.wbits=k;else if(k>e.wbits){n.msg="invalid window size",e.mode=tn;break}e.dmax=1<<k,n.adler=e.check=1,e.mode=l&512?s4:dh,l=0,u=0;break;case Q8:for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(e.flags=l,(e.flags&255)!==Z8){n.msg="unknown compression method",e.mode=tn;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=tn;break}e.head&&(e.head.text=l>>8&1),e.flags&512&&(R[0]=l&255,R[1]=l>>>8&255,e.check=Ul(e.check,R,2,0)),l=0,u=0,e.mode=J8;case J8:for(;u<32;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.head&&(e.head.time=l),e.flags&512&&(R[0]=l&255,R[1]=l>>>8&255,R[2]=l>>>16&255,R[3]=l>>>24&255,e.check=Ul(e.check,R,4,0)),l=0,u=0,e.mode=$8;case $8:for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.head&&(e.head.xflags=l&255,e.head.os=l>>8),e.flags&512&&(R[0]=l&255,R[1]=l>>>8&255,e.check=Ul(e.check,R,2,0)),l=0,u=0,e.mode=t4;case t4:if(e.flags&1024){for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.length=l,e.head&&(e.head.extra_len=l),e.flags&512&&(R[0]=l&255,R[1]=l>>>8&255,e.check=Ul(e.check,R,2,0)),l=0,u=0}else e.head&&(e.head.extra=null);e.mode=e4;case e4:if(e.flags&1024&&(p=e.length,p>o&&(p=o),p&&(e.head&&(k=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),Ta.arraySet(e.head.extra,i,s,p,k)),e.flags&512&&(e.check=Ul(e.check,i,p,s)),o-=p,s+=p,e.length-=p),e.length))break t;e.length=0,e.mode=n4;case n4:if(e.flags&2048){if(o===0)break t;p=0;do k=i[s+p++],e.head&&k&&e.length<65536&&(e.head.name+=String.fromCharCode(k));while(k&&p<o);if(e.flags&512&&(e.check=Ul(e.check,i,p,s)),o-=p,s+=p,k)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=i4;case i4:if(e.flags&4096){if(o===0)break t;p=0;do k=i[s+p++],e.head&&k&&e.length<65536&&(e.head.comment+=String.fromCharCode(k));while(k&&p<o);if(e.flags&512&&(e.check=Ul(e.check,i,p,s)),o-=p,s+=p,k)break t}else e.head&&(e.head.comment=null);e.mode=r4;case r4:if(e.flags&512){for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(l!==(e.check&65535)){n.msg="header crc mismatch",e.mode=tn;break}l=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=dh;break;case s4:for(;u<32;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}n.adler=e.check=y4(l),l=0,u=0,e.mode=XR;case XR:if(e.havedict===0)return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,e.hold=l,e.bits=u,qrt;n.adler=e.check=1,e.mode=dh;case dh:if(t===Grt||t===BT)break t;case lN:if(e.last){l>>>=u&7,u-=u&7,e.mode=hN;break}for(;u<3;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}switch(e.last=l&1,l>>>=1,u-=1,l&3){case 0:e.mode=a4;break;case 1:if(nst(e),e.mode=zT,t===BT){l>>>=2,u-=2;break t}break;case 2:e.mode=l4;break;case 3:n.msg="invalid block type",e.mode=tn}l>>>=2,u-=2;break;case a4:for(l>>>=u&7,u-=u&7;u<32;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){n.msg="invalid stored block lengths",e.mode=tn;break}if(e.length=l&65535,l=0,u=0,e.mode=cN,t===BT)break t;case cN:e.mode=o4;case o4:if(p=e.length,p){if(p>o&&(p=o),p>c&&(p=c),p===0)break t;Ta.arraySet(r,i,s,p,a),o-=p,s+=p,c-=p,a+=p,e.length-=p;break}e.mode=dh;break;case l4:for(;u<14;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(e.nlen=(l&31)+257,l>>>=5,u-=5,e.ndist=(l&31)+1,l>>>=5,u-=5,e.ncode=(l&15)+4,l>>>=4,u-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=tn;break}e.have=0,e.mode=c4;case c4:for(;e.have<e.ncode;){for(;u<3;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.lens[U[e.have++]]=l&7,l>>>=3,u-=3}for(;e.have<19;)e.lens[U[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,F={bits:e.lenbits},T=lA(Vrt,e.lens,0,19,e.lencode,0,e.work,F),e.lenbits=F.bits,T){n.msg="invalid code lengths set",e.mode=tn;break}e.have=0,e.mode=h4;case h4:for(;e.have<e.nlen+e.ndist;){for(;y=e.lencode[l&(1<<e.lenbits)-1],v=y>>>24,w=y>>>16&255,x=y&65535,!(v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(x<16)l>>>=v,u-=v,e.lens[e.have++]=x;else{if(x===16){for(D=v+2;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(l>>>=v,u-=v,e.have===0){n.msg="invalid bit length repeat",e.mode=tn;break}k=e.lens[e.have-1],p=3+(l&3),l>>>=2,u-=2}else if(x===17){for(D=v+3;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}l>>>=v,u-=v,k=0,p=3+(l&7),l>>>=3,u-=3}else{for(D=v+7;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}l>>>=v,u-=v,k=0,p=11+(l&127),l>>>=7,u-=7}if(e.have+p>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=tn;break}for(;p--;)e.lens[e.have++]=k}}if(e.mode===tn)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=tn;break}if(e.lenbits=9,F={bits:e.lenbits},T=lA(z7,e.lens,0,e.nlen,e.lencode,0,e.work,F),e.lenbits=F.bits,T){n.msg="invalid literal/lengths set",e.mode=tn;break}if(e.distbits=6,e.distcode=e.distdyn,F={bits:e.distbits},T=lA(j7,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,F),e.distbits=F.bits,T){n.msg="invalid distances set",e.mode=tn;break}if(e.mode=zT,t===BT)break t;case zT:e.mode=jT;case jT:if(o>=6&&c>=258){n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,e.hold=l,e.bits=u,Wrt(n,f),a=n.next_out,r=n.output,c=n.avail_out,s=n.next_in,i=n.input,o=n.avail_in,l=e.hold,u=e.bits,e.mode===dh&&(e.back=-1);break}for(e.back=0;y=e.lencode[l&(1<<e.lenbits)-1],v=y>>>24,w=y>>>16&255,x=y&65535,!(v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(w&&!(w&240)){for(A=v,S=w,C=x;y=e.lencode[C+((l&(1<<A+S)-1)>>A)],v=y>>>24,w=y>>>16&255,x=y&65535,!(A+v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}l>>>=A,u-=A,e.back+=A}if(l>>>=v,u-=v,e.back+=v,e.length=x,w===0){e.mode=g4;break}if(w&32){e.back=-1,e.mode=dh;break}if(w&64){n.msg="invalid literal/length code",e.mode=tn;break}e.extra=w&15,e.mode=u4;case u4:if(e.extra){for(D=e.extra;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.length+=l&(1<<e.extra)-1,l>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=d4;case d4:for(;y=e.distcode[l&(1<<e.distbits)-1],v=y>>>24,w=y>>>16&255,x=y&65535,!(v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(!(w&240)){for(A=v,S=w,C=x;y=e.distcode[C+((l&(1<<A+S)-1)>>A)],v=y>>>24,w=y>>>16&255,x=y&65535,!(A+v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}l>>>=A,u-=A,e.back+=A}if(l>>>=v,u-=v,e.back+=v,w&64){n.msg="invalid distance code",e.mode=tn;break}e.offset=x,e.extra=w&15,e.mode=f4;case f4:if(e.extra){for(D=e.extra;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.offset+=l&(1<<e.extra)-1,l>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=tn;break}e.mode=p4;case p4:if(c===0)break t;if(p=f-c,e.offset>p){if(p=e.offset-p,p>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=tn;break}p>e.wnext?(p-=e.wnext,g=e.wsize-p):g=e.wnext-p,p>e.length&&(p=e.length),m=e.window}else m=r,g=a-e.offset,p=e.length;p>c&&(p=c),c-=p,e.length-=p;do r[a++]=m[g++];while(--p);e.length===0&&(e.mode=jT);break;case g4:if(c===0)break t;r[a++]=e.length,c--,e.mode=jT;break;case hN:if(e.wrap){for(;u<32;){if(o===0)break t;o--,l|=i[s++]<<u,u+=8}if(f-=c,n.total_out+=f,e.total+=f,f&&(n.adler=e.check=e.flags?Ul(e.check,r,f,a-f):SL(e.check,r,f,a-f)),f=c,(e.flags?l:y4(l))!==e.check){n.msg="incorrect data check",e.mode=tn;break}l=0,u=0}e.mode=m4;case m4:if(e.wrap&&e.flags){for(;u<32;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(l!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=tn;break}l=0,u=0}e.mode=v4;case v4:T=Xrt;break t;case tn:T=U7;break t;case V7:return H7;case Yrt:default:return No}return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,e.hold=l,e.bits=u,(e.wsize||f!==n.avail_out&&e.mode<tn&&(e.mode<hN||t!==Y8))&&Y7(n,n.output,n.next_out,f-n.avail_out),d-=n.avail_in,f-=n.avail_out,n.total_in+=d,n.total_out+=f,e.total+=f,e.wrap&&f&&(n.adler=e.check=e.flags?Ul(e.check,r,f,n.next_out-f):SL(e.check,r,f,n.next_out-f)),n.data_type=e.bits+(e.last?64:0)+(e.mode===dh?128:0)+(e.mode===zT||e.mode===cN?256:0),(d===0&&f===0||t===Y8)&&T===ov&&(T=Krt),T}function rst(n){if(!n||!n.state)return No;var t=n.state;return t.window&&(t.window=null),n.state=null,ov}function sst(n,t){var e;return!n||!n.state||(e=n.state,!(e.wrap&2))?No:(e.head=t,t.done=!1,ov)}function ast(n,t){var e=t.length,i,r,s;return!n||!n.state||(i=n.state,i.wrap!==0&&i.mode!==XR)?No:i.mode===XR&&(r=1,r=SL(r,t,e,0),r!==i.check)?U7:(s=Y7(n,t,e,e),s?(i.mode=V7,H7):(i.havedict=1,ov))}Ml.inflateReset=X7;Ml.inflateReset2=q7;Ml.inflateResetKeep=G7;Ml.inflateInit=est;Ml.inflateInit2=K7;Ml.inflate=ist;Ml.inflateEnd=rst;Ml.inflateGetHeader=sst;Ml.inflateSetDictionary=ast;Ml.inflateInfo="pako inflate (from Nodeca project)";var Z7={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function ost(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var lst=ost,tb=Ml,cA=dd,Y2=Dv,Fn=Z7,AL=Mz,cst=O7,hst=lst,Q7=Object.prototype.toString;function lv(n){if(!(this instanceof lv))return new lv(n);this.options=cA.assign({chunkSize:16384,windowBits:0,to:""},n||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cst,this.strm.avail_out=0;var e=tb.inflateInit2(this.strm,t.windowBits);if(e!==Fn.Z_OK)throw new Error(AL[e]);if(this.header=new hst,tb.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Y2.string2buf(t.dictionary):Q7.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=tb.inflateSetDictionary(this.strm,t.dictionary),e!==Fn.Z_OK)))throw new Error(AL[e])}lv.prototype.push=function(n,t){var e=this.strm,i=this.options.chunkSize,r=this.options.dictionary,s,a,o,c,l,u=!1;if(this.ended)return!1;a=t===~~t?t:t===!0?Fn.Z_FINISH:Fn.Z_NO_FLUSH,typeof n=="string"?e.input=Y2.binstring2buf(n):Q7.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;do{if(e.avail_out===0&&(e.output=new cA.Buf8(i),e.next_out=0,e.avail_out=i),s=tb.inflate(e,Fn.Z_NO_FLUSH),s===Fn.Z_NEED_DICT&&r&&(s=tb.inflateSetDictionary(this.strm,r)),s===Fn.Z_BUF_ERROR&&u===!0&&(s=Fn.Z_OK,u=!1),s!==Fn.Z_STREAM_END&&s!==Fn.Z_OK)return this.onEnd(s),this.ended=!0,!1;e.next_out&&(e.avail_out===0||s===Fn.Z_STREAM_END||e.avail_in===0&&(a===Fn.Z_FINISH||a===Fn.Z_SYNC_FLUSH))&&(this.options.to==="string"?(o=Y2.utf8border(e.output,e.next_out),c=e.next_out-o,l=Y2.buf2string(e.output,o),e.next_out=c,e.avail_out=i-c,c&&cA.arraySet(e.output,e.output,o,c,0),this.onData(l)):this.onData(cA.shrinkBuf(e.output,e.next_out))),e.avail_in===0&&e.avail_out===0&&(u=!0)}while((e.avail_in>0||e.avail_out===0)&&s!==Fn.Z_STREAM_END);return s===Fn.Z_STREAM_END&&(a=Fn.Z_FINISH),a===Fn.Z_FINISH?(s=tb.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Fn.Z_OK):(a===Fn.Z_SYNC_FLUSH&&(this.onEnd(Fn.Z_OK),e.avail_out=0),!0)};lv.prototype.onData=function(n){this.chunks.push(n)};lv.prototype.onEnd=function(n){n===Fn.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=cA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Iz(n,t){var e=new lv(t);if(e.push(n,!0),e.err)throw e.msg||AL[e.err];return e.result}function ust(n,t){return t=t||{},t.raw=!0,Iz(n,t)}Hk.Inflate=lv;Hk.inflate=Iz;Hk.inflateRaw=ust;Hk.ungzip=Iz;var dst=dd.assign,fst=zk,pst=Hk,gst=Z7,J7={};dst(J7,fst,pst,gst);var mst=J7;const vst=hd(mst);var w4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rS=new Uint8Array(256);for(var UT=0;UT<w4.length;UT++)rS[w4.charCodeAt(UT)]=UT;var yst=function(n){var t=n.length*.75,e=n.length,i,r=0,s,a,o,c;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);var l=new Uint8Array(t);for(i=0;i<e;i+=4)s=rS[n.charCodeAt(i)],a=rS[n.charCodeAt(i+1)],o=rS[n.charCodeAt(i+2)],c=rS[n.charCodeAt(i+3)],l[r++]=s<<2|a>>4,l[r++]=(a&15)<<4|o>>2,l[r++]=(o&3)<<6|c&63;return l},bst=function(n){for(var t="",e=0;e<n.length;e++)t+=String.fromCharCode(n[e]);return t},$7=function(n){return bst(vst.inflate(yst(n)))},wst=function(n,t,e){for(var i="",r=0,s=t-n.length;r<s;r++)i+=e;return i+n};const xst="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",Sst="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",Ast="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",Est="eJyFWdtSGzkQ/RXXPO1WmZSBEAJvjnESb8AmGENCKg+ypj3Wohk5ugAmlX9fzUCyW6s+ysuUfVqXvh61Zr4XI1PX1PjiuLg6C05U1Ns/Ojx42TsYHB4eFf3irWn8VNQUB4xMsIpsCwatU1DUSm8T+JpUtW7XP6NShToiEy+0ksOm0nHkIP53b9UDlefKy3Vx7G2gfjFaCyukJzundu74wVNTUnlhatE8a/XmjXkojr/s7O33d/YOBv3D3YP+68HB136xiEOtVg2dG6e8Mk1xvLM7GPxHcLlW8rYh54rjOLO4Iuu6YcVgsP9iMBjELabGK/lkymZrWxt6f8g/e7tHr4/68Xk06J673XOve+53z8PesDRL6s23zlPtepNGGrsxVngqX/R6Q617F+1qrndBjuxdRONu4ziqVE01l2vqHNgtMveiKYUtf0rjwJHYvH/26MGrvX7x6ee/l3uv+sXQydZPtjh+tXfUL07o1/+d3YPDfjH35fvrOHO3+3n1/LN19hl5q2T0x5fvxfWnOL/11zQq4jYiuuFH/38wPUgt6hT/Fkw0dKlTSRPqZevnqkllpdFa2BTfkJVtdiYCUUeRi94BGnQBY9YTlhpNKyQC04RrV3S3zCwdXIrKWFQihdfbzZoY66MpyjCWOC3cOoUfyZoUNQ0TJX/PjPRrS8zYVSxZBlV3zFinHhiQ7jjriPdpoziFpdGGWcNRrYBIt1WcbvotCCYHK0uxDhkzvwVyHVOksWd0H6bQmxQapdBJCo1T6G0KvUuh9yk0SaG/UuhDCp2m0FkKTVNolkLnKfQxhS5SaJ5Clym0SKGrFLpOoU8p9DmFblJoGU+iW/I8bSyjDNTp8zzIKVIpqawMDIuGlrRdPDiYEun4jVeG4ZwlU2MM/zIVxHABU1AMy6WQSqG/U4ihV6aEGW8xVcvQ3oZxZQox3MDQC+P7kEJ3KXSfQgyTbhnS5/MLJMKSO0y78bls9EqX8KgvzT3jZ/50bo9L3fYraQq1XR3Ls1vu7FhpYxV7HoBVZLDxGJeMA7uycarrOmHXwnuzCipKagMooBV3C/9GDFy/YqpjxSR+bORYmilFVXFH2hPOtmJPDUcbO7LE1H7shURlxYYjtdj6E2PFv+5dCpfxcF4KXPQrAEBOWquNU0yhRkv92gTUKT4d+nxqRwdwrY+QwXONS8fkK01MOYO6qoW0XA4vLXEbl8YLyddbGa9axNpv2SqU8SoWG26Gu0NTCRtqLQKzjalik8mwtBSsHVTzCTtkWh5jy1Xs8fim8BQcsDOE8xvUkeSCZncQvL/b3pKpTg32NQhnVo+lGa+yMeWZoE1wPAmknwBJE/IRJRC6z1iDUt0pLps/A82GucoQYNIiN2kLJrnu2oVqhHJLLvg6WWA3CFQMC6BdQBPGeJOTSBDc/SNrqPz5voLZClGOBHkgeL9MswpolKOAUS+zq43QaoBVxxmedMBMBwlRgd21eaSmYgQXYIt3WSNDtkhywiEKqQWKSGjrTcZzl2tjmcVmaPcL4Lc5wEug7QJtEPjM7N5tuNA1OExPNAMpOEQ4oNU6aK82mmkzAzDwEhgYWy2vhC7VirldbTE1TME+Kpcs42yaZU4dLJJAjwbRIAroFDhoAhZq37zFhoF7/ba05pYa9g5kqVIOdL3vQLAnOUYJsar5q8gY5JQFBhnkmRsw4QZ47PklF3gFNvZMhzKCpKCzvOVR6wdPRyQYovYhk5XAwY+oNNDeMxQRdPSgSDm0MzZilm1LgIUnpD0TK8+TtL83GUbEqtXMKw0FNDL5PnOMXF+CDqfj8ZjANiYyo9o8k698Rn7I5vEpCJy3oqRaWEZzyrDCBHhpghLnFGgdnbYWmjkZ2psJKHCTy6gGdE2L38QP+IeQQRXg0mjQc1S5oPJOmGdDN8trXkaW4L52GBCiEVAiQDYvleTCcAIWsllrpiA+BuAX+bTOSodgzSHkaL7nmoF1HjMVMkanPdr7NmsKaAQm2VIAKvj85cZUbbwbw70fwVwasCguhb5W5S+03EH+CIxqsktFl+MTQqEaH4f2O+TXfvGBbHMulG2/Hn/98Q/b2xEO",_st="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",Cst="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",kst="eJyNnVtzG8mxrf+KAk/nRGh8eBWleZPnItsaD0dXWNvhB5BsUdgC0TLAFgjt2P/9AI2uzJUrV7X8olB/q4CuyspaVX0p8H8mP7V3d83yfvLj5P3fu/Xstnl0fPbsydGjJ89Oz55MHk9+bZf3v8/uml2BvzSLr839/Hr2w+XVYv7vrtnL3WLB8iOQZ3fzxZYL7IRpM7/9tD/r35ubeXe3I3+9ny3m18+Xt4td2R+OT3Zk/ev8obn5Y35//Wny4/2qax5Pfvo0W82u75vVm2b/6V8e7pvlTXPzur2bLYfa/vnP7cPkx3/+cHxx9PiHk5Pzx8fHx08ePzs9/tfjybtd4dVivmz+aNfz+3m73J/q6AiEt5/m15+XzXo9+fF8x983q3VfbHJ0dPKno6Oj3Ul+b3eN2Dfop/bLdrVvx6P/c/1/Hx0/e3r+eP/vRf/vs/2/z476fy8ePb9pr5pHb7br++Zu/eivy+t29aVdze6bmz89evR8sXj0ev8960evm3Wz+rqjHs35+tHs0f1qdtPczVafH7UfH/02X7b32y/ND7tCi0fPXzyaLW/+X7t6NN99wbq7Ws9v5rPVvFn/aVfZX3anupkvb99cf2r6Xuhr8uZ+95HZ6qaou4I/zb78ZeiUi+Onjyf/KEfnJ6ePJ8/X1/tArwbx58aOfzg5ung8eXN/85fpTnzS//f97r9Pnx566+/N/Wp+vQvnP/9nMv3H5MeTi53w+64i6y+zXRT/9zHh5uF6Mbszfnp+fuD/7tpdtK4WppyfPzkoy+7uat9Nt8us3bSLxWxl/OmuW3r+pVld79O+CE+eXByE2d1OWu+i4zU7OYEa9P3ttTs9Hb5vtmqWi+ZjTaKPlWrM1vtvXH/2ij89Gz616NY5ONe70TrLp/i0/fKpWebiu6bM25vM14vZ+lMO1rdm1WbaLpsM7zei5P2nVSPKfmy7laDzr6Lsev4gYPO1EX3bhJh6OsyXIq2u20UrIrRu7uZRsh5Y7E0g0ebf3WyR8e2q2Q1m0cydD657oynK8dHxkNEzkX7PM/qzoYuSiT9l9HP+4C+Ojo8P6Ff/YInAi/xdf8lx+qu3bG+Xe/S3fMaXuf2/+dgr2fr3fMbfc70u89f/kUu9yt/1On/wTY7E2/zBd/mD7w09Oxt6eppL/SOjD/mM/5WjerWbyz4398E3XNxpcaDy56KpnD0xU7mez6/nq+vuLvdHt3ft9W76gTESDC5Uxj42y+gqp8S1MGAxbnODPuZStxl9ylWeZ/TfuV6fc6lFzksRLeE6wve+iGGfTXqV6yUcXsS+yx/8mrN3k0s9ZLTN6BtU9czzKybCyZOjkpWrSvmYjeaMfTbezxc3TQ7JYa6/aTcizmF69qngvl+meXIclxH3cb8uRKO1z2zV5PFx0a7mgq+byrdcd6vdPH7tATx+dgzDZj3vV66piWXZoofVbTffKXftvV467OX+i78jU+hLz36cCyYWULuVnFwP3Mxub9WcduC4FqMVx77vmlUDY//0whZDs9vV7Iuf7fS8ZNbuUqKBjAuu1DfzarYeifC4utKLBeuAqO+uCYZa7VbY8y/r+VpIu7bef2q7sFg0ty/zfkhu77nV7Kuo7Oy6uxf44OUfF81D1ioj6252vWrFia9WjTrxTXs/uw4jzqX5ricxAG5oOA69srsLut2aWyxSu+XtbNXdLWadOE17u1tnfhZfN1uFxZP1y13IWRee+7Ln9GJg7erm426hF1aGvkKJk6wvQCL3M1zCGZ6c2xnudk7XLfAUdrUxE1PezX7Qr9diAlvEE1tKtZHbiqRtctnd+NxdEe/yXkwxf01d6k4QM9Cn/5g3PjXJTvWvi73nq6NcgzJd3My/ziGh/SOxZr5gFoPDqx0/5Cs99SGbIikGNln3F180TKCp+Sv9fGGoOK53xIzGg3+m0kMdfcCvAtJJ/Jph5xFwEXJSnFg19KI4+HW56SFORa7j68KYB95KHZffVQV8eNRyNJqqr/Rlc+xSqvZt0VghnMkqIUNmsvlr9kQbivN49rOLoc6L9luzvBWZ+zqewq/iRpOzGx0kQvThVZtIVpW2XnNb/fonR85O8/ZTuxKtuqSzexgqbvCG+FmZxChsNpo4Yy1ienLr73Csu36VsxL1pRS0KNY42WoxwbtucT//stiKelEDPclDA88uyqXJbHU/ny1u5h8/5r7a1q3h93geT9ixZPllNM1GZp0sWTpVhueyZoO1jPk9BsgnQ/oivP+2WzHgTTi7BFq1n5slXgiZOa6a2/k6Ln19iMbOhuk4jwtzjm43qsP1iAe7soZcVSLTUmR8XFZS6r9ohJ89K2vX/lZXvBFmcf7l/lOGPyUDNDNXvnV6PLTxvjJvNNXZsTYLPq8tH0ayMgbYr5dpaNitCK6UuUKtR2pTT20aXdcGZR7Hdu7RZQnPmGVd0CzuxQ2f+2DS7ombdsQR6/G960RLKOYWKrnO9LFAofcr1bjCeVpuWPQ+vkvg1S6R1/n73qR8ffas5Kte0b4cnX9/ix3nlxL2WEeZYrIFt4wYJue16ey3WG2Lwy5qn2YLmBrKIN9fmtCtbuuLMZdfxmWTp9p3OrAyFJpag26jmWKDhm5Vvar77o1cIFoGy5qflR682dmEeujRxi4CK9SW1sXyZ+dm5zfza2W0P8cvgoXZ2HL399g/Xt1Kv70ez2ulurdWltDPqyYdLwesB6jOZsQjC8pfatM9O4XdIpYNtQVZXAnYt40OhUoV7kfPtGhv9/29bEW427qZdlkqQ3n3VZWRfDt+RQszuce8kr5LOY/bzZ1lXjS759fG+C/d/nHkvx5PXjar5R+z+Wr/EPmfk+f7h9WTxz+cHv3r8XB0cI+ADvWMaDB1hC/i0cFVAsKGoXAZj3IVcOoN3Loq0MP4Dyg4T1CGkAV2uDsU0GHgIHoVjt7ujo5P/LAELbDQflDe7Q7P/agEAFAIAHAIANASAEAUAFAsAMCGoR1Y7yhI3u+OLuxoGrQP+wYe+WFpEjKoO+AuhLXLydBVkqGTydDlZOiqydCJZOgsFsCGWDj5ujs6s6NNONrGo9IiQFDzgQ6FcHQaopAYp3HqnAdrUV4IRMPWuBy7Rb0UqFJLOZRNzF1oEvWjcd2ZJnOPmkBj3DgN9MJfZYRD3hiPexfk4C8yOIAhsgHjygtMzIZgErmCcW0NJrM/mMAmYUJ0ioLBLgqa5lJoHMbYPUwQFlK0LncYm4nxsZwUtmJSJScrBmNyLSeT1ZgQ/aZgMJ2CNhltBSIPMp6NaPADNCJDFE7jZETO2YiK8kIgMiLj0oiKeilQpZbSiEzMnW4Sdbpx3ekmc6ebQEZknIyo8FcZoREZYyNyQRpRkcGIDJERGVdGZGI2IpPIiIxrIzKZjcgENiITohEVDEZU0DSXQiMyxkZkgjCionW5w9iIjI/lpDAikyo5WTEik2s5mYzIhGhEBYMRFbTJaCsQGZHxbEQYGnSjyCmwUSRfIpHNKcgvapxsKorSq0KRyxofa4i0rlgi50rUKWGiqLMmluHUiSp5WhTJ2IL4qsLR4qLAPkeqNLtQBhwvcrK9KCrviyWyAUadXDCK2gpjGfbDqLIpRjU6Y9DAHgOfVsqjUUaB3TKqwjJDga6SCmyeUfzu0BA2GvWxoVEx1FhmdGgka41q9NeggckGvqnwbY2T50YxG68TtF2k1CEokeUGiQ0XxBeaktmiJK0WClxqWq+6NFnUcx6hSlmEks4hLMEZhBpZK0pkrCC9khRNFTFbatCkoUIJsFOkZKYoKStFPRspqmSjKGkTxRJsoaixgaIW7RMUME+gU1kWjRMx2yZqwjRB7mQ3s2Gi9J0kF2aJaj3JK0aJJUaSPJkkatEiQQGDBLqRdKspWSNK2RiH1qMrGqKQGyc/dM5mWJQXApENGpceWNRLgSq1lNZnYk4JkygfjOtkMJkzwQTyOuNkdIW/yggtzhj7mwvS3IoMzmaIbM248jQTs6GZRG5mXFuZyexjJrCJmRAdrGCwr4KmuRQalzF2LROEZRWtyx3GZmV8LCeFTZlUycmKQZlcy8lkTSZEXyoYTKmgTUZbgciLjGcjKnVFJ3JGAXWBvAgENiOTXihGduSC9COTLxWrVVZakqu5/12jBHBBZ4DrnAKukC+5QMZkwivB0JocsjeBIs3JdHAnZ2RPLih/cjUblGvkUC5oi3KdPcoVNilXoksZB5syNhXl0KgcslO5IqzKxE50IZuVC6PpKuzKtVq6VgzL9Wq6JstyJXqWcTAtYxvBtoqRb7mQjatUDI3LGQXXBTIuENi4THqhGBmXC9K4TL5UrFZZaVyu5kxwjTLBBZ0JrnMmuELG5QIZlwmvBEPjcsjGBYo0LtPBuJyRcbmgjMvVbFyukXG5oI3LdTYuV9i4XInGZRyMy9hUlEPjcsjG5YowLhM70YVsXC6MpqswLtdq6VoxLter6ZqMy5VoXMbBuIxtBNsqRsblQjau1fBDH16FQiiwBZNlGWbDGoQXmZBZFSytahAvM9HVkyZVtNznRaEeL1j3d1G5twsnayqYjGnArxJBUyqILcm4NKRBBTsqhMyoYGVFRctGVBSyoYK1CRWVLahwNqDCo/0MFMxnINNUBo2nILadwoXpDFKXuocNp+CRxBNmUxSdeBWjKWol8ZLJFB4tZqBgMAPZJLLNhKyl4GwsQ7qjsxiiEBonb3HO5lKUFwKRvRiX/lLUS4EqtZQWY2LuapOor43rzjaZe9sE8hnjZDSFv8oIrcYYe40L0myKDG5jiOzGuPIbE7PhmESOY1xbjsnsOSaw6ZgQXadgsJ2CprkUGo8xdh4ThPUUrcsdxuZjfCwnhf2YVMnJigGZXMvJZEEmRA8qGEyooE1GW4HIh4wnI/rzkJvHfuSdYSjED3joHqMlaoAoYKBYrIBZmIANEXJy+F2vxz+cGBl+uqugn6DQqRErNKDyShyVLJiLD8OfixecihdrTh8wgT7y8w49t+7pj2Jn9qi4OKDQR8BTl/e09BEg6wlg1hPAhp4AUizVkXvBz4MNuLZ3gGd+VFoHCKrstATQv9YiN6DSCRA+QxRD4xRI4yqaJuaQmkRxNc7BNYEjbEIMs2GKdeHvcximuRSE3hDF33juBM59Ol/qjn4fYeyOgrg7CufuKFx2RxFFdxSJu6Pw1B1FSN1RBOqOgrk7Bv4+h2GaS2F3FMTdUbjojkHi7hgwdcevQ0889aNyKkAl/oBC6IFDhYCWgAOyWAOzMAMbIgykBNfRzBYU/VFcQfWotACQWE/1PC2lehpXUT2iFVLPaHHUs7Au6klpgaPSW8eOfIXRH8VFTI/iyv+A8pKm52k1c6C27S/guL7pEa1dekbLlj1r41Guc1upYCsr2OaatHKR1Suijm1c7vcorvR/xTEB0V/tx+W5HZkzOSrRRxQW+wfhb8MIO6w+/oYjDFDJT0AhUsAhUkBLpABZPIBZnwEb8hNICZGjWTzKLZjlFswqLZjJFsxyC2aiBTPRgllqwSy3IK60/paXWHvUhY90uZldpU2dbFOX28QXCaCI1naitV1o7cvJ4Tr83I+i/fVIeF3Pk9f1NHpdj+TFYq+QC/asjDpA0fJeDv525kdx7n+J/oYoz/gvyd+Qgr8BjtP/y+BvwGjSfzn4GxzlOreVCraygm2uCfsbKKKO5m+A4trj5QSviV9O0uXwy5TVwJMrv5yk69+XIqtBIVd+OckXvC8nfK27J9uQLduc1ducvcGAcVyQQF9GqhotVOS7p6YxRKoeTlSIRxbJNMhIpfEWVUgPEiijSaUByapIfSqSRwEXyCOWStCQIZXHCMk8pKPcVoXRsMgxT0W+13B2AlK1KVCh8bazVZBKrhFVMBASyEtIVbZCRbLDUAEyG1K171AhtiCS2Y1IjsYUxW1thLFdkZrs47fJcGP52A/tnjKyeDvZlffxcH9ZeWFH/d3VMz+0e3nA8Kad4/ijr1ky/sT41oL1GwYCUOrz38Ke6mNiHIfanmqS3wsGYQk7js+IcYDkjmPSaqEKOscLd+lSLDhyapfuIJV7LRg+Yxw+F2T48NYRMwgf3jsqLU03j5Igwle0WviCzuEr4jbHgsNnXIQvDM4QxKikUJKsAxoKva8qGNwghBBHJQU6yircoUQ16LlUCn0yQhnN1A1VIxwKDNNU6AZj3AEuyNAX+b1gEO6CMNDGOMQmiOAWrRbWoHNAi7jNseAgGk/h2y154W5DfxQvYnsUr9V7JK5re56ua3sar2t7RFevPaOr156Fq9eexGv1y6Hvz/woLjsvc3+78N5m1Muhjz0u/9gdPbGjD9b/l9jNgKDpTsttBD+l3UYYUPFp6AZD1BfGqUOMq14xMXeNSdQ/xrmTTOCeMiF2l2HqM5y/KQzce5XZm1ToR5y7TyOCHsXp/IIQ9a2azEmiXk6P/QYe9k5Cf0dOnR5F6vkoqu6PJXIORJ0SIYqcDVHllIhqzIuoUXKkndwqepwmY/u4VRFImLRt+VRwSJ20nflCcUqi6mZmpVM6BY1zCjadQUYhpXxCibIJJZVLqOdMQpXyCCXOItQ4h1CLGYQK5Q9tWc1x4typb1jNBSBvaMfmaaKQM7SP8yJTypfKLs6sUq6AwplStgRBmhiiHDFOCWJcZYeJOTVMorwwzklhAmeECTEdDFMu4MY+CgNnQWVbH6nQ/7jl7TQi6HncBXdBiPpc7YEjiXq7YO7qeJsDe5wV6niWqf9ZVmnAZXI2cAlKCpY5N1jnFGE9ZgqrlDAkv63GlNMnySqLqBAkEymQU6RAapECGcYKJRrLOd+oBKUdqZx9tocH8s4ZZZwLlGsuqCxzNeeXa5RZLnBOucLZ5ErMI+eUQWHHHkeEs6a2X49lyJSwhe2UGGRH2NZ2wYwyQm5qY42ywDj3f7nchO43RL1vnDrfuOp7E3PXm0Q9b5w73gTudxNitxumXsfbEBQG7vPKTQhSocfxFsRpRNDfeFfighD1tronQRL1dcHc1eWVUOhqQ9TVxqmrjauuNjF3tUnU1ca5q03grjYhdrVh6mp8sZvCwF1dea2bVOhqfOX5NCLoanwL+oIQdbV6B5ok6uqCqav/GHp5eCX9D+xhZKV3kcUXf0HAe2KA7dVfYP6GL0B/xRdgeccXUOlBYLPQMntDBVB8i7BH4sldz9Pjup7GZ3Q9omduPaOHjD0L7wn2JD5w+wP67fipocYyqT+KD5V6VBIUUX583fP00OlA4Ykr4Pj8ukf0PLpn9L7bnrXxKNe5rVSwlRVsc034cSgooo724BNQfDr+B46OIfqvJvgGfH8U34DvkXgDvufpDfiexjfgeyTfgO8VegO+Z/QGfM/CG/CvJ4e3Hk78KLp2j4Qx9zx5ck+jHfdIvsPUK+TRPSvxBxQd+PVgvqd+FF9tfJ0t14V3NoheYy8BEqP8NfUS0DjKX4teAoXG/+vQS8DC+H8d5ojXYXp4PUwDrn2II+g1mf9Ayy1K6H1DlALGVR6YmJPBJMoI4zotTObcMIESxDhlCd5kPiVE+VK5yUwqZI4hSh/jKodMzIlkEmWTcZ1SJnNemcDJZULMsHwf3dA0B+JDLsVZp26aD1J5sgqpZ4hSz7hKPRNz6plEqWdcp57JnHomUOoZp9TDB+ynhCj1Ko/XSYXUM0SpZ1ylnok59Uyi1DOuU89kTj0TOPVMiKmHLxBQhkxzID7kUpx66u2BIqX3/U6kwGk48r6fLiJSUr/vp9VKelbe99Myp6p+30+qmLb6jYaKKlM4lMFEjgKnc1RlUsciIrVjAU7wqFbSPBZKyR7llPJRpsRPL3rILJ3WQvmh9ok0IKpveRwKvJnwPsg3k7QP8g0/6yTMxXmbF+FUPG1xTEL6SGgWfyyI9NFdfuO1bH9I17I9o2vZnqlr2V7I17I9pmvZnvG1bA/5WraH8Vq2R3Qt+3YwsjM/iiPpbbIs4GnMvEVzAiRHx9tgQ8Diu6Nv0XAczWIjZqIH7Br8iaNaB8x0B8xEB/hlOHyviv8sx98uxP2j1+0CfPgtJCN8jqrQiNbaxXlgleY2urnh+hx5CYNXuxFRaFQUPm2/fGr6ennntbFIK5rT1qre6qq3oqf40h0lUX27dsdyucP84t2LrehQNGgl+of2cIGybu7mOTO6WKgTp+lqcet03DoRN37RGSURt051e5eTfxMPt3QoGoOvnA3nww3WpWTaYZ0E9mK9xzqpImRpl3USkj/nfdZJoWClndYsgGenqx/myr3V1Q9L5OO1qx+W2dHT1Q9z8vbCZ6LZyeVNIKs3Ptq/yvRNq/Vvsn8Tqt3LE4FxMhdf9YSBz4sh/hpVyzRDmMA25MJYqNSE4ZqYNUykqcN4LYx5EilKmkmK0IrCaU4xYbSdanYxrZYStXnG9Fpb04xjQiUz0txThJVitRCkqcgFOR8VWUxKRepE8TQ9mTDaBWqiMq3WBbUpy/RaF+TJy5TKqN0ItlWs1nw1q4ULjjC3RSV9Z5TTPBdlHfdYRkU/lkh9EOU8/0U9BzzqHPaophkx3ZQ5kwLPjiM3ZXQRMVPqmzJarcyalZsyWuYZVN+UkeqsGrI8p0aZZ9ao/gcZJWfZWGI8o/KMG+XvJFSafaPKTkv3BaLbyZsG+ovr7clzc5STO5P8/ZDL2ZpKqDk7FuGZO6rjnSJm8aDnuTzIbfWDeV6P8n8QHTnHxxLjCVmd72Op8QjluT/Ko3mZ1wFBXtWV8fDllQHJen0QCqlVQijQVT+aVwxR/g86V64eYonxzq2uJGKp8c4Vq4qoj3rSpqps68p46PKa492w0DjzozhHvsMFBSAxV76jhQPQOCu+CwsEYHTv+x0sBIDEKe7dhF8/ejdJbx6VJwPY1rRDijm1Wu+QYjG3P+2QYs6RyDukWIgxSTukiFN0KjuLwuMRjJPeWSRFitjIziJZIsdO7yySIkexsrNIqjGeemeREimyY5ts4NESBldtshESBba6yUboOahqk42QOKByk43QYjDVJpssUSDrO1DKAziMYdqBwpyip3egsJjjlnagMOeI5R0oLMRYpR0oxClKlZ0b73h7Ql2hgNV2blRkFb6RnRuVEhTM6s6Nis6hrezcqKgU6NEtC6xy2MOWhcQo1HnLQhJUeOWWhaRRSMWWhaRwGNOWhcQpdJU3/J1zuOyPHTxXjMLlAoXLBRUuV3O4XKNwucDhcoXD5UoMl3MKlwkULuMcruEH3J9nQqEqmAJVsApT0XKQikIhKpgDVDiHp/AYnEIpNAOmwAyUwvJ+CMlTPyrhABR/S/R9CgPw9Fui77H5gOi3RN+HZgMLvyX6Hpvr6EVoz4vYcz2KV1wuXMajmAo9Ev3d89TXPY393CN5y6pXqPd7Fm9O9Sh27x75b8T2R3G7QY9KCACFhgBPmxJ6WhoCyKoLzHoM2NBjQEoLHJUr2zMg5TbQeUGxk5ucmHaPB5FOzEYmZrh/AzjnayPytRH5andkHLXxKDejrdS5lXVuc+X4Tgoootp2ywRQHlNwb8Q6BO9JeM91oWe7nI1dJfU6mXpdTj2+mQCKSMpOJGUXknI6uN65H8XXtaboeoDELogpuR7QuAtiGlwPGO3HmILrAYnbH6YTfHVyit4FSLwkOSXvAhpfh5wK7wKFXnyconcBiq84Tie452eK3gUo2vc0eRfwZMJT9C5AZLXT4F3AwgQ7Re9yVJzqqZG9fupHpU2A4jub02RUwNPvA03ZqADHX9qbBqMCRj+XN0Wj8oa1oUCbm6F+CXpKRgU0V07/EvQ0GBWw+EvQUzQqR2ZU3h9dKNDlhqhfOZySIwHNDdE/YjgNjgRMxD/+RuGebMM42ebxvE3j9sNgZMMPZX1AJ0NmDzSBxbvAIOCtX8B2vxeYP6QE6DdtAZY7tYDsGaSzvaU9PbcjmyodxanSOU6VTm2qdMRTpSs+VTqzqdKRTZWG+mXLmTXCHwUCiwuyD8nUsGz+lbIPaGvIaPr7EHwNC5b4A7L4OyuT+xMgw7LMC9FnGtFcf/iGrNLeRrc3PlsDLuLQiDg0Kg78wGzP5mE4zeO46xFtVv4weCV8RyuC0NYa3OoGt6Jh6RkZSD74ANrjMGCio3115wxXd54AXRyhnbCXrmYlnbaSTlhJel4EknKZTrlMRy6DDy0S44akxxZJkM1UDy6Sxg3Ojy6SktrHDy8SZz/F7YWDWaXthcyVvarthSyR0da2F7LMlpu2FzIn8y0cHcoYD0kTyIuNy/Fqqhi0pvHINYF9yYRkTqaQUxuPF9HGacTyMyv+GlXL5OAmsI27MBYqZeiuCVc3sRbH5O8mVOOYnL4IYPeGyPONs/EXoRXfm6YAE0aDpSYD02rxqE0LptfileYHE3iSSE85WRDTRZFwzjBW81s9e5g6YqtpHjGhMpmYXrXdPK2YQrZLjyMV5harB5JKkwGpPJJUModFPpRUYmq8eCypJJ55QIPJBynNPyipKQj1PAuhShMRSnouwhI8HaFGMxJKNCmBhA6MmK0CNZqdUJJGggWEl6DMdoIaOwZqyWRRpPkKJZqywvPqYBziSbb4vkrV0/SFGs9gQftOONU8FmQxlaE+Eu40oaE2Fu40rYEGMxtSmtxQ4vkNtFafI81yqH0voGquQ3kkYLUZD4ukCyIUeeJDjec+9fqE0MQMCCpOgohHZgU9FWKBcedPEyJqlTkRi4xNDnlmRDFODvudwl8tq/ZHm3DkP5feH8X7cz1K9+GKZeL3FrTJaJs/yKcxns81WDCeq6BNRtv8QT6X8Xyu8M4TnDDwTYVvK9/D549irgR0JVQB6EbSrfwGPjlK+dTlJRw4b0GbjLb5g3w64/lc9i4FnMzYRrCt+Cyfz4V8QnsbAU5obCPYVnyWT+hCPiH8zfuTQDaJbNOn+ETib94PCv5Z65OINhlt8wf5VOrPWh+kqx292luLHcUXG/ZkYefsj+KE16P4/B+E+MzqapLekLia4J8YvEIHBySetF2RXwONT9quhDuDQk/aroIXAws/nHgVOudqgk8XrjD+gFJdr3E5dl7I56B/VpG9TnchzgP+nEvq70l7Ns8D/pxLVr4n/bJF+SYTPqvS+tsOU/5k/WV2vQ/h+UD7L85/R+Qoy6TlSMULb0NfbVTEkbY/egjaNmjU2zzQBqo7zTDXByfk0/gNm/ylD7nUNpfiiqo5epB0ahjm2hYOtcWdiPSlD7nUNpfi2qqdiUVSbz2Xqsm3npWIldfLg8gfKuW3lfKpQbVlw6Cry7ZzVrhFtNY4TV+1kSd4kGW3siy3o7ICKapfxqVmgJTaARo2BPBGn+RBl97q0qkxqOXW8LvOQ23Tu87EoQV5+WXoIZfa5lJcY7UiG6T01utQrfzWKwtQYbGEc/Ygym1FOa60XNYNWnr5dKhcfvmUBai1WAc6exDltqIc11quDQ/ax8nhftSpH8VFWI/K3SdA4l2JnqelWk/juxI9ojciekZvRPQsvBHRk/i2x0eIuJPdeFg063V/8+NpgfFDTW4ovZFzQLqh+Y2cA01v5PQ4t5/fyOmZaH8bj3Kd1es3PZcVbHNN9Os3vSLqSK/f9Ch3CP1F7o95CfQkCgM9rJr21xf9Nks/svsjjuwmHqC4hfIglMvslUD0tcbpu52rE4j9oVKgk9V2h2pVnDj+jTnx5+X0X5b7PIyEEz+KfvEZRwKifDnzmUYCUhgJgONVzucwEoDRtcznYSTAUa5zW6lgKyvY5prwSABF1LGNV4mfcSQMKO9a1wK1pbJnvaKKRtd3rFcK5L6q7FfXKkentl9dym1VGA2L7O36ZnRdYLRZlXSo7UTXMiVJZSP6Qb2bDDeI/Sh6Ro/ET5X3HO8CO40/Vd4j+VPlvUI/Vd4z+qnynoWfKr8bbOiwqrlDGwKEtevpMjR2mRu7rDR2KRu7zI1dVhu7FI1disYuU2PjfcJlaPoyN52XigMNj8SPIqIgVB6Ik5jDkR+HE9eBEQ/DSeAQpUfhEUOw8BKfAsFhU5f4gxR+FekoIopd5TeRSMyxy7+IRFzHLv8eEgscu/RzSBFD7MKPIcVAcOzUDYci5d+KOFICx3HslyJkERHTyu9ESLUS38qvRGg5xVr/SIQSMe75JyJUKFMfVH8gYihQbm1DHxii6BtXcTcxR9wkirVxHWWTOb4mcGRNiDHNjwOWeO+fAsERVPf+D9JuvUB3+/eEbtC3w4n9I5tw5NdKbVhFt3kV3cpVdFmccFXSjVHiUCm8MUroIZ9nKxBVtP7wspW3Gs+ExvVOtxqHmqZbjYo/VCqwrXFq0HeeUML6jtukbjVmCdpDtxozfZCn3WpK7Rh92NnyzbmziLn+eHNuqCbenCP0kM+zFYgqXH9c2o7u5meV604yNIGUTVV5qFZlW1eoeSznVlY23rf5FiQL0KZwC5LZgzjZVjGq+8iT5XKx0d/ROz+PqHwNc9vQSDzuaiQRTs2S7W8k7pscSfCdjiSU7Y6Ebc9j5FcZXQtUCUN5VJh5eeyXlCExnkV8k0ve7Bo+u89cVKOpVK+pVK8Z66Wm3kvxj4WRVunBptaDTa0HP2YkOvS2koHxFhirnzKaC1SJ53wsbvN63OaV2MxrsZnXYvPfGYlSn0djsBCo0uDF+BfZX1aL/C4j0cZl5ZzLStIuR+uyrIzvVqDKidux3m3rvdtWejf9mTqSa53fVsLaVpr4RaAyzZDN/DsXXQlUCdCq0jOr0Z4REVtXTrCunGBdtdP16KkVGv1AJ1Clrt1YtnT1bOkq2cLXVSzXsqWrWUWnJ8L9QuMizvubjPx9eUPbXMoWGcyh+SR9yzX6Vonwt0o2fBOzkP7bp4Z52YUXmcfxGzYZwZorv4bWVl5Da+uvoX2Bip6eF+IPvwxtw0foBF/0dw/fUnt3KOo1sbyOdHjcRl9l6pmri+bjffnSw/9/OL8wtXywX+UcZWwrnayFaoqvXOmPuYUJzfJKadEecol1BY+ccD1yQrQ2pX63OkNfHIbZaljFH/tRvC20wrU7IHGTaEUrdqDx1tAqrNOB0R2fFazOgdgL84aGl+JOARwGy7mR3aLtMEhXsFwDgu0B7M0BOLQGSGkMoNIWR/EgdJTzRThI9VzUPjZ4nZPdmurEDpbhYPhWIEO+IcHzAB+C7+QLxt0syQMP+xS83O47z/wgnMt5h83pUig63WWd6rIudRnNniDkvuxyXw5zpYOv2LxtOBhqDsSrOMByRw2GoiEaj8ZpUBpXI9PEPDxNojFqnAeqCTxaTYhD1jCNW7+xicnBtzvPI/ZhbCQmhmGRHaalFDEl5olhygnjlBjwijETNW6LuMhEN0qOfhOjBRTsPlDIMpPoCIajLTgW3mBiNAi7TZ06mK2i8OwXRXFzMKKcAx56Uig6HVVlJOKJJys6VbSvpMedzCuJFG0G7u1TaLaZRNcRt+wHJfytJkJkPekvNTFX1iP/UBNJZD35zzSxwNaT/koTYbIe+iNNp0yD9RTs1mMk5pNhkU+mpXwyJeaTYcoY45QxsCuBiTKNIi4y0Y2S1mNitJ6C3XoKWWYSrcdwtB7HwnpMjNZjL+OnDmbrEX8biT7h7mJEWQ+8M0Ch6HRUlfWIFwZY0amirSe9LcC8kkjReuBVAQrNNpNoPeI9gaKEp9doQFFgG4oqm1FUpSXFIsKYYgG2p6gmk4pysqook2FFkW0rqJSppEULCyIYWeSUo1FUmRpL5HyNOmVtFDk7o8o5GtQql5YViixqfCwU2gpjETLEIIItBr6scbLIKJJRkqjsMhYh0wzil0p6JQMNqrDRoINfRi4tlV8lkiFle62/SKRLfCd12XDH3iLSZUbTO1mweoVIal8rId7WOFlz7fWhg563VoktVeVNhuEjfP02FEqrfuLwDXpv3TpN3sTxGyobLtfiT4knBb9Hemr5hB4RUoXv9LFBWziHo/3fzGUS7wY6Frf6ivg+kandfy1k/+fjn0VSZlrCMENGpdzoHe7gnmZxUA73hb8O0/zBbL7i3A6oTOiA4jvYzvHFa6f2trUjf3vamb8u7qzsY3Zir04bKonw1NoU9Sa3yd+tB6Tb1Mg2xVfnHeemNqKpjWhqG49yndtKBVtZwTbXJL3X7oqoo7/B7ijHnn5vd1PWjed2FN/v24QVoqO4LHSe3gLchAWgI1/1OfOlnrOyvnNiizpDJaGeWJt80bfBhAIUt/FsUkIBT+vbDScU4LjW3YSEAkar2s2QUHCU69xWKtjKCra5JulneFwRdfQf3XEUF9QbTKhD8B8muH3vAYMPKG7fe0jBB56etz1w8AHHTXMPIfjAaPvetriqH9lodmSu6kjsbNmyqzqNe1i20VWd0SacLbqqk7ghZYvT65GhWKDJjaItS9tsq85lo8SOpG2wVUeirbzhaFts1Y9yndV+oi3bqtNcE71daBtt1VncGLQNtmrIly9D9PGBxAkhalN6IMFcNVg9kGCJmp4fSLDA3cEPJBhTHNLSlWIhinJOGqfEdD4SC5GiLuU8Na0Sp5SxJtTi1ApUaaDMYhPrDeF8Nq6T2uRaWzi9jVf6NiU6vDINuY6UIoASZTxKKj6o5xChSlFCiSOBGncsanEMoEKhUr+rkYOlP8DjASUaEkEaD5YYGEHNYwPleizTCEFtJJatpvW2y9GC+mgDecygpIcNlhhpIw8elOpJwUPoW1mvnttRXIN/C+tVQHkN/o3Xq0Bxveo4Ls2/xfWqM1qafyvrVT/KdW4rFWxlBdtck7RedUXU0derjuK1wjeciRhR/dNMlLhonJqJkpT7Ic1EzLm1eSYioRWo0kDZS2omYqlS2Uqn5ZmIBeq+NBMNvNyvUoiaaJz60Llouom56S7lPjSNwmKc220C92ERWoEqDZR9aGK9IdyHxnUfmlxrC/ehcepD/BWkGqamBo36M2oiFKFADkeUc98GnUIWNI5LELmfUWwreCQIss9DgfGGct8HTfd/KDLWVs6DoEEu/Ot//z8nhUqv",Tst="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",Pst="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",Rst="eJyFnV9TG0myxb8K0U/3RjC7NgZj5o0ZZnYGz5pZGyH3bsyDEA3oImhWfxCajf3ut1Xqyjx5Mkt+cbh/p9RdlZV1qrrVJf5T/dg+PjZPi+r76urvy/nortk7PPpwfLh39P7DyUm1X/3cPi0+jR6brsDl5LGZf/dDO735dTGaTsYbdTmdorq3UfdUHj1Opmss0MFhM7m731xwU7Y73pY+fbqbdqW+e3vUkfnPk9fm5vfJYnxffb+YLZv96sf70Ww0XjSzL83msz+9Lpqnm+bmc/s4euqr+cMP7Wv1/b++O3jzZv+7g7cf9k9O3u+fHLz9Y78adGVn08lT83s7nywm7dPmSl0xFS7vJ+OHp2Y+r74/6vhVM5unYtWbNwd/efPmTXeNT+1iMt605Mf2eT3bNGLvf8b/u/f25MPR/ubf4/Tvyebfkzfp33fp3+O905v2utn7sp4vmsf53q9P43b23M5Gi+bmL3t7p9Pp3ufN2eZ7n5t5M3vp6DaYk/neaG8xG900j6PZw157u/fb5KldrJ+b735puk+d/m1v9HTz13a2N+k+PF9ezyc3k9Fs0sz/0lX3p+4yN5Onuy/j+yZ1QKrFl0X3kdHsJqtdwR9Hz7/0ffL+/cl+9TUfHb4/2K9O5+NNpGed+OHdfnXWyHEX4+P96svi5pdhV/Yg/feq++/bg7fb/vp7s5hNxl1E//Wfavi1+v5gE9lPXU3mz6MukP/d3+J3XcwSbl7H09Gj8KOjoy3/97LtQnU9VeVNf6Kn5eP1pqfunrx2006no5nwD+/ebflzMxtvMj4Lx8cftsLosZPmXXi0ZvkzqQapy732PJo1T9PmtiTZj0n1RvPNGecPqhz3yvN0ORcqMRt3A3XkL3G/fr5vnnzxrimTVltykBs5n47m9742fzaz1tP2qfFwsQpKLu5nTVD2tl3OAjp5CcrOJ68BbF6aoG+bOKZPE6iwhGjcTtsnj+fN48RK0gPTjQ842vx7OZp6fDdrupEcNPPfy2aevEZT8KDve637+/fHW3bq0Q8e/ahpe9Cf7MyX+smjn/0H/+aHwC9+UP7qG3buT/9R0du3W/Sbtjuf6+++Ep88uvDn+t2X+oevxGewjvdb9MWf69Kfa+DPdeVrP/SlvvrT1x790yffdTeZPTQLYxsyRq87zY5T/hx5yrF4yngyGU9m4+Wj77XlxrXn3dQTDJHkb6Yy6lMeXQs6PDzsx1jgv75UcOVb/8E73433PkgTj/7Pn+vBl9IhLGn/6K8YmE5ge8/BqPdDaObR3Ndr4Sux9CF88Um48pV49R9c+0r8qejwg+aXTYSDg9zrMJna8ruycTGZ3hSn+pt2FcTZzM46EyzSQk2T421u/+1mYYg+K59ZR3PH7bSdTQI+bwpnGS9n3TQ+XvsuS8NmPklL18D+t6uWeFjdLSed8tgu4pXDRk4n/oZMoc+JczsJWLB+6lZy4XLgZnR3F01pW45LMVpwbPqumTU3/qPdWmh0Nxs9g6nlj153dxFN0EoN7/VoviPCu9XC+ks6wOrdXUGOzXQ6eZ5P5oHUtXVx3y7NWtFN+ya5tedmo5fABkfj5SJauiQvv502r16jkZXx42g8i5Y717MmuvBNuxiNzYhTadL1JAZAlBmOQ61sc9OFNFqjLp/uRrPl43S0DC7T3nXLzIfgdCNsB/TLo8nZk2xwp7rqOXjf53w7u7ntlnlmXagLFDvH6vrDcrnAhV7gncwJs5vHzueWU7yCnGmkTDzjZjPk5/Ng+poW1uZtoZ5tkPTd6OxuiLush16TlZzrUJ2Ybf7p5G+zRiemsEv1dLbvdG3kaiCTxc3kZXITdFJta6bL5WBoaLXth3SdF3xIJ0gagzJVpzsvGiTQVH9KvZ4ZKIp9GKTmNBr0M9RD0hP0Ab0HcBfRO4bOIeAWxN5iUkOPD4+z2D/0CC5FnqOrQpsH2so4Lp+iCujwKOWotVRd50dn0xup0tmsrUI4vVFqhphmAidH1MWrvfrhSR+waftn83QXXP6zvYTew0WN1OTYOUgCUYcXTyOylrUVga6mturdj4+c9tF9OwtadUFX1zAURsEXcok32WwLYRvQBTRidmozjzfmy7TGmQX1pRSUKJY42Wo2wcfldDF5nq6DelEDNcltd+RE6lZbi8loejO5vfV9tS5bwyd7HU3YXcny08402zHrlKVxoaOfSjZIHQqeEo/NX+lE+PCtWzDgEzi5AZq1D80T3gaJOc6au8ncLnx1iNLKS6djPy7kXmTZjWpzN6LBphWkDMyCobU8lmRcFlLqn2Tahyd55Zqec9mnYNLKnxb3vq4/Fg1wGvnWu7xsWxRMpinOjqVZ8LS0fNiRlYUA/1kaGqVKXZR6pDT1lDx3XrpyeRxf7FyW8IyZ1wXNdBE87lkYk1ZPXLU7HDFY6b3PJhe0xNZIQxWuM3UsUOj1PtWucI6P0Me7BJ51iQxVk2nE3cJ8OMj5OgonpI/hIkPuMGzH6T2MfKkTmWJ5ofFrITV/LY3x32j+y3HoonY/msKztzzIN7cm9Jxb+iJyefFlu2zSVPtGB9I6SILA87Pc31gzxQb13Rr16iic67+E613J4PgWRzKss4noG4+2MOX/WKjEkjL/UOz8ZjKOjPasMKHNdrbmk+0frW5huft5d17vXFqfFs55WjTp+HbgovDs8M9g4tSlSGG6LznFQ9iUN9mrzEpAz7ZzKNgq6PPdnVeatneb/n5qg0dVrTdTSR8v5QzqTlUYyXfhTYM8X4GZXGNeSN+ncB6H7w/dFKGeXxrjPy0330X+sV99bGZPv48ms803yP+qTjdfVVf7370/+mO/P9q6h0HbelrUmzrCv22O3sjR1lUMwoahcNEdHelRrgIgSA7DpasM3Y5/g4zzGKUPmWHbp0MGbQcOon9sjqT1l/YoxwyRab0KA3PWgW/9oND6Qdj6gW/9oNj6QdD6vPAzLNkJkqvu6ETaMOyOuqk4H9bd4bEe5SYBgqorhVcCOnyY8bI7eieFlvlsgEyAgMNVgOYAAaIAgSIBAiYBAtYHSMmLacPKHK3tkcRHEcZnS/tCOF4F0aAVTiNXOQ/frMAYFkQDWXg4mrMKQ1oQZbbwKL1F9DkuEiW68DjbReaUF4FGvXAa+pnD+M/oMkDkBMojO8jqwF+OjUH4rvAFFiFSIXwFsxC5FD5nGyJY78gYDCQjdJHMwEoEkZ8I96aSpchZsgb2Iog8RnhkNCJ6txGJLEd47Dsis/mIwA4kgrWhjF98q1cerQNE1iTc+1NvE+hPgsifhJM/KWd/ygr4kyDyJ+GhP2UV/EkQDTDh0QAT0Q8wkWiACY8HmMg8wEQgfxJO/pQ5+FNGlwEif1Ie+VNWB/5y7E/Cd4Uv8CeRCuEr+JPIpfA5fxLB+lPG4E8ZoT9lBv4kiPxJuPenLEX+lDXwJ0HkT8IjfxLR+5NI5E/CY38Smf1JBPYnEaw/ZfziW73yaB0g8ifh3p8wNGhSlpNTWZHsikT2LCODcVlO7mXF0MJMEfAxy2k0WjEakraEH5dWp8FpxXiE2jI8TK1KVmdF8jsjgukZflniZH8kRh5oigwK9WA3tOI34x/4otV3xb/gkLbMzvg7r7SqNUyjgWsajtZpBPBPy8lEreid1OiRnZoC4KmWk7FaMXJXW8JbrNXJZ60Ym60tw45rVbZdq1rvNdpLIU6rAl+XOPmxFb0pK0FLRkqGjBLZsZHYjEEEK0ZKRoxSaMNQAEwYKVkASpEBoO6HP6o0+FGKhz6W4IGPGtkuSmS6IIHlAr2MKdmtkSKzhQKD8OpstCh9I8qByaJajnLBYLHEjig7c0XNWisoYKxA0VYBg6kiJUtFyRsqqJGdggxmipSsFKXISFH3NooqmShKsYViCTZQ1Ng+UbPmCcpLGJNVSNcxJdNEyVtm33r0S0FklsLJKZWzTWYFPFIQGaTw0B2zCtYoiEas8Gi4iujHqkg0UIXHo1RkHqIikAsKJwvMHPwvo8sAkfMpj2wvqwN/OTY84bvCF1idSIXwFUxO5FL4nL2JYL0tYzC2jNDVMgNLE0R+JtybWZYiJ8sa2Jgg8jDhkYGJ6N1LJLIu4bFvicymJQI7lgjWrjJ+8a1eebQOEFmUcO9Pua5oUMrIoVQgiwKBPUokMCll5FIqhDYlMviUMhppKkRDTVU/1lSjwaZCPNpU5+GmCtmVCuRXIoBhCbuMGFkWCJFniTwIrsmupcLOWAa+pVoplgXnUr0YS+ddqljzEg7uJQztSyD4lzIyMBW8g4kWWZiI4GHKyMRUiFxMVW9jqpGPqRAbmersZKqwlalivUz4S9D+VcDWESM/U8EbWq4YGpoyMjQVyNBAYEMTCQxNGRmaCqGhiQyGpowGoQrRIFTVD0LVaBCqEA9C1XkQqkKGpgIZmghgaMIuI0aGBkJkaCIPgmuyoamwM5aBoalWimXB0FQvxtIZmirW0ISDoQlDQxMIhqaMDE0Fb2iiRYYmIhiaMjI0FSJDU9UbmmpkaCrEhqY6G5oqbGiqWEMT/hK0fxWwjaG9YyYxYQFbvdVm/W+UqANlQmaWMVmZYDayXgAby4RMLOPQwnoRDCwTGnIZRwMua364ZYUGW8bxUMsqD7TMybIyJsPqMdhVTy49IasSHBlVLw7cldikMt4RscCgshJHrGBOWS1EzBlT5taWegqm1BO0pB6BIWVCdpSxN6Neiayol8CIMiEbyjgyoax5C8oKGVDGsf1klc0nc7aezK3x9PTFtXXlyNoTWkFl7NdP/SBAvxFEhiOcHEc5W05WwHMEkekID10nq2A7gmgUCY+GkYh+HIlEA0l4PJJE5qEkArmPcLKfzMF/MroMEDmQ8siCsjrwl2MTEr4rfIENiVQIX8GIRC6Fz1mRCNaLMgYzygjdKDOwI0HkR8K9IWUpcqSsgSUJIk8SHpmSiN6VRCJbEh77kshsTCKwM4lgrSnjF9/qlUfrAJE9CXf+9ENHT7ujgyM5yp8FlL0EkAkpcLgC0BxIQBIkYBIfYH1ogOSBrWiQMlCOcgsAmeoCh+oCzdUFRF0OijQEmDQEWN+QLTkzcT/zcT/zcT8rxP0sjPuZj/tZEPezIO5nLu5nPu5nvRkcSXs2PnAoR7XRamuDZzTue9qbLkZGEIVHOMVIeBQoEX20RKKQCee4icDBE8FGUDCFMfMrHwYIaEa1L8WhFR7EN21itPHNiOObOcc38zC+WQzimyWOb+Yuvllw8c0CxTdjjm/Pr3wYML49qn0pF9/MXXx/7kPbT4Y/Y1iR5ZAiI4NSwTiUYrUoZeBECsGKFIoXKcphAzaSuT4d5aYAyi0BZBoCHNoBNDcDkLQCmDQCWN8GILkJira/cdk16uAkI2pjE3RQkxd/hhU6qIk7CHbdWh50XBN1XBN13EQyNh3lugMy1QQOtQSaKwNI6gJMqqKsldVaOrJru4RMTYC75V6iuSaAaMoFReoILN8GAMr5oKj/EVOTEDMzfmd2tCck9wKA7G1AEs6Ns557Uz33fnpesNLz0EXPvYGeB955HtjmuXPMc2+W5/2gP5T2jGyKneOgBxRk3TkNeqA2687NoAdGWXcOgx5IboEiGfRCrN74NsmIRxS3qQnbZIY7YN/UJmhqEzS1tUe+zm2hgm1YwdbXhAcYKEEdZYAB8rHXASZoaQosfUOWhYYsw4YsfUP4fgyUoCHLINhLk1cfq+2TkHd6ZO8sEwpuKhN395OJ2lvJhMK7yKTQDWRiOfyAcvgV6VD+iIkOKCc6Im8/HynRkUKiA7au9NEkOjBypY99osORr3NbqGAbVrD1NeFEByWooyQ6IGuTH/usPpC4S1YDsrVWjrVWKrVWxLVWRWutTCOrLPu9kLU98rVe+9qZqQ7HBQk0REiNRgsV8QOHCtAYIjUeTlSIRxbJNMhIpfFmVUgPEiijSaUByWqQ+lTEjwIu4EcslaAhQyqPEZJ5SFu5LQo7wxKOeSryrYazE5AamwIV2t12tgpSyTWsuiyNMPYSUiNboSLfGsNsNqTGvkOF2IJIZjci2RqTFddFYWdgvHP9Vm0f7b/9IEdyYwfIrORV2DwveHecj4bmqLZH4nyK0MuEmsfZ268OfusbrIXW/mxrfzbcc9/X2e25dzxqKW5Ip3MPPaoDRPWN9qOTFMUBt2FTcY5ItA27l2xKQHBIoBCxGgXKlrkqXXNYEuqiQM0j9VuNjILpB1T4UQ5seUD1BXq7w8AKopAqj4KZ1St/7qFHdYCo6sLLlY4ClbW1L87BEe6u8Kna3vdvlwXpyK6FEsp3zYCCNVHibiGUqF39JESrmcToO6bEzNdLidilzKc8pE4DRG0RTg0SHrVKRN80kah9wrmRInBLRbDNFUxtxi8bGFGb3ZcNzKM2R182sERt9l82sMBt5i8bGHObzQg/LQrcfqtyFKwaxsIWCSJiC3BcrOqiY2UXIytTpKxI8cpfnJ4GiGIknKIjPIqLiD4iIlEshHMUROD2i2BbLti2+aJv7qEe2Uc2F9hIQMFTnAtqGlD7FOfCNAgYPau5gGYAsc+hLvoZCo7s470LPy+poN8TXfSzkR59NSVro9HXRBdV9A3RBRrtISEKszNa5lHAI6NliULvjZYF7gQ2WsbUHbhWZUQdU1irknrl4zn06Kv/YO1LcbdFy9deMtu5oQMtp160InWlFaP+tCV8p1qdetaK3L1W5T62qu1oq1Fvux+eCDn1+64fnoiKXBV6ZVjgXwvnqQvlOSuKv7/Q67BpFRIDKaUFSpQUKEUpgbpPCFQpHVDiZECNUwE1mwioUBrQZviAUgqUN8P7Aldh5Ich/RqeoQ7LcrcX9oj3at4GCD0uiLpbOPW18KijRfS9LBJ1sXDuXxG4c0WwPSuYuhX3+DKiDi3s8SX1ysdz6NFX/8Hal+Lui7bE9pJ9xoVdyAr1JMvUoSxH/cplfPdyCepllrmzWec+Z912PauUASRflhXKBydHaUGFroo9NiwqX4tnq4uf4cxh2SeQ7JmD1FFGSaMCpYsKUaKo6lNENUoOFTgtVOGEUMWmgnJKArNz1jHq+NLOWZavgugOA/Y1+GwdlONODTeY9lp+ugO9KYg6Uzj1pfCoK0X0PSkSdaRw7kcRuBtFsL0omDoRn+Yxoi4sPM0j9crHc+jRV//B2pfizose8PUS3qQfEqK+czfpzKO+i27SWaK+8zfpLHDf8U06Y+o73LrAiPqusHWB1Csfz6FHX/0Ha1+K+y56038r/d5324cjOcqfBZQ7C5DpJ+BwBaC5dwBJxwCTPgHWdweQ3BOK9JWpdGRzLiGbbgkFmZa4S7JEbX4lRKmVGGVVYiahErG5tEH0nuQGNaaTGtulCdnX4rbIb2pJPOx488U0YLvDJSHavZIYbVzZsM2XzUfSLfINMyBbQeVYQaVSE0W8zUYVraMy2ZukSLYlCeKXEv9R4Y6GdGR3NCQU7GhI3O1oSNTuaEgo3NGQFNrRkBjtaEjM7Gj4XG1fDjnUIzsQEgqyPnGX9YnarE8ofNUrKTQeErPvrCVkk/9z76Hv9CinNSLjnCoMzHkGvr2DQnsHYXsHvr3cS6AE7R3Q+P8MvaRkY/Xb7+E+9y6vR7U9krxThPm1pfmRGfS+IAqJ8CguIvrgiEQREh6HSWSOlQiUIMIpS/AR5jtClC+FR5ikDvy5OX2E74pVkEgiFWJVSCmRS7FyySWCzTB8SksZMvSoDhBlXfRItpfy91yQeoIonMKjcIrowykShVN4HE6ROZwiUOoJp9TLHFJPEKWe8ij1sjrw5+bUE74rVkHqiVSIVSH1RC7FyqWeCDb1cC8VZcjQozpAlHrRXqosudcicyXi1yJjNQxw8bXIuAAHe+drkXEhF/j4tchY5YR17+C8CwVO3l3v4IRlBqVrunS26rdjHqW2LbAz5qU0t4V2x9ynvJUp8d3LSWGWDktCXRR4QBRfTtoW6Lo73dBtV7fpyK7CE8q3Q4CChXnibmGeqF2YJ0TL78T0FkFZ3tauxK7IL/vRrO25sDG4dOMWeBgQGaGAePWtiq6+leUBCEj26wlK2/UO5CjXGpBs11Nkt+spx+16SmW7niLdrqdMt+spy9v1lMh2PUHjdrrd1nWoZHtjqmXsJxrfSrkvRRS30tyXAoX7UigsSadIk05Z0Pj79fN9Y6u02cm3fX0sHdmXzRLS1ziEbe5vTyRL5f4WULD7MnG3+zJRu/syIcpLUGhfZmI5LwHZTZgbJPe32vqZadbMt1723CGyU4II8+Zx4jNnacos/SXoVyGUuxf8EpXXcBTxjgNV9N0cZUF/yu8+CFmZo7U98m3wLyPmaRVd2L3Wxpz8OH6tjUXvzO61Nubs0f61NhasW7vX2oiDb7vbAOaRg0e3ASyRl5duA1hmV3e3AczJ3zMHMxREHiic7F545IYieuMXidxfOE8BIrAVimAnA8E0I2ROg1uxmRsyDk7As4RwmiqU74hQMGmo5GcO0Wj6EM5ziAil6PFskjlMKYLIMoSzGWUBZhhBNM0Ij+YaEf2EIxLNOsLjqUdknn9EoElIOM1EmfN0lPnMR4MnJuE0OymPpqisBvNUlpa+NM9YwqNpS8TyfMATmPB4FhOZpzIRSilEk1rGK4/WASq0Opro3LvMeTaI32WOVZ76drzLHBcJpsH4XeZYdVNi4V3mWKbpMX6XOVRxqowfWMRqOG0WH1jEBXgK3fnAIi7kptP4gUWs8tRqVJxRrMCTiFV5srVqOKHYIsHEawvw9GtVNwlb2U0mVqYJ2Yo8LRuVHY1EO0XbnaNFYWek3aRN6jcjHU3gVCCYxm0Jnsyt6qZ0K+/uCze9GxUneSuwc1rVubXdqgrTpBV48rdquASwRYKFgC3AywGrFhYFtpBbGliZFwhW5WWCUd1iwaizUjzdwsGqvHwgNVxEmDLRUsIUWJY+6ZYVVg0XF7bIt2Zit9CwamG5YQu5RYeVdyczL0CMuCoJ66KwM2J+YTLoVyOHR3Ikz6MVyRshiuxzaeX4MFqpPIFWpE+UleljZGX52bESeYS/RWaXCiFqi9+lQjxqVbhLhSRqX7BLhQRuqdulQpja7Hd3RJxaX9jdEYlRHMq7OyKdIlLa3RGpHJt4d0ekUZR4o4OnFKFwo4OXouiUNjp4lSITb3TwGkcl2ujgFYqI2QVAiGLhdwEQj6IQ7gIgidof7AIggVvudgEQpjZHb8/HCkWg+PZ8LEfx2PX2fFyColN+ez7WOValt+djlSJnXxtnRtEKXhtnIYpQ/No4axSV6LVxVjgS/rVx5tR6+bsMpxGj1qtArVchar2qvvWqUetV4Narwq1XxbZeObW+/5H4U0+o5RlTuzOOWp013+asUIsz5vZmzq3N3LY1U9vSq76VH/TIvtV7ha0DFLzVe0WtAmrf6r0yrQFGb/VeQSuA2Ld6N2jzo/rbVxvTkf5oqyC7UFdBfyMrHdmN4gkFe8ETd9vAE7U7wBMKf+wqKbQtPDH7s1YJ2U3fG5Te/337Vg7lORAwCQIw+0QIBHwOBFie/gDTxzkA9ZVTgPmdU0DyOEeZvTfaEvOG8wbRZ5qgwfpLsMgKDcbnCsdA8YdgobT84qki/V1TZVEU5BHBsfTe5rnAkeTuxD70TIgeJW5Ya0/bBhFoS61t4+5tg+7lm3iUop6XG3ZkQS/zi9Mb5u+MN3Rpmr300VkGT3oTd493E7XPdBMKXwxPCj3iTSzojKV5mDvsPXTbhiF6KKA8HgHZn91VjsmpVJJQkSahMqkusL66QOT3dgWlp8zSHn20rMiml3LMLqWSXIo4t1TR1FImmaVIEkvQSOaBIRohIDt3DZ0NAndz1xBNEBDNXUNjgcDM3DVEA1SUR8ARkK3/ad+kZ15v5Ege9CmSB62AzAM/5W6Dx5CtDwrbDR5D43zA9DGpMDE+LaYPRIeVewo6rPyjz2FvfB/kFOJ7gGx3KsfuVCrdqYjyEhTtaGU5LwFJrwoSv9NORLvTzl7aI2t3w4LdDUO7G3q7GxbtbhjY3TCwu2Fod2t75Gu9drWrjUvW3iVr75J1wSXr0CVr75J14JJ14JK1c8nau2Tdu+SBtEdcElDwa5g1uSRQ+7uXdeCSoNAvXNbokoDsb1nWFX5RVlfu27G6cl+J1c4lgbsvv+rKfeNVV/5rrrry323VFX+hVVfuW6waXBIJfl9VV2aRWFd+kVhXfpFYO6M8Vu7WiDUbJZ7FrhHryq8R6ypYI9aV+xqprnCNWFdujVhXfo1YV2aNWFd+jVg7s0TBrxHryq8R68AvUeI1Yl35NWJd+TVi7T2zJs/U4CztkU/nZSF3l2HuLn3usmeCEmT1Msjqpc1qfEzfN889pmdOXhg/pmfRu6J7TM+c/dE/pmfBOqV7TE8cPNNtNmMeuWe02Ywl8tHSZjOW2VHdZjPm5K2Zj3xPs8sKJ6sVHuWsiD5xRaLsFc6JKgJnqwhxyrIbZ07jUrHx5YxxrAtjgxKBbVqFwKtF9IatUuDaIpJ1C2f/FsGZeFbYyTMHOxdEni6cjT0LbXA9Z/EihD4vamD2orHji1CwfdGd94vCE4AIPAtkgaeCzIP5IEvLABWGYDg9iFgeajxRCI9nC5FLI9HNGyLYkUjf5PUxib7JCySaRYrf5AW6n0uib/ICiWeU8Ju8QLPzSvRNnpdgdkFKEwxK0RyDup9mUKWZBqV4ssESPN+gRlMOSjTrgDQKs4TnHpRo+kEpGhao+5GBKg0OlHgAoMZjALXiMOA5CSSyB6OYmQkUtCDE7K6o8RRltGCWQt1PVEYN5irUabpCiWcs1NykBSLPWyDB1IWUZi+UeAIDrY0v76Yx1MKZDAsEkxnKPJ+hVpjSsIib1VDkiQ01nttA4+kNpGCGA3UZ0/JwD6c61HeOaZ7wUIrnPCyxY9S7mQ81M+qvO3Jd5a/srjF4h4L0D3RcYzgABX+K45qaD9T+0Y3roLmg0J/XuDbNA2b+kMZ4M+ikWZujB3sUfWE5lmWmRw8BCs8hW1M8eghQfI78183NWQQ+hDA809aStz/4f3M9zb/5v33B06hWakxaZKNGlFuACF+XAg7Jh1RtGHF+0QaQvEQBTF4tUHZb8R+825DuMtNmPk/PxgU2pgj84UtB9m9WCqbf/tmw2yq/Pn+bHVi01p+Z/Fa5/V2i28g+VRFjVKR/tTQj+gt0t9TV2+njoQ/HNjgPGA5A9hcKHtwkDNx9cf/A8QRsv89/MHMsMPod9wcT6Acf6IdCoB94PlNqw/9QDP+DnbSU2S558F1iRygGvfDOf6xSV+x65z8u4jtoxzv/cQnqttI7/7HMnenfvw/jxV286/37uIjv+ML797Eap0Pp/ftYpiQpvH+/VTeO9yLz8FP2YEDZgxGZM4KQf3lQUdsfbb/t3Rxt3gg/kCMN5OZobY9sZyTkwttilfurZASXyujVf3AdILqycH95Mx9BHQyHihj+WjjPusSpXlb0lYNJEaoGFCoG9DU8wzqmVCWUfIXyxAu1yQiqktGr/+A6QFQD4f7y9LYo1IIUqAwpr8WzrcsK1ZBlX1FZjUAVhUHlhL0Gn11HjKqigq9E/g1YqENGUIWMXv0H1wGi60d/5qmX0Ez6y2cEl8/o1X9wHSC6vHB3+byuKSxrrWy1hKbN7SLL2//3N4r4gepG2mbxePtH7yPNXDA45Sz+mGyRijR5DhJpdsnvS8zjeszt80yr5QuGWr7diFVTnajE82hcuKxugLI42gFmSmgKdtGV9f97IbII7hF/j0KYi/MvLBB2xcM9n6FIH+1js/37SseG2Bd5BMtfV7I42LcmGi79rGJ3qgmm3WfC6UUi4Wa/mVB5w9bgzW9zbd/azGToSO2J5K7F+MwvKS/QAdsLv/Sr7m26vOBSG5AdcC9uUQ3cvZn3wstnwPaFvRezUAamd5jCWnvk69wWKtiGFWx9TdzaVpWgjq19dfDFLF0FSX5vg9/NC5Xemacja/gJ2VfLEwoW9om7aSFRu4RPiJbkidF9fGLmN3wTsevxlUuoVYWPElaVe5SwMgkFKG5TE7YpeBaxMgmlKGgqP7JYmYRa+YRaFRJqFSbUyifUqphQqyChVj6hVj6hVj6hXk3wX33wX33wXwvBfw2D/xoH/9UH/zUI/msQ/LVLobVv2JqnKMJcPPgKxiv4oT/++/9jjgIE",Dst="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",Fst="eJyFnVtzG0mOhf+Kgk+7Ee5ZSdbN/aa+ebzuMdvupmjORD9QUlnmmmJpSMoSZ2L++9YNwMEBkn5xuL6TdUkkgLxUFvXv0Y/1/X212o6+H1397XEzv6sOTl6+Onx1cHry6uXJ6MXol3q1fTe/r5oCfyzuq813H+r7+aoVHpdLFA5UmN8vljuUGjitFnef27tIqTfb+XJxc7m6WzbFDpvjzS+L5+r2t8X25vPo++36sXox+vHzfD2/2Vbr36v21J+ft9XqtrrVGzWP9sMP9fPo+398d3R28eK746OLF0eHh4cvLl5d/PliNGkKr5eLVfVbvVlsF/Vq9P13jQzCH58XN19W1WYz+v604VfVetMVGx0eHv+luVBzk3f1dnHT1uTH+mG3bitx8F83/31w9Ori9EX773n376v231eH3b8vu3/PDy5v6+vq4PfdZlvdbw7erG7q9UO9nm+r278cHFwulwcf2qs1dqs21fprQ3szLjYH84Pten5b3c/XXw7qTwe/Llb1dvdQfffXqjnr8vXBfHX7P/X6YNGcvHm83ixuF/P1otr8pXncn5vb3C5Wd7/ffK66Buie4vdtc8p8fStqU/DH+cNfhzY5Ozt+MfooRyetJS43N62p14148fLF6KdKjxsjn78Y/b69/et09P3xRfffq+a/Fyd9e/2t2q4XN41B//Hv0fRjU6S93LvmQTYP88aO/3nR45cvX/a4er5Zzu+Vnxxe9Pyfj3VjqeulKqeHw4VWj/fXbUPdraJ2Wy+X87XyC7nLQ7W+ab1chPPz4Tbz+0baNNaJT9Y9QdfiUXuYr6vVsvpUkvxp+njzTXvFzRdTzk6Gs5aPG6Vqs5smOOfxFp93D5+rVSzeVGVRW02OpZKb5XzzOT7Nv6p1HWm9qiLcPiUlt5/XVVL2U/24Tujia1J2s3hOYPW1Stq2ym26WsADa5Vv6mW9SixR3S+8pC2wbNNAoNU/H+fLiO/WVRPIVs2TkxNxmmrTpRpRXh0fDW0P3nd83LNLRWdn5z36IaIf44k/Wamj4fo/21OenvXol3ji64j+Gh3sjaEmtXXof+OJb+ND/GqhJyf+LZ74LqJxfPrfYqn30Tgf4om/x+f6I15rEtGVtZq05zSW+hjRLN7x79Gq101n9qXaurShnnndaD5O+TyfU07OXklOuVksbhbrm0fLohocj23S3jQ9T5J5u/zmHka9eB6vdB1L3ST5N5ZK7vwpnngX0edopEVE/xdP/BJLWQhr5k+slSSdJO09RPTPWEfLDRpCm/hcST57jOhr9LinWCrJpLvYHP8ydHFo/uUd4VhbHTpTX556uJMj8MbtYnlb7Opv66fEzq53tp5g243TzDmOJOw/tQNDzLNW56zv+LSs14uEb6rCVW4e1003fmMGPJLad2GzWXQD1yT996MWZ01z8sdFo9zX23zk0Mrdhb8hk+kl7X1aJCwZPzUDuXQ4cDu/u6uSnrvnOBSjAUfbdtW6gtg/tbHQ/G49f4CkJqdeN9OHKqmlmfd6vtlj4f1qYfylDeD1bs7Q22a5XDxsFptEauq6/Vw/urFi6Padc1vLredfk3iY3zxuE9zn8k/L6jlqhci6n9+s6+TG1+squ/FtvZ3fuIgzadG0JBrAEhrGoT1sdduYNBujPq7u5uvH++X8MblNfdcMM78kl5tjPaBd7p3P6uDi0kY9x+eDz9fr20/NMM+NC22A4vtYG394rjcY2w1eHh3qDe6bPPe4dHeQzDRPRqO3bchvNkn3tSyMzevCc9bJILqJzmZC3Hh90mpvQoNax+z9zzp/7zXWMaVNapfzbWdjo/AEOoq+XXxdgDvbKf7JbLichIY9duGkSXKSdRYUg9pVdzMvChKoaryk3c8FiuFyQ8wpGuwc/3TWEnSCzQHCTWzG0GQImIL4KSZV9PxMxWHNI7kV5RwbFXo/sFrmdnmXPYCFR8lHfUq1cX52NZtIla7m0yqYMyZK8xBXTeCUEW3wSnc/H+6yrP9Vre6STPKhEFGvs0qac+wNkn2ee1nqRtaFJr3hutrsJ1pOxyR/fK7XSa3GdHczA0WBTvOIX0iyLZhtQjcwi/muzS1vbB67Mc46eV7vgmbFEqe0Kknw/nG5XTwsd8lz+QqCk/vmkI6vGW1tF/Pl7eJTMsHalVPDO38fc9jEWSw29rrZnl6nLN0U0t2qlAapQSGnzFM/fkMXwsW3ZsCAK3A6AVrXX6oVToM0Oa6ru8XGD3wtRAsjrzcxLs50LvLYRLWbjZixCyPIdcEyNceSxmXBpf7uLXZ68kpGrt06l18F01r+vLURiiXZYgJcZnnr5fHgvdtCkqmKvWNJuCwNH/Z4pTewzZZLoVG697jUIqWuh3Ou9iOlO5fjeLx3WMI9powLquU2We7ZuiRtOfGp3pMR40hPzrt/TGrin8hMlY4zLRbI9DZP9SOc81PM440DrxtHhkfTbiRMYaRtloWO5G06yNAZhm+4V7JuoK90spxYnpC9KYT+m1KI/0pPLWZojPZ5voSeQWK8nZnQMrc2xb6x88qPmszTvtF+hUioSt3znc+lWKGhVbNG9fnMeDbcVQfOZzjqYE2WyF541BRalgnn+XiDks2pZvPbxU2WZ38q9GfrvbV559vHHpdGuzbc3OvWe+91WfCFy2KOzmcDY38dy8NJv2kjkUJvX0oUX9Lxs47H3EDArrY3FPwj2PLu3jst67u2vVd1Moqvy7n0MUoSys2lCpF8t3fOUEFHbjYvuO8q7cbh9WHoISzll2L858f2VeSfL0Zvq/Xqt/li3b5A/sfosn1RPXrx3cnhny+Goz57ONQ/p0dDTkf42h/1WcUhrBgK4+bo9FSP5BEAgXM4rk3laB//DrnM45TBZI71i0MO9YGD6L07+qM5Ojo60kMxmmOu/qBM3KUm0QCTggEmqQEm0QCTogEmiQFk6OdYl1GQXLWVeKmH0+bwlbbprBUPVZxJnZDBwwOGfQHOSF+bw/MTOXpq73YsRzt/JDcDBPca6FAIA0ARRYFyCgXjHA+ivE4QRYbyNDxEhRhRRH6iPHMWFaPHqERuozz3HZXZgVSgMFJOsST8fUQYVco4tExI40vkSbw8R5ryfRZMYk6lggUL0adyyYIhDlXwwSgYI1IYhKUgjE1lHKAqJFEqWhqqIkK8CoKgFbRLEIWv8hjDQyhhDCuiGFZOMWycY1iU1wmiGFaexrCoEMOKyAOVZx6oYvRAlcgDleceqDJ7oAoUw8ophoW/jwhjWBnHsAlpDIs8iZfnGFa+z4JJDKtUsGAhhlUuWTDEsAo+hgVjDAuDGBaEMayMY1iFJIZFS2NYRIhhQRDDgnYJohhWHmMY2wkD2XOKZi9SSJPIce3k1yVOEe7FNMxdEYh1z8ldvZj5rC8RHdfr5L1ezF3Yl2E/9iqlAy9STnDi+wLH7OAFThGkpnnClZkUbskZw4vfbIIkd3h9XxMUsogvs7cJQj7xqk8qTsPM4gRIL45jjvECJxqvJtnGFUhTjisBecdxSD6O70qc0pAXYy4ygpkIKeUhlCgLOYlzEIivc0r5B6U0+0AByD1Iye1Rypwe9ejyqJLDo5S7O5ZgZ0eNsg1KlGtAep9SzDOIOcs4Lc0xUGKS3orzC0rfMHSSW1AtG7qQV7DEHkOHnIKazyigYD4BDNkEKOYSxJxJUEvyCMhpFgEdcghQyCBAdzml7IFSzB1D42DiUERZQzmlDOOcL0R5nSDKFMrTNCEq5AhF5LfKM6dVMXqsSuSuynNfVZkdVQVKB8opFwh/HxFmAWWcAkxI41/kSbw8R77yfRZMYl6lggUL0a5yyYIhzlXwQS4YI1wYhLcgjG1lHNgqJFEtWhrSIkI8C4JgFrRLEIWx8hjDYjgMYmMUxSZQGIPAcazS64xRJJuQhrLKEMvGyBVNyHzR1OiMppE3mpC7o+nsj6ZQSJtAMa3C+4RhVBvksAYljWvVJ8ktOLJN2GvOJLZNK5mzEN2mF80Z4tsUH+DKMcIVQogrwxg3yEFuShLlKqZhrirEuTIIdGW7jFGomxBjXWyFsW6MYt0EinUQONZVep0xinUT0lhXGWLdGDmnCZlzmhqd0zRyThNy5zSdndMUinUTKNZVeJ8wjHWDHOugpLGu+iS5Bce6CXvNmcS6aSVzFmLd9KI5Q6yb4mNdOca6Qoh1ZRjrBjnWTUliXcU01lWFWFfWxvopheguY9pMLGBD9Np6+CjbAkoIxblginLFHOOD8DoSim/BaXQPIsS2EHJFwZkjihbdUBRyQsG5C4rKDiicolkwxfKA3weCcSyIo1h5GsODOgmX5vgVvMdoSeyKkhutELeiFowWYla4j9iBYrwOCKJ1IBirgjhShSdxOkhplA4axOhAoDceyC4S6okFx3548BgMTkUUncopPI1zfIryOkEUocrTEBUVYlQR+ZvyzOFUjB6nErmc8tznVGanU4FCVTnFqvD3EWG0KuNwNSGNV5En8fIcscr3WTCJWZUKFixErcolC4a4VcEHrmCMXGEQuoIwdpVx8KqQRK9oafiKCPErCAJY0C5BFMLKQwz/0NDL5qivcnck5wKSeAPk2hc43AGotCogbTFg2ljAhnYCIs5vaNJZVo+sIRS5xwXumkapPC4g8j9QtCLAtCLAhor05KfB7id25DPmT2h3QK4iwKEiQKUigPRxgenjAhseF4jY3dCVO2rj5KUezTS4fsLgABSywLCb11lGEZlHOdlIeWYoFaO1VCKTKWe7qcDGU8FbUDGZUfhVRGBQQbNoLDat8sS+3XcA3r6C2L7C2b7CU/uKmNhXJLav8GBfEYJ9RSD7Cmb7DvwqIrTvgGbRWMG+woN9fxlM2+fsX9CqgMSggJwtgcMdgIoFAanxgKndgA0mAyLWMtSOwY60PnNNpoakBoB8fjWO+dWo5ldDlkWNWRY1JlnUiNTAUP/jUC++uzgUUju9jnWqCxWo0wrUsQI1dxCmJFWrZWAHKNZj+NUqqcj/Du51ZkdSEUDSOIBc3YBD3YBK3QBpDYBp4wAbGgeIVKpHb0f9MPylHelow5AfWhjHoYVRHVoYoqYAxQYdxqQpAOkIQ1F7dHyqR/LUgGRMjQgrAhwqglQ/5HBY6gdIawFMm8NYrWOkt+j0gJJB3FtyeqB+EPc2cXpQaHj3Fp0ekB/LtehRQ6A78qHaoSRUOx5CtaM+VDuUhmqnUKh2jLJQx1wWasnOWX4X/WMXG91NtjAuSKAQITWLFioSA4cKUAyRmocTFeLIIpmCjFSKN69WJYtxFJJKAclqEptU5FstlkUslaDgJZXjmGQOaS9DdJNAgU5qFvNUJIY/FaBMQGqeFKgQ5weSKVWQSlnDq5BASKBcQmqWVqhIzDBUgJINqXneoUKcgkjmbESyT0xe3JVcidMVqSEOfh3160r9EkJ3JMGGyK0lmdAtsRweyuFUB5+/jmRhRUVYUzHm5uyK3UqK3a17/6BPvfNj+V+pegPFb1iGK4VPWALPauu+7hgeFb/uGOrtv+7wxYIF8q87vJbZAj/boHqyVbLPNgZJJpfZHUTbxeJ8B+XJHZzzQROQQA3BatYcvgw2ilegabwwK54SmonkpLF8idSgIXxTGwXjFsN3KDAkVzSuIjKr8cygoqIphYERBc2SYsFwKiQmEy0zlmi7WE82kPJgmncjXA7tjnxv2iG/HNqhpFfteOhKO+r7zw5Rf9gxWg7tmFsO7YjvDN9J8F4miOqinCqkPKuVirFqKlH9lHMlVeCaquCrq5jqjOuGjKjOYd2QeVbnbN2QJapzXDdkgevM64aMuc4uyi+LAtffq2wFr6a28EUSi/gCbBevBut4OdjIy2QpL5K95B3IZYLIRsrJOsozu6gYLaIS2UI5W0EFrr8KvuaKfZ3HrrrjWNNxrOS4UL9xWrVxrNU4qdA4qcs4VGOc16DtpfqF2zF2UIiS177joVs61aOpu+pHV3LmStqKryHsKnoaE+24kGjHhUQ73pdox+VEOy4k2nEp0Y5LiXacJ9pxIdEqhzYJI+PAs9bBkTHZcxpv9zGeOIsncrNlI+VBcl8TQQN6Tq3oRWpKL2bt6UvERvU6tawXuXm9ym3sVd/QXqPWDp/7nSTW43bf97FfVuSq0CrTwnN8LFxnVrgOe0Xxg7dBh09FwDGQklugRE6BUuYSqEeHQJXcASV2BtTYFVDzjoAKuQF9i3US7MQuUP4SKxa4Si0/Te/+Mb3CLL0CN3vh66RBlQ8LoMUVUXMrp7ZWnjW0irGVVaImVs7tqwI3rgq+ZRVTs+KXNSfeDNyghe9qSL2K9pzG232MJ87iidx82Tcog+RX1bAJWaGWZJkalOWsXblMbF4uQa3MMjc269zmrPumZ5U8gGRwBFbIH4KcuQUVuiq22LT4RB+LV5sVr8aew3J0IP3UAFzHGDmNCeQuJmSOYmp0EdPIOUxgtzCFHcIU7wrGyQnctzgnZBFu+NKXOCxfJdadJvf8mJw7S87lRk2/Vhk0Wd2B1lREjamc2lJ51pQqxpZUiRpSObejCtyMKvhWVEyNiCt6J94M3ISFFT1Sr6I9p/F2H+OJs3giN162wjdIcZI+LkzSx4VJ+njfJH1cnqSPC5P0cWmSPi5N0sf5JH1cmqTjTt0TbwZuu8I+XVKvoj2n8XYf44mzeCK3XbantZd+G5qtX479DVsMkDQWINdOwMNe1d+wdQBpwwDTNgE2NAcQaQlDtvmpO/JvDDvkNz91KHlz2PHwurCj/h1hh+idX8foRV/H3Nu9jvhNQy2SzU/DZuIW6T6igb0f4ZbZ7shvme1QsmW242HLbEf9ltkOpVtmO4W2zHaMtsx2zG2Z/TDqN0mc2JHfs9ihZFtix8OOxI76zYgdoqcGhXYodkzeUwPy+w8/DJF9ZkcS1IhcPJswcdeZxPpOCvWdpPWdxPpyK4GS1HdCmzE/QCsZaRPQhR61uad/u/JhyDFndqQb2AzhrrSeykIOtL4iMonyzC4qRuOoRBZSnptJZbaVCuQgyslLcGHtjBD5S2FhjdRJvDa7j/J9tkocSaWCrQoupXLJVsG5VPAehmuHFx6Br+FCIfkRe122UDhI8vYFXE8RmVN5Zk4VozlVInMqz82pMptTBXI95eR6wsH1FJHrGc9cT9RJvDa7nvJ9tkpcT6WCrQqup3LJVsH1VPCuh5v1LzwC18PN+uRH7HrZZn2RwvZAeYh8e2CupgYubg/MC7Cx924PzAsFw+fbA3OVHTbsEDlLBXbefTtE0jKT0j2DO3v12zbPXNsX2Gvzkpv7QvttHl3ey+T4YevMRSZgEISdM6lfh4Ao7pvpC/wxGqYZL/VIpxmGdJphyE8zjOM0w6hOMwzZNMOYTTOMyTTDiE4zFLXRfHShRzr6NuRH38Zx9G1UR9+GePRtio2+jen3CIZ0aqHIvqnojuSpAYndAbmKAA8R0FHv9h0iN+6Y2h0uONgdiM8bLer/wrVMWXvST5f6rUotac84V103GQOSxILIfcFjPGy97ilsHIbC+mGPIdpW3TH7sEfZ8HfPZSbbosVIpvzdkV896RCtW7SsdgasYwvXhebEPcNApUaAyC9B0boCE78EJK1qSOe31ohrV611rP1aGhGR6xJMsL+NLtmtpe0+4xM70i7BkO8HjKPrG1XXN8Rp3hQLCmOW0I1JFlfy5Cy380exvXexXXGz1ZDRwmYr5pSP881WLMbMHDZbMeccHTdbseCzddhsRRzydpgGMM8yeDYNYIlyeWkawDJn9TANYE75Xfg8tjRneuWU7pVnSULFmPhVouyvnLsAFbgfUMF3BoqpRxBO3YJh1zcIhhStiHoJ5dRVGI9f7ZgYOw2TYs+hGnUfyrkPUYE7EhG4NxEOXYoiyqzKuXMRoY6twt2M8n1ulHQ4KlGvozzvelTm/kcF6oSUU08knLsj4etoDe6YlFPvZDzrokRN+imRoLNSRD2W8qzbUjH2XSpRB6Y878VU5q5MBe7PVPCdmuCn2BK7BBWcLevowg5b6Q3yHba5yl3fnh22eZGkG8x32OZq6BILO2xzmbrHfIdtqmJXmS9Y5GrabRYXLPIC3IXuXbDIC4XuNF+wyFXuWp06L3lY6Ga9yp2tV9Nc6YskHa8vwN2vV0Mn7OXQFXuZOmQvcrfsVO6cSfRdtP+CEro2L3B37VXutEnNum5fJOnAqUDSjfsS/pNcVu33HlI5dOxODt27U7GT9wL3VV4NHb7/ZLPU9qHz9+q33TobCPgCPBzwamFQ4AuFoYGXeYDgVR4mODUMFpy6LtkzDBy8ysMHUtNBhCuTDSVcARxQeIGHFV5NBxe+SDLE8AV4oOHVwnDDFwqDDi+HoYeXaQDixKdSS++Kwt4QiAOTyTAaObEjvx49wXEHoGRdekIjDKC+N5i4sQQwWkaewKgBiM/wsn6O1QjfTjCnCuXfTrAYqxa+nWDOlYzfTrDgqxu+nRh4+OYg5VT7/JuDVMzsUPzmINXJIoVvDlKVbZN+c5BqZCXafp9QslC2/T6RMusUtt8nKlkm3X6faGyVZPt9opBFcG86I7JF2JvOPLNCtjedJap/3JvOAtec96Yzpjone7oLClmgtKe7IGf22LOnu1CCrFPc013Q2VaFPd0FlSznNjMHRtaKm5mDkFko3cwcNLJKspk5KGyJsJk5cKq9/pL0Zcao9iZQ7U3Iam9qrL1pVHsTuPamcO1N8bU3TrUffqn3MhKquWCqt+Cs1qLFOotCNRbM9RXOtRXu6yrU1/RqqOXwS61XWEVkulcTmF9fAAFXFQDrWgIwWxwAaBsYAcoORkC6OGCs/Y3jIzvyW0w75IfsJoydTWgvSIeSxux4aMiO+kbsULrXoFOoaTvmd3J0KLYd7E/tDrXtgKkRgPm3rMbxdxKN6nq4IZs3G7N2gztJuwHSX0pUJBOkfurWk2Hz7fErQVSHKqmrLTgAyqtapVV16wl44WiCKjFBlZlAVwmGH99oWbs2cGZHunXDkP9ZLeP4G0JG9eexDNlvYhmjnxpsWe2NbL/oCMxHOgg4ozKqywSGeKUQrmErAsZ0URDK6eRfke3GtmI43TZvaufY5xrqOrEG5L3EOHqJUfUGQ1RDUMxPjNm6kjH5SdGOTCUx9603dYkZmAY3MGouEzAxA9bEDMwSM0DzboAS4IA0MRvrFrHtyO+Sn4b0Cjzskp9iegWU7pKfuvQKTF3MkD62Ilthno7CsvJ0FNaSpyG3Ag/LD1PMrYBojWw6iovC0xGvBE8xsxqSWHh5bqTPrP2a5XRIrHZGFWupaRVRXssq9IZTTqtQ2HeSU5dVgSWV16R6puGycCctfA8+denPWO2uWse6ZwunU859RmNz5uui01FcDJ2OwgrodBSWPaeY+awRMfFZY7eJ71RP08QHyP95AePhs6QpJj5A/PcETLE/JWDM/oqAMfkDAkraBb7zl3qk6doQpuWOzny+nCX5cpbky1kpX87yfDlL8uUsy5ezLF/OYr6cJflyNsIfMZ1hvgSUvD2ZUb4E6t+CzJJ8CQrtc5hhvgTkf2x0NuTLYZQzw4SJTFsAGOV+E3DXqlH/w8ozlzOBwYdQBvVLKEP+p5VnkDX78JqNwnh0NqRNuEyVVFYTp2OFylZpZf2IFEpHI1SJEarMCDYi7UepsyF79u8nZpg9AdEfAJkN2fPoSK9rg0dgvrogYAwb9XtvZkkCxWvQ67sZZlAsp1MORTx4nFEOtaZ/9IZ6pHnHLGRRFMIsY4ZpFFCopEk00Zi5PIoF/VxrpuvnkFrCy4EgcIbMXw8ENcmV4QVBEELWjK8IgkL5M7wkYAEyafjWjXmWU7Nv3Vii7Fr61o1lzrPhWzfmlHGFY9pVxulIBU7AKqSJSdWYnVSiVKSc85EKISmpQulZOeVo4RSthn22Fp5VO+RtFTh5m7DPUEkaNynJ5SoWrBiyugpFK4b8LgIkeUWU6ZVzuhcBc74yTvwqpNlf1dgFqET9gPJCZ6A69wgqcLegAvUNwkMHIULSS4j0mNg89BcqpJ2GqrHnUIm6D+WFPkR17khUCL2JKtSl0EtFybXZW8VM476l+F4xK5D0MNmbxUwL/Uz6bjETqbfJ3i4mGvQ5SKnbQSnreVCPnQ+q1P+glHdBWIJ7IdSoI0KJ+iKQsDtCzIkWNe6UUEvTLRaIGRdVyqsocWpFLWRXFKmbQslWkYJGWcMpvsMCqXCt0G2hxj2X075hzaT/cmrShaFetnboyFDbZ+3QnYEGPRpS6tRQ4n4NNOzaEHPvhlrawWGB2MehSt0cSoWeDotwZ4ca93eoUZcHUuj1QEs6PlAf8wYK3R9qaQ+IBWIniCr1gygVukIswr0haqFDRNH3iU3Ydn9fsu8F2qN241r/YlFSHhYQBKWG5IelBEEpt9sHijoO5eGRoTRQKCvbR6CgICiluwWgmDIo5/629VDO/W3roRz8dd2hFPx13aEM/gnPoRD+Cc++1DV6br+4ez245LEdiScCSt6yXZPfAfVv2a4TPwOF3r9dO7cCNniTka9arZtRvxYKRxpNhnBc1FNxsV2C6ALK41Xw2w9GdJXs2w+R5M8Ru+sY5CuZEq/Vd5L9Hy24vV7K3y3os5hTvdRW0H7uqTvyOwM6lO0MUM/Toyd39OxK7vyRr1puZenG8fkU0UMqT5/UpRqPniJ6jifuEkRVKHuLDDmwHoqoHsrTeogK9cAPkwg9xxN3CaJ6lP3VDY9cZRznGjkxr1bI3gl/KvDnwnV2Jc71dWKsNHQKdzmlCqOUVpc7n0CfUvqcXmGXU6okSkkVbdzq6oiYK4laXksogdUE/JTj5/wiuwLmqqIW6ypd912CqI7K0/q5YYFHTxE9xxN3CaK6KI/10LHFXcaoJiakVfFjF2JPCXtOzt1ljOpjQqyQDoLuMkYVMiGtkB9kEXtK2HNy7i5jVCETQoU+jWS2r0d+Z0eHbG6vKNns0fGw2aOjfrNHh2hLR8fohw875n74sCN+l0eLmmhaVptNN5VU+Ekt2B4tdITWHfmR5CcadfQTy7vBNnagk1IlYhkj/nW8Ynwbr1BfxiuxN+6KbLqrSN63KxCT9ESmHvNIfA0U+2ooTuqiWqiQKr5Wiqlqyql+yl0llfqaxs9JU+5rXfiYNBUTC5Q/JU11b43Sh6SpSpbJPyNNNWcl/VNgeuDsEf78VwsXLi0t4tB0URgOLdJxwyL2Q4skny+SlNgeWbR3Rz5DdcjWywzFDNXxkKF66lbFFPvE1SFKXB2jxNWy2h/FZ64LD1inD1jHJwnrS6Ykz1j7/XId8pnUdydJR5J3IV/il8bD9QpfGucqteC+L43zItFse740zkuQjUtfGucy+0D86jcX9poldZLyV795gb3VKnhR6avfXCbfKnz1m6q7kiOx85W/Be0LLIdRU3+XpVul61H8OnUQ5GfYDUleOtEje85kzJiPFleYNocrxbn6qjBXX5Xn6iucYg8XjpPnVWHyvCpPnlfeRHj5QqOxwLf6RqOtcHVwuJWgXSzFl1ceLlyPcB2udiPqWi5+qEc+CGu+ZE+xOYfrxgWa2rWwP5Fvk7ZwL4XudbhhYbWhjqsKyXX4/uVVhV6nvnx4hHQNoObZfrgC37w02+9VHDAM940T19rNUv2JfLt0ltpL9B0h3JIUuDMpu+LV+DlYjo/jBkbDgyQT3dpPaulcvm0+qe01SX9wP8yIxx7t4ol8s+yvyg4SxvtwL3wbcOzRLp7I90pTQCc9uAs8xHMf8tOG1xCFVWove03OWFaf5Fvdi1SQ58hV/0kCq8l2di4CdcoL+E3urNKudpZpMz/L7qMGFv1O+E7NjbXHUnvM9C0b7TfQHuvsM80+u5SN8m2LwP+HL6HQ5Ubtm7LTw4ibB5xvc22pTu6xDwuv0dJVUsIP/pzmYyTWYZ0/p/6kS6bJRCHV3MMmJboJ7mnEfruB1/SGmSZvu3LVP05S4mF+U+Wm6ax9ETG1RyzxVWveWFf3pZwoudPTuiNd2zOU3aIVdBvHsV5M39n2lZOG49u6d2QXHtEDlN6ReZUfJez5G56Hf79yeB73ruvCI3qe0rsur/LzhB9AlOdJf7JLnsqJ+Gxe4Cf0av6c+c9eHWc3pmcefLRL0ER81CjWFTWP/Vqa13D9ySu6fuaxrZx5TpuDlMtqmae6TubwH2o3Jbo6QTixtYj2t6eEdH96ypH2t+BfeSI2JQwG6pUmzLsFz37E1B3porYhaQpAfseEcdwxYVR3TBiyfRHGbF+EMdkXYUTMbUgi4EyJze66Iz/h65C2BaD4Z6c6HqaFPcWFIMP+r1F1iP4aVcfor1G1rNZQ6o78y4UOJdtUOh62qXTUb1PpULpNpVNom0rHpEsGpLZXpHHeG/9phK+CntChAPlXQU/BoYCHkfUTOhQgWlx6cg4FzL0KekKHMuQd6mmEK29Po7Dc9hQaB3hagTpWIF9CexrFdbOnUVgsexqFFbKn2DjPLjKeY2Q8x8h4LkTGcxoZz3lkPMfIeE4i4zmJjF1ojl2s2I5HDIS5eLLlNip40p//+X+DG1I7",Mst="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",Nst="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var Ist={Courier:Est,"Courier-Bold":xst,"Courier-Oblique":Ast,"Courier-BoldOblique":Sst,Helvetica:Tst,"Helvetica-Bold":_st,"Helvetica-Oblique":kst,"Helvetica-BoldOblique":Cst,"Times-Roman":Fst,"Times-Bold":Pst,"Times-Italic":Dst,"Times-BoldItalic":Rst,Symbol:Mst,ZapfDingbats:Nst},$A;(function(n){n.Courier="Courier",n.CourierBold="Courier-Bold",n.CourierOblique="Courier-Oblique",n.CourierBoldOblique="Courier-BoldOblique",n.Helvetica="Helvetica",n.HelveticaBold="Helvetica-Bold",n.HelveticaOblique="Helvetica-Oblique",n.HelveticaBoldOblique="Helvetica-BoldOblique",n.TimesRoman="Times-Roman",n.TimesRomanBold="Times-Bold",n.TimesRomanItalic="Times-Italic",n.TimesRomanBoldItalic="Times-BoldItalic",n.Symbol="Symbol",n.ZapfDingbats="ZapfDingbats"})($A||($A={}));var x4={},Lst=function(){function n(){var t=this;this.getWidthOfGlyph=function(e){return t.CharWidths[e]},this.getXAxisKerningForPair=function(e,i){return(t.KernPairXAmounts[e]||{})[i]}}return n.load=function(t){var e=x4[t];if(e)return e;var i=$7(Ist[t]),r=Object.assign(new n,JSON.parse(i));return r.CharWidths=r.CharMetrics.reduce(function(s,a){return s[a.N]=a.WX,s},{}),r.KernPairXAmounts=r.KernPairs.reduce(function(s,a){var o=a[0],c=a[1],l=a[2];return s[o]||(s[o]={}),s[o][c]=l,s},{}),x4[t]=r,r},n}();const Ost="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";var Bst=$7(Ost),fN=JSON.parse(Bst),pN=function(){function n(t,e){var i=this;this.canEncodeUnicodeCodePoint=function(r){return r in i.unicodeMappings},this.encodeUnicodeCodePoint=function(r){var s=i.unicodeMappings[r];if(!s){var a=String.fromCharCode(r),o="0x"+wst(r.toString(16),4,"0"),c=i.name+' cannot encode "'+a+'" ('+o+")";throw new Error(c)}return{code:s[0],name:s[1]}},this.name=t,this.supportedCodePoints=Object.keys(e).map(Number).sort(function(r,s){return r-s}),this.unicodeMappings=e}return n}(),HT={Symbol:new pN("Symbol",fN.symbol),ZapfDingbats:new pN("ZapfDingbats",fN.zapfdingbats),WinAnsi:new pN("WinAnsi",fN.win1252)},PF=function(n){return Object.keys(n).map(function(t){return n[t]})},zst=PF($A),S4=function(n){return zst.includes(n)},WT=function(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height},li=function(n){return"`"+n+"`"},jst=function(n){return"'"+n+"'"},A4=function(n){var t=typeof n;return t==="string"?jst(n):t==="undefined"?li(n):n},Ust=function(n,t,e){for(var i=new Array(e.length),r=0,s=e.length;r<s;r++){var a=e[r];i[r]=A4(a)}var o=i.join(" or ");return li(t)+" must be one of "+o+", but was actually "+A4(n)},kp=function(n,t,e){Array.isArray(e)||(e=PF(e));for(var i=0,r=e.length;i<r;i++)if(n===e[i])return;throw new TypeError(Ust(n,t,e))},qa=function(n,t,e){Array.isArray(e)||(e=PF(e)),kp(n,t,e.concat(void 0))},Hst=function(n,t,e){Array.isArray(e)||(e=PF(e));for(var i=0,r=n.length;i<r;i++)kp(n[i],t,e)},Wst=function(n){return n===null?"null":n===void 0?"undefined":typeof n=="string"?"string":isNaN(n)?"NaN":typeof n=="number"?"number":typeof n=="boolean"?"boolean":typeof n=="symbol"?"symbol":typeof n=="bigint"?"bigint":n.constructor&&n.constructor.name?n.constructor.name:n.name?n.name:n.constructor?String(n.constructor):String(n)},Vst=function(n,t){return t==="null"?n===null:t==="undefined"?n===void 0:t==="string"?typeof n=="string":t==="number"?typeof n=="number"&&!isNaN(n):t==="boolean"?typeof n=="boolean":t==="symbol"?typeof n=="symbol":t==="bigint"?typeof n=="bigint":t===Date?n instanceof Date:t===Array?n instanceof Array:t===Uint8Array?n instanceof Uint8Array:t===ArrayBuffer?n instanceof ArrayBuffer:t===Function?n instanceof Function:n instanceof t[0]},Gst=function(n,t,e){for(var i=new Array(e.length),r=0,s=e.length;r<s;r++){var a=e[r];a==="null"&&(i[r]=li("null")),a==="undefined"&&(i[r]=li("undefined")),a==="string"?i[r]=li("string"):a==="number"?i[r]=li("number"):a==="boolean"?i[r]=li("boolean"):a==="symbol"?i[r]=li("symbol"):a==="bigint"?i[r]=li("bigint"):a===Array?i[r]=li("Array"):a===Uint8Array?i[r]=li("Uint8Array"):a===ArrayBuffer?i[r]=li("ArrayBuffer"):i[r]=li(a[1])}var o=i.join(" or ");return li(t)+" must be of type "+o+", but was actually of type "+li(Wst(n))},K=function(n,t,e){for(var i=0,r=e.length;i<r;i++)if(Vst(n,e[i]))return;throw new TypeError(Gst(n,t,e))},it=function(n,t,e){K(n,t,e.concat("undefined"))},t9=function(n,t,e){for(var i=0,r=n.length;i<r;i++)K(n[i],t,e)},Pa=function(n,t,e,i){if(K(n,t,["number"]),K(e,"min",["number"]),K(i,"max",["number"]),i=Math.max(e,i),n<e||n>i)throw new Error(li(t)+" must be at least "+e+" and at most "+i+", but was actually "+n)},Vo=function(n,t,e,i){K(n,t,["number","undefined"]),typeof n=="number"&&Pa(n,t,e,i)},e9=function(n,t,e){if(K(n,t,["number"]),n%e!==0)throw new Error(li(t)+" must be a multiple of "+e+", but was actually "+n)},Xst=function(n,t){if(!Number.isInteger(n))throw new Error(li(t)+" must be an integer, but was actually "+n)},RF=function(n,t){if(![1,0].includes(Math.sign(n)))throw new Error(li(t)+" must be a positive number or 0, but was actually "+n)},It=new Uint16Array(256);for(var VT=0;VT<256;VT++)It[VT]=VT;It[22]=Ft("");It[24]=Ft("˘");It[25]=Ft("ˇ");It[26]=Ft("ˆ");It[27]=Ft("˙");It[28]=Ft("˝");It[29]=Ft("˛");It[30]=Ft("˚");It[31]=Ft("˜");It[127]=Ft("�");It[128]=Ft("•");It[129]=Ft("†");It[130]=Ft("‡");It[131]=Ft("…");It[132]=Ft("—");It[133]=Ft("–");It[134]=Ft("ƒ");It[135]=Ft("⁄");It[136]=Ft("‹");It[137]=Ft("›");It[138]=Ft("−");It[139]=Ft("‰");It[140]=Ft("„");It[141]=Ft("“");It[142]=Ft("”");It[143]=Ft("‘");It[144]=Ft("’");It[145]=Ft("‚");It[146]=Ft("™");It[147]=Ft("ﬁ");It[148]=Ft("ﬂ");It[149]=Ft("Ł");It[150]=Ft("Œ");It[151]=Ft("Š");It[152]=Ft("Ÿ");It[153]=Ft("Ž");It[154]=Ft("ı");It[155]=Ft("ł");It[156]=Ft("œ");It[157]=Ft("š");It[158]=Ft("ž");It[159]=Ft("�");It[160]=Ft("€");It[173]=Ft("�");var n9=function(n){for(var t=new Array(n.length),e=0,i=n.length;e<i;e++)t[e]=It[n[e]];return String.fromCodePoint.apply(String,t)},Yu=function(){function n(t){this.populate=t,this.value=void 0}return n.prototype.getValue=function(){return this.value},n.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},n.prototype.invalidate=function(){this.value=void 0},n.populatedBy=function(t){return new n(t)},n}(),xo=function(n){rt(t,n);function t(e,i){var r=this,s="Method "+e+"."+i+"() not implemented";return r=n.call(this,s)||this,r}return t}(Error),Lz=function(n){rt(t,n);function t(e){var i=this,r="Cannot construct "+e+" - it has a private constructor";return i=n.call(this,r)||this,i}return t}(Error),qR=function(n){rt(t,n);function t(e,i){var r=this,s=function(c){var l,u;return(l=c==null?void 0:c.name)!==null&&l!==void 0?l:(u=c==null?void 0:c.constructor)===null||u===void 0?void 0:u.name},a=Array.isArray(e)?e.map(s):[s(e)],o="Expected instance of "+a.join(" or ")+", "+("but got instance of "+(i&&s(i)));return r=n.call(this,o)||this,r}return t}(Error),qst=function(n){rt(t,n);function t(e){var i=this,r=e+" stream encoding not supported";return i=n.call(this,r)||this,i}return t}(Error),Oz=function(n){rt(t,n);function t(e,i){var r=this,s="Cannot call "+e+"."+i+"() more than once";return r=n.call(this,s)||this,r}return t}(Error);(function(n){rt(t,n);function t(e){var i=this,r="Missing catalog (ref="+e+")";return i=n.call(this,r)||this,i}return t})(Error);var Kst=function(n){rt(t,n);function t(){var e=this,i="Can't embed page with missing Contents";return e=n.call(this,i)||this,e}return t}(Error),Yst=function(n){rt(t,n);function t(e){var i,r,s,a=this,o=(s=(r=(i=e==null?void 0:e.contructor)===null||i===void 0?void 0:i.name)!==null&&r!==void 0?r:e==null?void 0:e.name)!==null&&s!==void 0?s:e,c="Unrecognized stream type: "+o;return a=n.call(this,c)||this,a}return t}(Error),Zst=function(n){rt(t,n);function t(){var e=this,i="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return e=n.call(this,i)||this,e}return t}(Error),Qst=function(n){rt(t,n);function t(e){var i=this,r="Attempted to convert PDFArray with "+e+" elements to rectangle, but must have exactly 4 elements.";return i=n.call(this,r)||this,i}return t}(Error),i9=function(n){rt(t,n);function t(e){var i=this,r='Attempted to convert "'+e+'" to a date, but it does not match the PDF date string format.';return i=n.call(this,r)||this,i}return t}(Error),E4=function(n){rt(t,n);function t(e,i){var r=this,s="Invalid targetIndex specified: targetIndex="+e+" must be less than Count="+i;return r=n.call(this,s)||this,r}return t}(Error),_4=function(n){rt(t,n);function t(e,i){var r=this,s="Failed to "+i+" at targetIndex="+e+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return r=n.call(this,s)||this,r}return t}(Error),KR=function(n){rt(t,n);function t(e,i,r){var s=this,a="index should be at least "+i+" and at most "+r+", but was actually "+e;return s=n.call(this,a)||this,s}return t}(Error),Bz=function(n){rt(t,n);function t(){var e=this,i="Attempted to set invalid field value";return e=n.call(this,i)||this,e}return t}(Error),Jst=function(n){rt(t,n);function t(){var e=this,i="Attempted to select multiple values for single-select field";return e=n.call(this,i)||this,e}return t}(Error),$st=function(n){rt(t,n);function t(e){var i=this,r="No /DA (default appearance) entry found for field: "+e;return i=n.call(this,r)||this,i}return t}(Error),tat=function(n){rt(t,n);function t(e){var i=this,r="No Tf operator found for DA of field: "+e;return i=n.call(this,r)||this,i}return t}(Error),C4=function(n){rt(t,n);function t(e,i){var r=this,s="Failed to parse number "+("(line:"+e.line+" col:"+e.column+" offset="+e.offset+'): "'+i+'"');return r=n.call(this,s)||this,r}return t}(Error),lg=function(n){rt(t,n);function t(e,i){var r=this,s="Failed to parse PDF document "+("(line:"+e.line+" col:"+e.column+" offset="+e.offset+"): "+i);return r=n.call(this,s)||this,r}return t}(Error),eat=function(n){rt(t,n);function t(e,i,r){var s=this,a="Expected next byte to be "+i+" but it was actually "+r;return s=n.call(this,e,a)||this,s}return t}(lg),nat=function(n){rt(t,n);function t(e,i){var r=this,s="Failed to parse PDF object starting with the following byte: "+i;return r=n.call(this,e,s)||this,r}return t}(lg),iat=function(n){rt(t,n);function t(e){var i=this,r="Failed to parse invalid PDF object";return i=n.call(this,e,r)||this,i}return t}(lg),rat=function(n){rt(t,n);function t(e){var i=this,r="Failed to parse PDF stream";return i=n.call(this,e,r)||this,i}return t}(lg),sat=function(n){rt(t,n);function t(e){var i=this,r="Failed to parse PDF literal string due to unbalanced parenthesis";return i=n.call(this,e,r)||this,i}return t}(lg),aat=function(n){rt(t,n);function t(e){var i=this,r="Parser stalled";return i=n.call(this,e,r)||this,i}return t}(lg),oat=function(n){rt(t,n);function t(e){var i=this,r="No PDF header found";return i=n.call(this,e,r)||this,i}return t}(lg),lat=function(n){rt(t,n);function t(e,i){var r=this,s="Did not find expected keyword '"+s7(i)+"'";return r=n.call(this,e,s)||this,r}return t}(lg),EL;(function(n){n[n.Null=0]="Null",n[n.Backspace=8]="Backspace",n[n.Tab=9]="Tab",n[n.Newline=10]="Newline",n[n.FormFeed=12]="FormFeed",n[n.CarriageReturn=13]="CarriageReturn",n[n.Space=32]="Space",n[n.ExclamationPoint=33]="ExclamationPoint",n[n.Hash=35]="Hash",n[n.Percent=37]="Percent",n[n.LeftParen=40]="LeftParen",n[n.RightParen=41]="RightParen",n[n.Plus=43]="Plus",n[n.Minus=45]="Minus",n[n.Dash=45]="Dash",n[n.Period=46]="Period",n[n.ForwardSlash=47]="ForwardSlash",n[n.Zero=48]="Zero",n[n.One=49]="One",n[n.Two=50]="Two",n[n.Three=51]="Three",n[n.Four=52]="Four",n[n.Five=53]="Five",n[n.Six=54]="Six",n[n.Seven=55]="Seven",n[n.Eight=56]="Eight",n[n.Nine=57]="Nine",n[n.LessThan=60]="LessThan",n[n.GreaterThan=62]="GreaterThan",n[n.A=65]="A",n[n.D=68]="D",n[n.E=69]="E",n[n.F=70]="F",n[n.O=79]="O",n[n.P=80]="P",n[n.R=82]="R",n[n.LeftSquareBracket=91]="LeftSquareBracket",n[n.BackSlash=92]="BackSlash",n[n.RightSquareBracket=93]="RightSquareBracket",n[n.a=97]="a",n[n.b=98]="b",n[n.d=100]="d",n[n.e=101]="e",n[n.f=102]="f",n[n.i=105]="i",n[n.j=106]="j",n[n.l=108]="l",n[n.m=109]="m",n[n.n=110]="n",n[n.o=111]="o",n[n.r=114]="r",n[n.s=115]="s",n[n.t=116]="t",n[n.u=117]="u",n[n.x=120]="x",n[n.LeftCurly=123]="LeftCurly",n[n.RightCurly=125]="RightCurly",n[n.Tilde=126]="Tilde"})(EL||(EL={}));const O=EL;var fd={};(function(n){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function e(s,a){return Object.prototype.hasOwnProperty.call(s,a)}n.assign=function(s){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var o=a.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var c in o)e(o,c)&&(s[c]=o[c])}}return s},n.shrinkBuf=function(s,a){return s.length===a?s:s.subarray?s.subarray(0,a):(s.length=a,s)};var i={arraySet:function(s,a,o,c,l){if(a.subarray&&s.subarray){s.set(a.subarray(o,o+c),l);return}for(var u=0;u<c;u++)s[l+u]=a[o+u]},flattenChunks:function(s){var a,o,c,l,u,d;for(c=0,a=0,o=s.length;a<o;a++)c+=s[a].length;for(d=new Uint8Array(c),l=0,a=0,o=s.length;a<o;a++)u=s[a],d.set(u,l),l+=u.length;return d}},r={arraySet:function(s,a,o,c,l){for(var u=0;u<c;u++)s[l+u]=a[o+u]},flattenChunks:function(s){return[].concat.apply([],s)}};n.setTyped=function(s){s?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(t)})(fd);var Wk={},ah={},sx={},cat=fd,hat=4,k4=0,T4=1,uat=2;function ax(n){for(var t=n.length;--t>=0;)n[t]=0}var dat=0,r9=1,fat=2,pat=3,gat=258,zz=29,Vk=256,tE=Vk+1+zz,eb=30,jz=19,s9=2*tE+1,Dg=15,gN=16,mat=7,Uz=256,a9=16,o9=17,l9=18,_L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z2=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],vat=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c9=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],yat=512,kh=new Array((tE+2)*2);ax(kh);var hA=new Array(eb*2);ax(hA);var eE=new Array(yat);ax(eE);var nE=new Array(gat-pat+1);ax(nE);var Hz=new Array(zz);ax(Hz);var YR=new Array(eb);ax(YR);function mN(n,t,e,i,r){this.static_tree=n,this.extra_bits=t,this.extra_base=e,this.elems=i,this.max_length=r,this.has_stree=n&&n.length}var h9,u9,d9;function vN(n,t){this.dyn_tree=n,this.max_code=0,this.stat_desc=t}function f9(n){return n<256?eE[n]:eE[256+(n>>>7)]}function iE(n,t){n.pending_buf[n.pending++]=t&255,n.pending_buf[n.pending++]=t>>>8&255}function Rs(n,t,e){n.bi_valid>gN-e?(n.bi_buf|=t<<n.bi_valid&65535,iE(n,n.bi_buf),n.bi_buf=t>>gN-n.bi_valid,n.bi_valid+=e-gN):(n.bi_buf|=t<<n.bi_valid&65535,n.bi_valid+=e)}function Vc(n,t,e){Rs(n,e[t*2],e[t*2+1])}function p9(n,t){var e=0;do e|=n&1,n>>>=1,e<<=1;while(--t>0);return e>>>1}function bat(n){n.bi_valid===16?(iE(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)}function wat(n,t){var e=t.dyn_tree,i=t.max_code,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length,l,u,d,f,p,g,m=0;for(f=0;f<=Dg;f++)n.bl_count[f]=0;for(e[n.heap[n.heap_max]*2+1]=0,l=n.heap_max+1;l<s9;l++)u=n.heap[l],f=e[e[u*2+1]*2+1]+1,f>c&&(f=c,m++),e[u*2+1]=f,!(u>i)&&(n.bl_count[f]++,p=0,u>=o&&(p=a[u-o]),g=e[u*2],n.opt_len+=g*(f+p),s&&(n.static_len+=g*(r[u*2+1]+p)));if(m!==0){do{for(f=c-1;n.bl_count[f]===0;)f--;n.bl_count[f]--,n.bl_count[f+1]+=2,n.bl_count[c]--,m-=2}while(m>0);for(f=c;f!==0;f--)for(u=n.bl_count[f];u!==0;)d=n.heap[--l],!(d>i)&&(e[d*2+1]!==f&&(n.opt_len+=(f-e[d*2+1])*e[d*2],e[d*2+1]=f),u--)}}function g9(n,t,e){var i=new Array(Dg+1),r=0,s,a;for(s=1;s<=Dg;s++)i[s]=r=r+e[s-1]<<1;for(a=0;a<=t;a++){var o=n[a*2+1];o!==0&&(n[a*2]=p9(i[o]++,o))}}function xat(){var n,t,e,i,r,s=new Array(Dg+1);for(e=0,i=0;i<zz-1;i++)for(Hz[i]=e,n=0;n<1<<_L[i];n++)nE[e++]=i;for(nE[e-1]=i,r=0,i=0;i<16;i++)for(YR[i]=r,n=0;n<1<<Z2[i];n++)eE[r++]=i;for(r>>=7;i<eb;i++)for(YR[i]=r<<7,n=0;n<1<<Z2[i]-7;n++)eE[256+r++]=i;for(t=0;t<=Dg;t++)s[t]=0;for(n=0;n<=143;)kh[n*2+1]=8,n++,s[8]++;for(;n<=255;)kh[n*2+1]=9,n++,s[9]++;for(;n<=279;)kh[n*2+1]=7,n++,s[7]++;for(;n<=287;)kh[n*2+1]=8,n++,s[8]++;for(g9(kh,tE+1,s),n=0;n<eb;n++)hA[n*2+1]=5,hA[n*2]=p9(n,5);h9=new mN(kh,_L,Vk+1,tE,Dg),u9=new mN(hA,Z2,0,eb,Dg),d9=new mN(new Array(0),vat,0,jz,mat)}function m9(n){var t;for(t=0;t<tE;t++)n.dyn_ltree[t*2]=0;for(t=0;t<eb;t++)n.dyn_dtree[t*2]=0;for(t=0;t<jz;t++)n.bl_tree[t*2]=0;n.dyn_ltree[Uz*2]=1,n.opt_len=n.static_len=0,n.last_lit=n.matches=0}function v9(n){n.bi_valid>8?iE(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0}function Sat(n,t,e,i){v9(n),iE(n,e),iE(n,~e),cat.arraySet(n.pending_buf,n.window,t,e,n.pending),n.pending+=e}function P4(n,t,e,i){var r=t*2,s=e*2;return n[r]<n[s]||n[r]===n[s]&&i[t]<=i[e]}function yN(n,t,e){for(var i=n.heap[e],r=e<<1;r<=n.heap_len&&(r<n.heap_len&&P4(t,n.heap[r+1],n.heap[r],n.depth)&&r++,!P4(t,i,n.heap[r],n.depth));)n.heap[e]=n.heap[r],e=r,r<<=1;n.heap[e]=i}function R4(n,t,e){var i,r,s=0,a,o;if(n.last_lit!==0)do i=n.pending_buf[n.d_buf+s*2]<<8|n.pending_buf[n.d_buf+s*2+1],r=n.pending_buf[n.l_buf+s],s++,i===0?Vc(n,r,t):(a=nE[r],Vc(n,a+Vk+1,t),o=_L[a],o!==0&&(r-=Hz[a],Rs(n,r,o)),i--,a=f9(i),Vc(n,a,e),o=Z2[a],o!==0&&(i-=YR[a],Rs(n,i,o)));while(s<n.last_lit);Vc(n,Uz,t)}function CL(n,t){var e=t.dyn_tree,i=t.stat_desc.static_tree,r=t.stat_desc.has_stree,s=t.stat_desc.elems,a,o,c=-1,l;for(n.heap_len=0,n.heap_max=s9,a=0;a<s;a++)e[a*2]!==0?(n.heap[++n.heap_len]=c=a,n.depth[a]=0):e[a*2+1]=0;for(;n.heap_len<2;)l=n.heap[++n.heap_len]=c<2?++c:0,e[l*2]=1,n.depth[l]=0,n.opt_len--,r&&(n.static_len-=i[l*2+1]);for(t.max_code=c,a=n.heap_len>>1;a>=1;a--)yN(n,e,a);l=s;do a=n.heap[1],n.heap[1]=n.heap[n.heap_len--],yN(n,e,1),o=n.heap[1],n.heap[--n.heap_max]=a,n.heap[--n.heap_max]=o,e[l*2]=e[a*2]+e[o*2],n.depth[l]=(n.depth[a]>=n.depth[o]?n.depth[a]:n.depth[o])+1,e[a*2+1]=e[o*2+1]=l,n.heap[1]=l++,yN(n,e,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],wat(n,t),g9(e,c,n.bl_count)}function D4(n,t,e){var i,r=-1,s,a=t[0*2+1],o=0,c=7,l=4;for(a===0&&(c=138,l=3),t[(e+1)*2+1]=65535,i=0;i<=e;i++)s=a,a=t[(i+1)*2+1],!(++o<c&&s===a)&&(o<l?n.bl_tree[s*2]+=o:s!==0?(s!==r&&n.bl_tree[s*2]++,n.bl_tree[a9*2]++):o<=10?n.bl_tree[o9*2]++:n.bl_tree[l9*2]++,o=0,r=s,a===0?(c=138,l=3):s===a?(c=6,l=3):(c=7,l=4))}function F4(n,t,e){var i,r=-1,s,a=t[0*2+1],o=0,c=7,l=4;for(a===0&&(c=138,l=3),i=0;i<=e;i++)if(s=a,a=t[(i+1)*2+1],!(++o<c&&s===a)){if(o<l)do Vc(n,s,n.bl_tree);while(--o!==0);else s!==0?(s!==r&&(Vc(n,s,n.bl_tree),o--),Vc(n,a9,n.bl_tree),Rs(n,o-3,2)):o<=10?(Vc(n,o9,n.bl_tree),Rs(n,o-3,3)):(Vc(n,l9,n.bl_tree),Rs(n,o-11,7));o=0,r=s,a===0?(c=138,l=3):s===a?(c=6,l=3):(c=7,l=4)}}function Aat(n){var t;for(D4(n,n.dyn_ltree,n.l_desc.max_code),D4(n,n.dyn_dtree,n.d_desc.max_code),CL(n,n.bl_desc),t=jz-1;t>=3&&n.bl_tree[c9[t]*2+1]===0;t--);return n.opt_len+=3*(t+1)+5+5+4,t}function Eat(n,t,e,i){var r;for(Rs(n,t-257,5),Rs(n,e-1,5),Rs(n,i-4,4),r=0;r<i;r++)Rs(n,n.bl_tree[c9[r]*2+1],3);F4(n,n.dyn_ltree,t-1),F4(n,n.dyn_dtree,e-1)}function _at(n){var t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&n.dyn_ltree[e*2]!==0)return k4;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return T4;for(e=32;e<Vk;e++)if(n.dyn_ltree[e*2]!==0)return T4;return k4}var M4=!1;function Cat(n){M4||(xat(),M4=!0),n.l_desc=new vN(n.dyn_ltree,h9),n.d_desc=new vN(n.dyn_dtree,u9),n.bl_desc=new vN(n.bl_tree,d9),n.bi_buf=0,n.bi_valid=0,m9(n)}function y9(n,t,e,i){Rs(n,(dat<<1)+(i?1:0),3),Sat(n,t,e)}function kat(n){Rs(n,r9<<1,3),Vc(n,Uz,kh),bat(n)}function Tat(n,t,e,i){var r,s,a=0;n.level>0?(n.strm.data_type===uat&&(n.strm.data_type=_at(n)),CL(n,n.l_desc),CL(n,n.d_desc),a=Aat(n),r=n.opt_len+3+7>>>3,s=n.static_len+3+7>>>3,s<=r&&(r=s)):r=s=e+5,e+4<=r&&t!==-1?y9(n,t,e,i):n.strategy===hat||s===r?(Rs(n,(r9<<1)+(i?1:0),3),R4(n,kh,hA)):(Rs(n,(fat<<1)+(i?1:0),3),Eat(n,n.l_desc.max_code+1,n.d_desc.max_code+1,a+1),R4(n,n.dyn_ltree,n.dyn_dtree)),m9(n),i&&v9(n)}function Pat(n,t,e){return n.pending_buf[n.d_buf+n.last_lit*2]=t>>>8&255,n.pending_buf[n.d_buf+n.last_lit*2+1]=t&255,n.pending_buf[n.l_buf+n.last_lit]=e&255,n.last_lit++,t===0?n.dyn_ltree[e*2]++:(n.matches++,t--,n.dyn_ltree[(nE[e]+Vk+1)*2]++,n.dyn_dtree[f9(t)*2]++),n.last_lit===n.lit_bufsize-1}sx._tr_init=Cat;sx._tr_stored_block=y9;sx._tr_flush_block=Tat;sx._tr_tally=Pat;sx._tr_align=kat;function Rat(n,t,e,i){for(var r=n&65535|0,s=n>>>16&65535|0,a=0;e!==0;){a=e>2e3?2e3:e,e-=a;do r=r+t[i++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0}var b9=Rat;function Dat(){for(var n,t=[],e=0;e<256;e++){n=e;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t}var Fat=Dat();function Mat(n,t,e,i){var r=Fat,s=i+e;n^=-1;for(var a=i;a<s;a++)n=n>>>8^r[(n^t[a])&255];return n^-1}var w9=Mat,Wz={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},es=fd,Co=sx,x9=b9,Rd=w9,Nat=Wz,Fv=0,Iat=1,Lat=3,Wp=4,N4=5,Gc=0,I4=1,ko=-2,Oat=-3,bN=-5,Bat=-1,zat=1,GT=2,jat=3,Uat=4,Hat=0,Wat=2,DF=8,Vat=9,Gat=15,Xat=8,qat=29,Kat=256,kL=Kat+1+qat,Yat=30,Zat=19,Qat=2*kL+1,Jat=15,ae=3,Tp=258,Cl=Tp+ae+1,$at=32,FF=42,TL=69,Q2=73,J2=91,$2=103,Fg=113,sS=666,fi=1,Gk=2,cv=3,ox=4,tot=3;function Pp(n,t){return n.msg=Nat[t],t}function L4(n){return(n<<1)-(n>4?9:0)}function Wd(n){for(var t=n.length;--t>=0;)n[t]=0}function Dd(n){var t=n.state,e=t.pending;e>n.avail_out&&(e=n.avail_out),e!==0&&(es.arraySet(n.output,t.pending_buf,t.pending_out,e,n.next_out),n.next_out+=e,t.pending_out+=e,n.total_out+=e,n.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))}function dr(n,t){Co._tr_flush_block(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,t),n.block_start=n.strstart,Dd(n.strm)}function xe(n,t){n.pending_buf[n.pending++]=t}function Ix(n,t){n.pending_buf[n.pending++]=t>>>8&255,n.pending_buf[n.pending++]=t&255}function eot(n,t,e,i){var r=n.avail_in;return r>i&&(r=i),r===0?0:(n.avail_in-=r,es.arraySet(t,n.input,n.next_in,r,e),n.state.wrap===1?n.adler=x9(n.adler,t,r,e):n.state.wrap===2&&(n.adler=Rd(n.adler,t,r,e)),n.next_in+=r,n.total_in+=r,r)}function S9(n,t){var e=n.max_chain_length,i=n.strstart,r,s,a=n.prev_length,o=n.nice_match,c=n.strstart>n.w_size-Cl?n.strstart-(n.w_size-Cl):0,l=n.window,u=n.w_mask,d=n.prev,f=n.strstart+Tp,p=l[i+a-1],g=l[i+a];n.prev_length>=n.good_match&&(e>>=2),o>n.lookahead&&(o=n.lookahead);do if(r=t,!(l[r+a]!==g||l[r+a-1]!==p||l[r]!==l[i]||l[++r]!==l[i+1])){i+=2,r++;do;while(l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&i<f);if(s=Tp-(f-i),i=f-Tp,s>a){if(n.match_start=t,a=s,s>=o)break;p=l[i+a-1],g=l[i+a]}}while((t=d[t&u])>c&&--e!==0);return a<=n.lookahead?a:n.lookahead}function hv(n){var t=n.w_size,e,i,r,s,a;do{if(s=n.window_size-n.lookahead-n.strstart,n.strstart>=t+(t-Cl)){es.arraySet(n.window,n.window,t,t,0),n.match_start-=t,n.strstart-=t,n.block_start-=t,i=n.hash_size,e=i;do r=n.head[--e],n.head[e]=r>=t?r-t:0;while(--i);i=t,e=i;do r=n.prev[--e],n.prev[e]=r>=t?r-t:0;while(--i);s+=t}if(n.strm.avail_in===0)break;if(i=eot(n.strm,n.window,n.strstart+n.lookahead,s),n.lookahead+=i,n.lookahead+n.insert>=ae)for(a=n.strstart-n.insert,n.ins_h=n.window[a],n.ins_h=(n.ins_h<<n.hash_shift^n.window[a+1])&n.hash_mask;n.insert&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[a+ae-1])&n.hash_mask,n.prev[a&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=a,a++,n.insert--,!(n.lookahead+n.insert<ae)););}while(n.lookahead<Cl&&n.strm.avail_in!==0)}function not(n,t){var e=65535;for(e>n.pending_buf_size-5&&(e=n.pending_buf_size-5);;){if(n.lookahead<=1){if(hv(n),n.lookahead===0&&t===Fv)return fi;if(n.lookahead===0)break}n.strstart+=n.lookahead,n.lookahead=0;var i=n.block_start+e;if((n.strstart===0||n.strstart>=i)&&(n.lookahead=n.strstart-i,n.strstart=i,dr(n,!1),n.strm.avail_out===0)||n.strstart-n.block_start>=n.w_size-Cl&&(dr(n,!1),n.strm.avail_out===0))return fi}return n.insert=0,t===Wp?(dr(n,!0),n.strm.avail_out===0?cv:ox):(n.strstart>n.block_start&&(dr(n,!1),n.strm.avail_out===0),fi)}function wN(n,t){for(var e,i;;){if(n.lookahead<Cl){if(hv(n),n.lookahead<Cl&&t===Fv)return fi;if(n.lookahead===0)break}if(e=0,n.lookahead>=ae&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+ae-1])&n.hash_mask,e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),e!==0&&n.strstart-e<=n.w_size-Cl&&(n.match_length=S9(n,e)),n.match_length>=ae)if(i=Co._tr_tally(n,n.strstart-n.match_start,n.match_length-ae),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=ae){n.match_length--;do n.strstart++,n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+ae-1])&n.hash_mask,e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+1])&n.hash_mask;else i=Co._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(i&&(dr(n,!1),n.strm.avail_out===0))return fi}return n.insert=n.strstart<ae-1?n.strstart:ae-1,t===Wp?(dr(n,!0),n.strm.avail_out===0?cv:ox):n.last_lit&&(dr(n,!1),n.strm.avail_out===0)?fi:Gk}function ty(n,t){for(var e,i,r;;){if(n.lookahead<Cl){if(hv(n),n.lookahead<Cl&&t===Fv)return fi;if(n.lookahead===0)break}if(e=0,n.lookahead>=ae&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+ae-1])&n.hash_mask,e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=ae-1,e!==0&&n.prev_length<n.max_lazy_match&&n.strstart-e<=n.w_size-Cl&&(n.match_length=S9(n,e),n.match_length<=5&&(n.strategy===zat||n.match_length===ae&&n.strstart-n.match_start>4096)&&(n.match_length=ae-1)),n.prev_length>=ae&&n.match_length<=n.prev_length){r=n.strstart+n.lookahead-ae,i=Co._tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-ae),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=r&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+ae-1])&n.hash_mask,e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=ae-1,n.strstart++,i&&(dr(n,!1),n.strm.avail_out===0))return fi}else if(n.match_available){if(i=Co._tr_tally(n,0,n.window[n.strstart-1]),i&&dr(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return fi}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(i=Co._tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<ae-1?n.strstart:ae-1,t===Wp?(dr(n,!0),n.strm.avail_out===0?cv:ox):n.last_lit&&(dr(n,!1),n.strm.avail_out===0)?fi:Gk}function iot(n,t){for(var e,i,r,s,a=n.window;;){if(n.lookahead<=Tp){if(hv(n),n.lookahead<=Tp&&t===Fv)return fi;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=ae&&n.strstart>0&&(r=n.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){s=n.strstart+Tp;do;while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);n.match_length=Tp-(s-r),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=ae?(e=Co._tr_tally(n,1,n.match_length-ae),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(e=Co._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),e&&(dr(n,!1),n.strm.avail_out===0))return fi}return n.insert=0,t===Wp?(dr(n,!0),n.strm.avail_out===0?cv:ox):n.last_lit&&(dr(n,!1),n.strm.avail_out===0)?fi:Gk}function rot(n,t){for(var e;;){if(n.lookahead===0&&(hv(n),n.lookahead===0)){if(t===Fv)return fi;break}if(n.match_length=0,e=Co._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,e&&(dr(n,!1),n.strm.avail_out===0))return fi}return n.insert=0,t===Wp?(dr(n,!0),n.strm.avail_out===0?cv:ox):n.last_lit&&(dr(n,!1),n.strm.avail_out===0)?fi:Gk}function Hl(n,t,e,i,r){this.good_length=n,this.max_lazy=t,this.nice_length=e,this.max_chain=i,this.func=r}var By;By=[new Hl(0,0,0,0,not),new Hl(4,4,8,4,wN),new Hl(4,5,16,8,wN),new Hl(4,6,32,32,wN),new Hl(4,4,16,16,ty),new Hl(8,16,32,32,ty),new Hl(8,16,128,128,ty),new Hl(8,32,128,256,ty),new Hl(32,128,258,1024,ty),new Hl(32,258,258,4096,ty)];function sot(n){n.window_size=2*n.w_size,Wd(n.head),n.max_lazy_match=By[n.level].max_lazy,n.good_match=By[n.level].good_length,n.nice_match=By[n.level].nice_length,n.max_chain_length=By[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=ae-1,n.match_available=0,n.ins_h=0}function aot(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=DF,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new es.Buf16(Qat*2),this.dyn_dtree=new es.Buf16((2*Yat+1)*2),this.bl_tree=new es.Buf16((2*Zat+1)*2),Wd(this.dyn_ltree),Wd(this.dyn_dtree),Wd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new es.Buf16(Jat+1),this.heap=new es.Buf16(2*kL+1),Wd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new es.Buf16(2*kL+1),Wd(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function A9(n){var t;return!n||!n.state?Pp(n,ko):(n.total_in=n.total_out=0,n.data_type=Wat,t=n.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?FF:Fg,n.adler=t.wrap===2?0:1,t.last_flush=Fv,Co._tr_init(t),Gc)}function E9(n){var t=A9(n);return t===Gc&&sot(n.state),t}function oot(n,t){return!n||!n.state||n.state.wrap!==2?ko:(n.state.gzhead=t,Gc)}function _9(n,t,e,i,r,s){if(!n)return ko;var a=1;if(t===Bat&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>Vat||e!==DF||i<8||i>15||t<0||t>9||s<0||s>Uat)return Pp(n,ko);i===8&&(i=9);var o=new aot;return n.state=o,o.strm=n,o.wrap=a,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+ae-1)/ae),o.window=new es.Buf8(o.w_size*2),o.head=new es.Buf16(o.hash_size),o.prev=new es.Buf16(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new es.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=s,o.method=e,E9(n)}function lot(n,t){return _9(n,t,DF,Gat,Xat,Hat)}function cot(n,t){var e,i,r,s;if(!n||!n.state||t>N4||t<0)return n?Pp(n,ko):ko;if(i=n.state,!n.output||!n.input&&n.avail_in!==0||i.status===sS&&t!==Wp)return Pp(n,n.avail_out===0?bN:ko);if(i.strm=n,e=i.last_flush,i.last_flush=t,i.status===FF)if(i.wrap===2)n.adler=0,xe(i,31),xe(i,139),xe(i,8),i.gzhead?(xe(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),xe(i,i.gzhead.time&255),xe(i,i.gzhead.time>>8&255),xe(i,i.gzhead.time>>16&255),xe(i,i.gzhead.time>>24&255),xe(i,i.level===9?2:i.strategy>=GT||i.level<2?4:0),xe(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(xe(i,i.gzhead.extra.length&255),xe(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(n.adler=Rd(n.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=TL):(xe(i,0),xe(i,0),xe(i,0),xe(i,0),xe(i,0),xe(i,i.level===9?2:i.strategy>=GT||i.level<2?4:0),xe(i,tot),i.status=Fg);else{var a=DF+(i.w_bits-8<<4)<<8,o=-1;i.strategy>=GT||i.level<2?o=0:i.level<6?o=1:i.level===6?o=2:o=3,a|=o<<6,i.strstart!==0&&(a|=$at),a+=31-a%31,i.status=Fg,Ix(i,a),i.strstart!==0&&(Ix(i,n.adler>>>16),Ix(i,n.adler&65535)),n.adler=1}if(i.status===TL)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=Rd(n.adler,i.pending_buf,i.pending-r,r)),Dd(n),r=i.pending,i.pending===i.pending_buf_size));)xe(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(n.adler=Rd(n.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=Q2)}else i.status=Q2;if(i.status===Q2)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=Rd(n.adler,i.pending_buf,i.pending-r,r)),Dd(n),r=i.pending,i.pending===i.pending_buf_size)){s=1;break}i.gzindex<i.gzhead.name.length?s=i.gzhead.name.charCodeAt(i.gzindex++)&255:s=0,xe(i,s)}while(s!==0);i.gzhead.hcrc&&i.pending>r&&(n.adler=Rd(n.adler,i.pending_buf,i.pending-r,r)),s===0&&(i.gzindex=0,i.status=J2)}else i.status=J2;if(i.status===J2)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=Rd(n.adler,i.pending_buf,i.pending-r,r)),Dd(n),r=i.pending,i.pending===i.pending_buf_size)){s=1;break}i.gzindex<i.gzhead.comment.length?s=i.gzhead.comment.charCodeAt(i.gzindex++)&255:s=0,xe(i,s)}while(s!==0);i.gzhead.hcrc&&i.pending>r&&(n.adler=Rd(n.adler,i.pending_buf,i.pending-r,r)),s===0&&(i.status=$2)}else i.status=$2;if(i.status===$2&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Dd(n),i.pending+2<=i.pending_buf_size&&(xe(i,n.adler&255),xe(i,n.adler>>8&255),n.adler=0,i.status=Fg)):i.status=Fg),i.pending!==0){if(Dd(n),n.avail_out===0)return i.last_flush=-1,Gc}else if(n.avail_in===0&&L4(t)<=L4(e)&&t!==Wp)return Pp(n,bN);if(i.status===sS&&n.avail_in!==0)return Pp(n,bN);if(n.avail_in!==0||i.lookahead!==0||t!==Fv&&i.status!==sS){var c=i.strategy===GT?rot(i,t):i.strategy===jat?iot(i,t):By[i.level].func(i,t);if((c===cv||c===ox)&&(i.status=sS),c===fi||c===cv)return n.avail_out===0&&(i.last_flush=-1),Gc;if(c===Gk&&(t===Iat?Co._tr_align(i):t!==N4&&(Co._tr_stored_block(i,0,0,!1),t===Lat&&(Wd(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),Dd(n),n.avail_out===0))return i.last_flush=-1,Gc}return t!==Wp?Gc:i.wrap<=0?I4:(i.wrap===2?(xe(i,n.adler&255),xe(i,n.adler>>8&255),xe(i,n.adler>>16&255),xe(i,n.adler>>24&255),xe(i,n.total_in&255),xe(i,n.total_in>>8&255),xe(i,n.total_in>>16&255),xe(i,n.total_in>>24&255)):(Ix(i,n.adler>>>16),Ix(i,n.adler&65535)),Dd(n),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Gc:I4)}function hot(n){var t;return!n||!n.state?ko:(t=n.state.status,t!==FF&&t!==TL&&t!==Q2&&t!==J2&&t!==$2&&t!==Fg&&t!==sS?Pp(n,ko):(n.state=null,t===Fg?Pp(n,Oat):Gc))}function uot(n,t){var e=t.length,i,r,s,a,o,c,l,u;if(!n||!n.state||(i=n.state,a=i.wrap,a===2||a===1&&i.status!==FF||i.lookahead))return ko;for(a===1&&(n.adler=x9(n.adler,t,e,0)),i.wrap=0,e>=i.w_size&&(a===0&&(Wd(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new es.Buf8(i.w_size),es.arraySet(u,t,e-i.w_size,i.w_size,0),t=u,e=i.w_size),o=n.avail_in,c=n.next_in,l=n.input,n.avail_in=e,n.next_in=0,n.input=t,hv(i);i.lookahead>=ae;){r=i.strstart,s=i.lookahead-(ae-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+ae-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++;while(--s);i.strstart=r,i.lookahead=ae-1,hv(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=ae-1,i.match_available=0,n.next_in=c,n.input=l,n.avail_in=o,i.wrap=a,Gc}ah.deflateInit=lot;ah.deflateInit2=_9;ah.deflateReset=E9;ah.deflateResetKeep=A9;ah.deflateSetHeader=oot;ah.deflate=cot;ah.deflateEnd=hot;ah.deflateSetDictionary=uot;ah.deflateInfo="pako deflate (from Nodeca project)";var Mv={},MF=fd,C9=!0,k9=!0;try{String.fromCharCode.apply(null,[0])}catch{C9=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{k9=!1}var rE=new MF.Buf8(256);for(var Ad=0;Ad<256;Ad++)rE[Ad]=Ad>=252?6:Ad>=248?5:Ad>=240?4:Ad>=224?3:Ad>=192?2:1;rE[254]=rE[254]=1;Mv.string2buf=function(n){var t,e,i,r,s,a=n.length,o=0;for(r=0;r<a;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<a&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),o+=e<128?1:e<2048?2:e<65536?3:4;for(t=new MF.Buf8(o),s=0,r=0;s<o;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<a&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),e<128?t[s++]=e:e<2048?(t[s++]=192|e>>>6,t[s++]=128|e&63):e<65536?(t[s++]=224|e>>>12,t[s++]=128|e>>>6&63,t[s++]=128|e&63):(t[s++]=240|e>>>18,t[s++]=128|e>>>12&63,t[s++]=128|e>>>6&63,t[s++]=128|e&63);return t};function T9(n,t){if(t<65534&&(n.subarray&&k9||!n.subarray&&C9))return String.fromCharCode.apply(null,MF.shrinkBuf(n,t));for(var e="",i=0;i<t;i++)e+=String.fromCharCode(n[i]);return e}Mv.buf2binstring=function(n){return T9(n,n.length)};Mv.binstring2buf=function(n){for(var t=new MF.Buf8(n.length),e=0,i=t.length;e<i;e++)t[e]=n.charCodeAt(e);return t};Mv.buf2string=function(n,t){var e,i,r,s,a=t||n.length,o=new Array(a*2);for(i=0,e=0;e<a;){if(r=n[e++],r<128){o[i++]=r;continue}if(s=rE[r],s>4){o[i++]=65533,e+=s-1;continue}for(r&=s===2?31:s===3?15:7;s>1&&e<a;)r=r<<6|n[e++]&63,s--;if(s>1){o[i++]=65533;continue}r<65536?o[i++]=r:(r-=65536,o[i++]=55296|r>>10&1023,o[i++]=56320|r&1023)}return T9(o,i)};Mv.utf8border=function(n,t){var e;for(t=t||n.length,t>n.length&&(t=n.length),e=t-1;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+rE[n[e]]>t?e:t};function dot(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var P9=dot,uA=ah,dA=fd,PL=Mv,RL=Wz,fot=P9,R9=Object.prototype.toString,pot=0,xN=4,nb=0,O4=1,B4=2,got=-1,mot=0,vot=8;function uv(n){if(!(this instanceof uv))return new uv(n);this.options=dA.assign({level:got,method:vot,chunkSize:16384,windowBits:15,memLevel:8,strategy:mot,to:""},n||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fot,this.strm.avail_out=0;var e=uA.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==nb)throw new Error(RL[e]);if(t.header&&uA.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(typeof t.dictionary=="string"?i=PL.string2buf(t.dictionary):R9.call(t.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(t.dictionary):i=t.dictionary,e=uA.deflateSetDictionary(this.strm,i),e!==nb)throw new Error(RL[e]);this._dict_set=!0}}uv.prototype.push=function(n,t){var e=this.strm,i=this.options.chunkSize,r,s;if(this.ended)return!1;s=t===~~t?t:t===!0?xN:pot,typeof n=="string"?e.input=PL.string2buf(n):R9.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;do{if(e.avail_out===0&&(e.output=new dA.Buf8(i),e.next_out=0,e.avail_out=i),r=uA.deflate(e,s),r!==O4&&r!==nb)return this.onEnd(r),this.ended=!0,!1;(e.avail_out===0||e.avail_in===0&&(s===xN||s===B4))&&(this.options.to==="string"?this.onData(PL.buf2binstring(dA.shrinkBuf(e.output,e.next_out))):this.onData(dA.shrinkBuf(e.output,e.next_out)))}while((e.avail_in>0||e.avail_out===0)&&r!==O4);return s===xN?(r=uA.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===nb):(s===B4&&(this.onEnd(nb),e.avail_out=0),!0)};uv.prototype.onData=function(n){this.chunks.push(n)};uv.prototype.onEnd=function(n){n===nb&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Vz(n,t){var e=new uv(t);if(e.push(n,!0),e.err)throw e.msg||RL[e.err];return e.result}function yot(n,t){return t=t||{},t.raw=!0,Vz(n,t)}function bot(n,t){return t=t||{},t.gzip=!0,Vz(n,t)}Wk.Deflate=uv;Wk.deflate=Vz;Wk.deflateRaw=yot;Wk.gzip=bot;var Xk={},Nl={},XT=30,wot=12,xot=function(t,e){var i,r,s,a,o,c,l,u,d,f,p,g,m,y,v,w,x,A,S,C,k,T,R,F,D;i=t.state,r=t.next_in,F=t.input,s=r+(t.avail_in-5),a=t.next_out,D=t.output,o=a-(e-t.avail_out),c=a+(t.avail_out-257),l=i.dmax,u=i.wsize,d=i.whave,f=i.wnext,p=i.window,g=i.hold,m=i.bits,y=i.lencode,v=i.distcode,w=(1<<i.lenbits)-1,x=(1<<i.distbits)-1;t:do{m<15&&(g+=F[r++]<<m,m+=8,g+=F[r++]<<m,m+=8),A=y[g&w];e:for(;;){if(S=A>>>24,g>>>=S,m-=S,S=A>>>16&255,S===0)D[a++]=A&65535;else if(S&16){C=A&65535,S&=15,S&&(m<S&&(g+=F[r++]<<m,m+=8),C+=g&(1<<S)-1,g>>>=S,m-=S),m<15&&(g+=F[r++]<<m,m+=8,g+=F[r++]<<m,m+=8),A=v[g&x];n:for(;;){if(S=A>>>24,g>>>=S,m-=S,S=A>>>16&255,S&16){if(k=A&65535,S&=15,m<S&&(g+=F[r++]<<m,m+=8,m<S&&(g+=F[r++]<<m,m+=8)),k+=g&(1<<S)-1,k>l){t.msg="invalid distance too far back",i.mode=XT;break t}if(g>>>=S,m-=S,S=a-o,k>S){if(S=k-S,S>d&&i.sane){t.msg="invalid distance too far back",i.mode=XT;break t}if(T=0,R=p,f===0){if(T+=u-S,S<C){C-=S;do D[a++]=p[T++];while(--S);T=a-k,R=D}}else if(f<S){if(T+=u+f-S,S-=f,S<C){C-=S;do D[a++]=p[T++];while(--S);if(T=0,f<C){S=f,C-=S;do D[a++]=p[T++];while(--S);T=a-k,R=D}}}else if(T+=f-S,S<C){C-=S;do D[a++]=p[T++];while(--S);T=a-k,R=D}for(;C>2;)D[a++]=R[T++],D[a++]=R[T++],D[a++]=R[T++],C-=3;C&&(D[a++]=R[T++],C>1&&(D[a++]=R[T++]))}else{T=a-k;do D[a++]=D[T++],D[a++]=D[T++],D[a++]=D[T++],C-=3;while(C>2);C&&(D[a++]=D[T++],C>1&&(D[a++]=D[T++]))}}else if(S&64){t.msg="invalid distance code",i.mode=XT;break t}else{A=v[(A&65535)+(g&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){i.mode=wot;break t}else{t.msg="invalid literal/length code",i.mode=XT;break t}else{A=y[(A&65535)+(g&(1<<S)-1)];continue e}break}}while(r<s&&a<c);C=m>>3,r-=C,m-=C<<3,g&=(1<<m)-1,t.next_in=r,t.next_out=a,t.avail_in=r<s?5+(s-r):5-(r-s),t.avail_out=a<c?257+(c-a):257-(a-c),i.hold=g,i.bits=m},z4=fd,ey=15,j4=852,U4=592,H4=0,SN=1,W4=2,Sot=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Aot=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Eot=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_ot=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Cot=function(t,e,i,r,s,a,o,c){var l=c.bits,u=0,d=0,f=0,p=0,g=0,m=0,y=0,v=0,w=0,x=0,A,S,C,k,T,R=null,F=0,D,U=new z4.Buf16(ey+1),j=new z4.Buf16(ey+1),V=null,Y=0,z,B,G;for(u=0;u<=ey;u++)U[u]=0;for(d=0;d<r;d++)U[e[i+d]]++;for(g=l,p=ey;p>=1&&U[p]===0;p--);if(g>p&&(g=p),p===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,c.bits=1,0;for(f=1;f<p&&U[f]===0;f++);for(g<f&&(g=f),v=1,u=1;u<=ey;u++)if(v<<=1,v-=U[u],v<0)return-1;if(v>0&&(t===H4||p!==1))return-1;for(j[1]=0,u=1;u<ey;u++)j[u+1]=j[u]+U[u];for(d=0;d<r;d++)e[i+d]!==0&&(o[j[e[i+d]]++]=d);if(t===H4?(R=V=o,D=19):t===SN?(R=Sot,F-=257,V=Aot,Y-=257,D=256):(R=Eot,V=_ot,D=-1),x=0,d=0,u=f,T=a,m=g,y=0,C=-1,w=1<<g,k=w-1,t===SN&&w>j4||t===W4&&w>U4)return 1;for(;;){z=u-y,o[d]<D?(B=0,G=o[d]):o[d]>D?(B=V[Y+o[d]],G=R[F+o[d]]):(B=96,G=0),A=1<<u-y,S=1<<m,f=S;do S-=A,s[T+(x>>y)+S]=z<<24|B<<16|G|0;while(S!==0);for(A=1<<u-1;x&A;)A>>=1;if(A!==0?(x&=A-1,x+=A):x=0,d++,--U[u]===0){if(u===p)break;u=e[i+o[d]]}if(u>g&&(x&k)!==C){for(y===0&&(y=g),T+=f,m=u-y,v=1<<m;m+y<p&&(v-=U[m+y],!(v<=0));)m++,v<<=1;if(w+=1<<m,t===SN&&w>j4||t===W4&&w>U4)return 1;C=x&k,s[C]=g<<24|m<<16|T-a|0}}return x!==0&&(s[T+x]=u-y<<24|64<<16|0),c.bits=g,0},Ra=fd,DL=b9,Wl=w9,kot=xot,fA=Cot,Tot=0,D9=1,F9=2,V4=4,Pot=5,qT=6,dv=0,Rot=1,Dot=2,Io=-2,M9=-3,N9=-4,Fot=-5,G4=8,I9=1,X4=2,q4=3,K4=4,Y4=5,Z4=6,Q4=7,J4=8,$4=9,t6=10,ZR=11,fh=12,AN=13,e6=14,EN=15,n6=16,i6=17,r6=18,s6=19,KT=20,YT=21,a6=22,o6=23,l6=24,c6=25,h6=26,_N=27,u6=28,d6=29,en=30,L9=31,Mot=32,Not=852,Iot=592,Lot=15,Oot=Lot;function f6(n){return(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24)}function Bot(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ra.Buf16(320),this.work=new Ra.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O9(n){var t;return!n||!n.state?Io:(t=n.state,n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=I9,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Ra.Buf32(Not),t.distcode=t.distdyn=new Ra.Buf32(Iot),t.sane=1,t.back=-1,dv)}function B9(n){var t;return!n||!n.state?Io:(t=n.state,t.wsize=0,t.whave=0,t.wnext=0,O9(n))}function z9(n,t){var e,i;return!n||!n.state||(i=n.state,t<0?(e=0,t=-t):(e=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Io:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=e,i.wbits=t,B9(n))}function j9(n,t){var e,i;return n?(i=new Bot,n.state=i,i.window=null,e=z9(n,t),e!==dv&&(n.state=null),e):Io}function zot(n){return j9(n,Oot)}var p6=!0,CN,kN;function jot(n){if(p6){var t;for(CN=new Ra.Buf32(512),kN=new Ra.Buf32(32),t=0;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(fA(D9,n.lens,0,288,CN,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;fA(F9,n.lens,0,32,kN,0,n.work,{bits:5}),p6=!1}n.lencode=CN,n.lenbits=9,n.distcode=kN,n.distbits=5}function U9(n,t,e,i){var r,s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Ra.Buf8(s.wsize)),i>=s.wsize?(Ra.arraySet(s.window,t,e-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),Ra.arraySet(s.window,t,e-i,r,s.wnext),i-=r,i?(Ra.arraySet(s.window,t,e-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0}function Uot(n,t){var e,i,r,s,a,o,c,l,u,d,f,p,g,m,y=0,v,w,x,A,S,C,k,T,R=new Ra.Buf8(4),F,D,U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!n||!n.state||!n.output||!n.input&&n.avail_in!==0)return Io;e=n.state,e.mode===fh&&(e.mode=AN),a=n.next_out,r=n.output,c=n.avail_out,s=n.next_in,i=n.input,o=n.avail_in,l=e.hold,u=e.bits,d=o,f=c,T=dv;t:for(;;)switch(e.mode){case I9:if(e.wrap===0){e.mode=AN;break}for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(e.wrap&2&&l===35615){e.check=0,R[0]=l&255,R[1]=l>>>8&255,e.check=Wl(e.check,R,2,0),l=0,u=0,e.mode=X4;break}if(e.flags=0,e.head&&(e.head.done=!1),!(e.wrap&1)||(((l&255)<<8)+(l>>8))%31){n.msg="incorrect header check",e.mode=en;break}if((l&15)!==G4){n.msg="unknown compression method",e.mode=en;break}if(l>>>=4,u-=4,k=(l&15)+8,e.wbits===0)e.wbits=k;else if(k>e.wbits){n.msg="invalid window size",e.mode=en;break}e.dmax=1<<k,n.adler=e.check=1,e.mode=l&512?t6:fh,l=0,u=0;break;case X4:for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(e.flags=l,(e.flags&255)!==G4){n.msg="unknown compression method",e.mode=en;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=en;break}e.head&&(e.head.text=l>>8&1),e.flags&512&&(R[0]=l&255,R[1]=l>>>8&255,e.check=Wl(e.check,R,2,0)),l=0,u=0,e.mode=q4;case q4:for(;u<32;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.head&&(e.head.time=l),e.flags&512&&(R[0]=l&255,R[1]=l>>>8&255,R[2]=l>>>16&255,R[3]=l>>>24&255,e.check=Wl(e.check,R,4,0)),l=0,u=0,e.mode=K4;case K4:for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.head&&(e.head.xflags=l&255,e.head.os=l>>8),e.flags&512&&(R[0]=l&255,R[1]=l>>>8&255,e.check=Wl(e.check,R,2,0)),l=0,u=0,e.mode=Y4;case Y4:if(e.flags&1024){for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.length=l,e.head&&(e.head.extra_len=l),e.flags&512&&(R[0]=l&255,R[1]=l>>>8&255,e.check=Wl(e.check,R,2,0)),l=0,u=0}else e.head&&(e.head.extra=null);e.mode=Z4;case Z4:if(e.flags&1024&&(p=e.length,p>o&&(p=o),p&&(e.head&&(k=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),Ra.arraySet(e.head.extra,i,s,p,k)),e.flags&512&&(e.check=Wl(e.check,i,p,s)),o-=p,s+=p,e.length-=p),e.length))break t;e.length=0,e.mode=Q4;case Q4:if(e.flags&2048){if(o===0)break t;p=0;do k=i[s+p++],e.head&&k&&e.length<65536&&(e.head.name+=String.fromCharCode(k));while(k&&p<o);if(e.flags&512&&(e.check=Wl(e.check,i,p,s)),o-=p,s+=p,k)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=J4;case J4:if(e.flags&4096){if(o===0)break t;p=0;do k=i[s+p++],e.head&&k&&e.length<65536&&(e.head.comment+=String.fromCharCode(k));while(k&&p<o);if(e.flags&512&&(e.check=Wl(e.check,i,p,s)),o-=p,s+=p,k)break t}else e.head&&(e.head.comment=null);e.mode=$4;case $4:if(e.flags&512){for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(l!==(e.check&65535)){n.msg="header crc mismatch",e.mode=en;break}l=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=fh;break;case t6:for(;u<32;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}n.adler=e.check=f6(l),l=0,u=0,e.mode=ZR;case ZR:if(e.havedict===0)return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,e.hold=l,e.bits=u,Dot;n.adler=e.check=1,e.mode=fh;case fh:if(t===Pot||t===qT)break t;case AN:if(e.last){l>>>=u&7,u-=u&7,e.mode=_N;break}for(;u<3;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}switch(e.last=l&1,l>>>=1,u-=1,l&3){case 0:e.mode=e6;break;case 1:if(jot(e),e.mode=KT,t===qT){l>>>=2,u-=2;break t}break;case 2:e.mode=i6;break;case 3:n.msg="invalid block type",e.mode=en}l>>>=2,u-=2;break;case e6:for(l>>>=u&7,u-=u&7;u<32;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){n.msg="invalid stored block lengths",e.mode=en;break}if(e.length=l&65535,l=0,u=0,e.mode=EN,t===qT)break t;case EN:e.mode=n6;case n6:if(p=e.length,p){if(p>o&&(p=o),p>c&&(p=c),p===0)break t;Ra.arraySet(r,i,s,p,a),o-=p,s+=p,c-=p,a+=p,e.length-=p;break}e.mode=fh;break;case i6:for(;u<14;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(e.nlen=(l&31)+257,l>>>=5,u-=5,e.ndist=(l&31)+1,l>>>=5,u-=5,e.ncode=(l&15)+4,l>>>=4,u-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=en;break}e.have=0,e.mode=r6;case r6:for(;e.have<e.ncode;){for(;u<3;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.lens[U[e.have++]]=l&7,l>>>=3,u-=3}for(;e.have<19;)e.lens[U[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,F={bits:e.lenbits},T=fA(Tot,e.lens,0,19,e.lencode,0,e.work,F),e.lenbits=F.bits,T){n.msg="invalid code lengths set",e.mode=en;break}e.have=0,e.mode=s6;case s6:for(;e.have<e.nlen+e.ndist;){for(;y=e.lencode[l&(1<<e.lenbits)-1],v=y>>>24,w=y>>>16&255,x=y&65535,!(v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(x<16)l>>>=v,u-=v,e.lens[e.have++]=x;else{if(x===16){for(D=v+2;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(l>>>=v,u-=v,e.have===0){n.msg="invalid bit length repeat",e.mode=en;break}k=e.lens[e.have-1],p=3+(l&3),l>>>=2,u-=2}else if(x===17){for(D=v+3;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}l>>>=v,u-=v,k=0,p=3+(l&7),l>>>=3,u-=3}else{for(D=v+7;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}l>>>=v,u-=v,k=0,p=11+(l&127),l>>>=7,u-=7}if(e.have+p>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=en;break}for(;p--;)e.lens[e.have++]=k}}if(e.mode===en)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=en;break}if(e.lenbits=9,F={bits:e.lenbits},T=fA(D9,e.lens,0,e.nlen,e.lencode,0,e.work,F),e.lenbits=F.bits,T){n.msg="invalid literal/lengths set",e.mode=en;break}if(e.distbits=6,e.distcode=e.distdyn,F={bits:e.distbits},T=fA(F9,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,F),e.distbits=F.bits,T){n.msg="invalid distances set",e.mode=en;break}if(e.mode=KT,t===qT)break t;case KT:e.mode=YT;case YT:if(o>=6&&c>=258){n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,e.hold=l,e.bits=u,kot(n,f),a=n.next_out,r=n.output,c=n.avail_out,s=n.next_in,i=n.input,o=n.avail_in,l=e.hold,u=e.bits,e.mode===fh&&(e.back=-1);break}for(e.back=0;y=e.lencode[l&(1<<e.lenbits)-1],v=y>>>24,w=y>>>16&255,x=y&65535,!(v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(w&&!(w&240)){for(A=v,S=w,C=x;y=e.lencode[C+((l&(1<<A+S)-1)>>A)],v=y>>>24,w=y>>>16&255,x=y&65535,!(A+v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}l>>>=A,u-=A,e.back+=A}if(l>>>=v,u-=v,e.back+=v,e.length=x,w===0){e.mode=h6;break}if(w&32){e.back=-1,e.mode=fh;break}if(w&64){n.msg="invalid literal/length code",e.mode=en;break}e.extra=w&15,e.mode=a6;case a6:if(e.extra){for(D=e.extra;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.length+=l&(1<<e.extra)-1,l>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=o6;case o6:for(;y=e.distcode[l&(1<<e.distbits)-1],v=y>>>24,w=y>>>16&255,x=y&65535,!(v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(!(w&240)){for(A=v,S=w,C=x;y=e.distcode[C+((l&(1<<A+S)-1)>>A)],v=y>>>24,w=y>>>16&255,x=y&65535,!(A+v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}l>>>=A,u-=A,e.back+=A}if(l>>>=v,u-=v,e.back+=v,w&64){n.msg="invalid distance code",e.mode=en;break}e.offset=x,e.extra=w&15,e.mode=l6;case l6:if(e.extra){for(D=e.extra;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.offset+=l&(1<<e.extra)-1,l>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=en;break}e.mode=c6;case c6:if(c===0)break t;if(p=f-c,e.offset>p){if(p=e.offset-p,p>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=en;break}p>e.wnext?(p-=e.wnext,g=e.wsize-p):g=e.wnext-p,p>e.length&&(p=e.length),m=e.window}else m=r,g=a-e.offset,p=e.length;p>c&&(p=c),c-=p,e.length-=p;do r[a++]=m[g++];while(--p);e.length===0&&(e.mode=YT);break;case h6:if(c===0)break t;r[a++]=e.length,c--,e.mode=YT;break;case _N:if(e.wrap){for(;u<32;){if(o===0)break t;o--,l|=i[s++]<<u,u+=8}if(f-=c,n.total_out+=f,e.total+=f,f&&(n.adler=e.check=e.flags?Wl(e.check,r,f,a-f):DL(e.check,r,f,a-f)),f=c,(e.flags?l:f6(l))!==e.check){n.msg="incorrect data check",e.mode=en;break}l=0,u=0}e.mode=u6;case u6:if(e.wrap&&e.flags){for(;u<32;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(l!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=en;break}l=0,u=0}e.mode=d6;case d6:T=Rot;break t;case en:T=M9;break t;case L9:return N9;case Mot:default:return Io}return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,e.hold=l,e.bits=u,(e.wsize||f!==n.avail_out&&e.mode<en&&(e.mode<_N||t!==V4))&&U9(n,n.output,n.next_out,f-n.avail_out),d-=n.avail_in,f-=n.avail_out,n.total_in+=d,n.total_out+=f,e.total+=f,e.wrap&&f&&(n.adler=e.check=e.flags?Wl(e.check,r,f,n.next_out-f):DL(e.check,r,f,n.next_out-f)),n.data_type=e.bits+(e.last?64:0)+(e.mode===fh?128:0)+(e.mode===KT||e.mode===EN?256:0),(d===0&&f===0||t===V4)&&T===dv&&(T=Fot),T}function Hot(n){if(!n||!n.state)return Io;var t=n.state;return t.window&&(t.window=null),n.state=null,dv}function Wot(n,t){var e;return!n||!n.state||(e=n.state,!(e.wrap&2))?Io:(e.head=t,t.done=!1,dv)}function Vot(n,t){var e=t.length,i,r,s;return!n||!n.state||(i=n.state,i.wrap!==0&&i.mode!==ZR)?Io:i.mode===ZR&&(r=1,r=DL(r,t,e,0),r!==i.check)?M9:(s=U9(n,t,e,e),s?(i.mode=L9,N9):(i.havedict=1,dv))}Nl.inflateReset=B9;Nl.inflateReset2=z9;Nl.inflateResetKeep=O9;Nl.inflateInit=zot;Nl.inflateInit2=j9;Nl.inflate=Uot;Nl.inflateEnd=Hot;Nl.inflateGetHeader=Wot;Nl.inflateSetDictionary=Vot;Nl.inflateInfo="pako inflate (from Nodeca project)";var H9={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function Got(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Xot=Got,ib=Nl,pA=fd,tP=Mv,Mn=H9,FL=Wz,qot=P9,Kot=Xot,W9=Object.prototype.toString;function fv(n){if(!(this instanceof fv))return new fv(n);this.options=pA.assign({chunkSize:16384,windowBits:0,to:""},n||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qot,this.strm.avail_out=0;var e=ib.inflateInit2(this.strm,t.windowBits);if(e!==Mn.Z_OK)throw new Error(FL[e]);if(this.header=new Kot,ib.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=tP.string2buf(t.dictionary):W9.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=ib.inflateSetDictionary(this.strm,t.dictionary),e!==Mn.Z_OK)))throw new Error(FL[e])}fv.prototype.push=function(n,t){var e=this.strm,i=this.options.chunkSize,r=this.options.dictionary,s,a,o,c,l,u=!1;if(this.ended)return!1;a=t===~~t?t:t===!0?Mn.Z_FINISH:Mn.Z_NO_FLUSH,typeof n=="string"?e.input=tP.binstring2buf(n):W9.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;do{if(e.avail_out===0&&(e.output=new pA.Buf8(i),e.next_out=0,e.avail_out=i),s=ib.inflate(e,Mn.Z_NO_FLUSH),s===Mn.Z_NEED_DICT&&r&&(s=ib.inflateSetDictionary(this.strm,r)),s===Mn.Z_BUF_ERROR&&u===!0&&(s=Mn.Z_OK,u=!1),s!==Mn.Z_STREAM_END&&s!==Mn.Z_OK)return this.onEnd(s),this.ended=!0,!1;e.next_out&&(e.avail_out===0||s===Mn.Z_STREAM_END||e.avail_in===0&&(a===Mn.Z_FINISH||a===Mn.Z_SYNC_FLUSH))&&(this.options.to==="string"?(o=tP.utf8border(e.output,e.next_out),c=e.next_out-o,l=tP.buf2string(e.output,o),e.next_out=c,e.avail_out=i-c,c&&pA.arraySet(e.output,e.output,o,c,0),this.onData(l)):this.onData(pA.shrinkBuf(e.output,e.next_out))),e.avail_in===0&&e.avail_out===0&&(u=!0)}while((e.avail_in>0||e.avail_out===0)&&s!==Mn.Z_STREAM_END);return s===Mn.Z_STREAM_END&&(a=Mn.Z_FINISH),a===Mn.Z_FINISH?(s=ib.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Mn.Z_OK):(a===Mn.Z_SYNC_FLUSH&&(this.onEnd(Mn.Z_OK),e.avail_out=0),!0)};fv.prototype.onData=function(n){this.chunks.push(n)};fv.prototype.onEnd=function(n){n===Mn.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=pA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Gz(n,t){var e=new fv(t);if(e.push(n,!0),e.err)throw e.msg||FL[e.err];return e.result}function Yot(n,t){return t=t||{},t.raw=!0,Gz(n,t)}Xk.Inflate=fv;Xk.inflate=Gz;Xk.inflateRaw=Yot;Xk.ungzip=Gz;var Zot=fd.assign,Qot=Wk,Jot=Xk,$ot=H9,V9={};Zot(V9,Qot,Jot,$ot);var tlt=V9;const G9=hd(tlt);var NF=function(){function n(t,e){this.major=String(t),this.minor=String(e)}return n.prototype.toString=function(){var t=Ku(129);return"%PDF-"+this.major+"."+this.minor+`
%`+t+t+t+t},n.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},n.prototype.copyBytesInto=function(t,e){var i=e;return t[e++]=O.Percent,t[e++]=O.P,t[e++]=O.D,t[e++]=O.F,t[e++]=O.Dash,e+=hr(this.major,t,e),t[e++]=O.Period,e+=hr(this.minor,t,e),t[e++]=O.Newline,t[e++]=O.Percent,t[e++]=129,t[e++]=129,t[e++]=129,t[e++]=129,e-i},n.forVersion=function(t,e){return new n(t,e)},n}(),os=function(){function n(){}return n.prototype.clone=function(t){throw new xo(this.constructor.name,"clone")},n.prototype.toString=function(){throw new xo(this.constructor.name,"toString")},n.prototype.sizeInBytes=function(){throw new xo(this.constructor.name,"sizeInBytes")},n.prototype.copyBytesInto=function(t,e){throw new xo(this.constructor.name,"copyBytesInto")},n}(),Rt=function(n){rt(t,n);function t(e){var i=n.call(this)||this;return i.numberValue=e,i.stringValue=Eit(e),i}return t.prototype.asNumber=function(){return this.numberValue},t.prototype.value=function(){return this.numberValue},t.prototype.clone=function(){return t.of(this.numberValue)},t.prototype.toString=function(){return this.stringValue},t.prototype.sizeInBytes=function(){return this.stringValue.length},t.prototype.copyBytesInto=function(e,i){return i+=hr(this.stringValue,e,i),this.stringValue.length},t.of=function(e){return new t(e)},t}(os),pe=function(n){rt(t,n);function t(e){var i=n.call(this)||this;return i.array=[],i.context=e,i}return t.prototype.size=function(){return this.array.length},t.prototype.push=function(e){this.array.push(e)},t.prototype.insert=function(e,i){this.array.splice(e,0,i)},t.prototype.indexOf=function(e){var i=this.array.indexOf(e);return i===-1?void 0:i},t.prototype.remove=function(e){this.array.splice(e,1)},t.prototype.set=function(e,i){this.array[e]=i},t.prototype.get=function(e){return this.array[e]},t.prototype.lookupMaybe=function(e){for(var i,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];return(i=this.context).lookupMaybe.apply(i,ce([this.get(e)],r))},t.prototype.lookup=function(e){for(var i,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];return(i=this.context).lookup.apply(i,ce([this.get(e)],r))},t.prototype.asRectangle=function(){if(this.size()!==4)throw new Qst(this.size());var e=this.lookup(0,Rt).asNumber(),i=this.lookup(1,Rt).asNumber(),r=this.lookup(2,Rt).asNumber(),s=this.lookup(3,Rt).asNumber(),a=e,o=i,c=r-e,l=s-i;return{x:a,y:o,width:c,height:l}},t.prototype.asArray=function(){return this.array.slice()},t.prototype.clone=function(e){for(var i=t.withContext(e||this.context),r=0,s=this.size();r<s;r++)i.push(this.array[r]);return i},t.prototype.toString=function(){for(var e="[ ",i=0,r=this.size();i<r;i++)e+=this.get(i).toString(),e+=" ";return e+="]",e},t.prototype.sizeInBytes=function(){for(var e=3,i=0,r=this.size();i<r;i++)e+=this.get(i).sizeInBytes()+1;return e},t.prototype.copyBytesInto=function(e,i){var r=i;e[i++]=O.LeftSquareBracket,e[i++]=O.Space;for(var s=0,a=this.size();s<a;s++)i+=this.get(s).copyBytesInto(e,i),e[i++]=O.Space;return e[i++]=O.RightSquareBracket,i-r},t.prototype.scalePDFNumbers=function(e,i){for(var r=0,s=this.size();r<s;r++){var a=this.lookup(r);if(a instanceof Rt){var o=r%2===0?e:i;this.set(r,Rt.of(a.asNumber()*o))}}},t.withContext=function(e){return new t(e)},t}(os),TN={},sE=function(n){rt(t,n);function t(e,i){var r=this;if(e!==TN)throw new Lz("PDFBool");return r=n.call(this)||this,r.value=i,r}return t.prototype.asBoolean=function(){return this.value},t.prototype.clone=function(){return this},t.prototype.toString=function(){return String(this.value)},t.prototype.sizeInBytes=function(){return this.value?4:5},t.prototype.copyBytesInto=function(e,i){return this.value?(e[i++]=O.t,e[i++]=O.r,e[i++]=O.u,e[i++]=O.e,4):(e[i++]=O.f,e[i++]=O.a,e[i++]=O.l,e[i++]=O.s,e[i++]=O.e,5)},t.True=new t(TN,!0),t.False=new t(TN,!1),t}(os),Uo=new Uint8Array(256);Uo[O.LeftParen]=1;Uo[O.RightParen]=1;Uo[O.LessThan]=1;Uo[O.GreaterThan]=1;Uo[O.LeftSquareBracket]=1;Uo[O.RightSquareBracket]=1;Uo[O.LeftCurly]=1;Uo[O.RightCurly]=1;Uo[O.ForwardSlash]=1;Uo[O.Percent]=1;var pd=new Uint8Array(256);pd[O.Null]=1;pd[O.Tab]=1;pd[O.Newline]=1;pd[O.FormFeed]=1;pd[O.CarriageReturn]=1;pd[O.Space]=1;var Xz=new Uint8Array(256);for(var Lx=0,elt=256;Lx<elt;Lx++)Xz[Lx]=pd[Lx]||Uo[Lx]?1:0;Xz[O.Hash]=1;var nlt=function(n){return n.replace(/#([\dABCDEF]{2})/g,function(t,e){return rit(e)})},ilt=function(n){return n>=O.ExclamationPoint&&n<=O.Tilde&&!Xz[n]},g6={},m6=new Map,L=function(n){rt(t,n);function t(e,i){var r=this;if(e!==g6)throw new Lz("PDFName");r=n.call(this)||this;for(var s="/",a=0,o=i.length;a<o;a++){var c=i[a],l=Ft(c);s+=ilt(l)?c:"#"+_F(l)}return r.encodedName=s,r}return t.prototype.asBytes=function(){for(var e=[],i="",r=!1,s=function(d){d!==void 0&&e.push(d),r=!1},a=1,o=this.encodedName.length;a<o;a++){var c=this.encodedName[a],l=Ft(c),u=this.encodedName[a+1];r?l>=O.Zero&&l<=O.Nine||l>=O.a&&l<=O.f||l>=O.A&&l<=O.F?(i+=c,(i.length===2||!(u>="0"&&u<="9"||u>="a"&&u<="f"||u>="A"&&u<="F"))&&(s(parseInt(i,16)),i="")):s(l):l===O.Hash?r=!0:s(l)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return String.fromCharCode.apply(String,Array.from(e))},t.prototype.asString=function(){return this.encodedName},t.prototype.value=function(){return this.encodedName},t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.encodedName},t.prototype.sizeInBytes=function(){return this.encodedName.length},t.prototype.copyBytesInto=function(e,i){return i+=hr(this.encodedName,e,i),this.encodedName.length},t.of=function(e){var i=nlt(e),r=m6.get(i);return r||(r=new t(g6,i),m6.set(i,r)),r},t.Length=t.of("Length"),t.FlateDecode=t.of("FlateDecode"),t.Resources=t.of("Resources"),t.Font=t.of("Font"),t.XObject=t.of("XObject"),t.ExtGState=t.of("ExtGState"),t.Contents=t.of("Contents"),t.Type=t.of("Type"),t.Parent=t.of("Parent"),t.MediaBox=t.of("MediaBox"),t.Page=t.of("Page"),t.Annots=t.of("Annots"),t.TrimBox=t.of("TrimBox"),t.ArtBox=t.of("ArtBox"),t.BleedBox=t.of("BleedBox"),t.CropBox=t.of("CropBox"),t.Rotate=t.of("Rotate"),t.Title=t.of("Title"),t.Author=t.of("Author"),t.Subject=t.of("Subject"),t.Creator=t.of("Creator"),t.Keywords=t.of("Keywords"),t.Producer=t.of("Producer"),t.CreationDate=t.of("CreationDate"),t.ModDate=t.of("ModDate"),t}(os),rlt=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.asNull=function(){return null},t.prototype.clone=function(){return this},t.prototype.toString=function(){return"null"},t.prototype.sizeInBytes=function(){return 4},t.prototype.copyBytesInto=function(e,i){return e[i++]=O.n,e[i++]=O.u,e[i++]=O.l,e[i++]=O.l,4},t}(os);const _s=new rlt;var Ot=function(n){rt(t,n);function t(e,i){var r=n.call(this)||this;return r.dict=e,r.context=i,r}return t.prototype.keys=function(){return Array.from(this.dict.keys())},t.prototype.values=function(){return Array.from(this.dict.values())},t.prototype.entries=function(){return Array.from(this.dict.entries())},t.prototype.set=function(e,i){this.dict.set(e,i)},t.prototype.get=function(e,i){i===void 0&&(i=!1);var r=this.dict.get(e);if(!(r===_s&&!i))return r},t.prototype.has=function(e){var i=this.dict.get(e);return i!==void 0&&i!==_s},t.prototype.lookupMaybe=function(e){for(var i,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var a=r.includes(_s),o=(i=this.context).lookupMaybe.apply(i,ce([this.get(e,a)],r));if(!(o===_s&&!a))return o},t.prototype.lookup=function(e){for(var i,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var a=r.includes(_s),o=(i=this.context).lookup.apply(i,ce([this.get(e,a)],r));if(!(o===_s&&!a))return o},t.prototype.delete=function(e){return this.dict.delete(e)},t.prototype.asMap=function(){return new Map(this.dict)},t.prototype.uniqueKey=function(e){e===void 0&&(e="");for(var i=this.keys(),r=L.of(this.context.addRandomSuffix(e,10));i.includes(r);)r=L.of(this.context.addRandomSuffix(e,10));return r},t.prototype.clone=function(e){for(var i=t.withContext(e||this.context),r=this.entries(),s=0,a=r.length;s<a;s++){var o=r[s],c=o[0],l=o[1];i.set(c,l)}return i},t.prototype.toString=function(){for(var e=`<<
`,i=this.entries(),r=0,s=i.length;r<s;r++){var a=i[r],o=a[0],c=a[1];e+=o.toString()+" "+c.toString()+`
`}return e+=">>",e},t.prototype.sizeInBytes=function(){for(var e=5,i=this.entries(),r=0,s=i.length;r<s;r++){var a=i[r],o=a[0],c=a[1];e+=o.sizeInBytes()+c.sizeInBytes()+2}return e},t.prototype.copyBytesInto=function(e,i){var r=i;e[i++]=O.LessThan,e[i++]=O.LessThan,e[i++]=O.Newline;for(var s=this.entries(),a=0,o=s.length;a<o;a++){var c=s[a],l=c[0],u=c[1];i+=l.copyBytesInto(e,i),e[i++]=O.Space,i+=u.copyBytesInto(e,i),e[i++]=O.Newline}return e[i++]=O.GreaterThan,e[i++]=O.GreaterThan,i-r},t.withContext=function(e){return new t(new Map,e)},t.fromMapWithContext=function(e,i){return new t(e,i)},t}(os),Na=function(n){rt(t,n);function t(e){var i=n.call(this)||this;return i.dict=e,i}return t.prototype.clone=function(e){throw new xo(this.constructor.name,"clone")},t.prototype.getContentsString=function(){throw new xo(this.constructor.name,"getContentsString")},t.prototype.getContents=function(){throw new xo(this.constructor.name,"getContents")},t.prototype.getContentsSize=function(){throw new xo(this.constructor.name,"getContentsSize")},t.prototype.updateDict=function(){var e=this.getContentsSize();this.dict.set(L.Length,Rt.of(e))},t.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},t.prototype.toString=function(){this.updateDict();var e=this.dict.toString();return e+=`
stream
`,e+=this.getContentsString(),e+=`
endstream`,e},t.prototype.copyBytesInto=function(e,i){this.updateDict();var r=i;i+=this.dict.copyBytesInto(e,i),e[i++]=O.Newline,e[i++]=O.s,e[i++]=O.t,e[i++]=O.r,e[i++]=O.e,e[i++]=O.a,e[i++]=O.m,e[i++]=O.Newline;for(var s=this.getContents(),a=0,o=s.length;a<o;a++)e[i++]=s[a];return e[i++]=O.Newline,e[i++]=O.e,e[i++]=O.n,e[i++]=O.d,e[i++]=O.s,e[i++]=O.t,e[i++]=O.r,e[i++]=O.e,e[i++]=O.a,e[i++]=O.m,i-r},t}(os),aE=function(n){rt(t,n);function t(e,i){var r=n.call(this,e)||this;return r.contents=i,r}return t.prototype.asUint8Array=function(){return this.contents.slice()},t.prototype.clone=function(e){return t.of(this.dict.clone(e),this.contents.slice())},t.prototype.getContentsString=function(){return s7(this.contents)},t.prototype.getContents=function(){return this.contents},t.prototype.getContentsSize=function(){return this.contents.length},t.of=function(e,i){return new t(e,i)},t}(Na),v6={},y6=new Map,Te=function(n){rt(t,n);function t(e,i,r){var s=this;if(e!==v6)throw new Lz("PDFRef");return s=n.call(this)||this,s.objectNumber=i,s.generationNumber=r,s.tag=i+" "+r+" R",s}return t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.tag},t.prototype.sizeInBytes=function(){return this.tag.length},t.prototype.copyBytesInto=function(e,i){return i+=hr(this.tag,e,i),this.tag.length},t.of=function(e,i){i===void 0&&(i=0);var r=e+" "+i+" R",s=y6.get(r);return s||(s=new t(v6,e,i),y6.set(r,s)),s},t}(os),re=function(){function n(t,e){this.name=t,this.args=e||[]}return n.prototype.clone=function(t){for(var e=new Array(this.args.length),i=0,r=e.length;i<r;i++){var s=this.args[i];e[i]=s instanceof os?s.clone(t):s}return n.of(this.name,e)},n.prototype.toString=function(){for(var t="",e=0,i=this.args.length;e<i;e++)t+=String(this.args[e])+" ";return t+=this.name,t},n.prototype.sizeInBytes=function(){for(var t=0,e=0,i=this.args.length;e<i;e++){var r=this.args[e];t+=(r instanceof os?r.sizeInBytes():r.length)+1}return t+=this.name.length,t},n.prototype.copyBytesInto=function(t,e){for(var i=e,r=0,s=this.args.length;r<s;r++){var a=this.args[r];a instanceof os?e+=a.copyBytesInto(t,e):e+=hr(a,t,e),t[e++]=O.Space}return e+=hr(this.name,t,e),e-i},n.of=function(t,e){return new n(t,e)},n}(),ML;(function(n){n.NonStrokingColor="sc",n.NonStrokingColorN="scn",n.NonStrokingColorRgb="rg",n.NonStrokingColorGray="g",n.NonStrokingColorCmyk="k",n.NonStrokingColorspace="cs",n.StrokingColor="SC",n.StrokingColorN="SCN",n.StrokingColorRgb="RG",n.StrokingColorGray="G",n.StrokingColorCmyk="K",n.StrokingColorspace="CS",n.BeginMarkedContentSequence="BDC",n.BeginMarkedContent="BMC",n.EndMarkedContent="EMC",n.MarkedContentPointWithProps="DP",n.MarkedContentPoint="MP",n.DrawObject="Do",n.ConcatTransformationMatrix="cm",n.PopGraphicsState="Q",n.PushGraphicsState="q",n.SetFlatness="i",n.SetGraphicsStateParams="gs",n.SetLineCapStyle="J",n.SetLineDashPattern="d",n.SetLineJoinStyle="j",n.SetLineMiterLimit="M",n.SetLineWidth="w",n.SetTextMatrix="Tm",n.SetRenderingIntent="ri",n.AppendRectangle="re",n.BeginInlineImage="BI",n.BeginInlineImageData="ID",n.EndInlineImage="EI",n.ClipEvenOdd="W*",n.ClipNonZero="W",n.CloseAndStroke="s",n.CloseFillEvenOddAndStroke="b*",n.CloseFillNonZeroAndStroke="b",n.ClosePath="h",n.AppendBezierCurve="c",n.CurveToReplicateFinalPoint="y",n.CurveToReplicateInitialPoint="v",n.EndPath="n",n.FillEvenOddAndStroke="B*",n.FillEvenOdd="f*",n.FillNonZeroAndStroke="B",n.FillNonZero="f",n.LegacyFillNonZero="F",n.LineTo="l",n.MoveTo="m",n.ShadingFill="sh",n.StrokePath="S",n.BeginText="BT",n.EndText="ET",n.MoveText="Td",n.MoveTextSetLeading="TD",n.NextLine="T*",n.SetCharacterSpacing="Tc",n.SetFontAndSize="Tf",n.SetTextHorizontalScaling="Tz",n.SetTextLineHeight="TL",n.SetTextRenderingMode="Tr",n.SetTextRise="Ts",n.SetWordSpacing="Tw",n.ShowText="Tj",n.ShowTextAdjusted="TJ",n.ShowTextLine="'",n.ShowTextLineAndSpace='"',n.Type3D0="d0",n.Type3D1="d1",n.BeginCompatibilitySection="BX",n.EndCompatibilitySection="EX"})(ML||(ML={}));const ue=ML;var qz=function(n){rt(t,n);function t(e,i){var r=n.call(this,e)||this;return r.computeContents=function(){var s=r.getUnencodedContents();return r.encode?G9.deflate(s):s},r.encode=i,i&&e.set(L.of("Filter"),L.of("FlateDecode")),r.contentsCache=Yu.populatedBy(r.computeContents),r}return t.prototype.getContents=function(){return this.contentsCache.access()},t.prototype.getContentsSize=function(){return this.contentsCache.access().length},t.prototype.getUnencodedContents=function(){throw new xo(this.constructor.name,"getUnencodedContents")},t}(Na),gA=function(n){rt(t,n);function t(e,i,r){r===void 0&&(r=!0);var s=n.call(this,e,r)||this;return s.operators=i,s}return t.prototype.push=function(){for(var e,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];(e=this.operators).push.apply(e,i)},t.prototype.clone=function(e){for(var i=new Array(this.operators.length),r=0,s=this.operators.length;r<s;r++)i[r]=this.operators[r].clone(e);var a=this,o=a.dict,c=a.encode;return t.of(o.clone(e),i,c)},t.prototype.getContentsString=function(){for(var e="",i=0,r=this.operators.length;i<r;i++)e+=this.operators[i]+`
`;return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),i=0,r=0,s=this.operators.length;r<s;r++)i+=this.operators[r].copyBytesInto(e,i),e[i++]=O.Newline;return e},t.prototype.getUnencodedContentsSize=function(){for(var e=0,i=0,r=this.operators.length;i<r;i++)e+=this.operators[i].sizeInBytes()+1;return e},t.of=function(e,i,r){return r===void 0&&(r=!0),new t(e,i,r)},t}(qz),slt=function(){function n(t){this.seed=t}return n.prototype.nextInt=function(){var t=Math.sin(this.seed++)*1e4;return t-Math.floor(t)},n.withSeed=function(t){return new n(t)},n}(),alt=function(n,t){var e=n[0],i=t[0];return e.objectNumber-i.objectNumber},NL=function(){function n(){this.largestObjectNumber=0,this.header=NF.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=slt.withSeed(1)}return n.prototype.assign=function(t,e){this.indirectObjects.set(t,e),t.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=t.objectNumber)},n.prototype.nextRef=function(){return this.largestObjectNumber+=1,Te.of(this.largestObjectNumber)},n.prototype.register=function(t){var e=this.nextRef();return this.assign(e,t),e},n.prototype.delete=function(t){return this.indirectObjects.delete(t)},n.prototype.lookupMaybe=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var r=e.includes(_s),s=t instanceof Te?this.indirectObjects.get(t):t;if(!(!s||s===_s&&!r)){for(var a=0,o=e.length;a<o;a++){var c=e[a];if(c===_s){if(s===_s)return s}else if(s instanceof c)return s}throw new qR(e,s)}},n.prototype.lookup=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var r=t instanceof Te?this.indirectObjects.get(t):t;if(e.length===0)return r;for(var s=0,a=e.length;s<a;s++){var o=e[s];if(o===_s){if(r===_s)return r}else if(r instanceof o)return r}throw new qR(e,r)},n.prototype.getObjectRef=function(t){for(var e=Array.from(this.indirectObjects.entries()),i=0,r=e.length;i<r;i++){var s=e[i],a=s[0],o=s[1];if(o===t)return a}},n.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(alt)},n.prototype.obj=function(t){if(t instanceof os)return t;if(t==null)return _s;if(typeof t=="string")return L.of(t);if(typeof t=="number")return Rt.of(t);if(typeof t=="boolean")return t?sE.True:sE.False;if(Array.isArray(t)){for(var e=pe.withContext(this),i=0,r=t.length;i<r;i++)e.push(this.obj(t[i]));return e}else{for(var s=Ot.withContext(this),a=Object.keys(t),i=0,r=a.length;i<r;i++){var o=a[i],c=t[o];c!==void 0&&s.set(L.of(o),this.obj(c))}return s}},n.prototype.stream=function(t,e){return e===void 0&&(e={}),aE.of(this.obj(e),gL(t))},n.prototype.flateStream=function(t,e){return e===void 0&&(e={}),this.stream(G9.deflate(gL(t)),Nt(Nt({},e),{Filter:"FlateDecode"}))},n.prototype.contentStream=function(t,e){return e===void 0&&(e={}),gA.of(this.obj(e),t)},n.prototype.formXObject=function(t,e){return e===void 0&&(e={}),this.contentStream(t,Nt(Nt({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},e),{Type:"XObject",Subtype:"Form"}))},n.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var t=this.obj({}),e=re.of(ue.PushGraphicsState),i=gA.of(t,[e]);return this.pushGraphicsStateContentStreamRef=this.register(i),this.pushGraphicsStateContentStreamRef},n.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var t=this.obj({}),e=re.of(ue.PopGraphicsState),i=gA.of(t,[e]);return this.popGraphicsStateContentStreamRef=this.register(i),this.popGraphicsStateContentStreamRef},n.prototype.addRandomSuffix=function(t,e){return e===void 0&&(e=4),t+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,e))},n.create=function(){return new n},n}(),Zu=function(n){rt(t,n);function t(e,i,r){r===void 0&&(r=!0);var s=n.call(this,e,i)||this;return s.normalized=!1,s.autoNormalizeCTM=r,s}return t.prototype.clone=function(e){for(var i=t.fromMapWithContext(new Map,e||this.context,this.autoNormalizeCTM),r=this.entries(),s=0,a=r.length;s<a;s++){var o=r[s],c=o[0],l=o[1];i.set(c,l)}return i},t.prototype.Parent=function(){return this.lookupMaybe(L.Parent,Ot)},t.prototype.Contents=function(){return this.lookup(L.of("Contents"))},t.prototype.Annots=function(){return this.lookupMaybe(L.Annots,pe)},t.prototype.BleedBox=function(){return this.lookupMaybe(L.BleedBox,pe)},t.prototype.TrimBox=function(){return this.lookupMaybe(L.TrimBox,pe)},t.prototype.ArtBox=function(){return this.lookupMaybe(L.ArtBox,pe)},t.prototype.Resources=function(){var e=this.getInheritableAttribute(L.Resources);return this.context.lookupMaybe(e,Ot)},t.prototype.MediaBox=function(){var e=this.getInheritableAttribute(L.MediaBox);return this.context.lookup(e,pe)},t.prototype.CropBox=function(){var e=this.getInheritableAttribute(L.CropBox);return this.context.lookupMaybe(e,pe)},t.prototype.Rotate=function(){var e=this.getInheritableAttribute(L.Rotate);return this.context.lookupMaybe(e,Rt)},t.prototype.getInheritableAttribute=function(e){var i;return this.ascend(function(r){i||(i=r.get(e))}),i},t.prototype.setParent=function(e){this.set(L.Parent,e)},t.prototype.addContentStream=function(e){var i=this.normalizedEntries().Contents||this.context.obj([]);this.set(L.Contents,i),i.push(e)},t.prototype.wrapContentStreams=function(e,i){var r=this.Contents();return r instanceof pe?(r.insert(0,e),r.push(i),!0):!1},t.prototype.addAnnot=function(e){var i=this.normalizedEntries().Annots;i.push(e)},t.prototype.removeAnnot=function(e){var i=this.normalizedEntries().Annots,r=i.indexOf(e);r!==void 0&&i.remove(r)},t.prototype.setFontDictionary=function(e,i){var r=this.normalizedEntries().Font;r.set(e,i)},t.prototype.newFontDictionaryKey=function(e){var i=this.normalizedEntries().Font;return i.uniqueKey(e)},t.prototype.newFontDictionary=function(e,i){var r=this.newFontDictionaryKey(e);return this.setFontDictionary(r,i),r},t.prototype.setXObject=function(e,i){var r=this.normalizedEntries().XObject;r.set(e,i)},t.prototype.newXObjectKey=function(e){var i=this.normalizedEntries().XObject;return i.uniqueKey(e)},t.prototype.newXObject=function(e,i){var r=this.newXObjectKey(e);return this.setXObject(r,i),r},t.prototype.setExtGState=function(e,i){var r=this.normalizedEntries().ExtGState;r.set(e,i)},t.prototype.newExtGStateKey=function(e){var i=this.normalizedEntries().ExtGState;return i.uniqueKey(e)},t.prototype.newExtGState=function(e,i){var r=this.newExtGStateKey(e);return this.setExtGState(r,i),r},t.prototype.ascend=function(e){e(this);var i=this.Parent();i&&i.ascend(e)},t.prototype.normalize=function(){if(!this.normalized){var e=this.context,i=this.get(L.Contents),r=this.context.lookup(i);r instanceof Na&&this.set(L.Contents,e.obj([i])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var s=this.getInheritableAttribute(L.Resources),a=e.lookupMaybe(s,Ot)||e.obj({});this.set(L.Resources,a);var o=a.lookupMaybe(L.Font,Ot)||e.obj({});a.set(L.Font,o);var c=a.lookupMaybe(L.XObject,Ot)||e.obj({});a.set(L.XObject,c);var l=a.lookupMaybe(L.ExtGState,Ot)||e.obj({});a.set(L.ExtGState,l);var u=this.Annots()||e.obj([]);this.set(L.Annots,u),this.normalized=!0}},t.prototype.normalizedEntries=function(){this.normalize();var e=this.Annots(),i=this.Resources(),r=this.Contents();return{Annots:e,Resources:i,Contents:r,Font:i.lookup(L.Font,Ot),XObject:i.lookup(L.XObject,Ot),ExtGState:i.lookup(L.ExtGState,Ot)}},t.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],t.withContextAndParent=function(e,i){var r=new Map;return r.set(L.Type,L.Page),r.set(L.Parent,i),r.set(L.Resources,e.obj({})),r.set(L.MediaBox,e.obj([0,0,612,792])),new t(r,e,!1)},t.fromMapWithContext=function(e,i,r){return r===void 0&&(r=!0),new t(e,i,r)},t}(Ot),b6=function(){function n(t,e){var i=this;this.traversedObjects=new Map,this.copy=function(r){return r instanceof Zu?i.copyPDFPage(r):r instanceof Ot?i.copyPDFDict(r):r instanceof pe?i.copyPDFArray(r):r instanceof Na?i.copyPDFStream(r):r instanceof Te?i.copyPDFIndirectObject(r):r.clone()},this.copyPDFPage=function(r){for(var s=r.clone(),a=Zu.InheritableEntries,o=0,c=a.length;o<c;o++){var l=L.of(a[o]),u=s.getInheritableAttribute(l);!s.get(l)&&u&&s.set(l,u)}return s.delete(L.of("Parent")),i.copyPDFDict(s)},this.copyPDFDict=function(r){if(i.traversedObjects.has(r))return i.traversedObjects.get(r);var s=r.clone(i.dest);i.traversedObjects.set(r,s);for(var a=r.entries(),o=0,c=a.length;o<c;o++){var l=a[o],u=l[0],d=l[1];s.set(u,i.copy(d))}return s},this.copyPDFArray=function(r){if(i.traversedObjects.has(r))return i.traversedObjects.get(r);var s=r.clone(i.dest);i.traversedObjects.set(r,s);for(var a=0,o=r.size();a<o;a++){var c=r.get(a);s.set(a,i.copy(c))}return s},this.copyPDFStream=function(r){if(i.traversedObjects.has(r))return i.traversedObjects.get(r);var s=r.clone(i.dest);i.traversedObjects.set(r,s);for(var a=r.dict.entries(),o=0,c=a.length;o<c;o++){var l=a[o],u=l[0],d=l[1];s.dict.set(u,i.copy(d))}return s},this.copyPDFIndirectObject=function(r){var s=i.traversedObjects.has(r);if(!s){var a=i.dest.nextRef();i.traversedObjects.set(r,a);var o=i.src.lookup(r);if(o){var c=i.copy(o);i.dest.assign(a,c)}}return i.traversedObjects.get(r)},this.src=t,this.dest=e}return n.for=function(t,e){return new n(t,e)},n}(),X9=function(){function n(t){this.subsections=t?[[t]]:[],this.chunkIdx=0,this.chunkLength=t?1:0}return n.prototype.addEntry=function(t,e){this.append({ref:t,offset:e,deleted:!1})},n.prototype.addDeletedEntry=function(t,e){this.append({ref:t,offset:e,deleted:!0})},n.prototype.toString=function(){for(var t=`xref
`,e=0,i=this.subsections.length;e<i;e++){var r=this.subsections[e];t+=r[0].ref.objectNumber+" "+r.length+`
`;for(var s=0,a=r.length;s<a;s++){var o=r[s];t+=bl(String(o.offset),10,"0"),t+=" ",t+=bl(String(o.ref.generationNumber),5,"0"),t+=" ",t+=o.deleted?"f":"n",t+=` 
`}}return t},n.prototype.sizeInBytes=function(){for(var t=5,e=0,i=this.subsections.length;e<i;e++){var r=this.subsections[e],s=r.length,a=r[0];t+=2,t+=String(a.ref.objectNumber).length,t+=String(s).length,t+=20*s}return t},n.prototype.copyBytesInto=function(t,e){var i=e;return t[e++]=O.x,t[e++]=O.r,t[e++]=O.e,t[e++]=O.f,t[e++]=O.Newline,e+=this.copySubsectionsIntoBuffer(this.subsections,t,e),e-i},n.prototype.copySubsectionsIntoBuffer=function(t,e,i){for(var r=i,s=t.length,a=0;a<s;a++){var o=this.subsections[a],c=String(o[0].ref.objectNumber);i+=hr(c,e,i),e[i++]=O.Space;var l=String(o.length);i+=hr(l,e,i),e[i++]=O.Newline,i+=this.copyEntriesIntoBuffer(o,e,i)}return i-r},n.prototype.copyEntriesIntoBuffer=function(t,e,i){for(var r=t.length,s=0;s<r;s++){var a=t[s],o=bl(String(a.offset),10,"0");i+=hr(o,e,i),e[i++]=O.Space;var c=bl(String(a.ref.generationNumber),5,"0");i+=hr(c,e,i),e[i++]=O.Space,e[i++]=a.deleted?O.f:O.n,e[i++]=O.Space,e[i++]=O.Newline}return 20*r},n.prototype.append=function(t){if(this.chunkLength===0){this.subsections.push([t]),this.chunkIdx=0,this.chunkLength=1;return}var e=this.subsections[this.chunkIdx],i=e[this.chunkLength-1];t.ref.objectNumber-i.ref.objectNumber>1?(this.subsections.push([t]),this.chunkIdx+=1,this.chunkLength=1):(e.push(t),this.chunkLength+=1)},n.create=function(){return new n({ref:Te.of(0,65535),offset:0,deleted:!0})},n.createEmpty=function(){return new n},n}(),Kz=function(){function n(t){this.lastXRefOffset=String(t)}return n.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},n.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},n.prototype.copyBytesInto=function(t,e){var i=e;return t[e++]=O.s,t[e++]=O.t,t[e++]=O.a,t[e++]=O.r,t[e++]=O.t,t[e++]=O.x,t[e++]=O.r,t[e++]=O.e,t[e++]=O.f,t[e++]=O.Newline,e+=hr(this.lastXRefOffset,t,e),t[e++]=O.Newline,t[e++]=O.Percent,t[e++]=O.Percent,t[e++]=O.E,t[e++]=O.O,t[e++]=O.F,e-i},n.forLastCrossRefSectionOffset=function(t){return new n(t)},n}(),olt=function(){function n(t){this.dict=t}return n.prototype.toString=function(){return`trailer
`+this.dict.toString()},n.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},n.prototype.copyBytesInto=function(t,e){var i=e;return t[e++]=O.t,t[e++]=O.r,t[e++]=O.a,t[e++]=O.i,t[e++]=O.l,t[e++]=O.e,t[e++]=O.r,t[e++]=O.Newline,e+=this.dict.copyBytesInto(t,e),e-i},n.of=function(t){return new n(t)},n}(),q9=function(n){rt(t,n);function t(e,i,r){r===void 0&&(r=!0);var s=n.call(this,e.obj({}),r)||this;return s.objects=i,s.offsets=s.computeObjectOffsets(),s.offsetsString=s.computeOffsetsString(),s.dict.set(L.of("Type"),L.of("ObjStm")),s.dict.set(L.of("N"),Rt.of(s.objects.length)),s.dict.set(L.of("First"),Rt.of(s.offsetsString.length)),s}return t.prototype.getObjectsCount=function(){return this.objects.length},t.prototype.clone=function(e){return t.withContextAndObjects(e||this.dict.context,this.objects.slice(),this.encode)},t.prototype.getContentsString=function(){for(var e=this.offsetsString,i=0,r=this.objects.length;i<r;i++){var s=this.objects[i],a=s[1];e+=a+`
`}return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),i=hr(this.offsetsString,e,0),r=0,s=this.objects.length;r<s;r++){var a=this.objects[r],o=a[1];i+=o.copyBytesInto(e,i),e[i++]=O.Newline}return e},t.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+VR(this.offsets)[1]+VR(this.objects)[1].sizeInBytes()+1},t.prototype.computeOffsetsString=function(){for(var e="",i=0,r=this.offsets.length;i<r;i++){var s=this.offsets[i],a=s[0],o=s[1];e+=a+" "+o+" "}return e},t.prototype.computeObjectOffsets=function(){for(var e=0,i=new Array(this.objects.length),r=0,s=this.objects.length;r<s;r++){var a=this.objects[r],o=a[0],c=a[1];i[r]=[o.objectNumber,e],e+=c.sizeInBytes()+1}return i},t.withContextAndObjects=function(e,i,r){return r===void 0&&(r=!0),new t(e,i,r)},t}(qz),K9=function(){function n(t,e){var i=this;this.parsedObjects=0,this.shouldWaitForTick=function(r){return i.parsedObjects+=r,i.parsedObjects%i.objectsPerTick===0},this.context=t,this.objectsPerTick=e}return n.prototype.serializeToBuffer=function(){return Ut(this,void 0,void 0,function(){var t,e,i,r,s,a,o,c,l,u,d,f,p,g,m,y,v;return Ht(this,function(w){switch(w.label){case 0:return[4,this.computeBufferSize()];case 1:t=w.sent(),e=t.size,i=t.header,r=t.indirectObjects,s=t.xref,a=t.trailerDict,o=t.trailer,c=0,l=new Uint8Array(e),c+=i.copyBytesInto(l,c),l[c++]=O.Newline,l[c++]=O.Newline,u=0,d=r.length,w.label=2;case 2:return u<d?(f=r[u],p=f[0],g=f[1],m=String(p.objectNumber),c+=hr(m,l,c),l[c++]=O.Space,y=String(p.generationNumber),c+=hr(y,l,c),l[c++]=O.Space,l[c++]=O.o,l[c++]=O.b,l[c++]=O.j,l[c++]=O.Newline,c+=g.copyBytesInto(l,c),l[c++]=O.Newline,l[c++]=O.e,l[c++]=O.n,l[c++]=O.d,l[c++]=O.o,l[c++]=O.b,l[c++]=O.j,l[c++]=O.Newline,l[c++]=O.Newline,v=g instanceof q9?g.getObjectsCount():1,this.shouldWaitForTick(v)?[4,G1()]:[3,4]):[3,5];case 3:w.sent(),w.label=4;case 4:return u++,[3,2];case 5:return s&&(c+=s.copyBytesInto(l,c),l[c++]=O.Newline),a&&(c+=a.copyBytesInto(l,c),l[c++]=O.Newline,l[c++]=O.Newline),c+=o.copyBytesInto(l,c),[2,l]}})})},n.prototype.computeIndirectObjectSize=function(t){var e=t[0],i=t[1],r=e.sizeInBytes()+3,s=i.sizeInBytes()+9;return r+s},n.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},n.prototype.computeBufferSize=function(){return Ut(this,void 0,void 0,function(){var t,e,i,r,s,a,o,c,l,u,d;return Ht(this,function(f){switch(f.label){case 0:t=NF.forVersion(1,7),e=t.sizeInBytes()+2,i=X9.create(),r=this.context.enumerateIndirectObjects(),s=0,a=r.length,f.label=1;case 1:return s<a?(o=r[s],c=o[0],i.addEntry(c,e),e+=this.computeIndirectObjectSize(o),this.shouldWaitForTick(1)?[4,G1()]:[3,3]):[3,4];case 2:f.sent(),f.label=3;case 3:return s++,[3,1];case 4:return l=e,e+=i.sizeInBytes()+1,u=olt.of(this.createTrailerDict()),e+=u.sizeInBytes()+2,d=Kz.forLastCrossRefSectionOffset(l),e+=d.sizeInBytes(),[2,{size:e,header:t,indirectObjects:r,xref:i,trailerDict:u,trailer:d}]}})})},n.forContext=function(t,e){return new n(t,e)},n}(),Y9=function(n){rt(t,n);function t(e){var i=n.call(this)||this;return i.data=e,i}return t.prototype.clone=function(){return t.of(this.data.slice())},t.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},t.prototype.sizeInBytes=function(){return this.data.length},t.prototype.copyBytesInto=function(e,i){for(var r=this.data.length,s=0;s<r;s++)e[i++]=this.data[s];return r},t.of=function(e){return new t(e)},t}(os),Bd;(function(n){n[n.Deleted=0]="Deleted",n[n.Uncompressed=1]="Uncompressed",n[n.Compressed=2]="Compressed"})(Bd||(Bd={}));var llt=function(n){rt(t,n);function t(e,i,r){r===void 0&&(r=!0);var s=n.call(this,e,r)||this;return s.computeIndex=function(){for(var a=[],o=0,c=0,l=s.entries.length;c<l;c++){var u=s.entries[c],d=s.entries[c-1];c===0?a.push(u.ref.objectNumber):u.ref.objectNumber-d.ref.objectNumber>1&&(a.push(o),a.push(u.ref.objectNumber),o=0),o+=1}return a.push(o),a},s.computeEntryTuples=function(){for(var a=new Array(s.entries.length),o=0,c=s.entries.length;o<c;o++){var l=s.entries[o];if(l.type===Bd.Deleted){var u=l.type,d=l.nextFreeObjectNumber,f=l.ref;a[o]=[u,d,f.generationNumber]}if(l.type===Bd.Uncompressed){var u=l.type,p=l.offset,f=l.ref;a[o]=[u,p,f.generationNumber]}if(l.type===Bd.Compressed){var u=l.type,g=l.objectStreamRef,m=l.index;a[o]=[u,g.objectNumber,m]}}return a},s.computeMaxEntryByteWidths=function(){for(var a=s.entryTuplesCache.access(),o=[0,0,0],c=0,l=a.length;c<l;c++){var u=a[c],d=u[0],f=u[1],p=u[2],g=V2(d),m=V2(f),y=V2(p);g>o[0]&&(o[0]=g),m>o[1]&&(o[1]=m),y>o[2]&&(o[2]=y)}return o},s.entries=i||[],s.entryTuplesCache=Yu.populatedBy(s.computeEntryTuples),s.maxByteWidthsCache=Yu.populatedBy(s.computeMaxEntryByteWidths),s.indexCache=Yu.populatedBy(s.computeIndex),e.set(L.of("Type"),L.of("XRef")),s}return t.prototype.addDeletedEntry=function(e,i){var r=Bd.Deleted;this.entries.push({type:r,ref:e,nextFreeObjectNumber:i}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addUncompressedEntry=function(e,i){var r=Bd.Uncompressed;this.entries.push({type:r,ref:e,offset:i}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addCompressedEntry=function(e,i,r){var s=Bd.Compressed;this.entries.push({type:s,ref:e,objectStreamRef:i,index:r}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.clone=function(e){var i=this,r=i.dict,s=i.entries,a=i.encode;return t.of(r.clone(e),s.slice(),a)},t.prototype.getContentsString=function(){for(var e=this.entryTuplesCache.access(),i=this.maxByteWidthsCache.access(),r="",s=0,a=e.length;s<a;s++){for(var o=e[s],c=o[0],l=o[1],u=o[2],d=Zv(Qv(c)),f=Zv(Qv(l)),p=Zv(Qv(u)),g=i[0]-1;g>=0;g--)r+=(d[g]||0).toString(2);for(var g=i[1]-1;g>=0;g--)r+=(f[g]||0).toString(2);for(var g=i[2]-1;g>=0;g--)r+=(p[g]||0).toString(2)}return r},t.prototype.getUnencodedContents=function(){for(var e=this.entryTuplesCache.access(),i=this.maxByteWidthsCache.access(),r=new Uint8Array(this.getUnencodedContentsSize()),s=0,a=0,o=e.length;a<o;a++){for(var c=e[a],l=c[0],u=c[1],d=c[2],f=Zv(Qv(l)),p=Zv(Qv(u)),g=Zv(Qv(d)),m=i[0]-1;m>=0;m--)r[s++]=f[m]||0;for(var m=i[1]-1;m>=0;m--)r[s++]=p[m]||0;for(var m=i[2]-1;m>=0;m--)r[s++]=g[m]||0}return r},t.prototype.getUnencodedContentsSize=function(){var e=this.maxByteWidthsCache.access(),i=git(e);return i*this.entries.length},t.prototype.updateDict=function(){n.prototype.updateDict.call(this);var e=this.maxByteWidthsCache.access(),i=this.indexCache.access(),r=this.dict.context;this.dict.set(L.of("W"),r.obj(e)),this.dict.set(L.of("Index"),r.obj(i))},t.create=function(e,i){i===void 0&&(i=!0);var r=new t(e,[],i);return r.addDeletedEntry(Te.of(0,65535),0),r},t.of=function(e,i,r){return r===void 0&&(r=!0),new t(e,i,r)},t}(qz),clt=function(n){rt(t,n);function t(e,i,r,s){var a=n.call(this,e,i)||this;return a.encodeStreams=r,a.objectsPerStream=s,a}return t.prototype.computeBufferSize=function(){return Ut(this,void 0,void 0,function(){var e,i,r,s,a,o,c,l,g,m,u,v,d,f,y,p,g,m,y,v,w,x,A,S;return Ht(this,function(C){switch(C.label){case 0:e=this.context.largestObjectNumber+1,i=NF.forVersion(1,7),r=i.sizeInBytes()+2,s=llt.create(this.createTrailerDict(),this.encodeStreams),a=[],o=[],c=[],l=this.context.enumerateIndirectObjects(),g=0,m=l.length,C.label=1;case 1:return g<m?(u=l[g],v=u[0],d=u[1],f=v===this.context.trailerInfo.Encrypt||d instanceof Na||d instanceof Y9||v.generationNumber!==0,f?(a.push(u),s.addUncompressedEntry(v,r),r+=this.computeIndirectObjectSize(u),this.shouldWaitForTick(1)?[4,G1()]:[3,3]):[3,4]):[3,6];case 2:C.sent(),C.label=3;case 3:return[3,5];case 4:y=VR(o),p=VR(c),(!y||y.length%this.objectsPerStream===0)&&(y=[],o.push(y),p=Te.of(e++),c.push(p)),s.addCompressedEntry(v,p,y.length),y.push(u),C.label=5;case 5:return g++,[3,1];case 6:g=0,m=o.length,C.label=7;case 7:return g<m?(y=o[g],v=c[g],w=q9.withContextAndObjects(this.context,y,this.encodeStreams),s.addUncompressedEntry(v,r),r+=this.computeIndirectObjectSize([v,w]),a.push([v,w]),this.shouldWaitForTick(y.length)?[4,G1()]:[3,9]):[3,10];case 8:C.sent(),C.label=9;case 9:return g++,[3,7];case 10:return x=Te.of(e++),s.dict.set(L.of("Size"),Rt.of(e)),s.addUncompressedEntry(x,r),A=r,r+=this.computeIndirectObjectSize([x,s]),a.push([x,s]),S=Kz.forLastCrossRefSectionOffset(A),r+=S.sizeInBytes(),[2,{size:r,header:i,indirectObjects:a,trailer:S}]}})})},t.forContext=function(e,i,r,s){return r===void 0&&(r=!0),s===void 0&&(s=50),new t(e,i,r,s)},t}(K9),Tt=function(n){rt(t,n);function t(e){var i=n.call(this)||this;return i.value=e,i}return t.prototype.asBytes=function(){for(var e=this.value+(this.value.length%2===1?"0":""),i=e.length,r=new Uint8Array(e.length/2),s=0,a=0;s<i;){var o=parseInt(e.substring(s,s+2),16);r[a]=o,s+=2,a+=1}return r},t.prototype.decodeText=function(){var e=this.asBytes();return u7(e)?l7(e):n9(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),i=r7(e);if(!i)throw new i9(e);return i},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"<"+this.value+">"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,i){return e[i++]=O.LessThan,i+=hr(this.value,e,i),e[i++]=O.GreaterThan,this.value.length+2},t.of=function(e){return new t(e)},t.fromText=function(e){for(var i=bit(e),r="",s=0,a=i.length;s<a;s++)r+=Lk(i[s],4);return new t(r)},t}(os),QR=function(){function n(t,e){this.encoding=t===$A.ZapfDingbats?HT.ZapfDingbats:t===$A.Symbol?HT.Symbol:HT.WinAnsi,this.font=Lst.load(t),this.fontName=this.font.FontName,this.customName=e}return n.prototype.encodeText=function(t){for(var e=this.encodeTextAsGlyphs(t),i=new Array(e.length),r=0,s=e.length;r<s;r++)i[r]=_F(e[r].code);return Tt.of(i.join(""))},n.prototype.widthOfTextAtSize=function(t,e){for(var i=this.encodeTextAsGlyphs(t),r=0,s=0,a=i.length;s<a;s++){var o=i[s].name,c=(i[s+1]||{}).name,l=this.font.getXAxisKerningForPair(o,c)||0;r+=this.widthOfGlyph(o)+l}var u=e/1e3;return r*u},n.prototype.heightOfFontAtSize=function(t,e){e===void 0&&(e={});var i=e.descender,r=i===void 0?!0:i,s=this.font,a=s.Ascender,o=s.Descender,c=s.FontBBox,l=a||c[3],u=o||c[1],d=l-u;return r||(d+=o||0),d/1e3*t},n.prototype.sizeOfFontAtHeight=function(t){var e=this.font,i=e.Ascender,r=e.Descender,s=e.FontBBox,a=i||s[3],o=r||s[1];return 1e3*t/(a-o)},n.prototype.embedIntoContext=function(t,e){var i=t.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===HT.WinAnsi?"WinAnsiEncoding":void 0});return e?(t.assign(e,i),e):t.register(i)},n.prototype.widthOfGlyph=function(t){return this.font.getWidthOfGlyph(t)||250},n.prototype.encodeTextAsGlyphs=function(t){for(var e=Array.from(t),i=new Array(e.length),r=0,s=e.length;r<s;r++){var a=iit(e[r]);i[r]=this.encoding.encodeUnicodeCodePoint(a)}return i},n.for=function(t,e){return new n(t,e)},n}(),hlt=function(n,t){for(var e=new Array(n.length),i=0,r=n.length;i<r;i++){var s=n[i],a=w6(eP(t(s))),o=w6.apply(void 0,s.codePoints.map(dlt));e[i]=[a,o]}return ult(e)},ult=function(n){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+n.length+` beginbfchar
`+n.map(function(t){var e=t[0],i=t[1];return e+" "+i}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},w6=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return"<"+n.join("")+">"},eP=function(n){return Lk(n,4)},dlt=function(n){if(wit(n))return eP(n);if(xit(n)){var t=a7(n),e=o7(n);return""+eP(t)+eP(e)}var i=_F(n),r="0x"+i+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(r)},flt=function(n){var t=0,e=function(i){t|=1<<i-1};return n.fixedPitch&&e(1),n.serif&&e(2),e(3),n.script&&e(4),n.nonsymbolic&&e(6),n.italic&&e(7),n.allCap&&e(17),n.smallCap&&e(18),n.forceBold&&e(19),t},plt=function(n){var t=n["OS/2"]?n["OS/2"].sFamilyClass:0,e=flt({fixedPitch:n.post.isFixedPitch,serif:1<=t&&t<=7,script:t===10,italic:n.head.macStyle.italic});return e},ke=function(n){rt(t,n);function t(e){var i=n.call(this)||this;return i.value=e,i}return t.prototype.asBytes=function(){for(var e=[],i="",r=!1,s=function(d){d!==void 0&&e.push(d),r=!1},a=0,o=this.value.length;a<o;a++){var c=this.value[a],l=Ft(c),u=this.value[a+1];r?l===O.Newline||l===O.CarriageReturn?s():l===O.n?s(O.Newline):l===O.r?s(O.CarriageReturn):l===O.t?s(O.Tab):l===O.b?s(O.Backspace):l===O.f?s(O.FormFeed):l===O.LeftParen?s(O.LeftParen):l===O.RightParen?s(O.RightParen):l===O.Backspace?s(O.BackSlash):l>=O.Zero&&l<=O.Seven?(i+=c,(i.length===3||!(u>="0"&&u<="7"))&&(s(parseInt(i,8)),i="")):s(l):l===O.BackSlash?r=!0:s(l)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return u7(e)?l7(e):n9(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),i=r7(e);if(!i)throw new i9(e);return i},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"("+this.value+")"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,i){return e[i++]=O.LeftParen,i+=hr(this.value,e,i),e[i++]=O.RightParen,this.value.length+2},t.of=function(e){return new t(e)},t.fromDate=function(e){var i=bl(String(e.getUTCFullYear()),4,"0"),r=bl(String(e.getUTCMonth()+1),2,"0"),s=bl(String(e.getUTCDate()),2,"0"),a=bl(String(e.getUTCHours()),2,"0"),o=bl(String(e.getUTCMinutes()),2,"0"),c=bl(String(e.getUTCSeconds()),2,"0");return new t("D:"+i+r+s+a+o+c+"Z")},t}(os),Yz=function(){function n(t,e,i,r){var s=this;this.allGlyphsInFontSortedById=function(){for(var a=new Array(s.font.characterSet.length),o=0,c=a.length;o<c;o++){var l=s.font.characterSet[o];a[o]=s.font.glyphForCodePoint(l)}return pit(a.sort(fit),function(u){return u.id})},this.font=t,this.scale=1e3/this.font.unitsPerEm,this.fontData=e,this.fontName=this.font.postscriptName||"Font",this.customName=i,this.fontFeatures=r,this.baseFontName="",this.glyphCache=Yu.populatedBy(this.allGlyphsInFontSortedById)}return n.for=function(t,e,i,r){return Ut(this,void 0,void 0,function(){var s;return Ht(this,function(a){switch(a.label){case 0:return[4,t.create(e)];case 1:return s=a.sent(),[2,new n(s,e,i,r)]}})})},n.prototype.encodeText=function(t){for(var e=this.font.layout(t,this.fontFeatures).glyphs,i=new Array(e.length),r=0,s=e.length;r<s;r++)i[r]=Lk(e[r].id,4);return Tt.of(i.join(""))},n.prototype.widthOfTextAtSize=function(t,e){for(var i=this.font.layout(t,this.fontFeatures).glyphs,r=0,s=0,a=i.length;s<a;s++)r+=i[s].advanceWidth*this.scale;var o=e/1e3;return r*o},n.prototype.heightOfFontAtSize=function(t,e){e===void 0&&(e={});var i=e.descender,r=i===void 0?!0:i,s=this.font,a=s.ascent,o=s.descent,c=s.bbox,l=(a||c.maxY)*this.scale,u=(o||c.minY)*this.scale,d=l-u;return r||(d-=Math.abs(o)||0),d/1e3*t},n.prototype.sizeOfFontAtHeight=function(t){var e=this.font,i=e.ascent,r=e.descent,s=e.bbox,a=(i||s.maxY)*this.scale,o=(r||s.minY)*this.scale;return 1e3*t/(a-o)},n.prototype.embedIntoContext=function(t,e){return this.baseFontName=this.customName||t.addRandomSuffix(this.fontName),this.embedFontDict(t,e)},n.prototype.embedFontDict=function(t,e){return Ut(this,void 0,void 0,function(){var i,r,s;return Ht(this,function(a){switch(a.label){case 0:return[4,this.embedCIDFontDict(t)];case 1:return i=a.sent(),r=this.embedUnicodeCmap(t),s=t.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[i],ToUnicode:r}),e?(t.assign(e,s),[2,e]):[2,t.register(s)]}})})},n.prototype.isCFF=function(){return this.font.cff},n.prototype.embedCIDFontDict=function(t){return Ut(this,void 0,void 0,function(){var e,i;return Ht(this,function(r){switch(r.label){case 0:return[4,this.embedFontDescriptor(t)];case 1:return e=r.sent(),i=t.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:ke.of("Adobe"),Ordering:ke.of("Identity"),Supplement:0},FontDescriptor:e,W:this.computeWidths()}),[2,t.register(i)]}})})},n.prototype.embedFontDescriptor=function(t){return Ut(this,void 0,void 0,function(){var e,i,r,s,a,o,c,l,u,d,f,p,g,m,y;return Ht(this,function(v){switch(v.label){case 0:return[4,this.embedFontStream(t)];case 1:return e=v.sent(),i=this.scale,r=this.font,s=r.italicAngle,a=r.ascent,o=r.descent,c=r.capHeight,l=r.xHeight,u=this.font.bbox,d=u.minX,f=u.minY,p=u.maxX,g=u.maxY,m=t.obj((y={Type:"FontDescriptor",FontName:this.baseFontName,Flags:plt(this.font),FontBBox:[d*i,f*i,p*i,g*i],ItalicAngle:s,Ascent:a*i,Descent:o*i,CapHeight:(c||a)*i,XHeight:(l||0)*i,StemV:0},y[this.isCFF()?"FontFile3":"FontFile2"]=e,y)),[2,t.register(m)]}})})},n.prototype.serializeFont=function(){return Ut(this,void 0,void 0,function(){return Ht(this,function(t){return[2,this.fontData]})})},n.prototype.embedFontStream=function(t){return Ut(this,void 0,void 0,function(){var e,i,r;return Ht(this,function(s){switch(s.label){case 0:return r=(i=t).flateStream,[4,this.serializeFont()];case 1:return e=r.apply(i,[s.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,t.register(e)]}})})},n.prototype.embedUnicodeCmap=function(t){var e=hlt(this.glyphCache.access(),this.glyphId.bind(this)),i=t.flateStream(e);return t.register(i)},n.prototype.glyphId=function(t){return t?t.id:-1},n.prototype.computeWidths=function(){for(var t=this.glyphCache.access(),e=[],i=[],r=0,s=t.length;r<s;r++){var a=t[r],o=t[r-1],c=this.glyphId(a),l=this.glyphId(o);r===0?e.push(c):c-l!==1&&(e.push(i),e.push(c),i=[]),i.push(a.advanceWidth*this.scale)}return e.push(i),e},n}(),glt=function(n){rt(t,n);function t(e,i,r,s){var a=n.call(this,e,i,r,s)||this;return a.subset=a.font.createSubset(),a.glyphs=[],a.glyphCache=Yu.populatedBy(function(){return a.glyphs}),a.glyphIdMap=new Map,a}return t.for=function(e,i,r,s){return Ut(this,void 0,void 0,function(){var a;return Ht(this,function(o){switch(o.label){case 0:return[4,e.create(i)];case 1:return a=o.sent(),[2,new t(a,i,r,s)]}})})},t.prototype.encodeText=function(e){for(var i=this.font.layout(e,this.fontFeatures).glyphs,r=new Array(i.length),s=0,a=i.length;s<a;s++){var o=i[s],c=this.subset.includeGlyph(o);this.glyphs[c-1]=o,this.glyphIdMap.set(o.id,c),r[s]=Lk(c,4)}return this.glyphCache.invalidate(),Tt.of(r.join(""))},t.prototype.isCFF=function(){return this.subset.cff},t.prototype.glyphId=function(e){return e?this.glyphIdMap.get(e.id):-1},t.prototype.serializeFont=function(){var e=this;return new Promise(function(i,r){var s=[];e.subset.encodeStream().on("data",function(a){return s.push(a)}).on("end",function(){return i(dit(s))}).on("error",function(a){return r(a)})})},t}(Yz),IL;(function(n){n.Source="Source",n.Data="Data",n.Alternative="Alternative",n.Supplement="Supplement",n.EncryptedPayload="EncryptedPayload",n.FormData="EncryptedPayload",n.Schema="Schema",n.Unspecified="Unspecified"})(IL||(IL={}));var mlt=function(){function n(t,e,i){i===void 0&&(i={}),this.fileData=t,this.fileName=e,this.options=i}return n.for=function(t,e,i){return i===void 0&&(i={}),new n(t,e,i)},n.prototype.embedIntoContext=function(t,e){return Ut(this,void 0,void 0,function(){var i,r,s,a,o,c,l,u,d;return Ht(this,function(f){return i=this.options,r=i.mimeType,s=i.description,a=i.creationDate,o=i.modificationDate,c=i.afRelationship,l=t.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:r??void 0,Params:{Size:this.fileData.length,CreationDate:a?ke.fromDate(a):void 0,ModDate:o?ke.fromDate(o):void 0}}),u=t.register(l),d=t.obj({Type:"Filespec",F:ke.of(this.fileName),UF:Tt.fromText(this.fileName),EF:{F:u},Desc:s?Tt.fromText(s):void 0,AFRelationship:c??void 0}),e?(t.assign(e,d),[2,e]):[2,t.register(d)]})})},n}(),x6=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],rb;(function(n){n.DeviceGray="DeviceGray",n.DeviceRGB="DeviceRGB",n.DeviceCMYK="DeviceCMYK"})(rb||(rb={}));var vlt={1:rb.DeviceGray,3:rb.DeviceRGB,4:rb.DeviceCMYK},Z9=function(){function n(t,e,i,r,s){this.imageData=t,this.bitsPerComponent=e,this.width=i,this.height=r,this.colorSpace=s}return n.for=function(t){return Ut(this,void 0,void 0,function(){var e,i,r,s,a,o,c,l,u,d;return Ht(this,function(f){if(e=new DataView(t.buffer),i=e.getUint16(0),i!==65496)throw new Error("SOI not found in JPEG");for(r=2;r<e.byteLength&&(s=e.getUint16(r),r+=2,!x6.includes(s));)r+=e.getUint16(r);if(!x6.includes(s))throw new Error("Invalid JPEG");if(r+=2,a=e.getUint8(r++),o=e.getUint16(r),r+=2,c=e.getUint16(r),r+=2,l=e.getUint8(r++),u=vlt[l],!u)throw new Error("Unknown JPEG channel.");return d=u,[2,new n(t,a,c,o,d)]})})},n.prototype.embedIntoContext=function(t,e){return Ut(this,void 0,void 0,function(){var i;return Ht(this,function(r){return i=t.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===rb.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),e?(t.assign(e,i),[2,e]):[2,t.register(i)]})})},n}(),gd={};(function(n){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function e(s,a){return Object.prototype.hasOwnProperty.call(s,a)}n.assign=function(s){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var o=a.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var c in o)e(o,c)&&(s[c]=o[c])}}return s},n.shrinkBuf=function(s,a){return s.length===a?s:s.subarray?s.subarray(0,a):(s.length=a,s)};var i={arraySet:function(s,a,o,c,l){if(a.subarray&&s.subarray){s.set(a.subarray(o,o+c),l);return}for(var u=0;u<c;u++)s[l+u]=a[o+u]},flattenChunks:function(s){var a,o,c,l,u,d;for(c=0,a=0,o=s.length;a<o;a++)c+=s[a].length;for(d=new Uint8Array(c),l=0,a=0,o=s.length;a<o;a++)u=s[a],d.set(u,l),l+=u.length;return d}},r={arraySet:function(s,a,o,c,l){for(var u=0;u<c;u++)s[l+u]=a[o+u]},flattenChunks:function(s){return[].concat.apply([],s)}};n.setTyped=function(s){s?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(t)})(gd);var qk={},oh={},lx={},ylt=gd,blt=4,S6=0,A6=1,wlt=2;function cx(n){for(var t=n.length;--t>=0;)n[t]=0}var xlt=0,Q9=1,Slt=2,Alt=3,Elt=258,Zz=29,Kk=256,oE=Kk+1+Zz,sb=30,Qz=19,J9=2*oE+1,Mg=15,PN=16,_lt=7,Jz=256,$9=16,tX=17,eX=18,LL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],nP=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Clt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nX=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],klt=512,Th=new Array((oE+2)*2);cx(Th);var mA=new Array(sb*2);cx(mA);var lE=new Array(klt);cx(lE);var cE=new Array(Elt-Alt+1);cx(cE);var $z=new Array(Zz);cx($z);var JR=new Array(sb);cx(JR);function RN(n,t,e,i,r){this.static_tree=n,this.extra_bits=t,this.extra_base=e,this.elems=i,this.max_length=r,this.has_stree=n&&n.length}var iX,rX,sX;function DN(n,t){this.dyn_tree=n,this.max_code=0,this.stat_desc=t}function aX(n){return n<256?lE[n]:lE[256+(n>>>7)]}function hE(n,t){n.pending_buf[n.pending++]=t&255,n.pending_buf[n.pending++]=t>>>8&255}function Ds(n,t,e){n.bi_valid>PN-e?(n.bi_buf|=t<<n.bi_valid&65535,hE(n,n.bi_buf),n.bi_buf=t>>PN-n.bi_valid,n.bi_valid+=e-PN):(n.bi_buf|=t<<n.bi_valid&65535,n.bi_valid+=e)}function Xc(n,t,e){Ds(n,e[t*2],e[t*2+1])}function oX(n,t){var e=0;do e|=n&1,n>>>=1,e<<=1;while(--t>0);return e>>>1}function Tlt(n){n.bi_valid===16?(hE(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)}function Plt(n,t){var e=t.dyn_tree,i=t.max_code,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length,l,u,d,f,p,g,m=0;for(f=0;f<=Mg;f++)n.bl_count[f]=0;for(e[n.heap[n.heap_max]*2+1]=0,l=n.heap_max+1;l<J9;l++)u=n.heap[l],f=e[e[u*2+1]*2+1]+1,f>c&&(f=c,m++),e[u*2+1]=f,!(u>i)&&(n.bl_count[f]++,p=0,u>=o&&(p=a[u-o]),g=e[u*2],n.opt_len+=g*(f+p),s&&(n.static_len+=g*(r[u*2+1]+p)));if(m!==0){do{for(f=c-1;n.bl_count[f]===0;)f--;n.bl_count[f]--,n.bl_count[f+1]+=2,n.bl_count[c]--,m-=2}while(m>0);for(f=c;f!==0;f--)for(u=n.bl_count[f];u!==0;)d=n.heap[--l],!(d>i)&&(e[d*2+1]!==f&&(n.opt_len+=(f-e[d*2+1])*e[d*2],e[d*2+1]=f),u--)}}function lX(n,t,e){var i=new Array(Mg+1),r=0,s,a;for(s=1;s<=Mg;s++)i[s]=r=r+e[s-1]<<1;for(a=0;a<=t;a++){var o=n[a*2+1];o!==0&&(n[a*2]=oX(i[o]++,o))}}function Rlt(){var n,t,e,i,r,s=new Array(Mg+1);for(e=0,i=0;i<Zz-1;i++)for($z[i]=e,n=0;n<1<<LL[i];n++)cE[e++]=i;for(cE[e-1]=i,r=0,i=0;i<16;i++)for(JR[i]=r,n=0;n<1<<nP[i];n++)lE[r++]=i;for(r>>=7;i<sb;i++)for(JR[i]=r<<7,n=0;n<1<<nP[i]-7;n++)lE[256+r++]=i;for(t=0;t<=Mg;t++)s[t]=0;for(n=0;n<=143;)Th[n*2+1]=8,n++,s[8]++;for(;n<=255;)Th[n*2+1]=9,n++,s[9]++;for(;n<=279;)Th[n*2+1]=7,n++,s[7]++;for(;n<=287;)Th[n*2+1]=8,n++,s[8]++;for(lX(Th,oE+1,s),n=0;n<sb;n++)mA[n*2+1]=5,mA[n*2]=oX(n,5);iX=new RN(Th,LL,Kk+1,oE,Mg),rX=new RN(mA,nP,0,sb,Mg),sX=new RN(new Array(0),Clt,0,Qz,_lt)}function cX(n){var t;for(t=0;t<oE;t++)n.dyn_ltree[t*2]=0;for(t=0;t<sb;t++)n.dyn_dtree[t*2]=0;for(t=0;t<Qz;t++)n.bl_tree[t*2]=0;n.dyn_ltree[Jz*2]=1,n.opt_len=n.static_len=0,n.last_lit=n.matches=0}function hX(n){n.bi_valid>8?hE(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0}function Dlt(n,t,e,i){hX(n),hE(n,e),hE(n,~e),ylt.arraySet(n.pending_buf,n.window,t,e,n.pending),n.pending+=e}function E6(n,t,e,i){var r=t*2,s=e*2;return n[r]<n[s]||n[r]===n[s]&&i[t]<=i[e]}function FN(n,t,e){for(var i=n.heap[e],r=e<<1;r<=n.heap_len&&(r<n.heap_len&&E6(t,n.heap[r+1],n.heap[r],n.depth)&&r++,!E6(t,i,n.heap[r],n.depth));)n.heap[e]=n.heap[r],e=r,r<<=1;n.heap[e]=i}function _6(n,t,e){var i,r,s=0,a,o;if(n.last_lit!==0)do i=n.pending_buf[n.d_buf+s*2]<<8|n.pending_buf[n.d_buf+s*2+1],r=n.pending_buf[n.l_buf+s],s++,i===0?Xc(n,r,t):(a=cE[r],Xc(n,a+Kk+1,t),o=LL[a],o!==0&&(r-=$z[a],Ds(n,r,o)),i--,a=aX(i),Xc(n,a,e),o=nP[a],o!==0&&(i-=JR[a],Ds(n,i,o)));while(s<n.last_lit);Xc(n,Jz,t)}function OL(n,t){var e=t.dyn_tree,i=t.stat_desc.static_tree,r=t.stat_desc.has_stree,s=t.stat_desc.elems,a,o,c=-1,l;for(n.heap_len=0,n.heap_max=J9,a=0;a<s;a++)e[a*2]!==0?(n.heap[++n.heap_len]=c=a,n.depth[a]=0):e[a*2+1]=0;for(;n.heap_len<2;)l=n.heap[++n.heap_len]=c<2?++c:0,e[l*2]=1,n.depth[l]=0,n.opt_len--,r&&(n.static_len-=i[l*2+1]);for(t.max_code=c,a=n.heap_len>>1;a>=1;a--)FN(n,e,a);l=s;do a=n.heap[1],n.heap[1]=n.heap[n.heap_len--],FN(n,e,1),o=n.heap[1],n.heap[--n.heap_max]=a,n.heap[--n.heap_max]=o,e[l*2]=e[a*2]+e[o*2],n.depth[l]=(n.depth[a]>=n.depth[o]?n.depth[a]:n.depth[o])+1,e[a*2+1]=e[o*2+1]=l,n.heap[1]=l++,FN(n,e,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],Plt(n,t),lX(e,c,n.bl_count)}function C6(n,t,e){var i,r=-1,s,a=t[0*2+1],o=0,c=7,l=4;for(a===0&&(c=138,l=3),t[(e+1)*2+1]=65535,i=0;i<=e;i++)s=a,a=t[(i+1)*2+1],!(++o<c&&s===a)&&(o<l?n.bl_tree[s*2]+=o:s!==0?(s!==r&&n.bl_tree[s*2]++,n.bl_tree[$9*2]++):o<=10?n.bl_tree[tX*2]++:n.bl_tree[eX*2]++,o=0,r=s,a===0?(c=138,l=3):s===a?(c=6,l=3):(c=7,l=4))}function k6(n,t,e){var i,r=-1,s,a=t[0*2+1],o=0,c=7,l=4;for(a===0&&(c=138,l=3),i=0;i<=e;i++)if(s=a,a=t[(i+1)*2+1],!(++o<c&&s===a)){if(o<l)do Xc(n,s,n.bl_tree);while(--o!==0);else s!==0?(s!==r&&(Xc(n,s,n.bl_tree),o--),Xc(n,$9,n.bl_tree),Ds(n,o-3,2)):o<=10?(Xc(n,tX,n.bl_tree),Ds(n,o-3,3)):(Xc(n,eX,n.bl_tree),Ds(n,o-11,7));o=0,r=s,a===0?(c=138,l=3):s===a?(c=6,l=3):(c=7,l=4)}}function Flt(n){var t;for(C6(n,n.dyn_ltree,n.l_desc.max_code),C6(n,n.dyn_dtree,n.d_desc.max_code),OL(n,n.bl_desc),t=Qz-1;t>=3&&n.bl_tree[nX[t]*2+1]===0;t--);return n.opt_len+=3*(t+1)+5+5+4,t}function Mlt(n,t,e,i){var r;for(Ds(n,t-257,5),Ds(n,e-1,5),Ds(n,i-4,4),r=0;r<i;r++)Ds(n,n.bl_tree[nX[r]*2+1],3);k6(n,n.dyn_ltree,t-1),k6(n,n.dyn_dtree,e-1)}function Nlt(n){var t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&n.dyn_ltree[e*2]!==0)return S6;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return A6;for(e=32;e<Kk;e++)if(n.dyn_ltree[e*2]!==0)return A6;return S6}var T6=!1;function Ilt(n){T6||(Rlt(),T6=!0),n.l_desc=new DN(n.dyn_ltree,iX),n.d_desc=new DN(n.dyn_dtree,rX),n.bl_desc=new DN(n.bl_tree,sX),n.bi_buf=0,n.bi_valid=0,cX(n)}function uX(n,t,e,i){Ds(n,(xlt<<1)+(i?1:0),3),Dlt(n,t,e)}function Llt(n){Ds(n,Q9<<1,3),Xc(n,Jz,Th),Tlt(n)}function Olt(n,t,e,i){var r,s,a=0;n.level>0?(n.strm.data_type===wlt&&(n.strm.data_type=Nlt(n)),OL(n,n.l_desc),OL(n,n.d_desc),a=Flt(n),r=n.opt_len+3+7>>>3,s=n.static_len+3+7>>>3,s<=r&&(r=s)):r=s=e+5,e+4<=r&&t!==-1?uX(n,t,e,i):n.strategy===blt||s===r?(Ds(n,(Q9<<1)+(i?1:0),3),_6(n,Th,mA)):(Ds(n,(Slt<<1)+(i?1:0),3),Mlt(n,n.l_desc.max_code+1,n.d_desc.max_code+1,a+1),_6(n,n.dyn_ltree,n.dyn_dtree)),cX(n),i&&hX(n)}function Blt(n,t,e){return n.pending_buf[n.d_buf+n.last_lit*2]=t>>>8&255,n.pending_buf[n.d_buf+n.last_lit*2+1]=t&255,n.pending_buf[n.l_buf+n.last_lit]=e&255,n.last_lit++,t===0?n.dyn_ltree[e*2]++:(n.matches++,t--,n.dyn_ltree[(cE[e]+Kk+1)*2]++,n.dyn_dtree[aX(t)*2]++),n.last_lit===n.lit_bufsize-1}lx._tr_init=Ilt;lx._tr_stored_block=uX;lx._tr_flush_block=Olt;lx._tr_tally=Blt;lx._tr_align=Llt;function zlt(n,t,e,i){for(var r=n&65535|0,s=n>>>16&65535|0,a=0;e!==0;){a=e>2e3?2e3:e,e-=a;do r=r+t[i++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0}var dX=zlt;function jlt(){for(var n,t=[],e=0;e<256;e++){n=e;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t}var Ult=jlt();function Hlt(n,t,e,i){var r=Ult,s=i+e;n^=-1;for(var a=i;a<s;a++)n=n>>>8^r[(n^t[a])&255];return n^-1}var fX=Hlt,tj={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ns=gd,To=lx,pX=dX,Fd=fX,Wlt=tj,Nv=0,Vlt=1,Glt=3,Vp=4,P6=5,qc=0,R6=1,Po=-2,Xlt=-3,MN=-5,qlt=-1,Klt=1,ZT=2,Ylt=3,Zlt=4,Qlt=0,Jlt=2,IF=8,$lt=9,tct=15,ect=8,nct=29,ict=256,BL=ict+1+nct,rct=30,sct=19,act=2*BL+1,oct=15,oe=3,Rp=258,kl=Rp+oe+1,lct=32,LF=42,zL=69,iP=73,rP=91,sP=103,Ng=113,aS=666,pi=1,Yk=2,pv=3,hx=4,cct=3;function Dp(n,t){return n.msg=Wlt[t],t}function D6(n){return(n<<1)-(n>4?9:0)}function Vd(n){for(var t=n.length;--t>=0;)n[t]=0}function Md(n){var t=n.state,e=t.pending;e>n.avail_out&&(e=n.avail_out),e!==0&&(ns.arraySet(n.output,t.pending_buf,t.pending_out,e,n.next_out),n.next_out+=e,t.pending_out+=e,n.total_out+=e,n.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))}function fr(n,t){To._tr_flush_block(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,t),n.block_start=n.strstart,Md(n.strm)}function Se(n,t){n.pending_buf[n.pending++]=t}function Ox(n,t){n.pending_buf[n.pending++]=t>>>8&255,n.pending_buf[n.pending++]=t&255}function hct(n,t,e,i){var r=n.avail_in;return r>i&&(r=i),r===0?0:(n.avail_in-=r,ns.arraySet(t,n.input,n.next_in,r,e),n.state.wrap===1?n.adler=pX(n.adler,t,r,e):n.state.wrap===2&&(n.adler=Fd(n.adler,t,r,e)),n.next_in+=r,n.total_in+=r,r)}function gX(n,t){var e=n.max_chain_length,i=n.strstart,r,s,a=n.prev_length,o=n.nice_match,c=n.strstart>n.w_size-kl?n.strstart-(n.w_size-kl):0,l=n.window,u=n.w_mask,d=n.prev,f=n.strstart+Rp,p=l[i+a-1],g=l[i+a];n.prev_length>=n.good_match&&(e>>=2),o>n.lookahead&&(o=n.lookahead);do if(r=t,!(l[r+a]!==g||l[r+a-1]!==p||l[r]!==l[i]||l[++r]!==l[i+1])){i+=2,r++;do;while(l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&i<f);if(s=Rp-(f-i),i=f-Rp,s>a){if(n.match_start=t,a=s,s>=o)break;p=l[i+a-1],g=l[i+a]}}while((t=d[t&u])>c&&--e!==0);return a<=n.lookahead?a:n.lookahead}function gv(n){var t=n.w_size,e,i,r,s,a;do{if(s=n.window_size-n.lookahead-n.strstart,n.strstart>=t+(t-kl)){ns.arraySet(n.window,n.window,t,t,0),n.match_start-=t,n.strstart-=t,n.block_start-=t,i=n.hash_size,e=i;do r=n.head[--e],n.head[e]=r>=t?r-t:0;while(--i);i=t,e=i;do r=n.prev[--e],n.prev[e]=r>=t?r-t:0;while(--i);s+=t}if(n.strm.avail_in===0)break;if(i=hct(n.strm,n.window,n.strstart+n.lookahead,s),n.lookahead+=i,n.lookahead+n.insert>=oe)for(a=n.strstart-n.insert,n.ins_h=n.window[a],n.ins_h=(n.ins_h<<n.hash_shift^n.window[a+1])&n.hash_mask;n.insert&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[a+oe-1])&n.hash_mask,n.prev[a&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=a,a++,n.insert--,!(n.lookahead+n.insert<oe)););}while(n.lookahead<kl&&n.strm.avail_in!==0)}function uct(n,t){var e=65535;for(e>n.pending_buf_size-5&&(e=n.pending_buf_size-5);;){if(n.lookahead<=1){if(gv(n),n.lookahead===0&&t===Nv)return pi;if(n.lookahead===0)break}n.strstart+=n.lookahead,n.lookahead=0;var i=n.block_start+e;if((n.strstart===0||n.strstart>=i)&&(n.lookahead=n.strstart-i,n.strstart=i,fr(n,!1),n.strm.avail_out===0)||n.strstart-n.block_start>=n.w_size-kl&&(fr(n,!1),n.strm.avail_out===0))return pi}return n.insert=0,t===Vp?(fr(n,!0),n.strm.avail_out===0?pv:hx):(n.strstart>n.block_start&&(fr(n,!1),n.strm.avail_out===0),pi)}function NN(n,t){for(var e,i;;){if(n.lookahead<kl){if(gv(n),n.lookahead<kl&&t===Nv)return pi;if(n.lookahead===0)break}if(e=0,n.lookahead>=oe&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+oe-1])&n.hash_mask,e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),e!==0&&n.strstart-e<=n.w_size-kl&&(n.match_length=gX(n,e)),n.match_length>=oe)if(i=To._tr_tally(n,n.strstart-n.match_start,n.match_length-oe),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=oe){n.match_length--;do n.strstart++,n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+oe-1])&n.hash_mask,e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+1])&n.hash_mask;else i=To._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(i&&(fr(n,!1),n.strm.avail_out===0))return pi}return n.insert=n.strstart<oe-1?n.strstart:oe-1,t===Vp?(fr(n,!0),n.strm.avail_out===0?pv:hx):n.last_lit&&(fr(n,!1),n.strm.avail_out===0)?pi:Yk}function ny(n,t){for(var e,i,r;;){if(n.lookahead<kl){if(gv(n),n.lookahead<kl&&t===Nv)return pi;if(n.lookahead===0)break}if(e=0,n.lookahead>=oe&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+oe-1])&n.hash_mask,e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=oe-1,e!==0&&n.prev_length<n.max_lazy_match&&n.strstart-e<=n.w_size-kl&&(n.match_length=gX(n,e),n.match_length<=5&&(n.strategy===Klt||n.match_length===oe&&n.strstart-n.match_start>4096)&&(n.match_length=oe-1)),n.prev_length>=oe&&n.match_length<=n.prev_length){r=n.strstart+n.lookahead-oe,i=To._tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-oe),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=r&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+oe-1])&n.hash_mask,e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=oe-1,n.strstart++,i&&(fr(n,!1),n.strm.avail_out===0))return pi}else if(n.match_available){if(i=To._tr_tally(n,0,n.window[n.strstart-1]),i&&fr(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return pi}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(i=To._tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<oe-1?n.strstart:oe-1,t===Vp?(fr(n,!0),n.strm.avail_out===0?pv:hx):n.last_lit&&(fr(n,!1),n.strm.avail_out===0)?pi:Yk}function dct(n,t){for(var e,i,r,s,a=n.window;;){if(n.lookahead<=Rp){if(gv(n),n.lookahead<=Rp&&t===Nv)return pi;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=oe&&n.strstart>0&&(r=n.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){s=n.strstart+Rp;do;while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);n.match_length=Rp-(s-r),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=oe?(e=To._tr_tally(n,1,n.match_length-oe),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(e=To._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),e&&(fr(n,!1),n.strm.avail_out===0))return pi}return n.insert=0,t===Vp?(fr(n,!0),n.strm.avail_out===0?pv:hx):n.last_lit&&(fr(n,!1),n.strm.avail_out===0)?pi:Yk}function fct(n,t){for(var e;;){if(n.lookahead===0&&(gv(n),n.lookahead===0)){if(t===Nv)return pi;break}if(n.match_length=0,e=To._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,e&&(fr(n,!1),n.strm.avail_out===0))return pi}return n.insert=0,t===Vp?(fr(n,!0),n.strm.avail_out===0?pv:hx):n.last_lit&&(fr(n,!1),n.strm.avail_out===0)?pi:Yk}function Vl(n,t,e,i,r){this.good_length=n,this.max_lazy=t,this.nice_length=e,this.max_chain=i,this.func=r}var zy;zy=[new Vl(0,0,0,0,uct),new Vl(4,4,8,4,NN),new Vl(4,5,16,8,NN),new Vl(4,6,32,32,NN),new Vl(4,4,16,16,ny),new Vl(8,16,32,32,ny),new Vl(8,16,128,128,ny),new Vl(8,32,128,256,ny),new Vl(32,128,258,1024,ny),new Vl(32,258,258,4096,ny)];function pct(n){n.window_size=2*n.w_size,Vd(n.head),n.max_lazy_match=zy[n.level].max_lazy,n.good_match=zy[n.level].good_length,n.nice_match=zy[n.level].nice_length,n.max_chain_length=zy[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=oe-1,n.match_available=0,n.ins_h=0}function gct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=IF,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ns.Buf16(act*2),this.dyn_dtree=new ns.Buf16((2*rct+1)*2),this.bl_tree=new ns.Buf16((2*sct+1)*2),Vd(this.dyn_ltree),Vd(this.dyn_dtree),Vd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ns.Buf16(oct+1),this.heap=new ns.Buf16(2*BL+1),Vd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ns.Buf16(2*BL+1),Vd(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function mX(n){var t;return!n||!n.state?Dp(n,Po):(n.total_in=n.total_out=0,n.data_type=Jlt,t=n.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?LF:Ng,n.adler=t.wrap===2?0:1,t.last_flush=Nv,To._tr_init(t),qc)}function vX(n){var t=mX(n);return t===qc&&pct(n.state),t}function mct(n,t){return!n||!n.state||n.state.wrap!==2?Po:(n.state.gzhead=t,qc)}function yX(n,t,e,i,r,s){if(!n)return Po;var a=1;if(t===qlt&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>$lt||e!==IF||i<8||i>15||t<0||t>9||s<0||s>Zlt)return Dp(n,Po);i===8&&(i=9);var o=new gct;return n.state=o,o.strm=n,o.wrap=a,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+oe-1)/oe),o.window=new ns.Buf8(o.w_size*2),o.head=new ns.Buf16(o.hash_size),o.prev=new ns.Buf16(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new ns.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=s,o.method=e,vX(n)}function vct(n,t){return yX(n,t,IF,tct,ect,Qlt)}function yct(n,t){var e,i,r,s;if(!n||!n.state||t>P6||t<0)return n?Dp(n,Po):Po;if(i=n.state,!n.output||!n.input&&n.avail_in!==0||i.status===aS&&t!==Vp)return Dp(n,n.avail_out===0?MN:Po);if(i.strm=n,e=i.last_flush,i.last_flush=t,i.status===LF)if(i.wrap===2)n.adler=0,Se(i,31),Se(i,139),Se(i,8),i.gzhead?(Se(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Se(i,i.gzhead.time&255),Se(i,i.gzhead.time>>8&255),Se(i,i.gzhead.time>>16&255),Se(i,i.gzhead.time>>24&255),Se(i,i.level===9?2:i.strategy>=ZT||i.level<2?4:0),Se(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(Se(i,i.gzhead.extra.length&255),Se(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(n.adler=Fd(n.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=zL):(Se(i,0),Se(i,0),Se(i,0),Se(i,0),Se(i,0),Se(i,i.level===9?2:i.strategy>=ZT||i.level<2?4:0),Se(i,cct),i.status=Ng);else{var a=IF+(i.w_bits-8<<4)<<8,o=-1;i.strategy>=ZT||i.level<2?o=0:i.level<6?o=1:i.level===6?o=2:o=3,a|=o<<6,i.strstart!==0&&(a|=lct),a+=31-a%31,i.status=Ng,Ox(i,a),i.strstart!==0&&(Ox(i,n.adler>>>16),Ox(i,n.adler&65535)),n.adler=1}if(i.status===zL)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=Fd(n.adler,i.pending_buf,i.pending-r,r)),Md(n),r=i.pending,i.pending===i.pending_buf_size));)Se(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(n.adler=Fd(n.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=iP)}else i.status=iP;if(i.status===iP)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=Fd(n.adler,i.pending_buf,i.pending-r,r)),Md(n),r=i.pending,i.pending===i.pending_buf_size)){s=1;break}i.gzindex<i.gzhead.name.length?s=i.gzhead.name.charCodeAt(i.gzindex++)&255:s=0,Se(i,s)}while(s!==0);i.gzhead.hcrc&&i.pending>r&&(n.adler=Fd(n.adler,i.pending_buf,i.pending-r,r)),s===0&&(i.gzindex=0,i.status=rP)}else i.status=rP;if(i.status===rP)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(n.adler=Fd(n.adler,i.pending_buf,i.pending-r,r)),Md(n),r=i.pending,i.pending===i.pending_buf_size)){s=1;break}i.gzindex<i.gzhead.comment.length?s=i.gzhead.comment.charCodeAt(i.gzindex++)&255:s=0,Se(i,s)}while(s!==0);i.gzhead.hcrc&&i.pending>r&&(n.adler=Fd(n.adler,i.pending_buf,i.pending-r,r)),s===0&&(i.status=sP)}else i.status=sP;if(i.status===sP&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Md(n),i.pending+2<=i.pending_buf_size&&(Se(i,n.adler&255),Se(i,n.adler>>8&255),n.adler=0,i.status=Ng)):i.status=Ng),i.pending!==0){if(Md(n),n.avail_out===0)return i.last_flush=-1,qc}else if(n.avail_in===0&&D6(t)<=D6(e)&&t!==Vp)return Dp(n,MN);if(i.status===aS&&n.avail_in!==0)return Dp(n,MN);if(n.avail_in!==0||i.lookahead!==0||t!==Nv&&i.status!==aS){var c=i.strategy===ZT?fct(i,t):i.strategy===Ylt?dct(i,t):zy[i.level].func(i,t);if((c===pv||c===hx)&&(i.status=aS),c===pi||c===pv)return n.avail_out===0&&(i.last_flush=-1),qc;if(c===Yk&&(t===Vlt?To._tr_align(i):t!==P6&&(To._tr_stored_block(i,0,0,!1),t===Glt&&(Vd(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),Md(n),n.avail_out===0))return i.last_flush=-1,qc}return t!==Vp?qc:i.wrap<=0?R6:(i.wrap===2?(Se(i,n.adler&255),Se(i,n.adler>>8&255),Se(i,n.adler>>16&255),Se(i,n.adler>>24&255),Se(i,n.total_in&255),Se(i,n.total_in>>8&255),Se(i,n.total_in>>16&255),Se(i,n.total_in>>24&255)):(Ox(i,n.adler>>>16),Ox(i,n.adler&65535)),Md(n),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?qc:R6)}function bct(n){var t;return!n||!n.state?Po:(t=n.state.status,t!==LF&&t!==zL&&t!==iP&&t!==rP&&t!==sP&&t!==Ng&&t!==aS?Dp(n,Po):(n.state=null,t===Ng?Dp(n,Xlt):qc))}function wct(n,t){var e=t.length,i,r,s,a,o,c,l,u;if(!n||!n.state||(i=n.state,a=i.wrap,a===2||a===1&&i.status!==LF||i.lookahead))return Po;for(a===1&&(n.adler=pX(n.adler,t,e,0)),i.wrap=0,e>=i.w_size&&(a===0&&(Vd(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new ns.Buf8(i.w_size),ns.arraySet(u,t,e-i.w_size,i.w_size,0),t=u,e=i.w_size),o=n.avail_in,c=n.next_in,l=n.input,n.avail_in=e,n.next_in=0,n.input=t,gv(i);i.lookahead>=oe;){r=i.strstart,s=i.lookahead-(oe-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+oe-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++;while(--s);i.strstart=r,i.lookahead=oe-1,gv(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=oe-1,i.match_available=0,n.next_in=c,n.input=l,n.avail_in=o,i.wrap=a,qc}oh.deflateInit=vct;oh.deflateInit2=yX;oh.deflateReset=vX;oh.deflateResetKeep=mX;oh.deflateSetHeader=mct;oh.deflate=yct;oh.deflateEnd=bct;oh.deflateSetDictionary=wct;oh.deflateInfo="pako deflate (from Nodeca project)";var Iv={},OF=gd,bX=!0,wX=!0;try{String.fromCharCode.apply(null,[0])}catch{bX=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{wX=!1}var uE=new OF.Buf8(256);for(var Ed=0;Ed<256;Ed++)uE[Ed]=Ed>=252?6:Ed>=248?5:Ed>=240?4:Ed>=224?3:Ed>=192?2:1;uE[254]=uE[254]=1;Iv.string2buf=function(n){var t,e,i,r,s,a=n.length,o=0;for(r=0;r<a;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<a&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),o+=e<128?1:e<2048?2:e<65536?3:4;for(t=new OF.Buf8(o),s=0,r=0;s<o;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<a&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),e<128?t[s++]=e:e<2048?(t[s++]=192|e>>>6,t[s++]=128|e&63):e<65536?(t[s++]=224|e>>>12,t[s++]=128|e>>>6&63,t[s++]=128|e&63):(t[s++]=240|e>>>18,t[s++]=128|e>>>12&63,t[s++]=128|e>>>6&63,t[s++]=128|e&63);return t};function xX(n,t){if(t<65534&&(n.subarray&&wX||!n.subarray&&bX))return String.fromCharCode.apply(null,OF.shrinkBuf(n,t));for(var e="",i=0;i<t;i++)e+=String.fromCharCode(n[i]);return e}Iv.buf2binstring=function(n){return xX(n,n.length)};Iv.binstring2buf=function(n){for(var t=new OF.Buf8(n.length),e=0,i=t.length;e<i;e++)t[e]=n.charCodeAt(e);return t};Iv.buf2string=function(n,t){var e,i,r,s,a=t||n.length,o=new Array(a*2);for(i=0,e=0;e<a;){if(r=n[e++],r<128){o[i++]=r;continue}if(s=uE[r],s>4){o[i++]=65533,e+=s-1;continue}for(r&=s===2?31:s===3?15:7;s>1&&e<a;)r=r<<6|n[e++]&63,s--;if(s>1){o[i++]=65533;continue}r<65536?o[i++]=r:(r-=65536,o[i++]=55296|r>>10&1023,o[i++]=56320|r&1023)}return xX(o,i)};Iv.utf8border=function(n,t){var e;for(t=t||n.length,t>n.length&&(t=n.length),e=t-1;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+uE[n[e]]>t?e:t};function xct(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var SX=xct,vA=oh,yA=gd,jL=Iv,UL=tj,Sct=SX,AX=Object.prototype.toString,Act=0,IN=4,ab=0,F6=1,M6=2,Ect=-1,_ct=0,Cct=8;function mv(n){if(!(this instanceof mv))return new mv(n);this.options=yA.assign({level:Ect,method:Cct,chunkSize:16384,windowBits:15,memLevel:8,strategy:_ct,to:""},n||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Sct,this.strm.avail_out=0;var e=vA.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==ab)throw new Error(UL[e]);if(t.header&&vA.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(typeof t.dictionary=="string"?i=jL.string2buf(t.dictionary):AX.call(t.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(t.dictionary):i=t.dictionary,e=vA.deflateSetDictionary(this.strm,i),e!==ab)throw new Error(UL[e]);this._dict_set=!0}}mv.prototype.push=function(n,t){var e=this.strm,i=this.options.chunkSize,r,s;if(this.ended)return!1;s=t===~~t?t:t===!0?IN:Act,typeof n=="string"?e.input=jL.string2buf(n):AX.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;do{if(e.avail_out===0&&(e.output=new yA.Buf8(i),e.next_out=0,e.avail_out=i),r=vA.deflate(e,s),r!==F6&&r!==ab)return this.onEnd(r),this.ended=!0,!1;(e.avail_out===0||e.avail_in===0&&(s===IN||s===M6))&&(this.options.to==="string"?this.onData(jL.buf2binstring(yA.shrinkBuf(e.output,e.next_out))):this.onData(yA.shrinkBuf(e.output,e.next_out)))}while((e.avail_in>0||e.avail_out===0)&&r!==F6);return s===IN?(r=vA.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===ab):(s===M6&&(this.onEnd(ab),e.avail_out=0),!0)};mv.prototype.onData=function(n){this.chunks.push(n)};mv.prototype.onEnd=function(n){n===ab&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function ej(n,t){var e=new mv(t);if(e.push(n,!0),e.err)throw e.msg||UL[e.err];return e.result}function kct(n,t){return t=t||{},t.raw=!0,ej(n,t)}function Tct(n,t){return t=t||{},t.gzip=!0,ej(n,t)}qk.Deflate=mv;qk.deflate=ej;qk.deflateRaw=kct;qk.gzip=Tct;var Zk={},Il={},QT=30,Pct=12,Rct=function(t,e){var i,r,s,a,o,c,l,u,d,f,p,g,m,y,v,w,x,A,S,C,k,T,R,F,D;i=t.state,r=t.next_in,F=t.input,s=r+(t.avail_in-5),a=t.next_out,D=t.output,o=a-(e-t.avail_out),c=a+(t.avail_out-257),l=i.dmax,u=i.wsize,d=i.whave,f=i.wnext,p=i.window,g=i.hold,m=i.bits,y=i.lencode,v=i.distcode,w=(1<<i.lenbits)-1,x=(1<<i.distbits)-1;t:do{m<15&&(g+=F[r++]<<m,m+=8,g+=F[r++]<<m,m+=8),A=y[g&w];e:for(;;){if(S=A>>>24,g>>>=S,m-=S,S=A>>>16&255,S===0)D[a++]=A&65535;else if(S&16){C=A&65535,S&=15,S&&(m<S&&(g+=F[r++]<<m,m+=8),C+=g&(1<<S)-1,g>>>=S,m-=S),m<15&&(g+=F[r++]<<m,m+=8,g+=F[r++]<<m,m+=8),A=v[g&x];n:for(;;){if(S=A>>>24,g>>>=S,m-=S,S=A>>>16&255,S&16){if(k=A&65535,S&=15,m<S&&(g+=F[r++]<<m,m+=8,m<S&&(g+=F[r++]<<m,m+=8)),k+=g&(1<<S)-1,k>l){t.msg="invalid distance too far back",i.mode=QT;break t}if(g>>>=S,m-=S,S=a-o,k>S){if(S=k-S,S>d&&i.sane){t.msg="invalid distance too far back",i.mode=QT;break t}if(T=0,R=p,f===0){if(T+=u-S,S<C){C-=S;do D[a++]=p[T++];while(--S);T=a-k,R=D}}else if(f<S){if(T+=u+f-S,S-=f,S<C){C-=S;do D[a++]=p[T++];while(--S);if(T=0,f<C){S=f,C-=S;do D[a++]=p[T++];while(--S);T=a-k,R=D}}}else if(T+=f-S,S<C){C-=S;do D[a++]=p[T++];while(--S);T=a-k,R=D}for(;C>2;)D[a++]=R[T++],D[a++]=R[T++],D[a++]=R[T++],C-=3;C&&(D[a++]=R[T++],C>1&&(D[a++]=R[T++]))}else{T=a-k;do D[a++]=D[T++],D[a++]=D[T++],D[a++]=D[T++],C-=3;while(C>2);C&&(D[a++]=D[T++],C>1&&(D[a++]=D[T++]))}}else if(S&64){t.msg="invalid distance code",i.mode=QT;break t}else{A=v[(A&65535)+(g&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){i.mode=Pct;break t}else{t.msg="invalid literal/length code",i.mode=QT;break t}else{A=y[(A&65535)+(g&(1<<S)-1)];continue e}break}}while(r<s&&a<c);C=m>>3,r-=C,m-=C<<3,g&=(1<<m)-1,t.next_in=r,t.next_out=a,t.avail_in=r<s?5+(s-r):5-(r-s),t.avail_out=a<c?257+(c-a):257-(a-c),i.hold=g,i.bits=m},N6=gd,iy=15,I6=852,L6=592,O6=0,LN=1,B6=2,Dct=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Fct=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Mct=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Nct=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Ict=function(t,e,i,r,s,a,o,c){var l=c.bits,u=0,d=0,f=0,p=0,g=0,m=0,y=0,v=0,w=0,x=0,A,S,C,k,T,R=null,F=0,D,U=new N6.Buf16(iy+1),j=new N6.Buf16(iy+1),V=null,Y=0,z,B,G;for(u=0;u<=iy;u++)U[u]=0;for(d=0;d<r;d++)U[e[i+d]]++;for(g=l,p=iy;p>=1&&U[p]===0;p--);if(g>p&&(g=p),p===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,c.bits=1,0;for(f=1;f<p&&U[f]===0;f++);for(g<f&&(g=f),v=1,u=1;u<=iy;u++)if(v<<=1,v-=U[u],v<0)return-1;if(v>0&&(t===O6||p!==1))return-1;for(j[1]=0,u=1;u<iy;u++)j[u+1]=j[u]+U[u];for(d=0;d<r;d++)e[i+d]!==0&&(o[j[e[i+d]]++]=d);if(t===O6?(R=V=o,D=19):t===LN?(R=Dct,F-=257,V=Fct,Y-=257,D=256):(R=Mct,V=Nct,D=-1),x=0,d=0,u=f,T=a,m=g,y=0,C=-1,w=1<<g,k=w-1,t===LN&&w>I6||t===B6&&w>L6)return 1;for(;;){z=u-y,o[d]<D?(B=0,G=o[d]):o[d]>D?(B=V[Y+o[d]],G=R[F+o[d]]):(B=96,G=0),A=1<<u-y,S=1<<m,f=S;do S-=A,s[T+(x>>y)+S]=z<<24|B<<16|G|0;while(S!==0);for(A=1<<u-1;x&A;)A>>=1;if(A!==0?(x&=A-1,x+=A):x=0,d++,--U[u]===0){if(u===p)break;u=e[i+o[d]]}if(u>g&&(x&k)!==C){for(y===0&&(y=g),T+=f,m=u-y,v=1<<m;m+y<p&&(v-=U[m+y],!(v<=0));)m++,v<<=1;if(w+=1<<m,t===LN&&w>I6||t===B6&&w>L6)return 1;C=x&k,s[C]=g<<24|m<<16|T-a|0}}return x!==0&&(s[T+x]=u-y<<24|64<<16|0),c.bits=g,0},Da=gd,HL=dX,Gl=fX,Lct=Rct,bA=Ict,Oct=0,EX=1,_X=2,z6=4,Bct=5,JT=6,vv=0,zct=1,jct=2,Lo=-2,CX=-3,kX=-4,Uct=-5,j6=8,TX=1,U6=2,H6=3,W6=4,V6=5,G6=6,X6=7,q6=8,K6=9,Y6=10,$R=11,ph=12,ON=13,Z6=14,BN=15,Q6=16,J6=17,$6=18,tU=19,$T=20,t2=21,eU=22,nU=23,iU=24,rU=25,sU=26,zN=27,aU=28,oU=29,nn=30,PX=31,Hct=32,Wct=852,Vct=592,Gct=15,Xct=Gct;function lU(n){return(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24)}function qct(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Da.Buf16(320),this.work=new Da.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function RX(n){var t;return!n||!n.state?Lo:(t=n.state,n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=TX,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Da.Buf32(Wct),t.distcode=t.distdyn=new Da.Buf32(Vct),t.sane=1,t.back=-1,vv)}function DX(n){var t;return!n||!n.state?Lo:(t=n.state,t.wsize=0,t.whave=0,t.wnext=0,RX(n))}function FX(n,t){var e,i;return!n||!n.state||(i=n.state,t<0?(e=0,t=-t):(e=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Lo:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=e,i.wbits=t,DX(n))}function MX(n,t){var e,i;return n?(i=new qct,n.state=i,i.window=null,e=FX(n,t),e!==vv&&(n.state=null),e):Lo}function Kct(n){return MX(n,Xct)}var cU=!0,jN,UN;function Yct(n){if(cU){var t;for(jN=new Da.Buf32(512),UN=new Da.Buf32(32),t=0;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(bA(EX,n.lens,0,288,jN,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;bA(_X,n.lens,0,32,UN,0,n.work,{bits:5}),cU=!1}n.lencode=jN,n.lenbits=9,n.distcode=UN,n.distbits=5}function NX(n,t,e,i){var r,s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Da.Buf8(s.wsize)),i>=s.wsize?(Da.arraySet(s.window,t,e-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),Da.arraySet(s.window,t,e-i,r,s.wnext),i-=r,i?(Da.arraySet(s.window,t,e-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0}function Zct(n,t){var e,i,r,s,a,o,c,l,u,d,f,p,g,m,y=0,v,w,x,A,S,C,k,T,R=new Da.Buf8(4),F,D,U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!n||!n.state||!n.output||!n.input&&n.avail_in!==0)return Lo;e=n.state,e.mode===ph&&(e.mode=ON),a=n.next_out,r=n.output,c=n.avail_out,s=n.next_in,i=n.input,o=n.avail_in,l=e.hold,u=e.bits,d=o,f=c,T=vv;t:for(;;)switch(e.mode){case TX:if(e.wrap===0){e.mode=ON;break}for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(e.wrap&2&&l===35615){e.check=0,R[0]=l&255,R[1]=l>>>8&255,e.check=Gl(e.check,R,2,0),l=0,u=0,e.mode=U6;break}if(e.flags=0,e.head&&(e.head.done=!1),!(e.wrap&1)||(((l&255)<<8)+(l>>8))%31){n.msg="incorrect header check",e.mode=nn;break}if((l&15)!==j6){n.msg="unknown compression method",e.mode=nn;break}if(l>>>=4,u-=4,k=(l&15)+8,e.wbits===0)e.wbits=k;else if(k>e.wbits){n.msg="invalid window size",e.mode=nn;break}e.dmax=1<<k,n.adler=e.check=1,e.mode=l&512?Y6:ph,l=0,u=0;break;case U6:for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(e.flags=l,(e.flags&255)!==j6){n.msg="unknown compression method",e.mode=nn;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=nn;break}e.head&&(e.head.text=l>>8&1),e.flags&512&&(R[0]=l&255,R[1]=l>>>8&255,e.check=Gl(e.check,R,2,0)),l=0,u=0,e.mode=H6;case H6:for(;u<32;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.head&&(e.head.time=l),e.flags&512&&(R[0]=l&255,R[1]=l>>>8&255,R[2]=l>>>16&255,R[3]=l>>>24&255,e.check=Gl(e.check,R,4,0)),l=0,u=0,e.mode=W6;case W6:for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.head&&(e.head.xflags=l&255,e.head.os=l>>8),e.flags&512&&(R[0]=l&255,R[1]=l>>>8&255,e.check=Gl(e.check,R,2,0)),l=0,u=0,e.mode=V6;case V6:if(e.flags&1024){for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.length=l,e.head&&(e.head.extra_len=l),e.flags&512&&(R[0]=l&255,R[1]=l>>>8&255,e.check=Gl(e.check,R,2,0)),l=0,u=0}else e.head&&(e.head.extra=null);e.mode=G6;case G6:if(e.flags&1024&&(p=e.length,p>o&&(p=o),p&&(e.head&&(k=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),Da.arraySet(e.head.extra,i,s,p,k)),e.flags&512&&(e.check=Gl(e.check,i,p,s)),o-=p,s+=p,e.length-=p),e.length))break t;e.length=0,e.mode=X6;case X6:if(e.flags&2048){if(o===0)break t;p=0;do k=i[s+p++],e.head&&k&&e.length<65536&&(e.head.name+=String.fromCharCode(k));while(k&&p<o);if(e.flags&512&&(e.check=Gl(e.check,i,p,s)),o-=p,s+=p,k)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=q6;case q6:if(e.flags&4096){if(o===0)break t;p=0;do k=i[s+p++],e.head&&k&&e.length<65536&&(e.head.comment+=String.fromCharCode(k));while(k&&p<o);if(e.flags&512&&(e.check=Gl(e.check,i,p,s)),o-=p,s+=p,k)break t}else e.head&&(e.head.comment=null);e.mode=K6;case K6:if(e.flags&512){for(;u<16;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(l!==(e.check&65535)){n.msg="header crc mismatch",e.mode=nn;break}l=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=ph;break;case Y6:for(;u<32;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}n.adler=e.check=lU(l),l=0,u=0,e.mode=$R;case $R:if(e.havedict===0)return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,e.hold=l,e.bits=u,jct;n.adler=e.check=1,e.mode=ph;case ph:if(t===Bct||t===JT)break t;case ON:if(e.last){l>>>=u&7,u-=u&7,e.mode=zN;break}for(;u<3;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}switch(e.last=l&1,l>>>=1,u-=1,l&3){case 0:e.mode=Z6;break;case 1:if(Yct(e),e.mode=$T,t===JT){l>>>=2,u-=2;break t}break;case 2:e.mode=J6;break;case 3:n.msg="invalid block type",e.mode=nn}l>>>=2,u-=2;break;case Z6:for(l>>>=u&7,u-=u&7;u<32;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){n.msg="invalid stored block lengths",e.mode=nn;break}if(e.length=l&65535,l=0,u=0,e.mode=BN,t===JT)break t;case BN:e.mode=Q6;case Q6:if(p=e.length,p){if(p>o&&(p=o),p>c&&(p=c),p===0)break t;Da.arraySet(r,i,s,p,a),o-=p,s+=p,c-=p,a+=p,e.length-=p;break}e.mode=ph;break;case J6:for(;u<14;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(e.nlen=(l&31)+257,l>>>=5,u-=5,e.ndist=(l&31)+1,l>>>=5,u-=5,e.ncode=(l&15)+4,l>>>=4,u-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=nn;break}e.have=0,e.mode=$6;case $6:for(;e.have<e.ncode;){for(;u<3;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.lens[U[e.have++]]=l&7,l>>>=3,u-=3}for(;e.have<19;)e.lens[U[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,F={bits:e.lenbits},T=bA(Oct,e.lens,0,19,e.lencode,0,e.work,F),e.lenbits=F.bits,T){n.msg="invalid code lengths set",e.mode=nn;break}e.have=0,e.mode=tU;case tU:for(;e.have<e.nlen+e.ndist;){for(;y=e.lencode[l&(1<<e.lenbits)-1],v=y>>>24,w=y>>>16&255,x=y&65535,!(v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(x<16)l>>>=v,u-=v,e.lens[e.have++]=x;else{if(x===16){for(D=v+2;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(l>>>=v,u-=v,e.have===0){n.msg="invalid bit length repeat",e.mode=nn;break}k=e.lens[e.have-1],p=3+(l&3),l>>>=2,u-=2}else if(x===17){for(D=v+3;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}l>>>=v,u-=v,k=0,p=3+(l&7),l>>>=3,u-=3}else{for(D=v+7;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}l>>>=v,u-=v,k=0,p=11+(l&127),l>>>=7,u-=7}if(e.have+p>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=nn;break}for(;p--;)e.lens[e.have++]=k}}if(e.mode===nn)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=nn;break}if(e.lenbits=9,F={bits:e.lenbits},T=bA(EX,e.lens,0,e.nlen,e.lencode,0,e.work,F),e.lenbits=F.bits,T){n.msg="invalid literal/lengths set",e.mode=nn;break}if(e.distbits=6,e.distcode=e.distdyn,F={bits:e.distbits},T=bA(_X,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,F),e.distbits=F.bits,T){n.msg="invalid distances set",e.mode=nn;break}if(e.mode=$T,t===JT)break t;case $T:e.mode=t2;case t2:if(o>=6&&c>=258){n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,e.hold=l,e.bits=u,Lct(n,f),a=n.next_out,r=n.output,c=n.avail_out,s=n.next_in,i=n.input,o=n.avail_in,l=e.hold,u=e.bits,e.mode===ph&&(e.back=-1);break}for(e.back=0;y=e.lencode[l&(1<<e.lenbits)-1],v=y>>>24,w=y>>>16&255,x=y&65535,!(v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(w&&!(w&240)){for(A=v,S=w,C=x;y=e.lencode[C+((l&(1<<A+S)-1)>>A)],v=y>>>24,w=y>>>16&255,x=y&65535,!(A+v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}l>>>=A,u-=A,e.back+=A}if(l>>>=v,u-=v,e.back+=v,e.length=x,w===0){e.mode=sU;break}if(w&32){e.back=-1,e.mode=ph;break}if(w&64){n.msg="invalid literal/length code",e.mode=nn;break}e.extra=w&15,e.mode=eU;case eU:if(e.extra){for(D=e.extra;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.length+=l&(1<<e.extra)-1,l>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=nU;case nU:for(;y=e.distcode[l&(1<<e.distbits)-1],v=y>>>24,w=y>>>16&255,x=y&65535,!(v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(!(w&240)){for(A=v,S=w,C=x;y=e.distcode[C+((l&(1<<A+S)-1)>>A)],v=y>>>24,w=y>>>16&255,x=y&65535,!(A+v<=u);){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}l>>>=A,u-=A,e.back+=A}if(l>>>=v,u-=v,e.back+=v,w&64){n.msg="invalid distance code",e.mode=nn;break}e.offset=x,e.extra=w&15,e.mode=iU;case iU:if(e.extra){for(D=e.extra;u<D;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}e.offset+=l&(1<<e.extra)-1,l>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=nn;break}e.mode=rU;case rU:if(c===0)break t;if(p=f-c,e.offset>p){if(p=e.offset-p,p>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=nn;break}p>e.wnext?(p-=e.wnext,g=e.wsize-p):g=e.wnext-p,p>e.length&&(p=e.length),m=e.window}else m=r,g=a-e.offset,p=e.length;p>c&&(p=c),c-=p,e.length-=p;do r[a++]=m[g++];while(--p);e.length===0&&(e.mode=t2);break;case sU:if(c===0)break t;r[a++]=e.length,c--,e.mode=t2;break;case zN:if(e.wrap){for(;u<32;){if(o===0)break t;o--,l|=i[s++]<<u,u+=8}if(f-=c,n.total_out+=f,e.total+=f,f&&(n.adler=e.check=e.flags?Gl(e.check,r,f,a-f):HL(e.check,r,f,a-f)),f=c,(e.flags?l:lU(l))!==e.check){n.msg="incorrect data check",e.mode=nn;break}l=0,u=0}e.mode=aU;case aU:if(e.wrap&&e.flags){for(;u<32;){if(o===0)break t;o--,l+=i[s++]<<u,u+=8}if(l!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=nn;break}l=0,u=0}e.mode=oU;case oU:T=zct;break t;case nn:T=CX;break t;case PX:return kX;case Hct:default:return Lo}return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,e.hold=l,e.bits=u,(e.wsize||f!==n.avail_out&&e.mode<nn&&(e.mode<zN||t!==z6))&&NX(n,n.output,n.next_out,f-n.avail_out),d-=n.avail_in,f-=n.avail_out,n.total_in+=d,n.total_out+=f,e.total+=f,e.wrap&&f&&(n.adler=e.check=e.flags?Gl(e.check,r,f,n.next_out-f):HL(e.check,r,f,n.next_out-f)),n.data_type=e.bits+(e.last?64:0)+(e.mode===ph?128:0)+(e.mode===$T||e.mode===BN?256:0),(d===0&&f===0||t===z6)&&T===vv&&(T=Uct),T}function Qct(n){if(!n||!n.state)return Lo;var t=n.state;return t.window&&(t.window=null),n.state=null,vv}function Jct(n,t){var e;return!n||!n.state||(e=n.state,!(e.wrap&2))?Lo:(e.head=t,t.done=!1,vv)}function $ct(n,t){var e=t.length,i,r,s;return!n||!n.state||(i=n.state,i.wrap!==0&&i.mode!==$R)?Lo:i.mode===$R&&(r=1,r=HL(r,t,e,0),r!==i.check)?CX:(s=NX(n,t,e,e),s?(i.mode=PX,kX):(i.havedict=1,vv))}Il.inflateReset=DX;Il.inflateReset2=FX;Il.inflateResetKeep=RX;Il.inflateInit=Kct;Il.inflateInit2=MX;Il.inflate=Zct;Il.inflateEnd=Qct;Il.inflateGetHeader=Jct;Il.inflateSetDictionary=$ct;Il.inflateInfo="pako inflate (from Nodeca project)";var IX={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function tht(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var eht=tht,ob=Il,wA=gd,aP=Iv,Nn=IX,WL=tj,nht=SX,iht=eht,LX=Object.prototype.toString;function yv(n){if(!(this instanceof yv))return new yv(n);this.options=wA.assign({chunkSize:16384,windowBits:0,to:""},n||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nht,this.strm.avail_out=0;var e=ob.inflateInit2(this.strm,t.windowBits);if(e!==Nn.Z_OK)throw new Error(WL[e]);if(this.header=new iht,ob.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=aP.string2buf(t.dictionary):LX.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=ob.inflateSetDictionary(this.strm,t.dictionary),e!==Nn.Z_OK)))throw new Error(WL[e])}yv.prototype.push=function(n,t){var e=this.strm,i=this.options.chunkSize,r=this.options.dictionary,s,a,o,c,l,u=!1;if(this.ended)return!1;a=t===~~t?t:t===!0?Nn.Z_FINISH:Nn.Z_NO_FLUSH,typeof n=="string"?e.input=aP.binstring2buf(n):LX.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;do{if(e.avail_out===0&&(e.output=new wA.Buf8(i),e.next_out=0,e.avail_out=i),s=ob.inflate(e,Nn.Z_NO_FLUSH),s===Nn.Z_NEED_DICT&&r&&(s=ob.inflateSetDictionary(this.strm,r)),s===Nn.Z_BUF_ERROR&&u===!0&&(s=Nn.Z_OK,u=!1),s!==Nn.Z_STREAM_END&&s!==Nn.Z_OK)return this.onEnd(s),this.ended=!0,!1;e.next_out&&(e.avail_out===0||s===Nn.Z_STREAM_END||e.avail_in===0&&(a===Nn.Z_FINISH||a===Nn.Z_SYNC_FLUSH))&&(this.options.to==="string"?(o=aP.utf8border(e.output,e.next_out),c=e.next_out-o,l=aP.buf2string(e.output,o),e.next_out=c,e.avail_out=i-c,c&&wA.arraySet(e.output,e.output,o,c,0),this.onData(l)):this.onData(wA.shrinkBuf(e.output,e.next_out))),e.avail_in===0&&e.avail_out===0&&(u=!0)}while((e.avail_in>0||e.avail_out===0)&&s!==Nn.Z_STREAM_END);return s===Nn.Z_STREAM_END&&(a=Nn.Z_FINISH),a===Nn.Z_FINISH?(s=ob.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Nn.Z_OK):(a===Nn.Z_SYNC_FLUSH&&(this.onEnd(Nn.Z_OK),e.avail_out=0),!0)};yv.prototype.onData=function(n){this.chunks.push(n)};yv.prototype.onEnd=function(n){n===Nn.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=wA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function nj(n,t){var e=new yv(t);if(e.push(n,!0),e.err)throw e.msg||WL[e.err];return e.result}function rht(n,t){return t=t||{},t.raw=!0,nj(n,t)}Zk.Inflate=yv;Zk.inflate=nj;Zk.inflateRaw=rht;Zk.ungzip=nj;var sht=gd.assign,aht=qk,oht=Zk,lht=IX,OX={};sht(OX,aht,oht,lht);var cht=OX;const hht=hd(cht);var $={};$.toRGBA8=function(n){var t=n.width,e=n.height;if(n.tabs.acTL==null)return[$.toRGBA8.decodeImage(n.data,t,e,n).buffer];var i=[];n.frames[0].data==null&&(n.frames[0].data=n.data);for(var r=t*e*4,s=new Uint8Array(r),a=new Uint8Array(r),o=new Uint8Array(r),c=0;c<n.frames.length;c++){var l=n.frames[c],u=l.rect.x,d=l.rect.y,f=l.rect.width,p=l.rect.height,g=$.toRGBA8.decodeImage(l.data,f,p,n);if(c!=0)for(var m=0;m<r;m++)o[m]=s[m];if(l.blend==0?$._copyTile(g,f,p,s,t,e,u,d,0):l.blend==1&&$._copyTile(g,f,p,s,t,e,u,d,1),i.push(s.buffer.slice(0)),l.dispose!=0){if(l.dispose==1)$._copyTile(a,f,p,s,t,e,u,d,0);else if(l.dispose==2)for(var m=0;m<r;m++)s[m]=o[m]}}return i};$.toRGBA8.decodeImage=function(n,t,e,i){var r=t*e,s=$.decode._getBPP(i),a=Math.ceil(t*s/8),o=new Uint8Array(r*4),c=new Uint32Array(o.buffer),l=i.ctype,u=i.depth,d=$._bin.readUshort;if(l==6){var f=r<<2;if(u==8)for(var p=0;p<f;p+=4)o[p]=n[p],o[p+1]=n[p+1],o[p+2]=n[p+2],o[p+3]=n[p+3];if(u==16)for(var p=0;p<f;p++)o[p]=n[p<<1]}else if(l==2){var g=i.tabs.tRNS;if(g==null){if(u==8)for(var p=0;p<r;p++){var m=p*3;c[p]=255<<24|n[m+2]<<16|n[m+1]<<8|n[m]}if(u==16)for(var p=0;p<r;p++){var m=p*6;c[p]=255<<24|n[m+4]<<16|n[m+2]<<8|n[m]}}else{var y=g[0],v=g[1],w=g[2];if(u==8)for(var p=0;p<r;p++){var x=p<<2,m=p*3;c[p]=255<<24|n[m+2]<<16|n[m+1]<<8|n[m],n[m]==y&&n[m+1]==v&&n[m+2]==w&&(o[x+3]=0)}if(u==16)for(var p=0;p<r;p++){var x=p<<2,m=p*6;c[p]=255<<24|n[m+4]<<16|n[m+2]<<8|n[m],d(n,m)==y&&d(n,m+2)==v&&d(n,m+4)==w&&(o[x+3]=0)}}}else if(l==3){var A=i.tabs.PLTE,S=i.tabs.tRNS,C=S?S.length:0;if(u==1)for(var k=0;k<e;k++)for(var T=k*a,R=k*t,p=0;p<t;p++){var x=R+p<<2,F=n[T+(p>>3)]>>7-((p&7)<<0)&1,D=3*F;o[x]=A[D],o[x+1]=A[D+1],o[x+2]=A[D+2],o[x+3]=F<C?S[F]:255}if(u==2)for(var k=0;k<e;k++)for(var T=k*a,R=k*t,p=0;p<t;p++){var x=R+p<<2,F=n[T+(p>>2)]>>6-((p&3)<<1)&3,D=3*F;o[x]=A[D],o[x+1]=A[D+1],o[x+2]=A[D+2],o[x+3]=F<C?S[F]:255}if(u==4)for(var k=0;k<e;k++)for(var T=k*a,R=k*t,p=0;p<t;p++){var x=R+p<<2,F=n[T+(p>>1)]>>4-((p&1)<<2)&15,D=3*F;o[x]=A[D],o[x+1]=A[D+1],o[x+2]=A[D+2],o[x+3]=F<C?S[F]:255}if(u==8)for(var p=0;p<r;p++){var x=p<<2,F=n[p],D=3*F;o[x]=A[D],o[x+1]=A[D+1],o[x+2]=A[D+2],o[x+3]=F<C?S[F]:255}}else if(l==4){if(u==8)for(var p=0;p<r;p++){var x=p<<2,U=p<<1,j=n[U];o[x]=j,o[x+1]=j,o[x+2]=j,o[x+3]=n[U+1]}if(u==16)for(var p=0;p<r;p++){var x=p<<2,U=p<<2,j=n[U];o[x]=j,o[x+1]=j,o[x+2]=j,o[x+3]=n[U+2]}}else if(l==0)for(var y=i.tabs.tRNS?i.tabs.tRNS:-1,k=0;k<e;k++){var V=k*a,Y=k*t;if(u==1)for(var z=0;z<t;z++){var j=255*(n[V+(z>>>3)]>>>7-(z&7)&1),B=j==y*255?0:255;c[Y+z]=B<<24|j<<16|j<<8|j}else if(u==2)for(var z=0;z<t;z++){var j=85*(n[V+(z>>>2)]>>>6-((z&3)<<1)&3),B=j==y*85?0:255;c[Y+z]=B<<24|j<<16|j<<8|j}else if(u==4)for(var z=0;z<t;z++){var j=17*(n[V+(z>>>1)]>>>4-((z&1)<<2)&15),B=j==y*17?0:255;c[Y+z]=B<<24|j<<16|j<<8|j}else if(u==8)for(var z=0;z<t;z++){var j=n[V+z],B=j==y?0:255;c[Y+z]=B<<24|j<<16|j<<8|j}else if(u==16)for(var z=0;z<t;z++){var j=n[V+(z<<1)],B=d(n,V+(z<<p))==y?0:255;c[Y+z]=B<<24|j<<16|j<<8|j}}return o};$.decode=function(n){for(var t=new Uint8Array(n),e=8,i=$._bin,r=i.readUshort,s=i.readUint,a={tabs:{},frames:[]},o=new Uint8Array(t.length),c=0,l,u=0,d=[137,80,78,71,13,10,26,10],f=0;f<8;f++)if(t[f]!=d[f])throw"The input is not a PNG file!";for(;e<t.length;){var p=i.readUint(t,e);e+=4;var g=i.readASCII(t,e,4);if(e+=4,g=="IHDR")$.decode._IHDR(t,e,a);else if(g=="IDAT"){for(var f=0;f<p;f++)o[c+f]=t[e+f];c+=p}else if(g=="acTL")a.tabs[g]={num_frames:s(t,e),num_plays:s(t,e+4)},l=new Uint8Array(t.length);else if(g=="fcTL"){if(u!=0){var m=a.frames[a.frames.length-1];m.data=$.decode._decompress(a,l.slice(0,u),m.rect.width,m.rect.height),u=0}var y={x:s(t,e+12),y:s(t,e+16),width:s(t,e+4),height:s(t,e+8)},v=r(t,e+22);v=r(t,e+20)/(v==0?100:v);var w={rect:y,delay:Math.round(v*1e3),dispose:t[e+24],blend:t[e+25]};a.frames.push(w)}else if(g=="fdAT"){for(var f=0;f<p-4;f++)l[u+f]=t[e+f+4];u+=p-4}else if(g=="pHYs")a.tabs[g]=[i.readUint(t,e),i.readUint(t,e+4),t[e+8]];else if(g=="cHRM"){a.tabs[g]=[];for(var f=0;f<8;f++)a.tabs[g].push(i.readUint(t,e+f*4))}else if(g=="tEXt"){a.tabs[g]==null&&(a.tabs[g]={});var x=i.nextZero(t,e),A=i.readASCII(t,e,x-e),S=i.readASCII(t,x+1,e+p-x-1);a.tabs[g][A]=S}else if(g=="iTXt"){a.tabs[g]==null&&(a.tabs[g]={});var x=0,C=e;x=i.nextZero(t,C);var A=i.readASCII(t,C,x-C);C=x+1,t[C],t[C+1],C+=2,x=i.nextZero(t,C),i.readASCII(t,C,x-C),C=x+1,x=i.nextZero(t,C),i.readUTF8(t,C,x-C),C=x+1;var S=i.readUTF8(t,C,p-(C-e));a.tabs[g][A]=S}else if(g=="PLTE")a.tabs[g]=i.readBytes(t,e,p);else if(g=="hIST"){var k=a.tabs.PLTE.length/3;a.tabs[g]=[];for(var f=0;f<k;f++)a.tabs[g].push(r(t,e+f*2))}else if(g=="tRNS")a.ctype==3?a.tabs[g]=i.readBytes(t,e,p):a.ctype==0?a.tabs[g]=r(t,e):a.ctype==2&&(a.tabs[g]=[r(t,e),r(t,e+2),r(t,e+4)]);else if(g=="gAMA")a.tabs[g]=i.readUint(t,e)/1e5;else if(g=="sRGB")a.tabs[g]=t[e];else if(g=="bKGD")a.ctype==0||a.ctype==4?a.tabs[g]=[r(t,e)]:a.ctype==2||a.ctype==6?a.tabs[g]=[r(t,e),r(t,e+2),r(t,e+4)]:a.ctype==3&&(a.tabs[g]=t[e]);else if(g=="IEND")break;e+=p,i.readUint(t,e),e+=4}if(u!=0){var m=a.frames[a.frames.length-1];m.data=$.decode._decompress(a,l.slice(0,u),m.rect.width,m.rect.height),u=0}return a.data=$.decode._decompress(a,o,a.width,a.height),delete a.compress,delete a.interlace,delete a.filter,a};$.decode._decompress=function(n,t,e,i){var r=$.decode._getBPP(n),s=Math.ceil(e*r/8),a=new Uint8Array((s+1+n.interlace)*i);return t=$.decode._inflate(t,a),n.interlace==0?t=$.decode._filterZero(t,n,0,e,i):n.interlace==1&&(t=$.decode._readInterlace(t,n)),t};$.decode._inflate=function(n,t){var e=$.inflateRaw(new Uint8Array(n.buffer,2,n.length-6),t);return e};$.inflateRaw=function(){var n={};return n.H={},n.H.N=function(t,e){var i=Uint8Array,r=0,s=0,a=0,o=0,c=0,l=0,u=0,d=0,f=0,p,g;if(t[0]==3&&t[1]==0)return e||new i(0);var m=n.H,y=m.b,v=m.e,w=m.R,x=m.n,A=m.A,S=m.Z,C=m.m,k=e==null;for(k&&(e=new i(t.length>>>2<<3));r==0;){if(r=y(t,f,1),s=y(t,f+1,2),f+=3,s==0){f&7&&(f+=8-(f&7));var T=(f>>>3)+4,R=t[T-4]|t[T-3]<<8;k&&(e=n.H.W(e,d+R)),e.set(new i(t.buffer,t.byteOffset+T,R),d),f=T+R<<3,d+=R;continue}if(k&&(e=n.H.W(e,d+(1<<17))),s==1&&(p=C.J,g=C.h,l=511,u=31),s==2){a=v(t,f,5)+257,o=v(t,f+5,5)+1,c=v(t,f+10,4)+4,f+=14;for(var F=1,D=0;D<38;D+=2)C.Q[D]=0,C.Q[D+1]=0;for(var D=0;D<c;D++){var U=v(t,f+D*3,3);C.Q[(C.X[D]<<1)+1]=U,U>F&&(F=U)}f+=3*c,x(C.Q,F),A(C.Q,F,C.u),p=C.w,g=C.d,f=w(C.u,(1<<F)-1,a+o,t,f,C.v);var j=m.V(C.v,0,a,C.C);l=(1<<j)-1;var V=m.V(C.v,a,o,C.D);u=(1<<V)-1,x(C.C,j),A(C.C,j,p),x(C.D,V),A(C.D,V,g)}for(;;){var Y=p[S(t,f)&l];f+=Y&15;var z=Y>>>4;if(!(z>>>8))e[d++]=z;else{if(z==256)break;var B=d+z-254;if(z>264){var G=C.q[z-257];B=d+(G>>>3)+v(t,f,G&7),f+=G&7}var H=g[S(t,f)&u];f+=H&15;var M=H>>>4,N=C.c[M],W=(N>>>4)+y(t,f,N&15);for(f+=N&15;d<B;)e[d]=e[d++-W],e[d]=e[d++-W],e[d]=e[d++-W],e[d]=e[d++-W];d=B}}}return e.length==d?e:e.slice(0,d)},n.H.W=function(t,e){var i=t.length;if(e<=i)return t;var r=new Uint8Array(i<<1);return r.set(t,0),r},n.H.R=function(t,e,i,r,s,a){for(var o=n.H.e,c=n.H.Z,l=0;l<i;){var u=t[c(r,s)&e];s+=u&15;var d=u>>>4;if(d<=15)a[l]=d,l++;else{var f=0,p=0;d==16?(p=3+o(r,s,2),s+=2,f=a[l-1]):d==17?(p=3+o(r,s,3),s+=3):d==18&&(p=11+o(r,s,7),s+=7);for(var g=l+p;l<g;)a[l]=f,l++}}return s},n.H.V=function(t,e,i,r){for(var s=0,a=0,o=r.length>>>1;a<i;){var c=t[a+e];r[a<<1]=0,r[(a<<1)+1]=c,c>s&&(s=c),a++}for(;a<o;)r[a<<1]=0,r[(a<<1)+1]=0,a++;return s},n.H.n=function(t,e){for(var i=n.H.m,r=t.length,s,a,o,c,l,u=i.j,c=0;c<=e;c++)u[c]=0;for(c=1;c<r;c+=2)u[t[c]]++;var d=i.K;for(s=0,u[0]=0,a=1;a<=e;a++)s=s+u[a-1]<<1,d[a]=s;for(o=0;o<r;o+=2)l=t[o+1],l!=0&&(t[o]=d[l],d[l]++)},n.H.A=function(t,e,i){for(var r=t.length,s=n.H.m,a=s.r,o=0;o<r;o+=2)if(t[o+1]!=0)for(var c=o>>1,l=t[o+1],u=c<<4|l,d=e-l,f=t[o]<<d,p=f+(1<<d);f!=p;){var g=a[f]>>>15-e;i[g]=u,f++}},n.H.l=function(t,e){for(var i=n.H.m.r,r=15-e,s=0;s<t.length;s+=2){var a=t[s]<<e-t[s+1];t[s]=i[a]>>>r}},n.H.M=function(t,e,i){i=i<<(e&7);var r=e>>>3;t[r]|=i,t[r+1]|=i>>>8},n.H.I=function(t,e,i){i=i<<(e&7);var r=e>>>3;t[r]|=i,t[r+1]|=i>>>8,t[r+2]|=i>>>16},n.H.e=function(t,e,i){return(t[e>>>3]|t[(e>>>3)+1]<<8)>>>(e&7)&(1<<i)-1},n.H.b=function(t,e,i){return(t[e>>>3]|t[(e>>>3)+1]<<8|t[(e>>>3)+2]<<16)>>>(e&7)&(1<<i)-1},n.H.Z=function(t,e){return(t[e>>>3]|t[(e>>>3)+1]<<8|t[(e>>>3)+2]<<16)>>>(e&7)},n.H.i=function(t,e){return(t[e>>>3]|t[(e>>>3)+1]<<8|t[(e>>>3)+2]<<16|t[(e>>>3)+3]<<24)>>>(e&7)},n.H.m=function(){var t=Uint16Array,e=Uint32Array;return{K:new t(16),j:new t(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new t(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new e(32),J:new t(512),_:[],h:new t(32),$:[],w:new t(32768),C:[],v:[],d:new t(32768),D:[],u:new t(512),Q:[],r:new t(32768),s:new e(286),Y:new e(30),a:new e(19),t:new e(15e3),k:new t(65536),g:new t(32768)}}(),function(){for(var t=n.H.m,e=32768,i=0;i<e;i++){var r=i;r=(r&2863311530)>>>1|(r&1431655765)<<1,r=(r&3435973836)>>>2|(r&858993459)<<2,r=(r&4042322160)>>>4|(r&252645135)<<4,r=(r&4278255360)>>>8|(r&16711935)<<8,t.r[i]=(r>>>16|r<<16)>>>17}function s(a,o,c){for(;o--!=0;)a.push(0,c)}for(var i=0;i<32;i++)t.q[i]=t.S[i]<<3|t.T[i],t.c[i]=t.p[i]<<4|t.z[i];s(t._,144,8),s(t._,112,9),s(t._,24,7),s(t._,8,8),n.H.n(t._,9),n.H.A(t._,9,t.J),n.H.l(t._,9),s(t.$,32,5),n.H.n(t.$,5),n.H.A(t.$,5,t.h),n.H.l(t.$,5),s(t.Q,19,0),s(t.C,286,0),s(t.D,30,0),s(t.v,320,0)}(),n.H.N}();$.decode._readInterlace=function(n,t){for(var e=t.width,i=t.height,r=$.decode._getBPP(t),s=r>>3,a=Math.ceil(e*r/8),o=new Uint8Array(i*a),c=0,l=[0,0,4,0,2,0,1],u=[0,4,0,2,0,1,0],d=[8,8,8,4,4,2,2],f=[8,8,4,4,2,2,1],p=0;p<7;){for(var g=d[p],m=f[p],y=0,v=0,w=l[p];w<i;)w+=g,v++;for(var x=u[p];x<e;)x+=m,y++;var A=Math.ceil(y*r/8);$.decode._filterZero(n,t,c,y,v);for(var S=0,C=l[p];C<i;){for(var k=u[p],T=c+S*A<<3;k<e;){if(r==1){var R=n[T>>3];R=R>>7-(T&7)&1,o[C*a+(k>>3)]|=R<<7-((k&7)<<0)}if(r==2){var R=n[T>>3];R=R>>6-(T&7)&3,o[C*a+(k>>2)]|=R<<6-((k&3)<<1)}if(r==4){var R=n[T>>3];R=R>>4-(T&7)&15,o[C*a+(k>>1)]|=R<<4-((k&1)<<2)}if(r>=8)for(var F=C*a+k*s,D=0;D<s;D++)o[F+D]=n[(T>>3)+D];T+=r,k+=m}S++,C+=g}y*v!=0&&(c+=v*(1+A)),p=p+1}return o};$.decode._getBPP=function(n){var t=[1,null,3,1,2,null,4][n.ctype];return t*n.depth};$.decode._filterZero=function(n,t,e,i,r){var s=$.decode._getBPP(t),a=Math.ceil(i*s/8),o=$.decode._paeth;s=Math.ceil(s/8);var c=0,l=1,u=n[e],d=0;if(u>1&&(n[e]=[0,0,1][u-2]),u==3)for(d=s;d<a;d++)n[d+1]=n[d+1]+(n[d+1-s]>>>1)&255;for(var f=0;f<r;f++)if(c=e+f*a,l=c+f+1,u=n[l-1],d=0,u==0)for(;d<a;d++)n[c+d]=n[l+d];else if(u==1){for(;d<s;d++)n[c+d]=n[l+d];for(;d<a;d++)n[c+d]=n[l+d]+n[c+d-s]}else if(u==2)for(;d<a;d++)n[c+d]=n[l+d]+n[c+d-a];else if(u==3){for(;d<s;d++)n[c+d]=n[l+d]+(n[c+d-a]>>>1);for(;d<a;d++)n[c+d]=n[l+d]+(n[c+d-a]+n[c+d-s]>>>1)}else{for(;d<s;d++)n[c+d]=n[l+d]+o(0,n[c+d-a],0);for(;d<a;d++)n[c+d]=n[l+d]+o(n[c+d-s],n[c+d-a],n[c+d-s-a])}return n};$.decode._paeth=function(n,t,e){var i=n+t-e,r=i-n,s=i-t,a=i-e;return r*r<=s*s&&r*r<=a*a?n:s*s<=a*a?t:e};$.decode._IHDR=function(n,t,e){var i=$._bin;e.width=i.readUint(n,t),t+=4,e.height=i.readUint(n,t),t+=4,e.depth=n[t],t++,e.ctype=n[t],t++,e.compress=n[t],t++,e.filter=n[t],t++,e.interlace=n[t],t++};$._bin={nextZero:function(n,t){for(;n[t]!=0;)t++;return t},readUshort:function(n,t){return n[t]<<8|n[t+1]},writeUshort:function(n,t,e){n[t]=e>>8&255,n[t+1]=e&255},readUint:function(n,t){return n[t]*(256*256*256)+(n[t+1]<<16|n[t+2]<<8|n[t+3])},writeUint:function(n,t,e){n[t]=e>>24&255,n[t+1]=e>>16&255,n[t+2]=e>>8&255,n[t+3]=e&255},readASCII:function(n,t,e){for(var i="",r=0;r<e;r++)i+=String.fromCharCode(n[t+r]);return i},writeASCII:function(n,t,e){for(var i=0;i<e.length;i++)n[t+i]=e.charCodeAt(i)},readBytes:function(n,t,e){for(var i=[],r=0;r<e;r++)i.push(n[t+r]);return i},pad:function(n){return n.length<2?"0"+n:n},readUTF8:function(n,t,e){for(var i="",r,s=0;s<e;s++)i+="%"+$._bin.pad(n[t+s].toString(16));try{r=decodeURIComponent(i)}catch{return $._bin.readASCII(n,t,e)}return r}};$._copyTile=function(n,t,e,i,r,s,a,o,c){for(var l=Math.min(t,r),u=Math.min(e,s),d=0,f=0,p=0;p<u;p++)for(var g=0;g<l;g++)if(a>=0&&o>=0?(d=p*t+g<<2,f=(o+p)*r+a+g<<2):(d=(-o+p)*t-a+g<<2,f=p*r+g<<2),c==0)i[f]=n[d],i[f+1]=n[d+1],i[f+2]=n[d+2],i[f+3]=n[d+3];else if(c==1){var m=n[d+3]*.00392156862745098,y=n[d]*m,v=n[d+1]*m,w=n[d+2]*m,x=i[f+3]*(1/255),A=i[f]*x,S=i[f+1]*x,C=i[f+2]*x,k=1-m,T=m+x*k,R=T==0?0:1/T;i[f+3]=255*T,i[f+0]=(y+A*k)*R,i[f+1]=(v+S*k)*R,i[f+2]=(w+C*k)*R}else if(c==2){var m=n[d+3],y=n[d],v=n[d+1],w=n[d+2],x=i[f+3],A=i[f],S=i[f+1],C=i[f+2];m==x&&y==A&&v==S&&w==C?(i[f]=0,i[f+1]=0,i[f+2]=0,i[f+3]=0):(i[f]=y,i[f+1]=v,i[f+2]=w,i[f+3]=m)}else if(c==3){var m=n[d+3],y=n[d],v=n[d+1],w=n[d+2],x=i[f+3],A=i[f],S=i[f+1],C=i[f+2];if(m==x&&y==A&&v==S&&w==C)continue;if(m<220&&x>20)return!1}return!0};$.encode=function(n,t,e,i,r,s,a){i==null&&(i=0),a==null&&(a=!1);var o=$.encode.compress(n,t,e,i,[!1,!1,!1,0,a]);return $.encode.compressPNG(o,-1),$.encode._main(o,t,e,r,s)};$.encodeLL=function(n,t,e,i,r,s,a,o){for(var c={ctype:0+(i==1?0:2)+(r==0?0:4),depth:s,frames:[]},l=(i+r)*s,u=l*t,d=0;d<n.length;d++)c.frames.push({rect:{x:0,y:0,width:t,height:e},img:new Uint8Array(n[d]),blend:0,dispose:1,bpp:Math.ceil(l/8),bpl:Math.ceil(u/8)});$.encode.compressPNG(c,0,!0);var f=$.encode._main(c,t,e,a,o);return f};$.encode._main=function(n,t,e,i,r){r==null&&(r={});var s=$.crc.crc,a=$._bin.writeUint,o=$._bin.writeUshort,c=$._bin.writeASCII,l=8,u=n.frames.length>1,d=!1,f=33+(u?20:0);if(r.sRGB!=null&&(f+=13),r.pHYs!=null&&(f+=21),n.ctype==3){for(var p=n.plte.length,g=0;g<p;g++)n.plte[g]>>>24!=255&&(d=!0);f+=8+p*3+4+(d?8+p*1+4:0)}for(var m=0;m<n.frames.length;m++){var y=n.frames[m];u&&(f+=38),f+=y.cimg.length+12,m!=0&&(f+=4)}f+=12;for(var v=new Uint8Array(f),w=[137,80,78,71,13,10,26,10],g=0;g<8;g++)v[g]=w[g];if(a(v,l,13),l+=4,c(v,l,"IHDR"),l+=4,a(v,l,t),l+=4,a(v,l,e),l+=4,v[l]=n.depth,l++,v[l]=n.ctype,l++,v[l]=0,l++,v[l]=0,l++,v[l]=0,l++,a(v,l,s(v,l-17,17)),l+=4,r.sRGB!=null&&(a(v,l,1),l+=4,c(v,l,"sRGB"),l+=4,v[l]=r.sRGB,l++,a(v,l,s(v,l-5,5)),l+=4),r.pHYs!=null&&(a(v,l,9),l+=4,c(v,l,"pHYs"),l+=4,a(v,l,r.pHYs[0]),l+=4,a(v,l,r.pHYs[1]),l+=4,v[l]=r.pHYs[2],l++,a(v,l,s(v,l-13,13)),l+=4),u&&(a(v,l,8),l+=4,c(v,l,"acTL"),l+=4,a(v,l,n.frames.length),l+=4,a(v,l,r.loop!=null?r.loop:0),l+=4,a(v,l,s(v,l-12,12)),l+=4),n.ctype==3){var p=n.plte.length;a(v,l,p*3),l+=4,c(v,l,"PLTE"),l+=4;for(var g=0;g<p;g++){var x=g*3,A=n.plte[g],S=A&255,C=A>>>8&255,k=A>>>16&255;v[l+x+0]=S,v[l+x+1]=C,v[l+x+2]=k}if(l+=p*3,a(v,l,s(v,l-p*3-4,p*3+4)),l+=4,d){a(v,l,p),l+=4,c(v,l,"tRNS"),l+=4;for(var g=0;g<p;g++)v[l+g]=n.plte[g]>>>24&255;l+=p,a(v,l,s(v,l-p-4,p+4)),l+=4}}for(var T=0,m=0;m<n.frames.length;m++){var y=n.frames[m];u&&(a(v,l,26),l+=4,c(v,l,"fcTL"),l+=4,a(v,l,T++),l+=4,a(v,l,y.rect.width),l+=4,a(v,l,y.rect.height),l+=4,a(v,l,y.rect.x),l+=4,a(v,l,y.rect.y),l+=4,o(v,l,i[m]),l+=2,o(v,l,1e3),l+=2,v[l]=y.dispose,l++,v[l]=y.blend,l++,a(v,l,s(v,l-30,30)),l+=4);var R=y.cimg,p=R.length;a(v,l,p+(m==0?0:4)),l+=4;var F=l;c(v,l,m==0?"IDAT":"fdAT"),l+=4,m!=0&&(a(v,l,T++),l+=4),v.set(R,l),l+=p,a(v,l,s(v,F,l-F)),l+=4}return a(v,l,0),l+=4,c(v,l,"IEND"),l+=4,a(v,l,s(v,l-4,4)),l+=4,v.buffer};$.encode.compressPNG=function(n,t,e){for(var i=0;i<n.frames.length;i++){var r=n.frames[i];r.rect.width;var s=r.rect.height,a=new Uint8Array(s*r.bpl+s);r.cimg=$.encode._filterZero(r.img,s,r.bpp,r.bpl,a,t,e)}};$.encode.compress=function(n,t,e,i,r){for(var s=r[0],a=r[1],o=r[2],c=r[3],l=r[4],u=6,d=8,f=255,p=0;p<n.length;p++)for(var g=new Uint8Array(n[p]),m=g.length,y=0;y<m;y+=4)f&=g[y+3];var v=f!=255,w=$.encode.framize(n,t,e,s,a,o),x={},A=[],S=[];if(i!=0){for(var C=[],y=0;y<w.length;y++)C.push(w[y].img.buffer);for(var k=$.encode.concatRGBA(C),T=$.quantize(k,i),R=0,F=new Uint8Array(T.abuf),y=0;y<w.length;y++){var D=w[y].img,U=D.length;S.push(new Uint8Array(T.inds.buffer,R>>2,U>>2));for(var p=0;p<U;p+=4)D[p]=F[R+p],D[p+1]=F[R+p+1],D[p+2]=F[R+p+2],D[p+3]=F[R+p+3];R+=U}for(var y=0;y<T.plte.length;y++)A.push(T.plte[y].est.rgba)}else for(var p=0;p<w.length;p++){var j=w[p],V=new Uint32Array(j.img.buffer),Y=j.rect.width,m=V.length,z=new Uint8Array(m);S.push(z);for(var y=0;y<m;y++){var B=V[y];if(y!=0&&B==V[y-1])z[y]=z[y-1];else if(y>Y&&B==V[y-Y])z[y]=z[y-Y];else{var G=x[B];if(G==null&&(x[B]=G=A.length,A.push(B),A.length>=300))break;z[y]=G}}}var H=A.length;H<=256&&l==!1&&(H<=2?d=1:H<=4?d=2:H<=16?d=4:d=8,d=Math.max(d,c));for(var p=0;p<w.length;p++){var j=w[p];j.rect.x,j.rect.y;var Y=j.rect.width,M=j.rect.height,N=j.img;new Uint32Array(N.buffer);var W=4*Y,q=4;if(H<=256&&l==!1){W=Math.ceil(d*Y/8);for(var Q=new Uint8Array(W*M),et=S[p],J=0;J<M;J++){var y=J*W,Z=J*Y;if(d==8)for(var tt=0;tt<Y;tt++)Q[y+tt]=et[Z+tt];else if(d==4)for(var tt=0;tt<Y;tt++)Q[y+(tt>>1)]|=et[Z+tt]<<4-(tt&1)*4;else if(d==2)for(var tt=0;tt<Y;tt++)Q[y+(tt>>2)]|=et[Z+tt]<<6-(tt&3)*2;else if(d==1)for(var tt=0;tt<Y;tt++)Q[y+(tt>>3)]|=et[Z+tt]<<7-(tt&7)*1}N=Q,u=3,q=1}else if(v==!1&&w.length==1){for(var Q=new Uint8Array(Y*M*3),wt=Y*M,y=0;y<wt;y++){var D=y*3,st=y*4;Q[D]=N[st],Q[D+1]=N[st+1],Q[D+2]=N[st+2]}N=Q,u=2,q=3,W=3*Y}j.img=N,j.bpl=W,j.bpp=q}return{ctype:u,depth:d,plte:A,frames:w}};$.encode.framize=function(n,t,e,i,r,s){for(var a=[],o=0;o<n.length;o++){var c=new Uint8Array(n[o]),l=new Uint32Array(c.buffer),u,d=0,f=0,p=t,g=e,m=i?1:0;if(o!=0){for(var y=s||i||o==1||a[o-2].dispose!=0?1:2,v=0,w=1e9,x=0;x<y;x++){for(var j=new Uint8Array(n[o-1-x]),A=new Uint32Array(n[o-1-x]),S=t,C=e,k=-1,T=-1,R=0;R<e;R++)for(var F=0;F<t;F++){var D=R*t+F;l[D]!=A[D]&&(F<S&&(S=F),F>k&&(k=F),R<C&&(C=R),R>T&&(T=R))}k==-1&&(S=C=k=T=0),r&&((S&1)==1&&S--,(C&1)==1&&C--);var U=(k-S+1)*(T-C+1);U<w&&(w=U,v=x,d=S,f=C,p=k-S+1,g=T-C+1)}var j=new Uint8Array(n[o-1-v]);v==1&&(a[o-1].dispose=2),u=new Uint8Array(p*g*4),$._copyTile(j,t,e,u,p,g,-d,-f,0),m=$._copyTile(c,t,e,u,p,g,-d,-f,3)?1:0,m==1?$.encode._prepareDiff(c,t,e,u,{x:d,y:f,width:p,height:g}):$._copyTile(c,t,e,u,p,g,-d,-f,0)}else u=c.slice(0);a.push({rect:{x:d,y:f,width:p,height:g},img:u,blend:m,dispose:0})}if(i)for(var o=0;o<a.length;o++){var V=a[o];if(V.blend!=1){var Y=V.rect,z=a[o-1].rect,B=Math.min(Y.x,z.x),G=Math.min(Y.y,z.y),H=Math.max(Y.x+Y.width,z.x+z.width),M=Math.max(Y.y+Y.height,z.y+z.height),N={x:B,y:G,width:H-B,height:M-G};a[o-1].dispose=1,o-1!=0&&$.encode._updateFrame(n,t,e,a,o-1,N,r),$.encode._updateFrame(n,t,e,a,o,N,r)}}var W=0;if(n.length!=1)for(var D=0;D<a.length;D++){var V=a[D];W+=V.rect.width*V.rect.height}return a};$.encode._updateFrame=function(n,t,e,i,r,s,a){for(var o=Uint8Array,c=Uint32Array,l=new o(n[r-1]),u=new c(n[r-1]),d=r+1<n.length?new o(n[r+1]):null,f=new o(n[r]),p=new c(f.buffer),g=t,m=e,y=-1,v=-1,w=0;w<s.height;w++)for(var x=0;x<s.width;x++){var A=s.x+x,S=s.y+w,C=S*t+A,k=p[C];k==0||i[r-1].dispose==0&&u[C]==k&&(d==null||d[C*4+3]!=0)||(A<g&&(g=A),A>y&&(y=A),S<m&&(m=S),S>v&&(v=S))}y==-1&&(g=m=y=v=0),a&&((g&1)==1&&g--,(m&1)==1&&m--),s={x:g,y:m,width:y-g+1,height:v-m+1};var T=i[r];T.rect=s,T.blend=1,T.img=new Uint8Array(s.width*s.height*4),i[r-1].dispose==0?($._copyTile(l,t,e,T.img,s.width,s.height,-s.x,-s.y,0),$.encode._prepareDiff(f,t,e,T.img,s)):$._copyTile(f,t,e,T.img,s.width,s.height,-s.x,-s.y,0)};$.encode._prepareDiff=function(n,t,e,i,r){$._copyTile(n,t,e,i,r.width,r.height,-r.x,-r.y,2)};$.encode._filterZero=function(n,t,e,i,r,s,a){var o=[],c=[0,1,2,3,4];s!=-1?c=[s]:(t*i>5e5||e==1)&&(c=[0]);var l;a&&(l={level:0});for(var u=a&&UZIP!=null?UZIP:hht,d=0;d<c.length;d++){for(var f=0;f<t;f++)$.encode._filterLine(r,n,f,i,e,c[d]);o.push(u.deflate(r,l))}for(var p,g=1e9,d=0;d<o.length;d++)o[d].length<g&&(p=d,g=o[d].length);return o[p]};$.encode._filterLine=function(n,t,e,i,r,s){var a=e*i,o=a+e,c=$.decode._paeth;if(n[o]=s,o++,s==0)if(i<500)for(var l=0;l<i;l++)n[o+l]=t[a+l];else n.set(new Uint8Array(t.buffer,a,i),o);else if(s==1){for(var l=0;l<r;l++)n[o+l]=t[a+l];for(var l=r;l<i;l++)n[o+l]=t[a+l]-t[a+l-r]+256&255}else if(e==0){for(var l=0;l<r;l++)n[o+l]=t[a+l];if(s==2)for(var l=r;l<i;l++)n[o+l]=t[a+l];if(s==3)for(var l=r;l<i;l++)n[o+l]=t[a+l]-(t[a+l-r]>>1)+256&255;if(s==4)for(var l=r;l<i;l++)n[o+l]=t[a+l]-c(t[a+l-r],0,0)+256&255}else{if(s==2)for(var l=0;l<i;l++)n[o+l]=t[a+l]+256-t[a+l-i]&255;if(s==3){for(var l=0;l<r;l++)n[o+l]=t[a+l]+256-(t[a+l-i]>>1)&255;for(var l=r;l<i;l++)n[o+l]=t[a+l]+256-(t[a+l-i]+t[a+l-r]>>1)&255}if(s==4){for(var l=0;l<r;l++)n[o+l]=t[a+l]+256-c(0,t[a+l-i],0)&255;for(var l=r;l<i;l++)n[o+l]=t[a+l]+256-c(t[a+l-r],t[a+l-i],t[a+l-r-i])&255}}};$.crc={table:function(){for(var n=new Uint32Array(256),t=0;t<256;t++){for(var e=t,i=0;i<8;i++)e&1?e=3988292384^e>>>1:e=e>>>1;n[t]=e}return n}(),update:function(n,t,e,i){for(var r=0;r<i;r++)n=$.crc.table[(n^t[e+r])&255]^n>>>8;return n},crc:function(n,t,e){return $.crc.update(4294967295,n,t,e)^4294967295}};$.quantize=function(n,t){var e=new Uint8Array(n),i=e.slice(0),r=new Uint32Array(i.buffer),s=$.quantize.getKDtree(i,t),a=s[0],o=s[1];$.quantize.planeDst;for(var c=e,l=r,u=c.length,d=new Uint8Array(e.length>>2),f=0;f<u;f+=4){var p=c[f]*.00392156862745098,g=c[f+1]*(1/255),m=c[f+2]*(1/255),y=c[f+3]*(1/255),v=$.quantize.getNearest(a,p,g,m,y);d[f>>2]=v.ind,l[f>>2]=v.est.rgba}return{abuf:i.buffer,inds:d,plte:o}};$.quantize.getKDtree=function(n,t,e){e==null&&(e=1e-4);var i=new Uint32Array(n.buffer),r={i0:0,i1:n.length,bst:null,est:null,tdst:0,left:null,right:null};r.bst=$.quantize.stats(n,r.i0,r.i1),r.est=$.quantize.estats(r.bst);for(var s=[r];s.length<t;){for(var a=0,o=0,c=0;c<s.length;c++)s[c].est.L>a&&(a=s[c].est.L,o=c);if(a<e)break;var l=s[o],u=$.quantize.splitPixels(n,i,l.i0,l.i1,l.est.e,l.est.eMq255),d=l.i0>=u||l.i1<=u;if(d){l.est.L=0;continue}var f={i0:l.i0,i1:u,bst:null,est:null,tdst:0,left:null,right:null};f.bst=$.quantize.stats(n,f.i0,f.i1),f.est=$.quantize.estats(f.bst);var p={i0:u,i1:l.i1,bst:null,est:null,tdst:0,left:null,right:null};p.bst={R:[],m:[],N:l.bst.N-f.bst.N};for(var c=0;c<16;c++)p.bst.R[c]=l.bst.R[c]-f.bst.R[c];for(var c=0;c<4;c++)p.bst.m[c]=l.bst.m[c]-f.bst.m[c];p.est=$.quantize.estats(p.bst),l.left=f,l.right=p,s[o]=f,s.push(p)}s.sort(function(g,m){return m.bst.N-g.bst.N});for(var c=0;c<s.length;c++)s[c].ind=c;return[r,s]};$.quantize.getNearest=function(n,t,e,i,r){if(n.left==null)return n.tdst=$.quantize.dist(n.est.q,t,e,i,r),n;var s=$.quantize.planeDst(n.est,t,e,i,r),a=n.left,o=n.right;s>0&&(a=n.right,o=n.left);var c=$.quantize.getNearest(a,t,e,i,r);if(c.tdst<=s*s)return c;var l=$.quantize.getNearest(o,t,e,i,r);return l.tdst<c.tdst?l:c};$.quantize.planeDst=function(n,t,e,i,r){var s=n.e;return s[0]*t+s[1]*e+s[2]*i+s[3]*r-n.eMq};$.quantize.dist=function(n,t,e,i,r){var s=t-n[0],a=e-n[1],o=i-n[2],c=r-n[3];return s*s+a*a+o*o+c*c};$.quantize.splitPixels=function(n,t,e,i,r,s){var a=$.quantize.vecDot;for(i-=4;e<i;){for(;a(n,e,r)<=s;)e+=4;for(;a(n,i,r)>s;)i-=4;if(e>=i)break;var o=t[e>>2];t[e>>2]=t[i>>2],t[i>>2]=o,e+=4,i-=4}for(;a(n,e,r)>s;)e-=4;return e+4};$.quantize.vecDot=function(n,t,e){return n[t]*e[0]+n[t+1]*e[1]+n[t+2]*e[2]+n[t+3]*e[3]};$.quantize.stats=function(n,t,e){for(var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=[0,0,0,0],s=e-t>>2,a=t;a<e;a+=4){var o=n[a]*.00392156862745098,c=n[a+1]*(1/255),l=n[a+2]*(1/255),u=n[a+3]*(1/255);r[0]+=o,r[1]+=c,r[2]+=l,r[3]+=u,i[0]+=o*o,i[1]+=o*c,i[2]+=o*l,i[3]+=o*u,i[5]+=c*c,i[6]+=c*l,i[7]+=c*u,i[10]+=l*l,i[11]+=l*u,i[15]+=u*u}return i[4]=i[1],i[8]=i[2],i[9]=i[6],i[12]=i[3],i[13]=i[7],i[14]=i[11],{R:i,m:r,N:s}};$.quantize.estats=function(n){var t=n.R,e=n.m,i=n.N,r=e[0],s=e[1],a=e[2],o=e[3],c=i==0?0:1/i,l=[t[0]-r*r*c,t[1]-r*s*c,t[2]-r*a*c,t[3]-r*o*c,t[4]-s*r*c,t[5]-s*s*c,t[6]-s*a*c,t[7]-s*o*c,t[8]-a*r*c,t[9]-a*s*c,t[10]-a*a*c,t[11]-a*o*c,t[12]-o*r*c,t[13]-o*s*c,t[14]-o*a*c,t[15]-o*o*c],u=l,d=$.M4,f=[.5,.5,.5,.5],p=0,g=0;if(i!=0)for(var m=0;m<10&&(f=d.multVec(u,f),g=Math.sqrt(d.dot(f,f)),f=d.sml(1/g,f),!(Math.abs(g-p)<1e-9));m++)p=g;var y=[r*c,s*c,a*c,o*c],v=d.dot(d.sml(255,y),f);return{Cov:l,q:y,e:f,L:p,eMq255:v,eMq:d.dot(f,y),rgba:(Math.round(255*y[3])<<24|Math.round(255*y[2])<<16|Math.round(255*y[1])<<8|Math.round(255*y[0])<<0)>>>0}};$.M4={multVec:function(n,t){return[n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3],n[4]*t[0]+n[5]*t[1]+n[6]*t[2]+n[7]*t[3],n[8]*t[0]+n[9]*t[1]+n[10]*t[2]+n[11]*t[3],n[12]*t[0]+n[13]*t[1]+n[14]*t[2]+n[15]*t[3]]},dot:function(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]},sml:function(n,t){return[n*t[0],n*t[1],n*t[2],n*t[3]]}};$.encode.concatRGBA=function(n){for(var t=0,e=0;e<n.length;e++)t+=n[e].byteLength;for(var i=new Uint8Array(t),r=0,e=0;e<n.length;e++){for(var s=new Uint8Array(n[e]),a=s.length,o=0;o<a;o+=4){var c=s[o],l=s[o+1],u=s[o+2],d=s[o+3];d==0&&(c=l=u=0),i[r+o]=c,i[r+o+1]=l,i[r+o+2]=u,i[r+o+3]=d}r+=a}return i.buffer};var uht=function(n){if(n===0)return Sg.Greyscale;if(n===2)return Sg.Truecolour;if(n===3)return Sg.IndexedColour;if(n===4)return Sg.GreyscaleWithAlpha;if(n===6)return Sg.TruecolourWithAlpha;throw new Error("Unknown color type: "+n)},dht=function(n){for(var t=Math.floor(n.length/4),e=new Uint8Array(t*3),i=new Uint8Array(t*1),r=0,s=0,a=0;r<n.length;)e[s++]=n[r++],e[s++]=n[r++],e[s++]=n[r++],i[a++]=n[r++];return{rgbChannel:e,alphaChannel:i}},Sg;(function(n){n.Greyscale="Greyscale",n.Truecolour="Truecolour",n.IndexedColour="IndexedColour",n.GreyscaleWithAlpha="GreyscaleWithAlpha",n.TruecolourWithAlpha="TruecolourWithAlpha"})(Sg||(Sg={}));var fht=function(){function n(t){var e=$.decode(t),i=$.toRGBA8(e);if(i.length>1)throw new Error("Animated PNGs are not supported");var r=new Uint8Array(i[0]),s=dht(r),a=s.rgbChannel,o=s.alphaChannel;this.rgbChannel=a;var c=o.some(function(l){return l<255});c&&(this.alphaChannel=o),this.type=uht(e.ctype),this.width=e.width,this.height=e.height,this.bitsPerComponent=8}return n.load=function(t){return new n(t)},n}(),BX=function(){function n(t){this.image=t,this.bitsPerComponent=t.bitsPerComponent,this.width=t.width,this.height=t.height,this.colorSpace="DeviceRGB"}return n.for=function(t){return Ut(this,void 0,void 0,function(){var e;return Ht(this,function(i){return e=fht.load(t),[2,new n(e)]})})},n.prototype.embedIntoContext=function(t,e){return Ut(this,void 0,void 0,function(){var i,r;return Ht(this,function(s){return i=this.embedAlphaChannel(t),r=t.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:i}),e?(t.assign(e,r),[2,e]):[2,t.register(r)]})})},n.prototype.embedAlphaChannel=function(t){if(this.image.alphaChannel){var e=t.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return t.register(e)}},n}(),zX=function(){function n(t,e,i){this.bytes=t,this.start=e||0,this.pos=this.start,this.end=e&&i?e+i:this.bytes.length}return Object.defineProperty(n.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),n.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},n.prototype.getUint16=function(){var t=this.getByte(),e=this.getByte();return t===-1||e===-1?-1:(t<<8)+e},n.prototype.getInt32=function(){var t=this.getByte(),e=this.getByte(),i=this.getByte(),r=this.getByte();return(t<<24)+(e<<16)+(i<<8)+r},n.prototype.getBytes=function(t,e){e===void 0&&(e=!1);var i=this.bytes,r=this.pos,s=this.end;if(t){var o=r+t;o>s&&(o=s),this.pos=o;var a=i.subarray(r,o);return e?new Uint8ClampedArray(a):a}else{var a=i.subarray(r,s);return e?new Uint8ClampedArray(a):a}},n.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},n.prototype.peekBytes=function(t,e){e===void 0&&(e=!1);var i=this.getBytes(t,e);return this.pos-=i.length,i},n.prototype.skip=function(t){t||(t=1),this.pos+=t},n.prototype.reset=function(){this.pos=this.start},n.prototype.moveStart=function(){this.start=this.pos},n.prototype.makeSubStream=function(t,e){return new n(this.bytes,t,e)},n.prototype.decode=function(){return this.bytes},n}(),pht=new Uint8Array(0),Qk=function(){function n(t){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=pht,this.minBufferLength=512,t)for(;this.minBufferLength<t;)this.minBufferLength*=2}return Object.defineProperty(n.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),n.prototype.getByte=function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},n.prototype.getUint16=function(){var t=this.getByte(),e=this.getByte();return t===-1||e===-1?-1:(t<<8)+e},n.prototype.getInt32=function(){var t=this.getByte(),e=this.getByte(),i=this.getByte(),r=this.getByte();return(t<<24)+(e<<16)+(i<<8)+r},n.prototype.getBytes=function(t,e){e===void 0&&(e=!1);var i,r=this.pos;if(t){for(this.ensureBuffer(r+t),i=r+t;!this.eof&&this.bufferLength<i;)this.readBlock();var s=this.bufferLength;i>s&&(i=s)}else{for(;!this.eof;)this.readBlock();i=this.bufferLength}this.pos=i;var a=this.buffer.subarray(r,i);return e&&!(a instanceof Uint8ClampedArray)?new Uint8ClampedArray(a):a},n.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},n.prototype.peekBytes=function(t,e){e===void 0&&(e=!1);var i=this.getBytes(t,e);return this.pos-=i.length,i},n.prototype.skip=function(t){t||(t=1),this.pos+=t},n.prototype.reset=function(){this.pos=0},n.prototype.makeSubStream=function(t,e){for(var i=t+e;this.bufferLength<=i&&!this.eof;)this.readBlock();return new zX(this.buffer,t,e)},n.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},n.prototype.readBlock=function(){throw new xo(this.constructor.name,"readBlock")},n.prototype.ensureBuffer=function(t){var e=this.buffer;if(t<=e.byteLength)return e;for(var i=this.minBufferLength;i<t;)i*=2;var r=new Uint8Array(i);return r.set(e),this.buffer=r},n}(),hU=function(n){return n===32||n===9||n===13||n===10},ght=function(n){rt(t,n);function t(e,i){var r=n.call(this,i)||this;return r.stream=e,r.input=new Uint8Array(5),i&&(i=.8*i),r}return t.prototype.readBlock=function(){for(var e=126,i=122,r=-1,s=this.stream,a=s.getByte();hU(a);)a=s.getByte();if(a===r||a===e){this.eof=!0;return}var o=this.bufferLength,c,l;if(a===i){for(c=this.ensureBuffer(o+4),l=0;l<4;++l)c[o+l]=0;this.bufferLength+=4}else{var u=this.input;for(u[0]=a,l=1;l<5;++l){for(a=s.getByte();hU(a);)a=s.getByte();if(u[l]=a,a===r||a===e)break}if(c=this.ensureBuffer(o+l-1),this.bufferLength+=l-1,l<5){for(;l<5;++l)u[l]=117;this.eof=!0}var d=0;for(l=0;l<5;++l)d=d*85+(u[l]-33);for(l=3;l>=0;--l)c[o+l]=d&255,d>>=8}},t}(Qk),mht=function(n){rt(t,n);function t(e,i){var r=n.call(this,i)||this;return r.stream=e,r.firstDigit=-1,i&&(i=.5*i),r}return t.prototype.readBlock=function(){var e=8e3,i=this.stream.getBytes(e);if(!i.length){this.eof=!0;return}for(var r=i.length+1>>1,s=this.ensureBuffer(this.bufferLength+r),a=this.bufferLength,o=this.firstDigit,c=0,l=i.length;c<l;c++){var u=i[c],d=void 0;if(u>=48&&u<=57)d=u&15;else if(u>=65&&u<=70||u>=97&&u<=102)d=(u&15)+9;else if(u===62){this.eof=!0;break}else continue;o<0?o=d:(s[a++]=o<<4|d,o=-1)}o>=0&&this.eof&&(s[a++]=o<<4,o=-1),this.firstDigit=o,this.bufferLength=a},t}(Qk),uU=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vht=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),yht=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),bht=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],wht=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],xht=function(n){rt(t,n);function t(e,i){var r=n.call(this,i)||this;r.stream=e;var s=e.getByte(),a=e.getByte();if(s===-1||a===-1)throw new Error("Invalid header in flate stream: "+s+", "+a);if((s&15)!==8)throw new Error("Unknown compression method in flate stream: "+s+", "+a);if(((s<<8)+a)%31!==0)throw new Error("Bad FCHECK in flate stream: "+s+", "+a);if(a&32)throw new Error("FDICT bit set in flate stream: "+s+", "+a);return r.codeSize=0,r.codeBuf=0,r}return t.prototype.readBlock=function(){var e,i,r=this.stream,s=this.getBits(3);if(s&1&&(this.eof=!0),s>>=1,s===0){var a=void 0;if((a=r.getByte())===-1)throw new Error("Bad block header in flate stream");var o=a;if((a=r.getByte())===-1)throw new Error("Bad block header in flate stream");if(o|=a<<8,(a=r.getByte())===-1)throw new Error("Bad block header in flate stream");var c=a;if((a=r.getByte())===-1)throw new Error("Bad block header in flate stream");if(c|=a<<8,c!==(~o&65535)&&(o!==0||c!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var l=this.bufferLength;e=this.ensureBuffer(l+o);var u=l+o;if(this.bufferLength=u,o===0)r.peekByte()===-1&&(this.eof=!0);else for(var d=l;d<u;++d){if((a=r.getByte())===-1){this.eof=!0;break}e[d]=a}return}var f,p;if(s===1)f=bht,p=wht;else if(s===2){var g=this.getBits(5)+257,m=this.getBits(5)+1,y=this.getBits(4)+4,v=new Uint8Array(uU.length),w=void 0;for(w=0;w<y;++w)v[uU[w]]=this.getBits(3);var x=this.generateHuffmanTable(v);i=0,w=0;for(var A=g+m,S=new Uint8Array(A),C=void 0,k=void 0,T=void 0;w<A;){var R=this.getCode(x);if(R===16)C=2,k=3,T=i;else if(R===17)C=3,k=3,T=i=0;else if(R===18)C=7,k=11,T=i=0;else{S[w++]=i=R;continue}for(var F=this.getBits(C)+k;F-- >0;)S[w++]=T}f=this.generateHuffmanTable(S.subarray(0,g)),p=this.generateHuffmanTable(S.subarray(g,A))}else throw new Error("Unknown block type in flate stream");e=this.buffer;for(var D=e?e.length:0,U=this.bufferLength;;){var j=this.getCode(f);if(j<256){U+1>=D&&(e=this.ensureBuffer(U+1),D=e.length),e[U++]=j;continue}if(j===256){this.bufferLength=U;return}j-=257,j=vht[j];var V=j>>16;V>0&&(V=this.getBits(V)),i=(j&65535)+V,j=this.getCode(p),j=yht[j],V=j>>16,V>0&&(V=this.getBits(V));var Y=(j&65535)+V;U+i>=D&&(e=this.ensureBuffer(U+i),D=e.length);for(var z=0;z<i;++z,++U)e[U]=e[U-Y]}},t.prototype.getBits=function(e){for(var i=this.stream,r=this.codeSize,s=this.codeBuf,a;r<e;){if((a=i.getByte())===-1)throw new Error("Bad encoding in flate stream");s|=a<<r,r+=8}return a=s&(1<<e)-1,this.codeBuf=s>>e,this.codeSize=r-=e,a},t.prototype.getCode=function(e){for(var i=this.stream,r=e[0],s=e[1],a=this.codeSize,o=this.codeBuf,c;a<s&&(c=i.getByte())!==-1;)o|=c<<a,a+=8;var l=r[o&(1<<s)-1];typeof r=="number"&&console.log("FLATE:",l);var u=l>>16,d=l&65535;if(u<1||a<u)throw new Error("Bad encoding in flate stream");return this.codeBuf=o>>u,this.codeSize=a-u,d},t.prototype.generateHuffmanTable=function(e){var i=e.length,r=0,s;for(s=0;s<i;++s)e[s]>r&&(r=e[s]);for(var a=1<<r,o=new Int32Array(a),c=1,l=0,u=2;c<=r;++c,l<<=1,u<<=1)for(var d=0;d<i;++d)if(e[d]===c){var f=0,p=l;for(s=0;s<c;++s)f=f<<1|p&1,p>>=1;for(s=f;s<a;s+=u)o[s]=c<<16|d;++l}return[o,r]},t}(Qk),Sht=function(n){rt(t,n);function t(e,i,r){var s=n.call(this,i)||this;s.stream=e,s.cachedData=0,s.bitsCached=0;for(var a=4096,o={earlyChange:r,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(a),dictionaryLengths:new Uint16Array(a),dictionaryPrevCodes:new Uint16Array(a),currentSequence:new Uint8Array(a),currentSequenceLength:0},c=0;c<256;++c)o.dictionaryValues[c]=c,o.dictionaryLengths[c]=1;return s.lzwState=o,s}return t.prototype.readBlock=function(){var e=512,i=e*2,r=e,s,a,o,c=this.lzwState;if(c){var l=c.earlyChange,u=c.nextCode,d=c.dictionaryValues,f=c.dictionaryLengths,p=c.dictionaryPrevCodes,g=c.codeLength,m=c.prevCode,y=c.currentSequence,v=c.currentSequenceLength,w=0,x=this.bufferLength,A=this.ensureBuffer(this.bufferLength+i);for(s=0;s<e;s++){var S=this.readBits(g),C=v>0;if(!S||S<256)y[0]=S,v=1;else if(S>=258)if(S<u)for(v=f[S],a=v-1,o=S;a>=0;a--)y[a]=d[o],o=p[o];else y[v++]=y[0];else if(S===256){g=9,u=258,v=0;continue}else{this.eof=!0,delete this.lzwState;break}if(C&&(p[u]=m,f[u]=f[m]+1,d[u]=y[0],u++,g=u+l&u+l-1?g:Math.min(Math.log(u+l)/.6931471805599453+1,12)|0),m=S,w+=v,i<w){do i+=r;while(i<w);A=this.ensureBuffer(this.bufferLength+i)}for(a=0;a<v;a++)A[x++]=y[a]}c.nextCode=u,c.codeLength=g,c.prevCode=m,c.currentSequenceLength=v,this.bufferLength=x}},t.prototype.readBits=function(e){for(var i=this.bitsCached,r=this.cachedData;i<e;){var s=this.stream.getByte();if(s===-1)return this.eof=!0,null;r=r<<8|s,i+=8}return this.bitsCached=i-=e,this.cachedData=r,r>>>i&(1<<e)-1},t}(Qk),Aht=function(n){rt(t,n);function t(e,i){var r=n.call(this,i)||this;return r.stream=e,r}return t.prototype.readBlock=function(){var e=this.stream.getBytes(2);if(!e||e.length<2||e[0]===128){this.eof=!0;return}var i,r=this.bufferLength,s=e[0];if(s<128){if(i=this.ensureBuffer(r+s+1),i[r++]=e[1],s>0){var a=this.stream.getBytes(s);i.set(a,r),r+=s}}else{s=257-s;var o=e[1];i=this.ensureBuffer(r+s+1);for(var c=0;c<s;c++)i[r++]=o}this.bufferLength=r},t}(Qk),dU=function(n,t,e){if(t===L.of("FlateDecode"))return new xht(n);if(t===L.of("LZWDecode")){var i=1;if(e instanceof Ot){var r=e.lookup(L.of("EarlyChange"));r instanceof Rt&&(i=r.asNumber())}return new Sht(n,void 0,i)}if(t===L.of("ASCII85Decode"))return new ght(n);if(t===L.of("ASCIIHexDecode"))return new mht(n);if(t===L.of("RunLengthDecode"))return new Aht(n);throw new qst(t.asString())},jX=function(n){var t=n.dict,e=n.contents,i=new zX(e),r=t.lookup(L.of("Filter")),s=t.lookup(L.of("DecodeParms"));if(r instanceof L)i=dU(i,r,s);else if(r instanceof pe)for(var a=0,o=r.size();a<o;a++)i=dU(i,r.lookup(a,L),s&&s.lookupMaybe(a,Ot));else if(r)throw new qR([L,pe],r);return i},Eht=function(n){var t=n.MediaBox(),e=t.lookup(2,Rt).asNumber()-t.lookup(0,Rt).asNumber(),i=t.lookup(3,Rt).asNumber()-t.lookup(1,Rt).asNumber();return{left:0,bottom:0,right:e,top:i}},_ht=function(n){return[1,0,0,1,-n.left,-n.bottom]},UX=function(){function n(t,e,i){this.page=t;var r=e??Eht(t);this.width=r.right-r.left,this.height=r.top-r.bottom,this.boundingBox=r,this.transformationMatrix=i??_ht(r)}return n.for=function(t,e,i){return Ut(this,void 0,void 0,function(){return Ht(this,function(r){return[2,new n(t,e,i)]})})},n.prototype.embedIntoContext=function(t,e){return Ut(this,void 0,void 0,function(){var i,r,s,a,o,c,l,u,d,f;return Ht(this,function(p){if(i=this.page.normalizedEntries(),r=i.Contents,s=i.Resources,!r)throw new Kst;return a=this.decodeContents(r),o=this.boundingBox,c=o.left,l=o.bottom,u=o.right,d=o.top,f=t.flateStream(a,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[c,l,u,d],Matrix:this.transformationMatrix,Resources:s}),e?(t.assign(e,f),[2,e]):[2,t.register(f)]})})},n.prototype.decodeContents=function(t){for(var e=Uint8Array.of(O.Newline),i=[],r=0,s=t.size();r<s;r++){var a=t.lookup(r,Na),o=void 0;if(a instanceof aE)o=jX(a).decode();else if(a instanceof gA)o=a.getUnencodedContents();else throw new Yst(a);i.push(o,e)}return uit.apply(void 0,i)},n}(),e2=function(n,t){if(n!==void 0)return t[n]},xA;(function(n){n.UseNone="UseNone",n.UseOutlines="UseOutlines",n.UseThumbs="UseThumbs",n.UseOC="UseOC"})(xA||(xA={}));var SA;(function(n){n.L2R="L2R",n.R2L="R2L"})(SA||(SA={}));var AA;(function(n){n.None="None",n.AppDefault="AppDefault"})(AA||(AA={}));var tD;(function(n){n.Simplex="Simplex",n.DuplexFlipShortEdge="DuplexFlipShortEdge",n.DuplexFlipLongEdge="DuplexFlipLongEdge"})(tD||(tD={}));var fU=function(){function n(t){this.dict=t}return n.prototype.lookupBool=function(t){var e=this.dict.lookup(L.of(t));if(e instanceof sE)return e},n.prototype.lookupName=function(t){var e=this.dict.lookup(L.of(t));if(e instanceof L)return e},n.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},n.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},n.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},n.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},n.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},n.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},n.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},n.prototype.Direction=function(){return this.lookupName("Direction")},n.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},n.prototype.Duplex=function(){return this.lookupName("Duplex")},n.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},n.prototype.PrintPageRange=function(){var t=this.dict.lookup(L.of("PrintPageRange"));if(t instanceof pe)return t},n.prototype.NumCopies=function(){var t=this.dict.lookup(L.of("NumCopies"));if(t instanceof Rt)return t},n.prototype.getHideToolbar=function(){var t,e;return(e=(t=this.HideToolbar())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},n.prototype.getHideMenubar=function(){var t,e;return(e=(t=this.HideMenubar())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},n.prototype.getHideWindowUI=function(){var t,e;return(e=(t=this.HideWindowUI())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},n.prototype.getFitWindow=function(){var t,e;return(e=(t=this.FitWindow())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},n.prototype.getCenterWindow=function(){var t,e;return(e=(t=this.CenterWindow())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},n.prototype.getDisplayDocTitle=function(){var t,e;return(e=(t=this.DisplayDocTitle())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},n.prototype.getNonFullScreenPageMode=function(){var t,e,i=(t=this.NonFullScreenPageMode())===null||t===void 0?void 0:t.decodeText();return(e=e2(i,xA))!==null&&e!==void 0?e:xA.UseNone},n.prototype.getReadingDirection=function(){var t,e,i=(t=this.Direction())===null||t===void 0?void 0:t.decodeText();return(e=e2(i,SA))!==null&&e!==void 0?e:SA.L2R},n.prototype.getPrintScaling=function(){var t,e,i=(t=this.PrintScaling())===null||t===void 0?void 0:t.decodeText();return(e=e2(i,AA))!==null&&e!==void 0?e:AA.AppDefault},n.prototype.getDuplex=function(){var t,e=(t=this.Duplex())===null||t===void 0?void 0:t.decodeText();return e2(e,tD)},n.prototype.getPickTrayByPDFSize=function(){var t;return(t=this.PickTrayByPDFSize())===null||t===void 0?void 0:t.asBoolean()},n.prototype.getPrintPageRange=function(){var t=this.PrintPageRange();if(!t)return[];for(var e=[],i=0;i<t.size();i+=2){var r=t.lookup(i,Rt).asNumber(),s=t.lookup(i+1,Rt).asNumber();e.push({start:r,end:s})}return e},n.prototype.getNumCopies=function(){var t,e;return(e=(t=this.NumCopies())===null||t===void 0?void 0:t.asNumber())!==null&&e!==void 0?e:1},n.prototype.setHideToolbar=function(t){var e=this.dict.context.obj(t);this.dict.set(L.of("HideToolbar"),e)},n.prototype.setHideMenubar=function(t){var e=this.dict.context.obj(t);this.dict.set(L.of("HideMenubar"),e)},n.prototype.setHideWindowUI=function(t){var e=this.dict.context.obj(t);this.dict.set(L.of("HideWindowUI"),e)},n.prototype.setFitWindow=function(t){var e=this.dict.context.obj(t);this.dict.set(L.of("FitWindow"),e)},n.prototype.setCenterWindow=function(t){var e=this.dict.context.obj(t);this.dict.set(L.of("CenterWindow"),e)},n.prototype.setDisplayDocTitle=function(t){var e=this.dict.context.obj(t);this.dict.set(L.of("DisplayDocTitle"),e)},n.prototype.setNonFullScreenPageMode=function(t){kp(t,"nonFullScreenPageMode",xA);var e=L.of(t);this.dict.set(L.of("NonFullScreenPageMode"),e)},n.prototype.setReadingDirection=function(t){kp(t,"readingDirection",SA);var e=L.of(t);this.dict.set(L.of("Direction"),e)},n.prototype.setPrintScaling=function(t){kp(t,"printScaling",AA);var e=L.of(t);this.dict.set(L.of("PrintScaling"),e)},n.prototype.setDuplex=function(t){kp(t,"duplex",tD);var e=L.of(t);this.dict.set(L.of("Duplex"),e)},n.prototype.setPickTrayByPDFSize=function(t){var e=this.dict.context.obj(t);this.dict.set(L.of("PickTrayByPDFSize"),e)},n.prototype.setPrintPageRange=function(t){Array.isArray(t)||(t=[t]);for(var e=[],i=0,r=t.length;i<r;i++)e.push(t[i].start),e.push(t[i].end);t9(e,"printPageRange",["number"]);var s=this.dict.context.obj(e);this.dict.set(L.of("PrintPageRange"),s)},n.prototype.setNumCopies=function(t){Pa(t,"numCopies",1,Number.MAX_VALUE),Xst(t,"numCopies");var e=this.dict.context.obj(t);this.dict.set(L.of("NumCopies"),e)},n.fromDict=function(t){return new n(t)},n.create=function(t){var e=t.obj({});return new n(e)},n}(),Cht=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,HX=function(){function n(t,e){this.dict=t,this.ref=e}return n.prototype.T=function(){return this.dict.lookupMaybe(L.of("T"),ke,Tt)},n.prototype.Ff=function(){var t=this.getInheritableAttribute(L.of("Ff"));return this.dict.context.lookupMaybe(t,Rt)},n.prototype.V=function(){var t=this.getInheritableAttribute(L.of("V"));return this.dict.context.lookup(t)},n.prototype.Kids=function(){return this.dict.lookupMaybe(L.of("Kids"),pe)},n.prototype.DA=function(){var t=this.dict.lookup(L.of("DA"));if(t instanceof ke||t instanceof Tt)return t},n.prototype.setKids=function(t){this.dict.set(L.of("Kids"),this.dict.context.obj(t))},n.prototype.getParent=function(){var t=this.dict.get(L.of("Parent"));if(t instanceof Te){var e=this.dict.lookup(L.of("Parent"),Ot);return new n(e,t)}},n.prototype.setParent=function(t){t?this.dict.set(L.of("Parent"),t):this.dict.delete(L.of("Parent"))},n.prototype.getFullyQualifiedName=function(){var t=this.getParent();return t?t.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},n.prototype.getPartialName=function(){var t;return(t=this.T())===null||t===void 0?void 0:t.decodeText()},n.prototype.setPartialName=function(t){t?this.dict.set(L.of("T"),Tt.fromText(t)):this.dict.delete(L.of("T"))},n.prototype.setDefaultAppearance=function(t){this.dict.set(L.of("DA"),ke.of(t))},n.prototype.getDefaultAppearance=function(){var t=this.DA();return t instanceof Tt?t.decodeText():t==null?void 0:t.asString()},n.prototype.setFontSize=function(t){var e,i=(e=this.getFullyQualifiedName())!==null&&e!==void 0?e:"",r=this.getDefaultAppearance();if(!r)throw new $st(i);var s=Tz(r,Cht);if(!s.match)throw new tat(i);var a=r.slice(0,s.pos-s.match[0].length),o=s.pos<=r.length?r.slice(s.pos):"",c=s.match[1],l=a+" /"+c+" "+t+" Tf "+o;this.setDefaultAppearance(l)},n.prototype.getFlags=function(){var t,e;return(e=(t=this.Ff())===null||t===void 0?void 0:t.asNumber())!==null&&e!==void 0?e:0},n.prototype.setFlags=function(t){this.dict.set(L.of("Ff"),Rt.of(t))},n.prototype.hasFlag=function(t){var e=this.getFlags();return(e&t)!==0},n.prototype.setFlag=function(t){var e=this.getFlags();this.setFlags(e|t)},n.prototype.clearFlag=function(t){var e=this.getFlags();this.setFlags(e&~t)},n.prototype.setFlagTo=function(t,e){e?this.setFlag(t):this.clearFlag(t)},n.prototype.getInheritableAttribute=function(t){var e;return this.ascend(function(i){e||(e=i.dict.get(t))}),e},n.prototype.ascend=function(t){t(this);var e=this.getParent();e&&e.ascend(t)},n}(),HN=function(){function n(t){this.dict=t}return n.prototype.W=function(){var t=this.dict.lookup(L.of("W"));if(t instanceof Rt)return t},n.prototype.getWidth=function(){var t,e;return(e=(t=this.W())===null||t===void 0?void 0:t.asNumber())!==null&&e!==void 0?e:1},n.prototype.setWidth=function(t){var e=this.dict.context.obj(t);this.dict.set(L.of("W"),e)},n.fromDict=function(t){return new n(t)},n}(),kht=function(){function n(t){this.dict=t}return n.prototype.Rect=function(){return this.dict.lookup(L.of("Rect"),pe)},n.prototype.AP=function(){return this.dict.lookupMaybe(L.of("AP"),Ot)},n.prototype.F=function(){var t=this.dict.lookup(L.of("F"));return this.dict.context.lookupMaybe(t,Rt)},n.prototype.getRectangle=function(){var t,e=this.Rect();return(t=e==null?void 0:e.asRectangle())!==null&&t!==void 0?t:{x:0,y:0,width:0,height:0}},n.prototype.setRectangle=function(t){var e=t.x,i=t.y,r=t.width,s=t.height,a=this.dict.context.obj([e,i,e+r,i+s]);this.dict.set(L.of("Rect"),a)},n.prototype.getAppearanceState=function(){var t=this.dict.lookup(L.of("AS"));if(t instanceof L)return t},n.prototype.setAppearanceState=function(t){this.dict.set(L.of("AS"),t)},n.prototype.setAppearances=function(t){this.dict.set(L.of("AP"),t)},n.prototype.ensureAP=function(){var t=this.AP();return t||(t=this.dict.context.obj({}),this.dict.set(L.of("AP"),t)),t},n.prototype.getNormalAppearance=function(){var t=this.ensureAP(),e=t.get(L.of("N"));if(e instanceof Te||e instanceof Ot)return e;throw new Error("Unexpected N type: "+(e==null?void 0:e.constructor.name))},n.prototype.setNormalAppearance=function(t){var e=this.ensureAP();e.set(L.of("N"),t)},n.prototype.setRolloverAppearance=function(t){var e=this.ensureAP();e.set(L.of("R"),t)},n.prototype.setDownAppearance=function(t){var e=this.ensureAP();e.set(L.of("D"),t)},n.prototype.removeRolloverAppearance=function(){var t=this.AP();t==null||t.delete(L.of("R"))},n.prototype.removeDownAppearance=function(){var t=this.AP();t==null||t.delete(L.of("D"))},n.prototype.getAppearances=function(){var t=this.AP();if(t){var e=t.lookup(L.of("N"),Ot,Na),i=t.lookupMaybe(L.of("R"),Ot,Na),r=t.lookupMaybe(L.of("D"),Ot,Na);return{normal:e,rollover:i,down:r}}},n.prototype.getFlags=function(){var t,e;return(e=(t=this.F())===null||t===void 0?void 0:t.asNumber())!==null&&e!==void 0?e:0},n.prototype.setFlags=function(t){this.dict.set(L.of("F"),Rt.of(t))},n.prototype.hasFlag=function(t){var e=this.getFlags();return(e&t)!==0},n.prototype.setFlag=function(t){var e=this.getFlags();this.setFlags(e|t)},n.prototype.clearFlag=function(t){var e=this.getFlags();this.setFlags(e&~t)},n.prototype.setFlagTo=function(t,e){e?this.setFlag(t):this.clearFlag(t)},n.fromDict=function(t){return new n(t)},n}(),WN=function(){function n(t){this.dict=t}return n.prototype.R=function(){var t=this.dict.lookup(L.of("R"));if(t instanceof Rt)return t},n.prototype.BC=function(){var t=this.dict.lookup(L.of("BC"));if(t instanceof pe)return t},n.prototype.BG=function(){var t=this.dict.lookup(L.of("BG"));if(t instanceof pe)return t},n.prototype.CA=function(){var t=this.dict.lookup(L.of("CA"));if(t instanceof Tt||t instanceof ke)return t},n.prototype.RC=function(){var t=this.dict.lookup(L.of("RC"));if(t instanceof Tt||t instanceof ke)return t},n.prototype.AC=function(){var t=this.dict.lookup(L.of("AC"));if(t instanceof Tt||t instanceof ke)return t},n.prototype.getRotation=function(){var t;return(t=this.R())===null||t===void 0?void 0:t.asNumber()},n.prototype.getBorderColor=function(){var t=this.BC();if(t){for(var e=[],i=0,r=t==null?void 0:t.size();i<r;i++){var s=t.get(i);s instanceof Rt&&e.push(s.asNumber())}return e}},n.prototype.getBackgroundColor=function(){var t=this.BG();if(t){for(var e=[],i=0,r=t==null?void 0:t.size();i<r;i++){var s=t.get(i);s instanceof Rt&&e.push(s.asNumber())}return e}},n.prototype.getCaptions=function(){var t=this.CA(),e=this.RC(),i=this.AC();return{normal:t==null?void 0:t.decodeText(),rollover:e==null?void 0:e.decodeText(),down:i==null?void 0:i.decodeText()}},n.prototype.setRotation=function(t){var e=this.dict.context.obj(t);this.dict.set(L.of("R"),e)},n.prototype.setBorderColor=function(t){var e=this.dict.context.obj(t);this.dict.set(L.of("BC"),e)},n.prototype.setBackgroundColor=function(t){var e=this.dict.context.obj(t);this.dict.set(L.of("BG"),e)},n.prototype.setCaptions=function(t){var e=Tt.fromText(t.normal);if(this.dict.set(L.of("CA"),e),t.rollover){var i=Tt.fromText(t.rollover);this.dict.set(L.of("RC"),i)}else this.dict.delete(L.of("RC"));if(t.down){var r=Tt.fromText(t.down);this.dict.set(L.of("AC"),r)}else this.dict.delete(L.of("AC"))},n.fromDict=function(t){return new n(t)},n}(),VL=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.MK=function(){var e=this.dict.lookup(L.of("MK"));if(e instanceof Ot)return e},t.prototype.BS=function(){var e=this.dict.lookup(L.of("BS"));if(e instanceof Ot)return e},t.prototype.DA=function(){var e=this.dict.lookup(L.of("DA"));if(e instanceof ke||e instanceof Tt)return e},t.prototype.P=function(){var e=this.dict.get(L.of("P"));if(e instanceof Te)return e},t.prototype.setP=function(e){this.dict.set(L.of("P"),e)},t.prototype.setDefaultAppearance=function(e){this.dict.set(L.of("DA"),ke.of(e))},t.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof Tt?e.decodeText():e==null?void 0:e.asString()},t.prototype.getAppearanceCharacteristics=function(){var e=this.MK();if(e)return WN.fromDict(e)},t.prototype.getOrCreateAppearanceCharacteristics=function(){var e=this.MK();if(e)return WN.fromDict(e);var i=WN.fromDict(this.dict.context.obj({}));return this.dict.set(L.of("MK"),i.dict),i},t.prototype.getBorderStyle=function(){var e=this.BS();if(e)return HN.fromDict(e)},t.prototype.getOrCreateBorderStyle=function(){var e=this.BS();if(e)return HN.fromDict(e);var i=HN.fromDict(this.dict.context.obj({}));return this.dict.set(L.of("BS"),i.dict),i},t.prototype.getOnValue=function(){var e,i=(e=this.getAppearances())===null||e===void 0?void 0:e.normal;if(i instanceof Ot)for(var r=i.keys(),s=0,a=r.length;s<a;s++){var o=r[s];if(o!==L.of("Off"))return o}},t.fromDict=function(e){return new t(e)},t.create=function(e,i){var r=e.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:i});return new t(r)},t}(kht),ux=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.FT=function(){var e=this.getInheritableAttribute(L.of("FT"));return this.dict.context.lookup(e,L)},t.prototype.getWidgets=function(){var e=this.Kids();if(!e)return[VL.fromDict(this.dict)];for(var i=new Array(e.size()),r=0,s=e.size();r<s;r++){var a=e.lookup(r,Ot);i[r]=VL.fromDict(a)}return i},t.prototype.addWidget=function(e){var i=this.normalizedEntries().Kids;i.push(e)},t.prototype.removeWidget=function(e){var i=this.Kids();if(i){if(e<0||e>i.size())throw new KR(e,0,i.size());i.remove(e)}else{if(e!==0)throw new KR(e,0,0);this.setKids([])}},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([this.ref]),this.dict.set(L.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,i){return new t(e,i)},t}(HX),ij=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.Opt=function(){return this.dict.lookupMaybe(L.of("Opt"),ke,Tt,pe)},t.prototype.setOpt=function(e){this.dict.set(L.of("Opt"),this.dict.context.obj(e))},t.prototype.getExportValues=function(){var e=this.Opt();if(e){if(e instanceof ke||e instanceof Tt)return[e];for(var i=[],r=0,s=e.size();r<s;r++){var a=e.lookup(r);(a instanceof ke||a instanceof Tt)&&i.push(a)}return i}},t.prototype.removeExportValue=function(e){var i=this.Opt();if(i)if(i instanceof ke||i instanceof Tt){if(e!==0)throw new KR(e,0,0);this.setOpt([])}else{if(e<0||e>i.size())throw new KR(e,0,i.size());i.remove(e)}},t.prototype.normalizeExportValues=function(){for(var e,i,r,s,a=(e=this.getExportValues())!==null&&e!==void 0?e:[],o=[],c=this.getWidgets(),l=0,u=c.length;l<u;l++){var d=c[l],f=(i=a[l])!==null&&i!==void 0?i:Tt.fromText((s=(r=d.getOnValue())===null||r===void 0?void 0:r.decodeText())!==null&&s!==void 0?s:"");o.push(f)}this.setOpt(o)},t.prototype.addOpt=function(e,i){var r;this.normalizeExportValues();var s=e.decodeText(),a;if(i)for(var o=(r=this.getExportValues())!==null&&r!==void 0?r:[],c=0,l=o.length;c<l;c++){var u=o[c];u.decodeText()===s&&(a=c)}var d=this.Opt();return d.push(e),a??d.size()-1},t.prototype.addWidgetWithOpt=function(e,i,r){var s=this.addOpt(i,r),a=L.of(String(s));return this.addWidget(e),a},t}(ux),BF=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setValue=function(e){var i,r=(i=this.getOnValue())!==null&&i!==void 0?i:L.of("Yes");if(e!==r&&e!==L.of("Off"))throw new Bz;this.dict.set(L.of("V"),e);for(var s=this.getWidgets(),a=0,o=s.length;a<o;a++){var c=s[a],l=c.getOnValue()===e?e:L.of("Off");c.setAppearanceState(l)}},t.prototype.getValue=function(){var e=this.V();return e instanceof L?e:L.of("Off")},t.prototype.getOnValue=function(){var e=this.getWidgets()[0];return e==null?void 0:e.getOnValue()},t.fromDict=function(e,i){return new t(e,i)},t.create=function(e){var i=e.obj({FT:"Btn",Kids:[]}),r=e.register(i);return new t(i,r)},t}(ij),Kn=function(n){return 1<<n},Xo;(function(n){n[n.ReadOnly=Kn(0)]="ReadOnly",n[n.Required=Kn(1)]="Required",n[n.NoExport=Kn(2)]="NoExport"})(Xo||(Xo={}));var po;(function(n){n[n.NoToggleToOff=Kn(14)]="NoToggleToOff",n[n.Radio=Kn(15)]="Radio",n[n.PushButton=Kn(16)]="PushButton",n[n.RadiosInUnison=Kn(25)]="RadiosInUnison"})(po||(po={}));var pn;(function(n){n[n.Multiline=Kn(12)]="Multiline",n[n.Password=Kn(13)]="Password",n[n.FileSelect=Kn(20)]="FileSelect",n[n.DoNotSpellCheck=Kn(22)]="DoNotSpellCheck",n[n.DoNotScroll=Kn(23)]="DoNotScroll",n[n.Comb=Kn(24)]="Comb",n[n.RichText=Kn(25)]="RichText"})(pn||(pn={}));var _e;(function(n){n[n.Combo=Kn(17)]="Combo",n[n.Edit=Kn(18)]="Edit",n[n.Sort=Kn(19)]="Sort",n[n.MultiSelect=Kn(21)]="MultiSelect",n[n.DoNotSpellCheck=Kn(22)]="DoNotSpellCheck",n[n.CommitOnSelChange=Kn(26)]="CommitOnSelChange"})(_e||(_e={}));var WX=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setValues=function(e){if(this.hasFlag(_e.Combo)&&!this.hasFlag(_e.Edit)&&!this.valuesAreValid(e))throw new Bz;if(e.length===0&&this.dict.delete(L.of("V")),e.length===1&&this.dict.set(L.of("V"),e[0]),e.length>1){if(!this.hasFlag(_e.MultiSelect))throw new Jst;this.dict.set(L.of("V"),this.dict.context.obj(e))}this.updateSelectedIndices(e)},t.prototype.valuesAreValid=function(e){for(var i=this.getOptions(),r=function(c,l){var u=e[c].decodeText();if(!i.find(function(d){return u===(d.display||d.value).decodeText()}))return{value:!1}},s=0,a=e.length;s<a;s++){var o=r(s);if(typeof o=="object")return o.value}return!0},t.prototype.updateSelectedIndices=function(e){if(e.length>1){for(var i=new Array(e.length),r=this.getOptions(),s=function(c,l){var u=e[c].decodeText();i[c]=r.findIndex(function(d){return u===(d.display||d.value).decodeText()})},a=0,o=e.length;a<o;a++)s(a,o);this.dict.set(L.of("I"),this.dict.context.obj(i.sort()))}else this.dict.delete(L.of("I"))},t.prototype.getValues=function(){var e=this.V();if(e instanceof ke||e instanceof Tt)return[e];if(e instanceof pe){for(var i=[],r=0,s=e.size();r<s;r++){var a=e.lookup(r);(a instanceof ke||a instanceof Tt)&&i.push(a)}return i}return[]},t.prototype.Opt=function(){return this.dict.lookupMaybe(L.of("Opt"),ke,Tt,pe)},t.prototype.setOptions=function(e){for(var i=new Array(e.length),r=0,s=e.length;r<s;r++){var a=e[r],o=a.value,c=a.display;i[r]=this.dict.context.obj([o,c||o])}this.dict.set(L.of("Opt"),this.dict.context.obj(i))},t.prototype.getOptions=function(){var e=this.Opt();if(e instanceof ke||e instanceof Tt)return[{value:e,display:e}];if(e instanceof pe){for(var i=[],r=0,s=e.size();r<s;r++){var a=e.lookup(r);if((a instanceof ke||a instanceof Tt)&&i.push({value:a,display:a}),a instanceof pe&&a.size()>0){var o=a.lookup(0,ke,Tt),c=a.lookupMaybe(1,ke,Tt);i.push({value:o,display:c||o})}}return i}return[]},t}(ux),zF=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.fromDict=function(e,i){return new t(e,i)},t.create=function(e){var i=e.obj({FT:"Ch",Ff:_e.Combo,Kids:[]}),r=e.register(i);return new t(i,r)},t}(WX),eD=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.addField=function(e){var i=this.normalizedEntries().Kids;i==null||i.push(e)},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([]),this.dict.set(L.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,i){return new t(e,i)},t.create=function(e){var i=e.obj({}),r=e.register(i);return new t(i,r)},t}(HX),rj=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.fromDict=function(e,i){return new t(e,i)},t}(ux),jF=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.MaxLen=function(){var e=this.dict.lookup(L.of("MaxLen"));if(e instanceof Rt)return e},t.prototype.Q=function(){var e=this.dict.lookup(L.of("Q"));if(e instanceof Rt)return e},t.prototype.setMaxLength=function(e){this.dict.set(L.of("MaxLen"),Rt.of(e))},t.prototype.removeMaxLength=function(){this.dict.delete(L.of("MaxLen"))},t.prototype.getMaxLength=function(){var e;return(e=this.MaxLen())===null||e===void 0?void 0:e.asNumber()},t.prototype.setQuadding=function(e){this.dict.set(L.of("Q"),Rt.of(e))},t.prototype.getQuadding=function(){var e;return(e=this.Q())===null||e===void 0?void 0:e.asNumber()},t.prototype.setValue=function(e){this.dict.set(L.of("V"),e)},t.prototype.removeValue=function(){this.dict.delete(L.of("V"))},t.prototype.getValue=function(){var e=this.V();if(e instanceof ke||e instanceof Tt)return e},t.fromDict=function(e,i){return new t(e,i)},t.create=function(e){var i=e.obj({FT:"Tx",Kids:[]}),r=e.register(i);return new t(i,r)},t}(ux),UF=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.fromDict=function(e,i){return new t(e,i)},t.create=function(e){var i=e.obj({FT:"Btn",Ff:po.PushButton,Kids:[]}),r=e.register(i);return new t(i,r)},t}(ij),HF=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setValue=function(e){var i=this.getOnValues();if(!i.includes(e)&&e!==L.of("Off"))throw new Bz;this.dict.set(L.of("V"),e);for(var r=this.getWidgets(),s=0,a=r.length;s<a;s++){var o=r[s],c=o.getOnValue()===e?e:L.of("Off");o.setAppearanceState(c)}},t.prototype.getValue=function(){var e=this.V();return e instanceof L?e:L.of("Off")},t.prototype.getOnValues=function(){for(var e=this.getWidgets(),i=[],r=0,s=e.length;r<s;r++){var a=e[r].getOnValue();a&&i.push(a)}return i},t.fromDict=function(e,i){return new t(e,i)},t.create=function(e){var i=e.obj({FT:"Btn",Ff:po.Radio,Kids:[]}),r=e.register(i);return new t(i,r)},t}(ij),WF=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.fromDict=function(e,i){return new t(e,i)},t.create=function(e){var i=e.obj({FT:"Ch",Kids:[]}),r=e.register(i);return new t(i,r)},t}(WX),sj=function(n){if(!n)return[];for(var t=[],e=0,i=n.size();e<i;e++){var r=n.get(e),s=n.lookup(e);r instanceof Te&&s instanceof Ot&&t.push([VX(s,r),r])}return t},VX=function(n,t){var e=Tht(n);return e?eD.fromDict(n,t):Pht(n,t)},Tht=function(n){var t=n.lookup(L.of("Kids"));if(t instanceof pe)for(var e=0,i=t.size();e<i;e++){var r=t.lookup(e),s=r instanceof Ot&&r.has(L.of("T"));if(s)return!0}return!1},Pht=function(n,t){var e=aj(n,L.of("FT")),i=n.context.lookup(e,L);return i===L.of("Btn")?Rht(n,t):i===L.of("Ch")?Dht(n,t):i===L.of("Tx")?jF.fromDict(n,t):i===L.of("Sig")?rj.fromDict(n,t):ux.fromDict(n,t)},Rht=function(n,t){var e,i=aj(n,L.of("Ff")),r=n.context.lookupMaybe(i,Rt),s=(e=r==null?void 0:r.asNumber())!==null&&e!==void 0?e:0;return GL(s,po.PushButton)?UF.fromDict(n,t):GL(s,po.Radio)?HF.fromDict(n,t):BF.fromDict(n,t)},Dht=function(n,t){var e,i=aj(n,L.of("Ff")),r=n.context.lookupMaybe(i,Rt),s=(e=r==null?void 0:r.asNumber())!==null&&e!==void 0?e:0;return GL(s,_e.Combo)?zF.fromDict(n,t):WF.fromDict(n,t)},GL=function(n,t){return(n&t)!==0},aj=function(n,t){var e;return GX(n,function(i){e||(e=i.get(t))}),e},GX=function(n,t){t(n);var e=n.lookupMaybe(L.of("Parent"),Ot);e&&GX(e,t)},nD=function(){function n(t){this.dict=t}return n.prototype.Fields=function(){var t=this.dict.lookup(L.of("Fields"));if(t instanceof pe)return t},n.prototype.getFields=function(){for(var t=this.normalizedEntries().Fields,e=new Array(t.size()),i=0,r=t.size();i<r;i++){var s=t.get(i),a=t.lookup(i,Ot);e[i]=[VX(a,s),s]}return e},n.prototype.getAllFields=function(){var t=[],e=function(i){if(i)for(var r=0,s=i.length;r<s;r++){var a=i[r];t.push(a);var o=a[0];o instanceof eD&&e(sj(o.Kids()))}};return e(this.getFields()),t},n.prototype.addField=function(t){var e=this.normalizedEntries().Fields;e==null||e.push(t)},n.prototype.removeField=function(t){var e=t.getParent(),i=e===void 0?this.normalizedEntries().Fields:e.Kids(),r=i==null?void 0:i.indexOf(t.ref);if(i===void 0||r===void 0)throw new Error("Tried to remove inexistent field "+t.getFullyQualifiedName());i.remove(r),e!==void 0&&i.size()===0&&this.removeField(e)},n.prototype.normalizedEntries=function(){var t=this.Fields();return t||(t=this.dict.context.obj([]),this.dict.set(L.of("Fields"),t)),{Fields:t}},n.fromDict=function(t){return new n(t)},n.create=function(t){var e=t.obj({Fields:[]});return new n(e)},n}(),XX=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.Pages=function(){return this.lookup(L.of("Pages"),Ot)},t.prototype.AcroForm=function(){return this.lookupMaybe(L.of("AcroForm"),Ot)},t.prototype.getAcroForm=function(){var e=this.AcroForm();if(e)return nD.fromDict(e)},t.prototype.getOrCreateAcroForm=function(){var e=this.getAcroForm();if(!e){e=nD.create(this.context);var i=this.context.register(e.dict);this.set(L.of("AcroForm"),i)}return e},t.prototype.ViewerPreferences=function(){return this.lookupMaybe(L.of("ViewerPreferences"),Ot)},t.prototype.getViewerPreferences=function(){var e=this.ViewerPreferences();if(e)return fU.fromDict(e)},t.prototype.getOrCreateViewerPreferences=function(){var e=this.getViewerPreferences();if(!e){e=fU.create(this.context);var i=this.context.register(e.dict);this.set(L.of("ViewerPreferences"),i)}return e},t.prototype.insertLeafNode=function(e,i){var r=this.get(L.of("Pages")),s=this.Pages().insertLeafNode(e,i);return s||r},t.prototype.removeLeafNode=function(e){this.Pages().removeLeafNode(e)},t.withContextAndPages=function(e,i){var r=new Map;return r.set(L.of("Type"),L.of("Catalog")),r.set(L.of("Pages"),i),new t(r,e)},t.fromMapWithContext=function(e,i){return new t(e,i)},t}(Ot),qX=function(n){rt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.Parent=function(){return this.lookup(L.of("Parent"))},t.prototype.Kids=function(){return this.lookup(L.of("Kids"),pe)},t.prototype.Count=function(){return this.lookup(L.of("Count"),Rt)},t.prototype.pushTreeNode=function(e){var i=this.Kids();i.push(e)},t.prototype.pushLeafNode=function(e){var i=this.Kids();this.insertLeafKid(i.size(),e)},t.prototype.insertLeafNode=function(e,i){var r=this.Kids(),s=this.Count().asNumber();if(i>s)throw new E4(i,s);for(var a=i,o=0,c=r.size();o<c;o++){if(a===0){this.insertLeafKid(o,e);return}var l=r.get(o),u=this.context.lookup(l);if(u instanceof t){if(u.Count().asNumber()>a)return u.insertLeafNode(e,a)||l;a-=u.Count().asNumber()}u instanceof Zu&&(a-=1)}if(a===0){this.insertLeafKid(r.size(),e);return}throw new _4(i,"insertLeafNode")},t.prototype.removeLeafNode=function(e,i){i===void 0&&(i=!0);var r=this.Kids(),s=this.Count().asNumber();if(e>=s)throw new E4(e,s);for(var a=e,o=0,c=r.size();o<c;o++){var l=r.get(o),u=this.context.lookup(l);if(u instanceof t)if(u.Count().asNumber()>a){u.removeLeafNode(a,i),i&&u.Kids().size()===0&&r.remove(o);return}else a-=u.Count().asNumber();if(u instanceof Zu)if(a===0){this.removeKid(o);return}else a-=1}throw new _4(e,"removeLeafNode")},t.prototype.ascend=function(e){e(this);var i=this.Parent();i&&i.ascend(e)},t.prototype.traverse=function(e){for(var i=this.Kids(),r=0,s=i.size();r<s;r++){var a=i.get(r),o=this.context.lookup(a);o instanceof t&&o.traverse(e),e(o,a)}},t.prototype.insertLeafKid=function(e,i){var r=this.Kids();this.ascend(function(s){var a=s.Count().asNumber()+1;s.set(L.of("Count"),Rt.of(a))}),r.insert(e,i)},t.prototype.removeKid=function(e){var i=this.Kids(),r=i.lookup(e);r instanceof Zu&&this.ascend(function(s){var a=s.Count().asNumber()-1;s.set(L.of("Count"),Rt.of(a))}),i.remove(e)},t.withContext=function(e,i){var r=new Map;return r.set(L.of("Type"),L.of("Pages")),r.set(L.of("Kids"),e.obj([])),r.set(L.of("Count"),e.obj(0)),i&&r.set(L.of("Parent"),i),new t(r,e)},t.fromMapWithContext=function(e,i){return new t(e,i)},t}(Ot),Lr=new Uint8Array(256);Lr[O.Zero]=1;Lr[O.One]=1;Lr[O.Two]=1;Lr[O.Three]=1;Lr[O.Four]=1;Lr[O.Five]=1;Lr[O.Six]=1;Lr[O.Seven]=1;Lr[O.Eight]=1;Lr[O.Nine]=1;var VF=new Uint8Array(256);VF[O.Period]=1;VF[O.Plus]=1;VF[O.Minus]=1;var oj=new Uint8Array(256);for(var Bx=0,Fht=256;Bx<Fht;Bx++)oj[Bx]=Lr[Bx]||VF[Bx]?1:0;var pU=O.Newline,gU=O.CarriageReturn,Mht=function(){function n(t,e){e===void 0&&(e=!1),this.bytes=t,this.capNumbers=e}return n.prototype.parseRawInt=function(){for(var t="";!this.bytes.done();){var e=this.bytes.peek();if(!Lr[e])break;t+=Ku(this.bytes.next())}var i=Number(t);if(!t||!isFinite(i))throw new C4(this.bytes.position(),t);return i},n.prototype.parseRawNumber=function(){for(var t="";!this.bytes.done();){var e=this.bytes.peek();if(!oj[e]||(t+=Ku(this.bytes.next()),e===O.Period))break}for(;!this.bytes.done();){var e=this.bytes.peek();if(!Lr[e])break;t+=Ku(this.bytes.next())}var i=Number(t);if(!t||!isFinite(i))throw new C4(this.bytes.position(),t);if(i>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var r="Parsed number that is too large for some PDF readers: "+t+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(r),Number.MAX_SAFE_INTEGER}else{var r="Parsed number that is too large for some PDF readers: "+t+", not capping.";console.warn(r)}return i},n.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&pd[this.bytes.peek()];)this.bytes.next()},n.prototype.skipLine=function(){for(;!this.bytes.done();){var t=this.bytes.peek();if(t===pU||t===gU)return;this.bytes.next()}},n.prototype.skipComment=function(){if(this.bytes.peek()!==O.Percent)return!1;for(;!this.bytes.done();){var t=this.bytes.peek();if(t===pU||t===gU)return!0;this.bytes.next()}return!0},n.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},n.prototype.matchKeyword=function(t){for(var e=this.bytes.offset(),i=0,r=t.length;i<r;i++)if(this.bytes.done()||this.bytes.next()!==t[i])return this.bytes.moveTo(e),!1;return!0},n}(),GF=function(){function n(t){this.idx=0,this.line=0,this.column=0,this.bytes=t,this.length=this.bytes.length}return n.prototype.moveTo=function(t){this.idx=t},n.prototype.next=function(){var t=this.bytes[this.idx++];return t===O.Newline?(this.line+=1,this.column=0):this.column+=1,t},n.prototype.assertNext=function(t){if(this.peek()!==t)throw new eat(this.position(),t,this.peek());return this.next()},n.prototype.peek=function(){return this.bytes[this.idx]},n.prototype.peekAhead=function(t){return this.bytes[this.idx+t]},n.prototype.peekAt=function(t){return this.bytes[t]},n.prototype.done=function(){return this.idx>=this.length},n.prototype.offset=function(){return this.idx},n.prototype.slice=function(t,e){return this.bytes.slice(t,e)},n.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},n.of=function(t){return new n(t)},n.fromPDFRawStream=function(t){return n.of(jX(t).decode())},n}(),Nht=O.Space,zx=O.CarriageReturn,jx=O.Newline,Ux=[O.s,O.t,O.r,O.e,O.a,O.m],n2=[O.e,O.n,O.d,O.s,O.t,O.r,O.e,O.a,O.m],je={header:[O.Percent,O.P,O.D,O.F,O.Dash],eof:[O.Percent,O.Percent,O.E,O.O,O.F],obj:[O.o,O.b,O.j],endobj:[O.e,O.n,O.d,O.o,O.b,O.j],xref:[O.x,O.r,O.e,O.f],trailer:[O.t,O.r,O.a,O.i,O.l,O.e,O.r],startxref:[O.s,O.t,O.a,O.r,O.t,O.x,O.r,O.e,O.f],true:[O.t,O.r,O.u,O.e],false:[O.f,O.a,O.l,O.s,O.e],null:[O.n,O.u,O.l,O.l],stream:Ux,streamEOF1:ce(Ux,[Nht,zx,jx]),streamEOF2:ce(Ux,[zx,jx]),streamEOF3:ce(Ux,[zx]),streamEOF4:ce(Ux,[jx]),endstream:n2,EOF1endstream:ce([zx,jx],n2),EOF2endstream:ce([zx],n2),EOF3endstream:ce([jx],n2)},KX=function(n){rt(t,n);function t(e,i,r){r===void 0&&(r=!1);var s=n.call(this,e,r)||this;return s.context=i,s}return t.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(je.true))return sE.True;if(this.matchKeyword(je.false))return sE.False;if(this.matchKeyword(je.null))return _s;var e=this.bytes.peek();if(e===O.LessThan&&this.bytes.peekAhead(1)===O.LessThan)return this.parseDictOrStream();if(e===O.LessThan)return this.parseHexString();if(e===O.LeftParen)return this.parseString();if(e===O.ForwardSlash)return this.parseName();if(e===O.LeftSquareBracket)return this.parseArray();if(oj[e])return this.parseNumberOrRef();throw new nat(this.bytes.position(),e)},t.prototype.parseNumberOrRef=function(){var e=this.parseRawNumber();this.skipWhitespaceAndComments();var i=this.bytes.offset();if(Lr[this.bytes.peek()]){var r=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===O.R)return this.bytes.assertNext(O.R),Te.of(e,r)}return this.bytes.moveTo(i),Rt.of(e)},t.prototype.parseHexString=function(){var e="";for(this.bytes.assertNext(O.LessThan);!this.bytes.done()&&this.bytes.peek()!==O.GreaterThan;)e+=Ku(this.bytes.next());return this.bytes.assertNext(O.GreaterThan),Tt.of(e)},t.prototype.parseString=function(){for(var e=0,i=!1,r="";!this.bytes.done();){var s=this.bytes.next();if(r+=Ku(s),i||(s===O.LeftParen&&(e+=1),s===O.RightParen&&(e-=1)),s===O.BackSlash?i=!i:i&&(i=!1),e===0)return ke.of(r.substring(1,r.length-1))}throw new sat(this.bytes.position())},t.prototype.parseName=function(){this.bytes.assertNext(O.ForwardSlash);for(var e="";!this.bytes.done();){var i=this.bytes.peek();if(pd[i]||Uo[i])break;e+=Ku(i),this.bytes.next()}return L.of(e)},t.prototype.parseArray=function(){this.bytes.assertNext(O.LeftSquareBracket),this.skipWhitespaceAndComments();for(var e=pe.withContext(this.context);this.bytes.peek()!==O.RightSquareBracket;){var i=this.parseObject();e.push(i),this.skipWhitespaceAndComments()}return this.bytes.assertNext(O.RightSquareBracket),e},t.prototype.parseDict=function(){this.bytes.assertNext(O.LessThan),this.bytes.assertNext(O.LessThan),this.skipWhitespaceAndComments();for(var e=new Map;!this.bytes.done()&&this.bytes.peek()!==O.GreaterThan&&this.bytes.peekAhead(1)!==O.GreaterThan;){var i=this.parseName(),r=this.parseObject();e.set(i,r),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(O.GreaterThan),this.bytes.assertNext(O.GreaterThan);var s=e.get(L.of("Type"));return s===L.of("Catalog")?XX.fromMapWithContext(e,this.context):s===L.of("Pages")?qX.fromMapWithContext(e,this.context):s===L.of("Page")?Zu.fromMapWithContext(e,this.context):Ot.fromMapWithContext(e,this.context)},t.prototype.parseDictOrStream=function(){var e=this.bytes.position(),i=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(je.streamEOF1)&&!this.matchKeyword(je.streamEOF2)&&!this.matchKeyword(je.streamEOF3)&&!this.matchKeyword(je.streamEOF4)&&!this.matchKeyword(je.stream))return i;var r=this.bytes.offset(),s,a=i.get(L.of("Length"));a instanceof Rt?(s=r+a.asNumber(),this.bytes.moveTo(s),this.skipWhitespaceAndComments(),this.matchKeyword(je.endstream)||(this.bytes.moveTo(r),s=this.findEndOfStreamFallback(e))):s=this.findEndOfStreamFallback(e);var o=this.bytes.slice(r,s);return aE.of(i,o)},t.prototype.findEndOfStreamFallback=function(e){for(var i=1,r=this.bytes.offset();!this.bytes.done()&&(r=this.bytes.offset(),this.matchKeyword(je.stream)?i+=1:this.matchKeyword(je.EOF1endstream)||this.matchKeyword(je.EOF2endstream)||this.matchKeyword(je.EOF3endstream)||this.matchKeyword(je.endstream)?i-=1:this.bytes.next(),i!==0););if(i!==0)throw new rat(e);return r},t.forBytes=function(e,i,r){return new t(GF.of(e),i,r)},t.forByteStream=function(e,i,r){return r===void 0&&(r=!1),new t(e,i,r)},t}(Mht),Iht=function(n){rt(t,n);function t(e,i){var r=n.call(this,GF.fromPDFRawStream(e),e.dict.context)||this,s=e.dict;return r.alreadyParsed=!1,r.shouldWaitForTick=i||function(){return!1},r.firstOffset=s.lookup(L.of("First"),Rt).asNumber(),r.objectCount=s.lookup(L.of("N"),Rt).asNumber(),r}return t.prototype.parseIntoContext=function(){return Ut(this,void 0,void 0,function(){var e,i,r,s,a,o,c,l;return Ht(this,function(u){switch(u.label){case 0:if(this.alreadyParsed)throw new Oz("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,e=this.parseOffsetsAndObjectNumbers(),i=0,r=e.length,u.label=1;case 1:return i<r?(s=e[i],a=s.objectNumber,o=s.offset,this.bytes.moveTo(this.firstOffset+o),c=this.parseObject(),l=Te.of(a,0),this.context.assign(l,c),this.shouldWaitForTick()?[4,G1()]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.parseOffsetsAndObjectNumbers=function(){for(var e=[],i=0,r=this.objectCount;i<r;i++){this.skipWhitespaceAndComments();var s=this.parseRawInt();this.skipWhitespaceAndComments();var a=this.parseRawInt();e.push({objectNumber:s,offset:a})}return e},t.forStream=function(e,i){return new t(e,i)},t}(KX),Lht=function(){function n(t){this.alreadyParsed=!1,this.dict=t.dict,this.bytes=GF.fromPDFRawStream(t),this.context=this.dict.context;var e=this.dict.lookup(L.of("Size"),Rt),i=this.dict.lookup(L.of("Index"));if(i instanceof pe){this.subsections=[];for(var r=0,s=i.size();r<s;r+=2){var a=i.lookup(r+0,Rt).asNumber(),o=i.lookup(r+1,Rt).asNumber();this.subsections.push({firstObjectNumber:a,length:o})}}else this.subsections=[{firstObjectNumber:0,length:e.asNumber()}];var c=this.dict.lookup(L.of("W"),pe);this.byteWidths=[-1,-1,-1];for(var r=0,s=c.size();r<s;r++)this.byteWidths[r]=c.lookup(r,Rt).asNumber()}return n.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new Oz("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(L.of("Root")),Encrypt:this.dict.get(L.of("Encrypt")),Info:this.dict.get(L.of("Info")),ID:this.dict.get(L.of("ID"))};var t=this.parseEntries();return t},n.prototype.parseEntries=function(){for(var t=[],e=this.byteWidths,i=e[0],r=e[1],s=e[2],a=0,o=this.subsections.length;a<o;a++)for(var c=this.subsections[a],l=c.firstObjectNumber,u=c.length,d=0;d<u;d++){for(var f=0,p=0,g=i;p<g;p++)f=f<<8|this.bytes.next();for(var m=0,p=0,g=r;p<g;p++)m=m<<8|this.bytes.next();for(var y=0,p=0,g=s;p<g;p++)y=y<<8|this.bytes.next();i===0&&(f=1);var v=l+d,w={ref:Te.of(v,y),offset:m,deleted:f===0,inObjectStream:f===2};t.push(w)}return t},n.forStream=function(t){return new n(t)},n}(),Oht=function(n){rt(t,n);function t(e,i,r,s){i===void 0&&(i=1/0),r===void 0&&(r=!1),s===void 0&&(s=!1);var a=n.call(this,GF.of(e),NL.create(),s)||this;return a.alreadyParsed=!1,a.parsedObjects=0,a.shouldWaitForTick=function(){return a.parsedObjects+=1,a.parsedObjects%a.objectsPerTick===0},a.objectsPerTick=i,a.throwOnInvalidObject=r,a}return t.prototype.parseDocument=function(){return Ut(this,void 0,void 0,function(){var e,i;return Ht(this,function(r){switch(r.label){case 0:if(this.alreadyParsed)throw new Oz("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),r.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(r.sent(),i=this.bytes.offset(),i===e)throw new aat(this.bytes.position());return e=i,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(Te.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(Te.of(0))),[2,this.context]}})})},t.prototype.maybeRecoverRoot=function(){var e=function(u){return u instanceof Ot&&u.lookup(L.of("Type"))===L.of("Catalog")},i=this.context.lookup(this.context.trailerInfo.Root);if(!e(i))for(var r=this.context.enumerateIndirectObjects(),s=0,a=r.length;s<a;s++){var o=r[s],c=o[0],l=o[1];e(l)&&(this.context.trailerInfo.Root=c)}},t.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(je.header)){var e=this.parseRawInt();this.bytes.assertNext(O.Period);var i=this.parseRawInt(),r=NF.forVersion(e,i);return this.skipBinaryHeaderComment(),r}this.bytes.next()}throw new oat(this.bytes.position())},t.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var e=this.parseRawInt();this.skipWhitespaceAndComments();var i=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(je.obj))throw new lat(this.bytes.position(),je.obj);return Te.of(e,i)},t.prototype.matchIndirectObjectHeader=function(){var e=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(e),!1}},t.prototype.parseIndirectObject=function(){return Ut(this,void 0,void 0,function(){var e,i;return Ht(this,function(r){switch(r.label){case 0:return e=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),i=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(je.endobj),i instanceof aE&&i.dict.lookup(L.of("Type"))===L.of("ObjStm")?[4,Iht.forStream(i,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return r.sent(),[3,3];case 2:i instanceof aE&&i.dict.lookup(L.of("Type"))===L.of("XRef")?Lht.forStream(i).parseIntoContext():this.context.assign(e,i),r.label=3;case 3:return[2,e]}})})},t.prototype.tryToParseInvalidIndirectObject=function(){var e=this.bytes.position(),i="Trying to parse invalid object: "+JSON.stringify(e)+")";if(this.throwOnInvalidObject)throw new Error(i);console.warn(i);var r=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+r),this.skipWhitespaceAndComments();for(var s=this.bytes.offset(),a=!0;!this.bytes.done()&&(this.matchKeyword(je.endobj)&&(a=!1),!!a);)this.bytes.next();if(a)throw new iat(e);var o=this.bytes.offset()-je.endobj.length,c=Y9.of(this.bytes.slice(s,o));return this.context.assign(r,c),r},t.prototype.parseIndirectObjects=function(){return Ut(this,void 0,void 0,function(){var e;return Ht(this,function(i){switch(i.label){case 0:this.skipWhitespaceAndComments(),i.label=1;case 1:if(!(!this.bytes.done()&&Lr[this.bytes.peek()]))return[3,8];e=this.bytes.offset(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return i.sent(),[3,5];case 4:return i.sent(),this.bytes.moveTo(e),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,G1()]:[3,7];case 6:i.sent(),i.label=7;case 7:return[3,1];case 8:return[2]}})})},t.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(je.xref)){this.skipWhitespaceAndComments();for(var e=-1,i=X9.createEmpty();!this.bytes.done()&&Lr[this.bytes.peek()];){var r=this.parseRawInt();this.skipWhitespaceAndComments();var s=this.parseRawInt();this.skipWhitespaceAndComments();var a=this.bytes.peek();if(a===O.n||a===O.f){var o=Te.of(e,s);this.bytes.next()===O.n?i.addEntry(o,r):i.addDeletedEntry(o,r),e+=1}else e=r;this.skipWhitespaceAndComments()}return i}},t.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(je.trailer)){this.skipWhitespaceAndComments();var e=this.parseDict(),i=this.context;i.trailerInfo={Root:e.get(L.of("Root"))||i.trailerInfo.Root,Encrypt:e.get(L.of("Encrypt"))||i.trailerInfo.Encrypt,Info:e.get(L.of("Info"))||i.trailerInfo.Info,ID:e.get(L.of("ID"))||i.trailerInfo.ID}}},t.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(je.startxref)){this.skipWhitespaceAndComments();var e=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(je.eof),this.skipWhitespaceAndComments(),this.matchKeyword(je.eof),this.skipWhitespaceAndComments(),Kz.forLastCrossRefSectionOffset(e)}},t.prototype.parseDocumentSection=function(){return Ut(this,void 0,void 0,function(){return Ht(this,function(e){switch(e.label){case 0:return[4,this.parseIndirectObjects()];case 1:return e.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},t.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var e=this.bytes.offset(),i=this.bytes.peek(),r=i>=O.Space&&i<=O.Tilde;if(r&&(this.matchKeyword(je.xref)||this.matchKeyword(je.trailer)||this.matchKeyword(je.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(e);break}this.bytes.next()}},t.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var e=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(e)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},t.forBytesWithOptions=function(e,i,r,s){return new t(e,i,r,s)},t}(KX),Xl=function(n){return 1<<n},EA;(function(n){n[n.Invisible=Xl(0)]="Invisible",n[n.Hidden=Xl(1)]="Hidden",n[n.Print=Xl(2)]="Print",n[n.NoZoom=Xl(3)]="NoZoom",n[n.NoRotate=Xl(4)]="NoRotate",n[n.NoView=Xl(5)]="NoView",n[n.ReadOnly=Xl(6)]="ReadOnly",n[n.Locked=Xl(7)]="Locked",n[n.ToggleNoView=Xl(8)]="ToggleNoView",n[n.LockedContents=Xl(9)]="LockedContents"})(EA||(EA={}));var XF=function(n){return n instanceof L?n:L.of(n)},Dt=function(n){return n instanceof Rt?n:Rt.of(n)},Wt=function(n){return n instanceof Rt?n.asNumber():n},dE;(function(n){n.Degrees="degrees",n.Radians="radians"})(dE||(dE={}));var Pt=function(n){return K(n,"degreeAngle",["number"]),{type:dE.Degrees,angle:n}},YX=dE.Radians,ZX=dE.Degrees,QX=function(n){return n*Math.PI/180},Bht=function(n){return n*180/Math.PI},gr=function(n){return n.type===YX?n.angle:n.type===ZX?QX(n.angle):Bk("Invalid rotation: "+JSON.stringify(n))},JX=function(n){return n.type===YX?Bht(n.angle):n.type===ZX?n.angle:Bk("Invalid rotation: "+JSON.stringify(n))},md=function(n){n===void 0&&(n=0);var t=n/90%4;return t===0?0:t===1?90:t===2?180:t===3?270:0},Lv=function(n,t){t===void 0&&(t=0);var e=md(t);return e===90||e===270?{width:n.height,height:n.width}:{width:n.width,height:n.height}},zht=function(n,t,e){t===void 0&&(t=0),e===void 0&&(e=0);var i=n.x,r=n.y,s=n.width,a=n.height,o=md(e),c=t/2;return o===0?{x:i-c,y:r-c,width:s,height:a}:o===90?{x:i-a+c,y:r-c,width:a,height:s}:o===180?{x:i-s+c,y:r-a+c,width:s,height:a}:o===270?{x:i-c,y:r-s+c,width:a,height:s}:{x:i-c,y:r-c,width:s,height:a}},$X=function(){return re.of(ue.ClipNonZero)},iD=Math.cos,rD=Math.sin,sD=Math.tan,qF=function(n,t,e,i,r,s){return re.of(ue.ConcatTransformationMatrix,[Dt(n),Dt(t),Dt(e),Dt(i),Dt(r),Dt(s)])},So=function(n,t){return qF(1,0,0,1,n,t)},fE=function(n,t){return qF(n,0,0,t,0,0)},dx=function(n){return qF(iD(Wt(n)),rD(Wt(n)),-rD(Wt(n)),iD(Wt(n)),0,0)},i2=function(n){return dx(QX(Wt(n)))},lj=function(n,t){return qF(1,sD(Wt(n)),sD(Wt(t)),1,0,0)},KF=function(n,t){return re.of(ue.SetLineDashPattern,["["+n.map(Dt).join(" ")+"]",Dt(t)])},jy;(function(n){n[n.Butt=0]="Butt",n[n.Round=1]="Round",n[n.Projecting=2]="Projecting"})(jy||(jy={}));var YF=function(n){return re.of(ue.SetLineCapStyle,[Dt(n)])},mU;(function(n){n[n.Miter=0]="Miter",n[n.Round=1]="Round",n[n.Bevel=2]="Bevel"})(mU||(mU={}));var Ov=function(n){return re.of(ue.SetGraphicsStateParams,[XF(n)])},yi=function(){return re.of(ue.PushGraphicsState)},bi=function(){return re.of(ue.PopGraphicsState)},Jk=function(n){return re.of(ue.SetLineWidth,[Dt(n)])},Fa=function(n,t,e,i,r,s){return re.of(ue.AppendBezierCurve,[Dt(n),Dt(t),Dt(e),Dt(i),Dt(r),Dt(s)])},r2=function(n,t,e,i){return re.of(ue.CurveToReplicateInitialPoint,[Dt(n),Dt(t),Dt(e),Dt(i)])},Kp=function(){return re.of(ue.ClosePath)},eh=function(n,t){return re.of(ue.MoveTo,[Dt(n),Dt(t)])},zi=function(n,t){return re.of(ue.LineTo,[Dt(n),Dt(t)])},$k=function(){return re.of(ue.StrokePath)},cj=function(){return re.of(ue.FillNonZero)},hj=function(){return re.of(ue.FillNonZeroAndStroke)},tq=function(){return re.of(ue.EndPath)},jht=function(){return re.of(ue.NextLine)},eq=function(n){return re.of(ue.ShowText,[n])},nq=function(){return re.of(ue.BeginText)},iq=function(){return re.of(ue.EndText)},uj=function(n,t){return re.of(ue.SetFontAndSize,[XF(n),Dt(t)])},Uht=function(n){return re.of(ue.SetTextLineHeight,[Dt(n)])},vU;(function(n){n[n.Fill=0]="Fill",n[n.Outline=1]="Outline",n[n.FillAndOutline=2]="FillAndOutline",n[n.Invisible=3]="Invisible",n[n.FillAndClip=4]="FillAndClip",n[n.OutlineAndClip=5]="OutlineAndClip",n[n.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",n[n.Clip=7]="Clip"})(vU||(vU={}));var Hht=function(n,t,e,i,r,s){return re.of(ue.SetTextMatrix,[Dt(n),Dt(t),Dt(e),Dt(i),Dt(r),Dt(s)])},rq=function(n,t,e,i,r){return Hht(iD(Wt(n)),rD(Wt(n))+sD(Wt(t)),-rD(Wt(n))+sD(Wt(e)),iD(Wt(n)),i,r)},dj=function(n){return re.of(ue.DrawObject,[XF(n)])},Wht=function(n){return re.of(ue.NonStrokingColorGray,[Dt(n)])},Vht=function(n){return re.of(ue.StrokingColorGray,[Dt(n)])},Ght=function(n,t,e){return re.of(ue.NonStrokingColorRgb,[Dt(n),Dt(t),Dt(e)])},Xht=function(n,t,e){return re.of(ue.StrokingColorRgb,[Dt(n),Dt(t),Dt(e)])},qht=function(n,t,e,i){return re.of(ue.NonStrokingColorCmyk,[Dt(n),Dt(t),Dt(e),Dt(i)])},Kht=function(n,t,e,i){return re.of(ue.StrokingColorCmyk,[Dt(n),Dt(t),Dt(e),Dt(i)])},sq=function(n){return re.of(ue.BeginMarkedContent,[XF(n)])},aq=function(){return re.of(ue.EndMarkedContent)},Yp;(function(n){n.Grayscale="Grayscale",n.RGB="RGB",n.CMYK="CMYK"})(Yp||(Yp={}));var oq=function(n){return Pa(n,"gray",0,1),{type:Yp.Grayscale,gray:n}},he=function(n,t,e){return Pa(n,"red",0,1),Pa(t,"green",0,1),Pa(e,"blue",0,1),{type:Yp.RGB,red:n,green:t,blue:e}},lq=function(n,t,e,i){return Pa(n,"cyan",0,1),Pa(t,"magenta",0,1),Pa(e,"yellow",0,1),Pa(i,"key",0,1),{type:Yp.CMYK,cyan:n,magenta:t,yellow:e,key:i}},fj=Yp.Grayscale,pj=Yp.RGB,gj=Yp.CMYK,Bv=function(n){return n.type===fj?Wht(n.gray):n.type===pj?Ght(n.red,n.green,n.blue):n.type===gj?qht(n.cyan,n.magenta,n.yellow,n.key):Bk("Invalid color: "+JSON.stringify(n))},tT=function(n){return n.type===fj?Vht(n.gray):n.type===pj?Xht(n.red,n.green,n.blue):n.type===gj?Kht(n.cyan,n.magenta,n.yellow,n.key):Bk("Invalid color: "+JSON.stringify(n))},ls=function(n,t){return t===void 0&&(t=1),(n==null?void 0:n.length)===1?oq(n[0]*t):(n==null?void 0:n.length)===3?he(n[0]*t,n[1]*t,n[2]*t):(n==null?void 0:n.length)===4?lq(n[0]*t,n[1]*t,n[2]*t,n[3]*t):void 0},yU=function(n){return n.type===fj?[n.gray]:n.type===pj?[n.red,n.green,n.blue]:n.type===gj?[n.cyan,n.magenta,n.yellow,n.key]:Bk("Invalid color: "+JSON.stringify(n))},xt=0,St=0,te=0,ee=0,oS=0,lS=0,bU=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),Yht=function(n){for(var t,e=[],i=[],r="",s=!1,a=0,o=0,c=n;o<c.length;o++){var l=c[o];if(bU.has(l))a=bU.get(l),t&&(r.length>0&&(i[i.length]=+r),e[e.length]={cmd:t,args:i},i=[],r="",s=!1),t=l;else if([" ",","].includes(l)||l==="-"&&r.length>0&&r[r.length-1]!=="e"||l==="."&&s){if(r.length===0)continue;i.length===a?(e[e.length]={cmd:t,args:i},i=[+r],t==="M"&&(t="L"),t==="m"&&(t="l")):i[i.length]=+r,s=l===".",r=["-","."].includes(l)?l:""}else r+=l,l==="."&&(s=!0)}return r.length>0&&(i.length===a?(e[e.length]={cmd:t,args:i},i=[+r],t==="M"&&(t="L"),t==="m"&&(t="l")):i[i.length]=+r),e[e.length]={cmd:t,args:i},e},Zht=function(n){xt=St=te=ee=oS=lS=0;for(var t=[],e=0;e<n.length;e++){var i=n[e];if(i.cmd&&typeof wU[i.cmd]=="function"){var r=wU[i.cmd](i.args);Array.isArray(r)?t=t.concat(r):t.push(r)}}return t},wU={M:function(n){return xt=n[0],St=n[1],te=ee=null,oS=xt,lS=St,eh(xt,St)},m:function(n){return xt+=n[0],St+=n[1],te=ee=null,oS=xt,lS=St,eh(xt,St)},C:function(n){return xt=n[4],St=n[5],te=n[2],ee=n[3],Fa(n[0],n[1],n[2],n[3],n[4],n[5])},c:function(n){var t=Fa(n[0]+xt,n[1]+St,n[2]+xt,n[3]+St,n[4]+xt,n[5]+St);return te=xt+n[2],ee=St+n[3],xt+=n[4],St+=n[5],t},S:function(n){(te===null||ee===null)&&(te=xt,ee=St);var t=Fa(xt-(te-xt),St-(ee-St),n[0],n[1],n[2],n[3]);return te=n[0],ee=n[1],xt=n[2],St=n[3],t},s:function(n){(te===null||ee===null)&&(te=xt,ee=St);var t=Fa(xt-(te-xt),St-(ee-St),xt+n[0],St+n[1],xt+n[2],St+n[3]);return te=xt+n[0],ee=St+n[1],xt+=n[2],St+=n[3],t},Q:function(n){return te=n[0],ee=n[1],xt=n[2],St=n[3],r2(n[0],n[1],xt,St)},q:function(n){var t=r2(n[0]+xt,n[1]+St,n[2]+xt,n[3]+St);return te=xt+n[0],ee=St+n[1],xt+=n[2],St+=n[3],t},T:function(n){te===null||ee===null?(te=xt,ee=St):(te=xt-(te-xt),ee=St-(ee-St));var t=r2(te,ee,n[0],n[1]);return te=xt-(te-xt),ee=St-(ee-St),xt=n[0],St=n[1],t},t:function(n){te===null||ee===null?(te=xt,ee=St):(te=xt-(te-xt),ee=St-(ee-St));var t=r2(te,ee,xt+n[0],St+n[1]);return xt+=n[0],St+=n[1],t},A:function(n){var t=xU(xt,St,n);return xt=n[5],St=n[6],t},a:function(n){n[5]+=xt,n[6]+=St;var t=xU(xt,St,n);return xt=n[5],St=n[6],t},L:function(n){return xt=n[0],St=n[1],te=ee=null,zi(xt,St)},l:function(n){return xt+=n[0],St+=n[1],te=ee=null,zi(xt,St)},H:function(n){return xt=n[0],te=ee=null,zi(xt,St)},h:function(n){return xt+=n[0],te=ee=null,zi(xt,St)},V:function(n){return St=n[0],te=ee=null,zi(xt,St)},v:function(n){return St+=n[0],te=ee=null,zi(xt,St)},Z:function(){var n=Kp();return xt=oS,St=lS,n},z:function(){var n=Kp();return xt=oS,St=lS,n}},xU=function(n,t,e){for(var i=e[0],r=e[1],s=e[2],a=e[3],o=e[4],c=e[5],l=e[6],u=Qht(c,l,i,r,a,o,s,n,t),d=[],f=0,p=u;f<p.length;f++){var g=p[f],m=Jht.apply(void 0,g);d.push(Fa.apply(void 0,m))}return d},Qht=function(n,t,e,i,r,s,a,o,c){var l=a*(Math.PI/180),u=Math.sin(l),d=Math.cos(l);e=Math.abs(e),i=Math.abs(i),te=d*(o-n)*.5+u*(c-t)*.5,ee=d*(c-t)*.5-u*(o-n)*.5;var f=te*te/(e*e)+ee*ee/(i*i);f>1&&(f=Math.sqrt(f),e*=f,i*=f);var p=d/e,g=u/e,m=-u/i,y=d/i,v=p*o+g*c,w=m*o+y*c,x=p*n+g*t,A=m*n+y*t,S=(x-v)*(x-v)+(A-w)*(A-w),C=1/S-.25;C<0&&(C=0);var k=Math.sqrt(C);s===r&&(k=-k);var T=.5*(v+x)-k*(A-w),R=.5*(w+A)+k*(x-v),F=Math.atan2(w-R,v-T),D=Math.atan2(A-R,x-T),U=D-F;U<0&&s===1?U+=2*Math.PI:U>0&&s===0&&(U-=2*Math.PI);for(var j=Math.ceil(Math.abs(U/(Math.PI*.5+.001))),V=[],Y=0;Y<j;Y++){var z=F+Y*U/j,B=F+(Y+1)*U/j;V[Y]=[T,R,z,B,e,i,u,d]}return V},Jht=function(n,t,e,i,r,s,a,o){var c=o*r,l=-a*s,u=a*r,d=o*s,f=.5*(i-e),p=8/3*Math.sin(f*.5)*Math.sin(f*.5)/Math.sin(f),g=n+Math.cos(e)-p*Math.sin(e),m=t+Math.sin(e)+p*Math.cos(e),y=n+Math.cos(i),v=t+Math.sin(i),w=y+p*Math.sin(i),x=v-p*Math.cos(i),A=[c*g+l*m,u*g+d*m,c*w+l*x,u*w+d*x,c*y+l*v,u*y+d*v];return A},$ht=function(n){return Zht(Yht(n))},tut=function(n,t){for(var e=[yi(),t.graphicsState&&Ov(t.graphicsState),nq(),Bv(t.color),uj(t.font,t.size),Uht(t.lineHeight),rq(gr(t.rotate),gr(t.xSkew),gr(t.ySkew),t.x,t.y)].filter(Boolean),i=0,r=n.length;i<r;i++)e.push(eq(n[i]),jht());return e.push(iq(),bi()),e},cq=function(n,t){return[yi(),t.graphicsState&&Ov(t.graphicsState),So(t.x,t.y),dx(gr(t.rotate)),fE(t.width,t.height),lj(gr(t.xSkew),gr(t.ySkew)),dj(n),bi()].filter(Boolean)},eut=function(n,t){return[yi(),t.graphicsState&&Ov(t.graphicsState),So(t.x,t.y),dx(gr(t.rotate)),fE(t.xScale,t.yScale),lj(gr(t.xSkew),gr(t.ySkew)),dj(n),bi()].filter(Boolean)},nut=function(n){var t,e;return[yi(),n.graphicsState&&Ov(n.graphicsState),n.color&&tT(n.color),Jk(n.thickness),KF((t=n.dashArray)!==null&&t!==void 0?t:[],(e=n.dashPhase)!==null&&e!==void 0?e:0),eh(n.start.x,n.start.y),n.lineCap&&YF(n.lineCap),eh(n.start.x,n.start.y),zi(n.end.x,n.end.y),$k(),bi()].filter(Boolean)},X1=function(n){var t,e;return[yi(),n.graphicsState&&Ov(n.graphicsState),n.color&&Bv(n.color),n.borderColor&&tT(n.borderColor),Jk(n.borderWidth),n.borderLineCap&&YF(n.borderLineCap),KF((t=n.borderDashArray)!==null&&t!==void 0?t:[],(e=n.borderDashPhase)!==null&&e!==void 0?e:0),So(n.x,n.y),dx(gr(n.rotate)),lj(gr(n.xSkew),gr(n.ySkew)),eh(0,0),zi(0,n.height),zi(n.width,n.height),zi(n.width,0),Kp(),n.color&&n.borderWidth?hj():n.color?cj():n.borderColor?$k():Kp(),bi()].filter(Boolean)},aD=4*((Math.sqrt(2)-1)/3),iut=function(n){var t=Wt(n.x),e=Wt(n.y),i=Wt(n.xScale),r=Wt(n.yScale);t-=i,e-=r;var s=i*aD,a=r*aD,o=t+i*2,c=e+r*2,l=t+i,u=e+r;return[yi(),eh(t,u),Fa(t,u-a,l-s,e,l,e),Fa(l+s,e,o,u-a,o,u),Fa(o,u+a,l+s,c,l,c),Fa(l-s,c,t,u+a,t,u),bi()]},rut=function(n){var t=Wt(n.x),e=Wt(n.y),i=Wt(n.xScale),r=Wt(n.yScale),s=-i,a=-r,o=i*aD,c=r*aD,l=s+i*2,u=a+r*2,d=s+i,f=a+r;return[So(t,e),dx(gr(n.rotate)),eh(s,f),Fa(s,f-c,d-o,a,d,a),Fa(d+o,a,l,f-c,l,f),Fa(l,f+c,d+o,u,d,u),Fa(d-o,u,s,f+c,s,f)]},XL=function(n){var t,e,i;return ce([yi(),n.graphicsState&&Ov(n.graphicsState),n.color&&Bv(n.color),n.borderColor&&tT(n.borderColor),Jk(n.borderWidth),n.borderLineCap&&YF(n.borderLineCap),KF((t=n.borderDashArray)!==null&&t!==void 0?t:[],(e=n.borderDashPhase)!==null&&e!==void 0?e:0)],n.rotate===void 0?iut({x:n.x,y:n.y,xScale:n.xScale,yScale:n.yScale}):rut({x:n.x,y:n.y,xScale:n.xScale,yScale:n.yScale,rotate:(i=n.rotate)!==null&&i!==void 0?i:Pt(0)}),[n.color&&n.borderWidth?hj():n.color?cj():n.borderColor?$k():Kp(),bi()]).filter(Boolean)},sut=function(n,t){var e,i,r;return ce([yi(),t.graphicsState&&Ov(t.graphicsState),So(t.x,t.y),dx(gr((e=t.rotate)!==null&&e!==void 0?e:Pt(0))),t.scale?fE(t.scale,-t.scale):fE(1,-1),t.color&&Bv(t.color),t.borderColor&&tT(t.borderColor),t.borderWidth&&Jk(t.borderWidth),t.borderLineCap&&YF(t.borderLineCap),KF((i=t.borderDashArray)!==null&&i!==void 0?i:[],(r=t.borderDashPhase)!==null&&r!==void 0?r:0)],$ht(n),[t.color&&t.borderWidth?hj():t.color?cj():t.borderColor?$k():Kp(),bi()]).filter(Boolean)},aut=function(n){var t=Wt(n.size),e=-1+.75,i=-1+.51,r=1-.525,s=1-.31,a=-1+.325,o=.3995/(r-i)+i;return[yi(),n.color&&tT(n.color),Jk(n.thickness),So(n.x,n.y),eh(a*t,o*t),zi(e*t,i*t),zi(s*t,r*t),$k(),bi()].filter(Boolean)},cg=function(n){return n.rotation===0?[So(0,0),i2(0)]:n.rotation===90?[So(n.width,0),i2(90)]:n.rotation===180?[So(n.width,n.height),i2(180)]:n.rotation===270?[So(0,n.height),i2(270)]:[]},s2=function(n){var t=X1({x:n.x,y:n.y,width:n.width,height:n.height,borderWidth:n.borderWidth,color:n.color,borderColor:n.borderColor,rotate:Pt(0),xSkew:Pt(0),ySkew:Pt(0)});if(!n.filled)return t;var e=Wt(n.width),i=Wt(n.height),r=Math.min(e,i)/2,s=aut({x:e/2,y:i/2,size:r,thickness:n.thickness,color:n.markColor});return ce([yi()],t,s,[bi()])},a2=function(n){var t=Wt(n.width),e=Wt(n.height),i=Math.min(t,e)/2,r=XL({x:n.x,y:n.y,xScale:i,yScale:i,color:n.color,borderColor:n.borderColor,borderWidth:n.borderWidth});if(!n.filled)return r;var s=XL({x:n.x,y:n.y,xScale:i*.45,yScale:i*.45,color:n.dotColor,borderColor:void 0,borderWidth:0});return ce([yi()],r,s,[bi()])},SU=function(n){var t=Wt(n.x),e=Wt(n.y),i=Wt(n.width),r=Wt(n.height),s=X1({x:t,y:e,width:i,height:r,borderWidth:n.borderWidth,color:n.color,borderColor:n.borderColor,rotate:Pt(0),xSkew:Pt(0),ySkew:Pt(0)}),a=mj(n.textLines,{color:n.textColor,font:n.font,size:n.fontSize,rotate:Pt(0),xSkew:Pt(0),ySkew:Pt(0)});return ce([yi()],s,a,[bi()])},mj=function(n,t){for(var e=[nq(),Bv(t.color),uj(t.font,t.size)],i=0,r=n.length;i<r;i++){var s=n[i],a=s.encoded,o=s.x,c=s.y;e.push(rq(gr(t.rotate),gr(t.xSkew),gr(t.ySkew),o,c),eq(a))}return e.push(iq()),e},hq=function(n){var t=Wt(n.x),e=Wt(n.y),i=Wt(n.width),r=Wt(n.height),s=Wt(n.borderWidth),a=Wt(n.padding),o=t+s/2+a,c=e+s/2+a,l=i-(s/2+a)*2,u=r-(s/2+a)*2,d=[eh(o,c),zi(o,c+u),zi(o+l,c+u),zi(o+l,c),Kp(),$X(),tq()],f=X1({x:t,y:e,width:i,height:r,borderWidth:n.borderWidth,color:n.color,borderColor:n.borderColor,rotate:Pt(0),xSkew:Pt(0),ySkew:Pt(0)}),p=mj(n.textLines,{color:n.textColor,font:n.font,size:n.fontSize,rotate:Pt(0),xSkew:Pt(0),ySkew:Pt(0)}),g=ce([sq("Tx"),yi()],p,[bi(),aq()]);return ce([yi()],f,d,g,[bi()])},out=function(n){for(var t=Wt(n.x),e=Wt(n.y),i=Wt(n.width),r=Wt(n.height),s=Wt(n.lineHeight),a=Wt(n.borderWidth),o=Wt(n.padding),c=t+a/2+o,l=e+a/2+o,u=i-(a/2+o)*2,d=r-(a/2+o)*2,f=[eh(c,l),zi(c,l+d),zi(c+u,l+d),zi(c+u,l),Kp(),$X(),tq()],p=X1({x:t,y:e,width:i,height:r,borderWidth:n.borderWidth,color:n.color,borderColor:n.borderColor,rotate:Pt(0),xSkew:Pt(0),ySkew:Pt(0)}),g=[],m=0,y=n.selectedLines.length;m<y;m++){var v=n.textLines[n.selectedLines[m]];g.push.apply(g,X1({x:v.x-o,y:v.y-(s-v.height)/2,width:i-a,height:v.height+(s-v.height)/2,borderWidth:0,color:n.selectedColor,borderColor:void 0,rotate:Pt(0),xSkew:Pt(0),ySkew:Pt(0)}))}var w=mj(n.textLines,{color:n.textColor,font:n.font,size:n.fontSize,rotate:Pt(0),xSkew:Pt(0),ySkew:Pt(0)}),x=ce([sq("Tx"),yi()],w,[bi(),aq()]);return ce([yi()],p,g,f,x,[bi()])},lut=function(n){rt(t,n);function t(){var e=this,i="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return e=n.call(this,i)||this,e}return t}(Error),cut=function(n){rt(t,n);function t(){var e=this,i="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return e=n.call(this,i)||this,e}return t}(Error),hut=function(n){rt(t,n);function t(){var e=this,i="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return e=n.call(this,i)||this,e}return t}(Error),uut=function(n){rt(t,n);function t(){var e=this,i="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return e=n.call(this,i)||this,e}return t}(Error),dut=function(n){rt(t,n);function t(e){var i=this,r='PDFDocument has no form field with the name "'+e+'"';return i=n.call(this,r)||this,i}return t}(Error),ug=function(n){rt(t,n);function t(e,i,r){var s,a,o=this,c=i==null?void 0:i.name,l=(a=(s=r==null?void 0:r.constructor)===null||s===void 0?void 0:s.name)!==null&&a!==void 0?a:r,u='Expected field "'+e+'" to be of type '+c+", "+("but it is actually of type "+l);return o=n.call(this,u)||this,o}return t}(Error);(function(n){rt(t,n);function t(e){var i=this,r='Failed to select check box due to missing onValue: "'+e+'"';return i=n.call(this,r)||this,i}return t})(Error);var uq=function(n){rt(t,n);function t(e){var i=this,r='A field already exists with the specified name: "'+e+'"';return i=n.call(this,r)||this,i}return t}(Error),fut=function(n){rt(t,n);function t(e){var i=this,r='Field name contains invalid component: "'+e+'"';return i=n.call(this,r)||this,i}return t}(Error);(function(n){rt(t,n);function t(e){var i=this,r='A non-terminal field already exists with the specified name: "'+e+'"';return i=n.call(this,r)||this,i}return t})(Error);var put=function(n){rt(t,n);function t(e){var i=this,r="Reading rich text fields is not supported: Attempted to read rich text field: "+e;return i=n.call(this,r)||this,i}return t}(Error),gut=function(n){rt(t,n);function t(e,i){var r=this,s="Failed to layout combed text as lineLength="+e+" is greater than cellCount="+i;return r=n.call(this,s)||this,r}return t}(Error),mut=function(n){rt(t,n);function t(e,i,r){var s=this,a="Attempted to set text with length="+e+" for TextField with maxLength="+i+" and name="+r;return s=n.call(this,a)||this,s}return t}(Error),vut=function(n){rt(t,n);function t(e,i,r){var s=this,a="Attempted to set maxLength="+i+", which is less than "+e+", the length of this field's current value (name="+r+")";return s=n.call(this,a)||this,s}return t}(Error),hi;(function(n){n[n.Left=0]="Left",n[n.Center=1]="Center",n[n.Right=2]="Right"})(hi||(hi={}));var dq=4,fq=500,pq=function(n,t,e,i){i===void 0&&(i=!1);for(var r=dq;r<fq;){for(var s=0,a=0,o=n.length;a<o;a++){s+=1;for(var c=n[a],l=c.split(" "),u=e.width,d=0,f=l.length;d<f;d++){var p=d===f-1,g=p?l[d]:l[d]+" ",m=t.widthOfTextAtSize(g,r);u-=m,u<=0&&(s+=1,u=e.width-m)}}if(!i&&s>n.length)return r-1;var y=t.heightAtSize(r),v=y+y*.2,w=v*s;if(w>Math.abs(e.height))return r-1;r+=1}return r},yut=function(n,t,e,i){for(var r=e.width/i,s=e.height,a=dq,o=oit(n);a<fq;){for(var c=0,l=o.length;c<l;c++){var u=o[c],d=t.widthOfTextAtSize(u,a)>r*.75;if(d)return a-1}var f=t.heightAtSize(a,{descender:!1});if(f>s)return a-1;a+=1}return a},but=function(n){for(var t=n.length;t>0;t--)if(/\s/.test(n[t]))return t},wut=function(n,t,e,i){for(var r,s=n.length;s>0;){var a=n.substring(0,s),o=e.encodeText(a),c=e.widthOfTextAtSize(a,i);if(c<t){var l=n.substring(s)||void 0;return{line:a,encoded:o,width:c,remainder:l}}s=(r=but(a))!==null&&r!==void 0?r:0}return{line:n,encoded:e.encodeText(n),width:e.widthOfTextAtSize(n,i),remainder:void 0}},gq=function(n,t){var e=t.alignment,i=t.fontSize,r=t.font,s=t.bounds,a=e7(Ok(n));(i===void 0||i===0)&&(i=pq(a,r,s,!0));for(var o=r.heightAtSize(i),c=o+o*.2,l=[],u=s.x,d=s.y,f=s.x+s.width,p=s.y+s.height,g=s.y+s.height,m=0,y=a.length;m<y;m++)for(var v=a[m];v!==void 0;){var w=wut(v,s.width,r,i),x=w.line,A=w.encoded,S=w.width,C=w.remainder,k=e===hi.Left?s.x:e===hi.Center?s.x+s.width/2-S/2:e===hi.Right?s.x+s.width-S:s.x;g-=c,k<u&&(u=k),g<d&&(d=g),k+S>f&&(f=k+S),g+o>p&&(p=g+o),l.push({text:x,encoded:A,width:S,height:o,x:k,y:g}),v=C==null?void 0:C.trim()}return{fontSize:i,lineHeight:c,lines:l,bounds:{x:u,y:d,width:f-u,height:p-d}}},xut=function(n,t){var e=t.fontSize,i=t.font,r=t.bounds,s=t.cellCount,a=n7(Ok(n));if(a.length>s)throw new gut(a.length,s);(e===void 0||e===0)&&(e=yut(a,i,r,s));for(var o=r.width/s,c=i.heightAtSize(e,{descender:!1}),l=r.y+(r.height/2-c/2),u=[],d=r.x,f=r.y,p=r.x+r.width,g=r.y+r.height,m=0,y=0;m<s;){var v=i7(a,y),w=v[0],x=v[1],A=i.encodeText(w),S=i.widthOfTextAtSize(w,e),C=r.x+(o*m+o/2),k=C-S/2;k<d&&(d=k),l<f&&(f=l),k+S>p&&(p=k+S),l+c>g&&(g=l+c),u.push({text:a,encoded:A,width:S,height:c,x:k,y:l}),m+=1,y+=x}return{fontSize:e,cells:u,bounds:{x:d,y:f,width:p-d,height:g-f}}},oD=function(n,t){var e=t.alignment,i=t.fontSize,r=t.font,s=t.bounds,a=n7(Ok(n));(i===void 0||i===0)&&(i=pq([a],r,s));var o=r.encodeText(a),c=r.widthOfTextAtSize(a,i),l=r.heightAtSize(i,{descender:!1}),u=e===hi.Left?s.x:e===hi.Center?s.x+s.width/2-c/2:e===hi.Right?s.x+s.width-c:s.x,d=s.y+(s.height/2-l/2);return{fontSize:i,line:{text:a,encoded:o,width:c,height:l,x:u,y:d},bounds:{x:u,y:d,width:c,height:l}}},fx=function(n){return"normal"in n?n:{normal:n}},Sut=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,Zp=function(n){var t,e,i=(t=n.getDefaultAppearance())!==null&&t!==void 0?t:"",r=(e=Tz(i,Sut).match)!==null&&e!==void 0?e:[],s=Number(r[2]);return isFinite(s)?s:void 0},Aut=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,Oo=function(n){var t,e=(t=n.getDefaultAppearance())!==null&&t!==void 0?t:"",i=Tz(e,Aut).match,r=i??[],s=r[1],a=r[2],o=r[3],c=r[4],l=r[5];if(l==="g"&&s)return oq(Number(s));if(l==="rg"&&s&&a&&o)return he(Number(s),Number(a),Number(o));if(l==="k"&&s&&a&&o&&c)return lq(Number(s),Number(a),Number(o),Number(c))},Bo=function(n,t,e,i){var r;i===void 0&&(i=0);var s=[Bv(t).toString(),uj((r=e==null?void 0:e.name)!==null&&r!==void 0?r:"dummy__noop",i).toString()].join(`
`);n.setDefaultAppearance(s)},Eut=function(n,t){var e,i,r,s=Oo(t),a=Oo(n.acroField),o=t.getRectangle(),c=t.getAppearanceCharacteristics(),l=t.getBorderStyle(),u=(e=l==null?void 0:l.getWidth())!==null&&e!==void 0?e:0,d=md(c==null?void 0:c.getRotation()),f=Lv(o,d),p=f.width,g=f.height,m=cg(Nt(Nt({},o),{rotation:d})),y=he(0,0,0),v=(i=ls(c==null?void 0:c.getBorderColor()))!==null&&i!==void 0?i:y,w=ls(c==null?void 0:c.getBackgroundColor()),x=ls(c==null?void 0:c.getBackgroundColor(),.8),A=(r=s??a)!==null&&r!==void 0?r:y;Bo(s?t:n.acroField,A);var S={x:0+u/2,y:0+u/2,width:p-u,height:g-u,thickness:1.5,borderWidth:u,borderColor:v,markColor:A};return{normal:{on:ce(m,s2(Nt(Nt({},S),{color:w,filled:!0}))),off:ce(m,s2(Nt(Nt({},S),{color:w,filled:!1})))},down:{on:ce(m,s2(Nt(Nt({},S),{color:x,filled:!0}))),off:ce(m,s2(Nt(Nt({},S),{color:x,filled:!1})))}}},_ut=function(n,t){var e,i,r,s=Oo(t),a=Oo(n.acroField),o=t.getRectangle(),c=t.getAppearanceCharacteristics(),l=t.getBorderStyle(),u=(e=l==null?void 0:l.getWidth())!==null&&e!==void 0?e:0,d=md(c==null?void 0:c.getRotation()),f=Lv(o,d),p=f.width,g=f.height,m=cg(Nt(Nt({},o),{rotation:d})),y=he(0,0,0),v=(i=ls(c==null?void 0:c.getBorderColor()))!==null&&i!==void 0?i:y,w=ls(c==null?void 0:c.getBackgroundColor()),x=ls(c==null?void 0:c.getBackgroundColor(),.8),A=(r=s??a)!==null&&r!==void 0?r:y;Bo(s?t:n.acroField,A);var S={x:p/2,y:g/2,width:p-u,height:g-u,borderWidth:u,borderColor:v,dotColor:A};return{normal:{on:ce(m,a2(Nt(Nt({},S),{color:w,filled:!0}))),off:ce(m,a2(Nt(Nt({},S),{color:w,filled:!1})))},down:{on:ce(m,a2(Nt(Nt({},S),{color:x,filled:!0}))),off:ce(m,a2(Nt(Nt({},S),{color:x,filled:!1})))}}},Cut=function(n,t,e){var i,r,s,a,o,c=Oo(t),l=Oo(n.acroField),u=Zp(t),d=Zp(n.acroField),f=t.getRectangle(),p=t.getAppearanceCharacteristics(),g=t.getBorderStyle(),m=p==null?void 0:p.getCaptions(),y=(i=m==null?void 0:m.normal)!==null&&i!==void 0?i:"",v=(s=(r=m==null?void 0:m.down)!==null&&r!==void 0?r:y)!==null&&s!==void 0?s:"",w=(a=g==null?void 0:g.getWidth())!==null&&a!==void 0?a:0,x=md(p==null?void 0:p.getRotation()),A=Lv(f,x),S=A.width,C=A.height,k=cg(Nt(Nt({},f),{rotation:x})),T=he(0,0,0),R=ls(p==null?void 0:p.getBorderColor()),F=ls(p==null?void 0:p.getBackgroundColor()),D=ls(p==null?void 0:p.getBackgroundColor(),.8),U={x:w,y:w,width:S-w*2,height:C-w*2},j=oD(y,{alignment:hi.Center,fontSize:u??d,font:e,bounds:U}),V=oD(v,{alignment:hi.Center,fontSize:u??d,font:e,bounds:U}),Y=Math.min(j.fontSize,V.fontSize),z=(o=c??l)!==null&&o!==void 0?o:T;Bo(c||u!==void 0?t:n.acroField,z,e,Y);var B={x:0+w/2,y:0+w/2,width:S-w,height:C-w,borderWidth:w,borderColor:R,textColor:z,font:e.name,fontSize:Y};return{normal:ce(k,SU(Nt(Nt({},B),{color:F,textLines:[j.line]}))),down:ce(k,SU(Nt(Nt({},B),{color:D,textLines:[V.line]})))}},kut=function(n,t,e){var i,r,s,a,o=Oo(t),c=Oo(n.acroField),l=Zp(t),u=Zp(n.acroField),d=t.getRectangle(),f=t.getAppearanceCharacteristics(),p=t.getBorderStyle(),g=(i=n.getText())!==null&&i!==void 0?i:"",m=(r=p==null?void 0:p.getWidth())!==null&&r!==void 0?r:0,y=md(f==null?void 0:f.getRotation()),v=Lv(d,y),w=v.width,x=v.height,A=cg(Nt(Nt({},d),{rotation:y})),S=he(0,0,0),C=ls(f==null?void 0:f.getBorderColor()),k=ls(f==null?void 0:f.getBackgroundColor()),T,R,F=n.isCombed()?0:1,D={x:m+F,y:m+F,width:w-(m+F)*2,height:x-(m+F)*2};if(n.isMultiline()){var U=gq(g,{alignment:n.getAlignment(),fontSize:l??u,font:e,bounds:D});T=U.lines,R=U.fontSize}else if(n.isCombed()){var U=xut(g,{fontSize:l??u,font:e,bounds:D,cellCount:(s=n.getMaxLength())!==null&&s!==void 0?s:0});T=U.cells,R=U.fontSize}else{var U=oD(g,{alignment:n.getAlignment(),fontSize:l??u,font:e,bounds:D});T=[U.line],R=U.fontSize}var j=(a=o??c)!==null&&a!==void 0?a:S;Bo(o||l!==void 0?t:n.acroField,j,e,R);var V={x:0+m/2,y:0+m/2,width:w-m,height:x-m,borderWidth:m??0,borderColor:C,textColor:j,font:e.name,fontSize:R,color:k,textLines:T,padding:F};return ce(A,hq(V))},Tut=function(n,t,e){var i,r,s,a=Oo(t),o=Oo(n.acroField),c=Zp(t),l=Zp(n.acroField),u=t.getRectangle(),d=t.getAppearanceCharacteristics(),f=t.getBorderStyle(),p=(i=n.getSelected()[0])!==null&&i!==void 0?i:"",g=(r=f==null?void 0:f.getWidth())!==null&&r!==void 0?r:0,m=md(d==null?void 0:d.getRotation()),y=Lv(u,m),v=y.width,w=y.height,x=cg(Nt(Nt({},u),{rotation:m})),A=he(0,0,0),S=ls(d==null?void 0:d.getBorderColor()),C=ls(d==null?void 0:d.getBackgroundColor()),k=1,T={x:g+k,y:g+k,width:v-(g+k)*2,height:w-(g+k)*2},R=oD(p,{alignment:hi.Left,fontSize:c??l,font:e,bounds:T}),F=R.line,D=R.fontSize,U=(s=a??o)!==null&&s!==void 0?s:A;Bo(a||c!==void 0?t:n.acroField,U,e,D);var j={x:0+g/2,y:0+g/2,width:v-g,height:w-g,borderWidth:g??0,borderColor:S,textColor:U,font:e.name,fontSize:D,color:C,textLines:[F],padding:k};return ce(x,hq(j))},Put=function(n,t,e){var i,r,s=Oo(t),a=Oo(n.acroField),o=Zp(t),c=Zp(n.acroField),l=t.getRectangle(),u=t.getAppearanceCharacteristics(),d=t.getBorderStyle(),f=(i=d==null?void 0:d.getWidth())!==null&&i!==void 0?i:0,p=md(u==null?void 0:u.getRotation()),g=Lv(l,p),m=g.width,y=g.height,v=cg(Nt(Nt({},l),{rotation:p})),w=he(0,0,0),x=ls(u==null?void 0:u.getBorderColor()),A=ls(u==null?void 0:u.getBackgroundColor()),S=n.getOptions(),C=n.getSelected();n.isSorted()&&S.sort();for(var k="",T=0,R=S.length;T<R;T++)k+=S[T],T<R-1&&(k+=`
`);for(var F=1,D={x:f+F,y:f+F,width:m-(f+F)*2,height:y-(f+F)*2},U=gq(k,{alignment:hi.Left,fontSize:o??c,font:e,bounds:D}),j=U.lines,V=U.fontSize,Y=U.lineHeight,z=[],T=0,R=j.length;T<R;T++){var B=j[T];C.includes(B.text)&&z.push(T)}var G=he(153/255,193/255,218/255),H=(r=s??a)!==null&&r!==void 0?r:w;return Bo(s||o!==void 0?t:n.acroField,H,e,V),ce(v,out({x:0+f/2,y:0+f/2,width:m-f,height:y-f,borderWidth:f??0,borderColor:x,textColor:H,font:e.name,fontSize:V,color:A,textLines:j,lineHeight:Y,selectedColor:G,selectedLines:z,padding:F}))},mq=function(){function n(t,e,i){this.alreadyEmbedded=!1,K(t,"ref",[[Te,"PDFRef"]]),K(e,"doc",[[Is,"PDFDocument"]]),K(i,"embedder",[[UX,"PDFPageEmbedder"]]),this.ref=t,this.doc=e,this.width=i.width,this.height=i.height,this.embedder=i}return n.prototype.scale=function(t){return K(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},n.prototype.size=function(){return this.scale(1)},n.prototype.embed=function(){return Ut(this,void 0,void 0,function(){return Ht(this,function(t){switch(t.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t.sent(),this.alreadyEmbedded=!0,t.label=2;case 2:return[2]}})})},n.of=function(t,e,i){return new n(t,e,i)},n}(),za=function(){function n(t,e,i){this.modified=!0,K(t,"ref",[[Te,"PDFRef"]]),K(e,"doc",[[Is,"PDFDocument"]]),K(i,"embedder",[[Yz,"CustomFontEmbedder"],[QR,"StandardFontEmbedder"]]),this.ref=t,this.doc=e,this.name=i.fontName,this.embedder=i}return n.prototype.encodeText=function(t){return K(t,"text",["string"]),this.modified=!0,this.embedder.encodeText(t)},n.prototype.widthOfTextAtSize=function(t,e){return K(t,"text",["string"]),K(e,"size",["number"]),this.embedder.widthOfTextAtSize(t,e)},n.prototype.heightAtSize=function(t,e){var i;return K(t,"size",["number"]),it(e==null?void 0:e.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(t,{descender:(i=e==null?void 0:e.descender)!==null&&i!==void 0?i:!0})},n.prototype.sizeAtHeight=function(t){return K(t,"height",["number"]),this.embedder.sizeOfFontAtHeight(t)},n.prototype.getCharacterSet=function(){return this.embedder instanceof QR?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},n.prototype.embed=function(){return Ut(this,void 0,void 0,function(){return Ht(this,function(t){switch(t.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:t.sent(),this.modified=!1,t.label=2;case 2:return[2]}})})},n.of=function(t,e,i){return new n(t,e,i)},n}(),qL=function(){function n(t,e,i){K(t,"ref",[[Te,"PDFRef"]]),K(e,"doc",[[Is,"PDFDocument"]]),K(i,"embedder",[[Z9,"JpegEmbedder"],[BX,"PngEmbedder"]]),this.ref=t,this.doc=e,this.width=i.width,this.height=i.height,this.embedder=i}return n.prototype.scale=function(t){return K(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},n.prototype.scaleToFit=function(t,e){K(t,"width",["number"]),K(e,"height",["number"]);var i=t/this.width,r=e/this.height,s=Math.min(i,r);return this.scale(s)},n.prototype.size=function(){return this.scale(1)},n.prototype.embed=function(){return Ut(this,void 0,void 0,function(){var t,e,i;return Ht(this,function(r){switch(r.label){case 0:return this.embedder?(this.embedTask||(t=this,e=t.doc,i=t.ref,this.embedTask=this.embedder.embedIntoContext(e.context,i)),[4,this.embedTask]):[2];case 1:return r.sent(),this.embedder=void 0,[2]}})})},n.of=function(t,e,i){return new n(t,e,i)},n}(),Gp;(function(n){n[n.Left=0]="Left",n[n.Center=1]="Center",n[n.Right=2]="Right"})(Gp||(Gp={}));var px=function(n){it(n==null?void 0:n.x,"options.x",["number"]),it(n==null?void 0:n.y,"options.y",["number"]),it(n==null?void 0:n.width,"options.width",["number"]),it(n==null?void 0:n.height,"options.height",["number"]),it(n==null?void 0:n.textColor,"options.textColor",[[Object,"Color"]]),it(n==null?void 0:n.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),it(n==null?void 0:n.borderColor,"options.borderColor",[[Object,"Color"]]),it(n==null?void 0:n.borderWidth,"options.borderWidth",["number"]),it(n==null?void 0:n.rotate,"options.rotate",[[Object,"Rotation"]])},zv=function(){function n(t,e,i){K(t,"acroField",[[ux,"PDFAcroTerminal"]]),K(e,"ref",[[Te,"PDFRef"]]),K(i,"doc",[[Is,"PDFDocument"]]),this.acroField=t,this.ref=e,this.doc=i}return n.prototype.getName=function(){var t;return(t=this.acroField.getFullyQualifiedName())!==null&&t!==void 0?t:""},n.prototype.isReadOnly=function(){return this.acroField.hasFlag(Xo.ReadOnly)},n.prototype.enableReadOnly=function(){this.acroField.setFlagTo(Xo.ReadOnly,!0)},n.prototype.disableReadOnly=function(){this.acroField.setFlagTo(Xo.ReadOnly,!1)},n.prototype.isRequired=function(){return this.acroField.hasFlag(Xo.Required)},n.prototype.enableRequired=function(){this.acroField.setFlagTo(Xo.Required,!0)},n.prototype.disableRequired=function(){this.acroField.setFlagTo(Xo.Required,!1)},n.prototype.isExported=function(){return!this.acroField.hasFlag(Xo.NoExport)},n.prototype.enableExporting=function(){this.acroField.setFlagTo(Xo.NoExport,!1)},n.prototype.disableExporting=function(){this.acroField.setFlagTo(Xo.NoExport,!0)},n.prototype.needsAppearancesUpdate=function(){throw new xo(this.constructor.name,"needsAppearancesUpdate")},n.prototype.defaultUpdateAppearances=function(t){throw new xo(this.constructor.name,"defaultUpdateAppearances")},n.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},n.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},n.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},n.prototype.createWidget=function(t){var e,i=t.textColor,r=t.backgroundColor,s=t.borderColor,a=t.borderWidth,o=JX(t.rotate),c=t.caption,l=t.x,u=t.y,d=t.width+a,f=t.height+a,p=!!t.hidden,g=t.page;e9(o,"degreesAngle",90);var m=VL.create(this.doc.context,this.ref),y=zht({x:l,y:u,width:d,height:f},a,o);m.setRectangle(y),g&&m.setP(g);var v=m.getOrCreateAppearanceCharacteristics();r&&v.setBackgroundColor(yU(r)),v.setRotation(o),c&&v.setCaptions({normal:c}),s&&v.setBorderColor(yU(s));var w=m.getOrCreateBorderStyle();if(a!==void 0&&w.setWidth(a),m.setFlagTo(EA.Print,!0),m.setFlagTo(EA.Hidden,p),m.setFlagTo(EA.Invisible,!1),i){var x=(e=this.acroField.getDefaultAppearance())!==null&&e!==void 0?e:"",A=x+`
`+Bv(i).toString();this.acroField.setDefaultAppearance(A)}return m},n.prototype.updateWidgetAppearanceWithFont=function(t,e,i){var r=i.normal,s=i.rollover,a=i.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceStream(t,r,e),rollover:s&&this.createAppearanceStream(t,s,e),down:a&&this.createAppearanceStream(t,a,e)})},n.prototype.updateOnOffWidgetAppearance=function(t,e,i){var r=i.normal,s=i.rollover,a=i.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceDict(t,r,e),rollover:s&&this.createAppearanceDict(t,s,e),down:a&&this.createAppearanceDict(t,a,e)})},n.prototype.updateWidgetAppearances=function(t,e){var i=e.normal,r=e.rollover,s=e.down;t.setNormalAppearance(i),r?t.setRolloverAppearance(r):t.removeRolloverAppearance(),s?t.setDownAppearance(s):t.removeDownAppearance()},n.prototype.createAppearanceStream=function(t,e,i){var r,s=this.acroField.dict.context,a=t.getRectangle(),o=a.width,c=a.height,l=i&&{Font:(r={},r[i.name]=i.ref,r)},u=s.formXObject(e,{Resources:l,BBox:s.obj([0,0,o,c]),Matrix:s.obj([1,0,0,1,0,0])}),d=s.register(u);return d},n.prototype.createImageAppearanceStream=function(t,e,i){var r,s,a=this.acroField.dict.context,o=t.getRectangle(),c=t.getAppearanceCharacteristics(),l=t.getBorderStyle(),u=(s=l==null?void 0:l.getWidth())!==null&&s!==void 0?s:0,d=md(c==null?void 0:c.getRotation()),f=cg(Nt(Nt({},o),{rotation:d})),p=Lv(o,d),g=e.scaleToFit(p.width-u*2,p.height-u*2),m={x:u,y:u,width:g.width,height:g.height,rotate:Pt(0),xSkew:Pt(0),ySkew:Pt(0)};i===Gp.Center?(m.x+=(p.width-u*2)/2-g.width/2,m.y+=(p.height-u*2)/2-g.height/2):i===Gp.Right&&(m.x=p.width-u-g.width,m.y=p.height-u-g.height);var y=this.doc.context.addRandomSuffix("Image",10),v=ce(f,cq(y,m)),w={XObject:(r={},r[y]=e.ref,r)},x=a.formXObject(v,{Resources:w,BBox:a.obj([0,0,o.width,o.height]),Matrix:a.obj([1,0,0,1,0,0])});return a.register(x)},n.prototype.createAppearanceDict=function(t,e,i){var r=this.acroField.dict.context,s=this.createAppearanceStream(t,e.on),a=this.createAppearanceStream(t,e.off),o=r.obj({});return o.set(i,s),o.set(L.of("Off"),a),o},n}(),cS=function(n){rt(t,n);function t(e,i,r){var s=n.call(this,e,i,r)||this;return K(e,"acroCheckBox",[[BF,"PDFAcroCheckBox"]]),s.acroField=e,s}return t.prototype.check=function(){var e,i=(e=this.acroField.getOnValue())!==null&&e!==void 0?e:L.of("Yes");this.markAsDirty(),this.acroField.setValue(i)},t.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(L.of("Off"))},t.prototype.isChecked=function(){var e=this.acroField.getOnValue();return!!e&&e===this.acroField.getValue()},t.prototype.addToPage=function(e,i){var r,s,a,o,c,l;K(e,"page",[[go,"PDFPage"]]),px(i),i||(i={}),"textColor"in i||(i.textColor=he(0,0,0)),"backgroundColor"in i||(i.backgroundColor=he(1,1,1)),"borderColor"in i||(i.borderColor=he(0,0,0)),"borderWidth"in i||(i.borderWidth=1);var u=this.createWidget({x:(r=i.x)!==null&&r!==void 0?r:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:(a=i.width)!==null&&a!==void 0?a:50,height:(o=i.height)!==null&&o!==void 0?o:50,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:(c=i.borderWidth)!==null&&c!==void 0?c:0,rotate:(l=i.rotate)!==null&&l!==void 0?l:Pt(0),hidden:i.hidden,page:e.ref}),d=this.doc.context.register(u.dict);this.acroField.addWidget(d),u.setAppearanceState(L.of("Off")),this.updateWidgetAppearance(u,L.of("Yes")),e.node.addAnnot(d)},t.prototype.needsAppearancesUpdate=function(){for(var e,i=this.acroField.getWidgets(),r=0,s=i.length;r<s;r++){var a=i[r],o=a.getAppearanceState(),c=(e=a.getAppearances())===null||e===void 0?void 0:e.normal;if(!(c instanceof Ot)||o&&!c.has(o))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){var i;it(e,"provider",[Function]);for(var r=this.acroField.getWidgets(),s=0,a=r.length;s<a;s++){var o=r[s],c=(i=o.getOnValue())!==null&&i!==void 0?i:L.of("Yes");c&&this.updateWidgetAppearance(o,c,e)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,i,r){var s=r??Eut,a=fx(s(this,e));this.updateOnOffWidgetAppearance(e,i,a)},t.of=function(e,i,r){return new t(e,i,r)},t}(zv),oP=function(n){rt(t,n);function t(e,i,r){var s=n.call(this,e,i,r)||this;return K(e,"acroComboBox",[[zF,"PDFAcroComboBox"]]),s.acroField=e,s}return t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),i=new Array(e.length),r=0,s=i.length;r<s;r++){var a=e[r],o=a.display,c=a.value;i[r]=(o??c).decodeText()}return i},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),i=new Array(e.length),r=0,s=e.length;r<s;r++)i[r]=e[r].decodeText();return i},t.prototype.setOptions=function(e){K(e,"options",[Array]);for(var i=new Array(e.length),r=0,s=e.length;r<s;r++)i[r]={value:Tt.fromText(e[r])};this.acroField.setOptions(i)},t.prototype.addOptions=function(e){K(e,"options",["string",Array]);for(var i=Array.isArray(e)?e:[e],r=this.acroField.getOptions(),s=new Array(i.length),a=0,o=i.length;a<o;a++)s[a]={value:Tt.fromText(i[a])};this.acroField.setOptions(r.concat(s))},t.prototype.select=function(e,i){i===void 0&&(i=!1),K(e,"options",["string",Array]),K(i,"merge",["boolean"]);var r=Array.isArray(e)?e:[e],s=this.getOptions(),a=r.find(function(d){return!s.includes(d)});a&&this.enableEditing(),this.markAsDirty(),(r.length>1||r.length===1&&i)&&this.enableMultiselect();for(var o=new Array(r.length),c=0,l=r.length;c<l;c++)o[c]=Tt.fromText(r[c]);if(i){var u=this.acroField.getValues();this.acroField.setValues(u.concat(o))}else this.acroField.setValues(o)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){RF(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isEditable=function(){return this.acroField.hasFlag(_e.Edit)},t.prototype.enableEditing=function(){this.acroField.setFlagTo(_e.Edit,!0)},t.prototype.disableEditing=function(){this.acroField.setFlagTo(_e.Edit,!1)},t.prototype.isSorted=function(){return this.acroField.hasFlag(_e.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(_e.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(_e.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(_e.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(_e.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(_e.MultiSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(_e.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(_e.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(_e.DoNotSpellCheck,!0)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(_e.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(_e.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(_e.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,i){var r,s,a,o,c,l,u;K(e,"page",[[go,"PDFPage"]]),px(i),i||(i={}),"textColor"in i||(i.textColor=he(0,0,0)),"backgroundColor"in i||(i.backgroundColor=he(1,1,1)),"borderColor"in i||(i.borderColor=he(0,0,0)),"borderWidth"in i||(i.borderWidth=1);var d=this.createWidget({x:(r=i.x)!==null&&r!==void 0?r:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:(a=i.width)!==null&&a!==void 0?a:200,height:(o=i.height)!==null&&o!==void 0?o:50,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:(c=i.borderWidth)!==null&&c!==void 0?c:0,rotate:(l=i.rotate)!==null&&l!==void 0?l:Pt(0),hidden:i.hidden,page:e.ref}),f=this.doc.context.register(d.dict);this.acroField.addWidget(f);var p=(u=i.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(d,p),e.node.addAnnot(f)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var i=this.acroField.getWidgets(),r=0,s=i.length;r<s;r++){var a=i[r],o=((e=a.getAppearances())===null||e===void 0?void 0:e.normal)instanceof Na;if(!o)return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){K(e,"font",[[za,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,i){K(e,"font",[[za,"PDFFont"]]),it(i,"provider",[Function]);for(var r=this.acroField.getWidgets(),s=0,a=r.length;s<a;s++){var o=r[s];this.updateWidgetAppearance(o,e,i)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,i,r){var s=r??Tut,a=fx(s(this,e,i));this.updateWidgetAppearanceWithFont(e,i,a)},t.of=function(e,i,r){return new t(e,i,r)},t}(zv),lP=function(n){rt(t,n);function t(e,i,r){var s=n.call(this,e,i,r)||this;return K(e,"acroListBox",[[WF,"PDFAcroListBox"]]),s.acroField=e,s}return t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),i=new Array(e.length),r=0,s=i.length;r<s;r++){var a=e[r],o=a.display,c=a.value;i[r]=(o??c).decodeText()}return i},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),i=new Array(e.length),r=0,s=e.length;r<s;r++)i[r]=e[r].decodeText();return i},t.prototype.setOptions=function(e){K(e,"options",[Array]),this.markAsDirty();for(var i=new Array(e.length),r=0,s=e.length;r<s;r++)i[r]={value:Tt.fromText(e[r])};this.acroField.setOptions(i)},t.prototype.addOptions=function(e){K(e,"options",["string",Array]),this.markAsDirty();for(var i=Array.isArray(e)?e:[e],r=this.acroField.getOptions(),s=new Array(i.length),a=0,o=i.length;a<o;a++)s[a]={value:Tt.fromText(i[a])};this.acroField.setOptions(r.concat(s))},t.prototype.select=function(e,i){i===void 0&&(i=!1),K(e,"options",["string",Array]),K(i,"merge",["boolean"]);var r=Array.isArray(e)?e:[e],s=this.getOptions();Hst(r,"option",s),this.markAsDirty(),(r.length>1||r.length===1&&i)&&this.enableMultiselect();for(var a=new Array(r.length),o=0,c=r.length;o<c;o++)a[o]=Tt.fromText(r[o]);if(i){var l=this.acroField.getValues();this.acroField.setValues(l.concat(a))}else this.acroField.setValues(a)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){RF(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isSorted=function(){return this.acroField.hasFlag(_e.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(_e.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(_e.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(_e.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(_e.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(_e.MultiSelect,!1)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(_e.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(_e.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(_e.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,i){var r,s,a,o,c,l,u;K(e,"page",[[go,"PDFPage"]]),px(i),i||(i={}),"textColor"in i||(i.textColor=he(0,0,0)),"backgroundColor"in i||(i.backgroundColor=he(1,1,1)),"borderColor"in i||(i.borderColor=he(0,0,0)),"borderWidth"in i||(i.borderWidth=1);var d=this.createWidget({x:(r=i.x)!==null&&r!==void 0?r:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:(a=i.width)!==null&&a!==void 0?a:200,height:(o=i.height)!==null&&o!==void 0?o:100,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:(c=i.borderWidth)!==null&&c!==void 0?c:0,rotate:(l=i.rotate)!==null&&l!==void 0?l:Pt(0),hidden:i.hidden,page:e.ref}),f=this.doc.context.register(d.dict);this.acroField.addWidget(f);var p=(u=i.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(d,p),e.node.addAnnot(f)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var i=this.acroField.getWidgets(),r=0,s=i.length;r<s;r++){var a=i[r],o=((e=a.getAppearances())===null||e===void 0?void 0:e.normal)instanceof Na;if(!o)return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){K(e,"font",[[za,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,i){K(e,"font",[[za,"PDFFont"]]),it(i,"provider",[Function]);for(var r=this.acroField.getWidgets(),s=0,a=r.length;s<a;s++){var o=r[s];this.updateWidgetAppearance(o,e,i)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,i,r){var s=r??Put,a=fx(s(this,e,i));this.updateWidgetAppearanceWithFont(e,i,a)},t.of=function(e,i,r){return new t(e,i,r)},t}(zv),hS=function(n){rt(t,n);function t(e,i,r){var s=n.call(this,e,i,r)||this;return K(e,"acroRadioButton",[[HF,"PDFAcroRadioButton"]]),s.acroField=e,s}return t.prototype.getOptions=function(){var e=this.acroField.getExportValues();if(e){for(var i=new Array(e.length),r=0,s=e.length;r<s;r++)i[r]=e[r].decodeText();return i}for(var a=this.acroField.getOnValues(),o=new Array(a.length),r=0,s=o.length;r<s;r++)o[r]=a[r].decodeText();return o},t.prototype.getSelected=function(){var e=this.acroField.getValue();if(e!==L.of("Off")){var i=this.acroField.getExportValues();if(i){for(var r=this.acroField.getOnValues(),s=0,a=r.length;s<a;s++)if(r[s]===e)return i[s].decodeText()}return e.decodeText()}},t.prototype.select=function(e){K(e,"option",["string"]);var i=this.getOptions();kp(e,"option",i),this.markAsDirty();var r=this.acroField.getOnValues(),s=this.acroField.getExportValues();if(s)for(var a=0,o=s.length;a<o;a++)s[a].decodeText()===e&&this.acroField.setValue(r[a]);else for(var a=0,o=r.length;a<o;a++){var c=r[a];c.decodeText()===e&&this.acroField.setValue(c)}},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(L.of("Off"))},t.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(po.NoToggleToOff)},t.prototype.enableOffToggling=function(){this.acroField.setFlagTo(po.NoToggleToOff,!1)},t.prototype.disableOffToggling=function(){this.acroField.setFlagTo(po.NoToggleToOff,!0)},t.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(po.RadiosInUnison)},t.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(po.RadiosInUnison,!1)},t.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(po.RadiosInUnison,!0)},t.prototype.addOptionToPage=function(e,i,r){var s,a,o,c,l,u,d,f,p;K(e,"option",["string"]),K(i,"page",[[go,"PDFPage"]]),px(r);var g=this.createWidget({x:(s=r==null?void 0:r.x)!==null&&s!==void 0?s:0,y:(a=r==null?void 0:r.y)!==null&&a!==void 0?a:0,width:(o=r==null?void 0:r.width)!==null&&o!==void 0?o:50,height:(c=r==null?void 0:r.height)!==null&&c!==void 0?c:50,textColor:(l=r==null?void 0:r.textColor)!==null&&l!==void 0?l:he(0,0,0),backgroundColor:(u=r==null?void 0:r.backgroundColor)!==null&&u!==void 0?u:he(1,1,1),borderColor:(d=r==null?void 0:r.borderColor)!==null&&d!==void 0?d:he(0,0,0),borderWidth:(f=r==null?void 0:r.borderWidth)!==null&&f!==void 0?f:1,rotate:(p=r==null?void 0:r.rotate)!==null&&p!==void 0?p:Pt(0),hidden:r==null?void 0:r.hidden,page:i.ref}),m=this.doc.context.register(g.dict),y=this.acroField.addWidgetWithOpt(m,Tt.fromText(e),!this.isMutuallyExclusive());g.setAppearanceState(L.of("Off")),this.updateWidgetAppearance(g,y),i.node.addAnnot(m)},t.prototype.needsAppearancesUpdate=function(){for(var e,i=this.acroField.getWidgets(),r=0,s=i.length;r<s;r++){var a=i[r],o=a.getAppearanceState(),c=(e=a.getAppearances())===null||e===void 0?void 0:e.normal;if(!(c instanceof Ot)||o&&!c.has(o))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){it(e,"provider",[Function]);for(var i=this.acroField.getWidgets(),r=0,s=i.length;r<s;r++){var a=i[r],o=a.getOnValue();o&&this.updateWidgetAppearance(a,o,e)}},t.prototype.updateWidgetAppearance=function(e,i,r){var s=r??_ut,a=fx(s(this,e));this.updateOnOffWidgetAppearance(e,i,a)},t.of=function(e,i,r){return new t(e,i,r)},t}(zv),KL=function(n){rt(t,n);function t(e,i,r){var s=n.call(this,e,i,r)||this;return K(e,"acroSignature",[[rj,"PDFAcroSignature"]]),s.acroField=e,s}return t.prototype.needsAppearancesUpdate=function(){return!1},t.of=function(e,i,r){return new t(e,i,r)},t}(zv),cP=function(n){rt(t,n);function t(e,i,r){var s=n.call(this,e,i,r)||this;return K(e,"acroText",[[jF,"PDFAcroText"]]),s.acroField=e,s}return t.prototype.getText=function(){var e=this.acroField.getValue();if(!e&&this.isRichFormatted())throw new put(this.getName());return e==null?void 0:e.decodeText()},t.prototype.setText=function(e){it(e,"text",["string"]);var i=this.getMaxLength();if(i!==void 0&&e&&e.length>i)throw new mut(e.length,i,this.getName());this.markAsDirty(),this.disableRichFormatting(),e?this.acroField.setValue(Tt.fromText(e)):this.acroField.removeValue()},t.prototype.getAlignment=function(){var e=this.acroField.getQuadding();return e===0?hi.Left:e===1?hi.Center:e===2?hi.Right:hi.Left},t.prototype.setAlignment=function(e){kp(e,"alignment",hi),this.markAsDirty(),this.acroField.setQuadding(e)},t.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},t.prototype.setMaxLength=function(e){if(Vo(e,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),e===void 0)this.acroField.removeMaxLength();else{var i=this.getText();if(i&&i.length>e)throw new vut(i.length,e,this.getName());this.acroField.setMaxLength(e)}},t.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},t.prototype.setImage=function(e){for(var i=this.getAlignment(),r=i===hi.Center?Gp.Center:i===hi.Right?Gp.Right:Gp.Left,s=this.acroField.getWidgets(),a=0,o=s.length;a<o;a++){var c=s[a],l=this.createImageAppearanceStream(c,e,r);this.updateWidgetAppearances(c,{normal:l})}this.markAsClean()},t.prototype.setFontSize=function(e){RF(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isMultiline=function(){return this.acroField.hasFlag(pn.Multiline)},t.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(pn.Multiline,!0)},t.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(pn.Multiline,!1)},t.prototype.isPassword=function(){return this.acroField.hasFlag(pn.Password)},t.prototype.enablePassword=function(){this.acroField.setFlagTo(pn.Password,!0)},t.prototype.disablePassword=function(){this.acroField.setFlagTo(pn.Password,!1)},t.prototype.isFileSelector=function(){return this.acroField.hasFlag(pn.FileSelect)},t.prototype.enableFileSelection=function(){this.acroField.setFlagTo(pn.FileSelect,!0)},t.prototype.disableFileSelection=function(){this.acroField.setFlagTo(pn.FileSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(pn.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(pn.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(pn.DoNotSpellCheck,!0)},t.prototype.isScrollable=function(){return!this.acroField.hasFlag(pn.DoNotScroll)},t.prototype.enableScrolling=function(){this.acroField.setFlagTo(pn.DoNotScroll,!1)},t.prototype.disableScrolling=function(){this.acroField.setFlagTo(pn.DoNotScroll,!0)},t.prototype.isCombed=function(){return this.acroField.hasFlag(pn.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},t.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var e="PDFTextFields must have a max length in order to be combed";console.warn(e)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(pn.Comb,!0)},t.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(pn.Comb,!1)},t.prototype.isRichFormatted=function(){return this.acroField.hasFlag(pn.RichText)},t.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(pn.RichText,!0)},t.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(pn.RichText,!1)},t.prototype.addToPage=function(e,i){var r,s,a,o,c,l,u;K(e,"page",[[go,"PDFPage"]]),px(i),i||(i={}),"textColor"in i||(i.textColor=he(0,0,0)),"backgroundColor"in i||(i.backgroundColor=he(1,1,1)),"borderColor"in i||(i.borderColor=he(0,0,0)),"borderWidth"in i||(i.borderWidth=1);var d=this.createWidget({x:(r=i.x)!==null&&r!==void 0?r:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:(a=i.width)!==null&&a!==void 0?a:200,height:(o=i.height)!==null&&o!==void 0?o:50,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:(c=i.borderWidth)!==null&&c!==void 0?c:0,rotate:(l=i.rotate)!==null&&l!==void 0?l:Pt(0),hidden:i.hidden,page:e.ref}),f=this.doc.context.register(d.dict);this.acroField.addWidget(f);var p=(u=i.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(d,p),e.node.addAnnot(f)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var i=this.acroField.getWidgets(),r=0,s=i.length;r<s;r++){var a=i[r],o=((e=a.getAppearances())===null||e===void 0?void 0:e.normal)instanceof Na;if(!o)return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){K(e,"font",[[za,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,i){K(e,"font",[[za,"PDFFont"]]),it(i,"provider",[Function]);for(var r=this.acroField.getWidgets(),s=0,a=r.length;s<a;s++){var o=r[s];this.updateWidgetAppearance(o,e,i)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,i,r){var s=r??kut,a=fx(s(this,e,i));this.updateWidgetAppearanceWithFont(e,i,a)},t.of=function(e,i,r){return new t(e,i,r)},t}(zv),q1;(function(n){n.Courier="Courier",n.CourierBold="Courier-Bold",n.CourierOblique="Courier-Oblique",n.CourierBoldOblique="Courier-BoldOblique",n.Helvetica="Helvetica",n.HelveticaBold="Helvetica-Bold",n.HelveticaOblique="Helvetica-Oblique",n.HelveticaBoldOblique="Helvetica-BoldOblique",n.TimesRoman="Times-Roman",n.TimesRomanBold="Times-Bold",n.TimesRomanItalic="Times-Italic",n.TimesRomanBoldItalic="Times-BoldItalic",n.Symbol="Symbol",n.ZapfDingbats="ZapfDingbats"})(q1||(q1={}));var Rut=function(){function n(t,e){var i=this;this.embedDefaultFont=function(){return i.doc.embedStandardFont(q1.Helvetica)},K(t,"acroForm",[[nD,"PDFAcroForm"]]),K(e,"doc",[[Is,"PDFDocument"]]),this.acroForm=t,this.doc=e,this.dirtyFields=new Set,this.defaultFontCache=Yu.populatedBy(this.embedDefaultFont)}return n.prototype.hasXFA=function(){return this.acroForm.dict.has(L.of("XFA"))},n.prototype.deleteXFA=function(){this.acroForm.dict.delete(L.of("XFA"))},n.prototype.getFields=function(){for(var t=this.acroForm.getAllFields(),e=[],i=0,r=t.length;i<r;i++){var s=t[i],a=s[0],o=s[1],c=Dut(a,o,this.doc);c&&e.push(c)}return e},n.prototype.getFieldMaybe=function(t){K(t,"name",["string"]);for(var e=this.getFields(),i=0,r=e.length;i<r;i++){var s=e[i];if(s.getName()===t)return s}},n.prototype.getField=function(t){K(t,"name",["string"]);var e=this.getFieldMaybe(t);if(e)return e;throw new dut(t)},n.prototype.getButton=function(t){K(t,"name",["string"]);var e=this.getField(t);if(e instanceof hP)return e;throw new ug(t,hP,e)},n.prototype.getCheckBox=function(t){K(t,"name",["string"]);var e=this.getField(t);if(e instanceof cS)return e;throw new ug(t,cS,e)},n.prototype.getDropdown=function(t){K(t,"name",["string"]);var e=this.getField(t);if(e instanceof oP)return e;throw new ug(t,oP,e)},n.prototype.getOptionList=function(t){K(t,"name",["string"]);var e=this.getField(t);if(e instanceof lP)return e;throw new ug(t,lP,e)},n.prototype.getRadioGroup=function(t){K(t,"name",["string"]);var e=this.getField(t);if(e instanceof hS)return e;throw new ug(t,hS,e)},n.prototype.getSignature=function(t){K(t,"name",["string"]);var e=this.getField(t);if(e instanceof KL)return e;throw new ug(t,KL,e)},n.prototype.getTextField=function(t){K(t,"name",["string"]);var e=this.getField(t);if(e instanceof cP)return e;throw new ug(t,cP,e)},n.prototype.createButton=function(t){K(t,"name",["string"]);var e=ry(t),i=this.findOrCreateNonTerminals(e.nonTerminal),r=UF.create(this.doc.context);return r.setPartialName(e.terminal),sy(i,[r,r.ref],e.terminal),hP.of(r,r.ref,this.doc)},n.prototype.createCheckBox=function(t){K(t,"name",["string"]);var e=ry(t),i=this.findOrCreateNonTerminals(e.nonTerminal),r=BF.create(this.doc.context);return r.setPartialName(e.terminal),sy(i,[r,r.ref],e.terminal),cS.of(r,r.ref,this.doc)},n.prototype.createDropdown=function(t){K(t,"name",["string"]);var e=ry(t),i=this.findOrCreateNonTerminals(e.nonTerminal),r=zF.create(this.doc.context);return r.setPartialName(e.terminal),sy(i,[r,r.ref],e.terminal),oP.of(r,r.ref,this.doc)},n.prototype.createOptionList=function(t){K(t,"name",["string"]);var e=ry(t),i=this.findOrCreateNonTerminals(e.nonTerminal),r=WF.create(this.doc.context);return r.setPartialName(e.terminal),sy(i,[r,r.ref],e.terminal),lP.of(r,r.ref,this.doc)},n.prototype.createRadioGroup=function(t){K(t,"name",["string"]);var e=ry(t),i=this.findOrCreateNonTerminals(e.nonTerminal),r=HF.create(this.doc.context);return r.setPartialName(e.terminal),sy(i,[r,r.ref],e.terminal),hS.of(r,r.ref,this.doc)},n.prototype.createTextField=function(t){K(t,"name",["string"]);var e=ry(t),i=this.findOrCreateNonTerminals(e.nonTerminal),r=jF.create(this.doc.context);return r.setPartialName(e.terminal),sy(i,[r,r.ref],e.terminal),cP.of(r,r.ref,this.doc)},n.prototype.flatten=function(t){t===void 0&&(t={updateFieldAppearances:!0}),t.updateFieldAppearances&&this.updateFieldAppearances();for(var e=this.getFields(),i=0,r=e.length;i<r;i++){for(var s=e[i],a=s.acroField.getWidgets(),o=0,c=a.length;o<c;o++){var l=a[o],u=this.findWidgetPage(l),d=this.findWidgetAppearanceRef(s,l),f=u.node.newXObject("FlatWidget",d),p=l.getRectangle(),g=ce([yi(),So(p.x,p.y)],cg(Nt(Nt({},p),{rotation:0})),[dj(f),bi()]).filter(Boolean);u.pushOperators.apply(u,g)}this.removeField(s)}},n.prototype.removeField=function(t){for(var e=t.acroField.getWidgets(),i=new Set,r=0,s=e.length;r<s;r++){var a=e[r],o=this.findWidgetAppearanceRef(t,a),c=this.findWidgetPage(a);i.add(c),c.node.removeAnnot(o)}i.forEach(function(p){return p.node.removeAnnot(t.ref)}),this.acroForm.removeField(t.acroField);for(var l=t.acroField.normalizedEntries().Kids,u=l.size(),d=0;d<u;d++){var f=l.get(d);f instanceof Te&&this.doc.context.delete(f)}this.doc.context.delete(t.ref)},n.prototype.updateFieldAppearances=function(t){it(t,"font",[[za,"PDFFont"]]),t=t??this.getDefaultFont();for(var e=this.getFields(),i=0,r=e.length;i<r;i++){var s=e[i];s.needsAppearancesUpdate()&&s.defaultUpdateAppearances(t)}},n.prototype.markFieldAsDirty=function(t){it(t,"fieldRef",[[Te,"PDFRef"]]),this.dirtyFields.add(t)},n.prototype.markFieldAsClean=function(t){it(t,"fieldRef",[[Te,"PDFRef"]]),this.dirtyFields.delete(t)},n.prototype.fieldIsDirty=function(t){return it(t,"fieldRef",[[Te,"PDFRef"]]),this.dirtyFields.has(t)},n.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},n.prototype.findWidgetPage=function(t){var e=t.P(),i=this.doc.getPages().find(function(s){return s.ref===e});if(i===void 0){var r=this.doc.context.getObjectRef(t.dict);if(r===void 0)throw new Error("Could not find PDFRef for PDFObject");if(i=this.doc.findPageForAnnotationRef(r),i===void 0)throw new Error("Could not find page for PDFRef "+r)}return i},n.prototype.findWidgetAppearanceRef=function(t,e){var i,r=e.getNormalAppearance();if(r instanceof Ot&&(t instanceof cS||t instanceof hS)){var s=t.acroField.getValue(),a=(i=r.get(s))!==null&&i!==void 0?i:r.get(L.of("Off"));a instanceof Te&&(r=a)}if(!(r instanceof Te)){var o=t.getName();throw new Error("Failed to extract appearance ref for: "+o)}return r},n.prototype.findOrCreateNonTerminals=function(t){for(var e=[this.acroForm],i=0,r=t.length;i<r;i++){var s=t[i];if(!s)throw new fut(s);var a=e[0],o=e[1],c=this.findNonTerminal(s,a);if(c)e=c;else{var l=eD.create(this.doc.context);l.setPartialName(s),l.setParent(o);var u=this.doc.context.register(l.dict);a.addField(u),e=[l,u]}}return e},n.prototype.findNonTerminal=function(t,e){for(var i=e instanceof nD?this.acroForm.getFields():sj(e.Kids()),r=0,s=i.length;r<s;r++){var a=i[r],o=a[0],c=a[1];if(o.getPartialName()===t){if(o instanceof eD)return[o,c];throw new uq(t)}}},n.of=function(t,e){return new n(t,e)},n}(),Dut=function(n,t,e){if(n instanceof UF)return hP.of(n,t,e);if(n instanceof BF)return cS.of(n,t,e);if(n instanceof zF)return oP.of(n,t,e);if(n instanceof WF)return lP.of(n,t,e);if(n instanceof jF)return cP.of(n,t,e);if(n instanceof HF)return hS.of(n,t,e);if(n instanceof rj)return KL.of(n,t,e)},ry=function(n){if(n.length===0)throw new Error("PDF field names must not be empty strings");for(var t=n.split("."),e=0,i=t.length;e<i;e++)if(t[e]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+n+'"');return t.length===1?{nonTerminal:[],terminal:t[0]}:{nonTerminal:t.slice(0,t.length-1),terminal:t[t.length-1]}},sy=function(n,t,e){for(var i=n[0],r=n[1],s=t[0],a=t[1],o=i.normalizedEntries(),c=sj("Kids"in o?o.Kids:o.Fields),l=0,u=c.length;l<u;l++)if(c[l][0].getPartialName()===e)throw new uq(e);i.addField(a),s.setParent(r)},Fut={A4:[595.28,841.89]},YL;(function(n){n[n.Fastest=1/0]="Fastest",n[n.Fast=1500]="Fast",n[n.Medium=500]="Medium",n[n.Slow=100]="Slow"})(YL||(YL={}));var Mut=function(){function n(t,e,i){this.alreadyEmbedded=!1,this.ref=t,this.doc=e,this.embedder=i}return n.prototype.embed=function(){return Ut(this,void 0,void 0,function(){var t,e,i,r,s;return Ht(this,function(a){switch(a.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t=a.sent(),this.doc.catalog.has(L.of("Names"))||this.doc.catalog.set(L.of("Names"),this.doc.context.obj({})),e=this.doc.catalog.lookup(L.of("Names"),Ot),e.has(L.of("EmbeddedFiles"))||e.set(L.of("EmbeddedFiles"),this.doc.context.obj({})),i=e.lookup(L.of("EmbeddedFiles"),Ot),i.has(L.of("Names"))||i.set(L.of("Names"),this.doc.context.obj([])),r=i.lookup(L.of("Names"),pe),r.push(Tt.fromText(this.embedder.fileName)),r.push(t),this.doc.catalog.has(L.of("AF"))||this.doc.catalog.set(L.of("AF"),this.doc.context.obj([])),s=this.doc.catalog.lookup(L.of("AF"),pe),s.push(t),this.alreadyEmbedded=!0,a.label=2;case 2:return[2]}})})},n.of=function(t,e,i){return new n(t,e,i)},n}(),Nut=function(){function n(t,e,i){this.alreadyEmbedded=!1,this.ref=t,this.doc=e,this.embedder=i}return n.prototype.embed=function(){return Ut(this,void 0,void 0,function(){var t,e,i,r,s,a,o;return Ht(this,function(c){switch(c.label){case 0:return this.alreadyEmbedded?[3,2]:(t=this.doc,e=t.catalog,i=t.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:r=c.sent(),e.has(L.of("Names"))||e.set(L.of("Names"),i.obj({})),s=e.lookup(L.of("Names"),Ot),s.has(L.of("JavaScript"))||s.set(L.of("JavaScript"),i.obj({})),a=s.lookup(L.of("JavaScript"),Ot),a.has(L.of("Names"))||a.set(L.of("Names"),i.obj([])),o=a.lookup(L.of("Names"),pe),o.push(Tt.fromText(this.embedder.scriptName)),o.push(r),this.alreadyEmbedded=!0,c.label=2;case 2:return[2]}})})},n.of=function(t,e,i){return new n(t,e,i)},n}(),Iut=function(){function n(t,e){this.script=t,this.scriptName=e}return n.for=function(t,e){return new n(t,e)},n.prototype.embedIntoContext=function(t,e){return Ut(this,void 0,void 0,function(){var i;return Ht(this,function(r){return i=t.obj({Type:"Action",S:"JavaScript",JS:Tt.fromText(this.script)}),e?(t.assign(e,i),[2,e]):[2,t.register(i)]})})},n}(),Is=function(){function n(t,e,i){var r=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var s=[];return r.catalog.Pages().traverse(function(a,o){if(a instanceof Zu){var c=r.pageMap.get(a);c||(c=go.of(a,o,r),r.pageMap.set(a,c)),s.push(c)}}),s},this.getOrCreateForm=function(){var s=r.catalog.getOrCreateAcroForm();return Rut.of(s,r)},K(t,"context",[[NL,"PDFContext"]]),K(e,"ignoreEncryption",["boolean"]),this.context=t,this.catalog=t.lookup(t.trailerInfo.Root),this.isEncrypted=!!t.lookup(t.trailerInfo.Encrypt),this.pageCache=Yu.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Yu.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!e&&this.isEncrypted)throw new lut;i&&this.updateInfoDict()}return n.load=function(t,e){return e===void 0&&(e={}),Ut(this,void 0,void 0,function(){var i,r,s,a,o,c,l,u,d,f,p,g;return Ht(this,function(m){switch(m.label){case 0:return i=e.ignoreEncryption,r=i===void 0?!1:i,s=e.parseSpeed,a=s===void 0?YL.Slow:s,o=e.throwOnInvalidObject,c=o===void 0?!1:o,l=e.updateMetadata,u=l===void 0?!0:l,d=e.capNumbers,f=d===void 0?!1:d,K(t,"pdf",["string",Uint8Array,ArrayBuffer]),K(r,"ignoreEncryption",["boolean"]),K(a,"parseSpeed",["number"]),K(c,"throwOnInvalidObject",["boolean"]),p=Fx(t),[4,Oht.forBytesWithOptions(p,a,c,f).parseDocument()];case 1:return g=m.sent(),[2,new n(g,r,u)]}})})},n.create=function(t){return t===void 0&&(t={}),Ut(this,void 0,void 0,function(){var e,i,r,s,a,o;return Ht(this,function(c){return e=t.updateMetadata,i=e===void 0?!0:e,r=NL.create(),s=qX.withContext(r),a=r.register(s),o=XX.withContextAndPages(r,a),r.trailerInfo.Root=r.register(o),[2,new n(r,!1,i)]})})},n.prototype.registerFontkit=function(t){this.fontkit=t},n.prototype.getForm=function(){var t=this.formCache.access();return t.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),t.deleteXFA()),t},n.prototype.getTitle=function(){var t=this.getInfoDict().lookup(L.Title);if(t)return _d(t),t.decodeText()},n.prototype.getAuthor=function(){var t=this.getInfoDict().lookup(L.Author);if(t)return _d(t),t.decodeText()},n.prototype.getSubject=function(){var t=this.getInfoDict().lookup(L.Subject);if(t)return _d(t),t.decodeText()},n.prototype.getKeywords=function(){var t=this.getInfoDict().lookup(L.Keywords);if(t)return _d(t),t.decodeText()},n.prototype.getCreator=function(){var t=this.getInfoDict().lookup(L.Creator);if(t)return _d(t),t.decodeText()},n.prototype.getProducer=function(){var t=this.getInfoDict().lookup(L.Producer);if(t)return _d(t),t.decodeText()},n.prototype.getCreationDate=function(){var t=this.getInfoDict().lookup(L.CreationDate);if(t)return _d(t),t.decodeDate()},n.prototype.getModificationDate=function(){var t=this.getInfoDict().lookup(L.ModDate);if(t)return _d(t),t.decodeDate()},n.prototype.setTitle=function(t,e){K(t,"title",["string"]);var i=L.of("Title");if(this.getInfoDict().set(i,Tt.fromText(t)),e!=null&&e.showInWindowTitleBar){var r=this.catalog.getOrCreateViewerPreferences();r.setDisplayDocTitle(!0)}},n.prototype.setAuthor=function(t){K(t,"author",["string"]);var e=L.of("Author");this.getInfoDict().set(e,Tt.fromText(t))},n.prototype.setSubject=function(t){K(t,"author",["string"]);var e=L.of("Subject");this.getInfoDict().set(e,Tt.fromText(t))},n.prototype.setKeywords=function(t){K(t,"keywords",[Array]);var e=L.of("Keywords");this.getInfoDict().set(e,Tt.fromText(t.join(" ")))},n.prototype.setCreator=function(t){K(t,"creator",["string"]);var e=L.of("Creator");this.getInfoDict().set(e,Tt.fromText(t))},n.prototype.setProducer=function(t){K(t,"creator",["string"]);var e=L.of("Producer");this.getInfoDict().set(e,Tt.fromText(t))},n.prototype.setLanguage=function(t){K(t,"language",["string"]);var e=L.of("Lang");this.catalog.set(e,ke.of(t))},n.prototype.setCreationDate=function(t){K(t,"creationDate",[[Date,"Date"]]);var e=L.of("CreationDate");this.getInfoDict().set(e,ke.fromDate(t))},n.prototype.setModificationDate=function(t){K(t,"modificationDate",[[Date,"Date"]]);var e=L.of("ModDate");this.getInfoDict().set(e,ke.fromDate(t))},n.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},n.prototype.getPages=function(){return this.pageCache.access()},n.prototype.getPage=function(t){var e=this.getPages();return Pa(t,"index",0,e.length-1),e[t]},n.prototype.getPageIndices=function(){return mit(0,this.getPageCount())},n.prototype.removePage=function(t){var e=this.getPageCount();if(this.pageCount===0)throw new uut;Pa(t,"index",0,e-1),this.catalog.removeLeafNode(t),this.pageCount=e-1},n.prototype.addPage=function(t){return K(t,"page",["undefined",[go,"PDFPage"],Array]),this.insertPage(this.getPageCount(),t)},n.prototype.insertPage=function(t,e){var i=this.getPageCount();if(Pa(t,"index",0,i),K(e,"page",["undefined",[go,"PDFPage"],Array]),!e||Array.isArray(e)){var r=Array.isArray(e)?e:Fut.A4;e=go.create(this),e.setSize.apply(e,r)}else if(e.doc!==this)throw new hut;var s=this.catalog.insertLeafNode(e.ref,t);return e.node.setParent(s),this.pageMap.set(e.node,e),this.pageCache.invalidate(),this.pageCount=i+1,e},n.prototype.copyPages=function(t,e){return Ut(this,void 0,void 0,function(){var i,r,s,a,o,c,l,u;return Ht(this,function(d){switch(d.label){case 0:return K(t,"srcDoc",[[n,"PDFDocument"]]),K(e,"indices",[Array]),[4,t.flush()];case 1:for(d.sent(),i=b6.for(t.context,this.context),r=t.getPages(),s=new Array(e.length),a=0,o=e.length;a<o;a++)c=r[e[a]],l=i.copy(c.node),u=this.context.register(l),s[a]=go.of(l,u,this);return[2,s]}})})},n.prototype.copy=function(){return Ut(this,void 0,void 0,function(){var t,e,i,r;return Ht(this,function(s){switch(s.label){case 0:return[4,n.create()];case 1:return t=s.sent(),[4,t.copyPages(this,this.getPageIndices())];case 2:for(e=s.sent(),i=0,r=e.length;i<r;i++)t.addPage(e[i]);return this.getAuthor()!==void 0&&t.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&t.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&t.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&t.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&t.setProducer(this.getProducer()),this.getSubject()!==void 0&&t.setSubject(this.getSubject()),this.getTitle()!==void 0&&t.setTitle(this.getTitle()),t.defaultWordBreaks=this.defaultWordBreaks,[2,t]}})})},n.prototype.addJavaScript=function(t,e){K(t,"name",["string"]),K(e,"script",["string"]);var i=Iut.for(e,t),r=this.context.nextRef(),s=Nut.of(r,this,i);this.javaScripts.push(s)},n.prototype.attach=function(t,e,i){return i===void 0&&(i={}),Ut(this,void 0,void 0,function(){var r,s,a,o;return Ht(this,function(c){return K(t,"attachment",["string",Uint8Array,ArrayBuffer]),K(e,"name",["string"]),it(i.mimeType,"mimeType",["string"]),it(i.description,"description",["string"]),it(i.creationDate,"options.creationDate",[Date]),it(i.modificationDate,"options.modificationDate",[Date]),qa(i.afRelationship,"options.afRelationship",IL),r=Fx(t),s=mlt.for(r,e,i),a=this.context.nextRef(),o=Mut.of(a,this,s),this.embeddedFiles.push(o),[2]})})},n.prototype.embedFont=function(t,e){return e===void 0&&(e={}),Ut(this,void 0,void 0,function(){var i,r,s,a,o,c,l,u,d,f;return Ht(this,function(p){switch(p.label){case 0:return i=e.subset,r=i===void 0?!1:i,s=e.customName,a=e.features,K(t,"font",["string",Uint8Array,ArrayBuffer]),K(r,"subset",["boolean"]),S4(t)?(o=QR.for(t,s),[3,7]):[3,1];case 1:return yit(t)?(c=Fx(t),l=this.assertFontkit(),r?[4,glt.for(l,c,s,a)]:[3,3]):[3,6];case 2:return u=p.sent(),[3,5];case 3:return[4,Yz.for(l,c,s,a)];case 4:u=p.sent(),p.label=5;case 5:return o=u,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return d=this.context.nextRef(),f=za.of(d,this,o),this.fonts.push(f),[2,f]}})})},n.prototype.embedStandardFont=function(t,e){if(K(t,"font",["string"]),!S4(t))throw new TypeError("`font` must be one of type `StandardFonts`");var i=QR.for(t,e),r=this.context.nextRef(),s=za.of(r,this,i);return this.fonts.push(s),s},n.prototype.embedJpg=function(t){return Ut(this,void 0,void 0,function(){var e,i,r,s;return Ht(this,function(a){switch(a.label){case 0:return K(t,"jpg",["string",Uint8Array,ArrayBuffer]),e=Fx(t),[4,Z9.for(e)];case 1:return i=a.sent(),r=this.context.nextRef(),s=qL.of(r,this,i),this.images.push(s),[2,s]}})})},n.prototype.embedPng=function(t){return Ut(this,void 0,void 0,function(){var e,i,r,s;return Ht(this,function(a){switch(a.label){case 0:return K(t,"png",["string",Uint8Array,ArrayBuffer]),e=Fx(t),[4,BX.for(e)];case 1:return i=a.sent(),r=this.context.nextRef(),s=qL.of(r,this,i),this.images.push(s),[2,s]}})})},n.prototype.embedPdf=function(t,e){return e===void 0&&(e=[0]),Ut(this,void 0,void 0,function(){var i,r,s;return Ht(this,function(a){switch(a.label){case 0:return K(t,"pdf",["string",Uint8Array,ArrayBuffer,[n,"PDFDocument"]]),K(e,"indices",[Array]),t instanceof n?(r=t,[3,3]):[3,1];case 1:return[4,n.load(t)];case 2:r=a.sent(),a.label=3;case 3:return i=r,s=vit(i.getPages(),e),[2,this.embedPages(s)]}})})},n.prototype.embedPage=function(t,e,i){return Ut(this,void 0,void 0,function(){var r;return Ht(this,function(s){switch(s.label){case 0:return K(t,"page",[[go,"PDFPage"]]),[4,this.embedPages([t],[e],[i])];case 1:return r=s.sent()[0],[2,r]}})})},n.prototype.embedPages=function(t,e,i){return e===void 0&&(e=[]),i===void 0&&(i=[]),Ut(this,void 0,void 0,function(){var l,u,r,s,a,o,c,l,u,d,f,p,g,m,y;return Ht(this,function(v){switch(v.label){case 0:if(t.length===0)return[2,[]];for(l=0,u=t.length-1;l<u;l++)if(r=t[l],s=t[l+1],r.node.context!==s.node.context)throw new Zst;a=t[0].node.context,o=a===this.context?function(w){return w}:b6.for(a,this.context).copy,c=new Array(t.length),l=0,u=t.length,v.label=1;case 1:return l<u?(d=o(t[l].node),f=e[l],p=i[l],[4,UX.for(d,f,p)]):[3,4];case 2:g=v.sent(),m=this.context.nextRef(),c[l]=mq.of(m,this,g),v.label=3;case 3:return l++,[3,1];case 4:return(y=this.embeddedPages).push.apply(y,c),[2,c]}})})},n.prototype.flush=function(){return Ut(this,void 0,void 0,function(){return Ht(this,function(t){switch(t.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return t.sent(),[4,this.embedAll(this.images)];case 2:return t.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return t.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return t.sent(),[4,this.embedAll(this.javaScripts)];case 5:return t.sent(),[2]}})})},n.prototype.save=function(t){return t===void 0&&(t={}),Ut(this,void 0,void 0,function(){var e,i,r,s,a,o,c,l,u,d;return Ht(this,function(f){switch(f.label){case 0:return e=t.useObjectStreams,i=e===void 0?!0:e,r=t.addDefaultPage,s=r===void 0?!0:r,a=t.objectsPerTick,o=a===void 0?50:a,c=t.updateFieldAppearances,l=c===void 0?!0:c,K(i,"useObjectStreams",["boolean"]),K(s,"addDefaultPage",["boolean"]),K(o,"objectsPerTick",["number"]),K(l,"updateFieldAppearances",["boolean"]),s&&this.getPageCount()===0&&this.addPage(),l&&(u=this.formCache.getValue(),u&&u.updateFieldAppearances()),[4,this.flush()];case 1:return f.sent(),d=i?clt:K9,[2,d.forContext(this.context,o).serializeToBuffer()]}})})},n.prototype.saveAsBase64=function(t){return t===void 0&&(t={}),Ut(this,void 0,void 0,function(){var e,i,r,s,a;return Ht(this,function(o){switch(o.label){case 0:return e=t.dataUri,i=e===void 0?!1:e,r=$nt(t,["dataUri"]),K(i,"dataUri",["boolean"]),[4,this.save(r)];case 1:return s=o.sent(),a=tit(s),[2,i?"data:application/pdf;base64,"+a:a]}})})},n.prototype.findPageForAnnotationRef=function(t){for(var e=this.getPages(),i=0,r=e.length;i<r;i++){var s=e[i],a=s.node.Annots();if((a==null?void 0:a.indexOf(t))!==void 0)return s}},n.prototype.embedAll=function(t){return Ut(this,void 0,void 0,function(){var e,i;return Ht(this,function(r){switch(r.label){case 0:e=0,i=t.length,r.label=1;case 1:return e<i?[4,t[e].embed()]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},n.prototype.updateInfoDict=function(){var t="pdf-lib (https://github.com/Hopding/pdf-lib)",e=new Date,i=this.getInfoDict();this.setProducer(t),this.setModificationDate(e),i.get(L.of("Creator"))||this.setCreator(t),i.get(L.of("CreationDate"))||this.setCreationDate(e)},n.prototype.getInfoDict=function(){var t=this.context.lookup(this.context.trailerInfo.Info);if(t instanceof Ot)return t;var e=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(e),e},n.prototype.assertFontkit=function(){if(!this.fontkit)throw new cut;return this.fontkit},n}();function _d(n){if(!(n instanceof Tt)&&!(n instanceof ke))throw new qR([Tt,ke],n)}var Sh;(function(n){n.Normal="Normal",n.Multiply="Multiply",n.Screen="Screen",n.Overlay="Overlay",n.Darken="Darken",n.Lighten="Lighten",n.ColorDodge="ColorDodge",n.ColorBurn="ColorBurn",n.HardLight="HardLight",n.SoftLight="SoftLight",n.Difference="Difference",n.Exclusion="Exclusion"})(Sh||(Sh={}));var go=function(){function n(t,e,i){this.fontSize=24,this.fontColor=he(0,0,0),this.lineHeight=24,this.x=0,this.y=0,K(t,"leafNode",[[Zu,"PDFPageLeaf"]]),K(e,"ref",[[Te,"PDFRef"]]),K(i,"doc",[[Is,"PDFDocument"]]),this.node=t,this.ref=e,this.doc=i}return n.prototype.setRotation=function(t){var e=JX(t);e9(e,"degreesAngle",90),this.node.set(L.of("Rotate"),this.doc.context.obj(e))},n.prototype.getRotation=function(){var t=this.node.Rotate();return Pt(t?t.asNumber():0)},n.prototype.setSize=function(t,e){K(t,"width",["number"]),K(e,"height",["number"]);var i=this.getMediaBox();this.setMediaBox(i.x,i.y,t,e);var r=this.getCropBox(),s=this.getBleedBox(),a=this.getTrimBox(),o=this.getArtBox(),c=this.node.CropBox(),l=this.node.BleedBox(),u=this.node.TrimBox(),d=this.node.ArtBox();c&&WT(r,i)&&this.setCropBox(i.x,i.y,t,e),l&&WT(s,i)&&this.setBleedBox(i.x,i.y,t,e),u&&WT(a,i)&&this.setTrimBox(i.x,i.y,t,e),d&&WT(o,i)&&this.setArtBox(i.x,i.y,t,e)},n.prototype.setWidth=function(t){K(t,"width",["number"]),this.setSize(t,this.getSize().height)},n.prototype.setHeight=function(t){K(t,"height",["number"]),this.setSize(this.getSize().width,t)},n.prototype.setMediaBox=function(t,e,i,r){K(t,"x",["number"]),K(e,"y",["number"]),K(i,"width",["number"]),K(r,"height",["number"]);var s=this.doc.context.obj([t,e,t+i,e+r]);this.node.set(L.MediaBox,s)},n.prototype.setCropBox=function(t,e,i,r){K(t,"x",["number"]),K(e,"y",["number"]),K(i,"width",["number"]),K(r,"height",["number"]);var s=this.doc.context.obj([t,e,t+i,e+r]);this.node.set(L.CropBox,s)},n.prototype.setBleedBox=function(t,e,i,r){K(t,"x",["number"]),K(e,"y",["number"]),K(i,"width",["number"]),K(r,"height",["number"]);var s=this.doc.context.obj([t,e,t+i,e+r]);this.node.set(L.BleedBox,s)},n.prototype.setTrimBox=function(t,e,i,r){K(t,"x",["number"]),K(e,"y",["number"]),K(i,"width",["number"]),K(r,"height",["number"]);var s=this.doc.context.obj([t,e,t+i,e+r]);this.node.set(L.TrimBox,s)},n.prototype.setArtBox=function(t,e,i,r){K(t,"x",["number"]),K(e,"y",["number"]),K(i,"width",["number"]),K(r,"height",["number"]);var s=this.doc.context.obj([t,e,t+i,e+r]);this.node.set(L.ArtBox,s)},n.prototype.getSize=function(){var t=this.getMediaBox(),e=t.width,i=t.height;return{width:e,height:i}},n.prototype.getWidth=function(){return this.getSize().width},n.prototype.getHeight=function(){return this.getSize().height},n.prototype.getMediaBox=function(){var t=this.node.MediaBox();return t.asRectangle()},n.prototype.getCropBox=function(){var t,e=this.node.CropBox();return(t=e==null?void 0:e.asRectangle())!==null&&t!==void 0?t:this.getMediaBox()},n.prototype.getBleedBox=function(){var t,e=this.node.BleedBox();return(t=e==null?void 0:e.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},n.prototype.getTrimBox=function(){var t,e=this.node.TrimBox();return(t=e==null?void 0:e.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},n.prototype.getArtBox=function(){var t,e=this.node.ArtBox();return(t=e==null?void 0:e.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},n.prototype.translateContent=function(t,e){K(t,"x",["number"]),K(e,"y",["number"]),this.node.normalize(),this.getContentStream();var i=this.createContentStream(yi(),So(t,e)),r=this.doc.context.register(i),s=this.createContentStream(bi()),a=this.doc.context.register(s);this.node.wrapContentStreams(r,a)},n.prototype.scale=function(t,e){K(t,"x",["number"]),K(e,"y",["number"]),this.setSize(this.getWidth()*t,this.getHeight()*e),this.scaleContent(t,e),this.scaleAnnotations(t,e)},n.prototype.scaleContent=function(t,e){K(t,"x",["number"]),K(e,"y",["number"]),this.node.normalize(),this.getContentStream();var i=this.createContentStream(yi(),fE(t,e)),r=this.doc.context.register(i),s=this.createContentStream(bi()),a=this.doc.context.register(s);this.node.wrapContentStreams(r,a)},n.prototype.scaleAnnotations=function(t,e){K(t,"x",["number"]),K(e,"y",["number"]);var i=this.node.Annots();if(i)for(var r=0;r<i.size();r++){var s=i.lookup(r);s instanceof Ot&&this.scaleAnnot(s,t,e)}},n.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},n.prototype.setFont=function(t){K(t,"font",[[za,"PDFFont"]]),this.font=t,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},n.prototype.setFontSize=function(t){K(t,"fontSize",["number"]),this.fontSize=t},n.prototype.setFontColor=function(t){K(t,"fontColor",[[Object,"Color"]]),this.fontColor=t},n.prototype.setLineHeight=function(t){K(t,"lineHeight",["number"]),this.lineHeight=t},n.prototype.getPosition=function(){return{x:this.x,y:this.y}},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.moveTo=function(t,e){K(t,"x",["number"]),K(e,"y",["number"]),this.x=t,this.y=e},n.prototype.moveDown=function(t){K(t,"yDecrease",["number"]),this.y-=t},n.prototype.moveUp=function(t){K(t,"yIncrease",["number"]),this.y+=t},n.prototype.moveLeft=function(t){K(t,"xDecrease",["number"]),this.x-=t},n.prototype.moveRight=function(t){K(t,"xIncrease",["number"]),this.x+=t},n.prototype.pushOperators=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t9(t,"operator",[[re,"PDFOperator"]]);var i=this.getContentStream();i.push.apply(i,t)},n.prototype.drawText=function(t,e){var i,r,s,a,o,c,l;e===void 0&&(e={}),K(t,"text",["string"]),it(e.color,"options.color",[[Object,"Color"]]),Vo(e.opacity,"opacity.opacity",0,1),it(e.font,"options.font",[[za,"PDFFont"]]),it(e.size,"options.size",["number"]),it(e.rotate,"options.rotate",[[Object,"Rotation"]]),it(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),it(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),it(e.x,"options.x",["number"]),it(e.y,"options.y",["number"]),it(e.lineHeight,"options.lineHeight",["number"]),it(e.maxWidth,"options.maxWidth",["number"]),it(e.wordBreaks,"options.wordBreaks",[Array]),qa(e.blendMode,"options.blendMode",Sh);for(var u=this.setOrEmbedFont(e.font),d=u.oldFont,f=u.newFont,p=u.newFontKey,g=e.size||this.fontSize,m=e.wordBreaks||this.doc.defaultWordBreaks,y=function(k){return f.widthOfTextAtSize(k,g)},v=e.maxWidth===void 0?e7(Ok(t)):cit(t,m,e.maxWidth,y),w=new Array(v.length),x=0,A=v.length;x<A;x++)w[x]=f.encodeText(v[x]);var S=this.maybeEmbedGraphicsState({opacity:e.opacity,blendMode:e.blendMode}),C=this.getContentStream();C.push.apply(C,tut(w,{color:(i=e.color)!==null&&i!==void 0?i:this.fontColor,font:p,size:g,rotate:(r=e.rotate)!==null&&r!==void 0?r:Pt(0),xSkew:(s=e.xSkew)!==null&&s!==void 0?s:Pt(0),ySkew:(a=e.ySkew)!==null&&a!==void 0?a:Pt(0),x:(o=e.x)!==null&&o!==void 0?o:this.x,y:(c=e.y)!==null&&c!==void 0?c:this.y,lineHeight:(l=e.lineHeight)!==null&&l!==void 0?l:this.lineHeight,graphicsState:S})),e.font&&(d?this.setFont(d):this.resetFont())},n.prototype.drawImage=function(t,e){var i,r,s,a,o,c,l;e===void 0&&(e={}),K(t,"image",[[qL,"PDFImage"]]),it(e.x,"options.x",["number"]),it(e.y,"options.y",["number"]),it(e.width,"options.width",["number"]),it(e.height,"options.height",["number"]),it(e.rotate,"options.rotate",[[Object,"Rotation"]]),it(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),it(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),Vo(e.opacity,"opacity.opacity",0,1),qa(e.blendMode,"options.blendMode",Sh);var u=this.node.newXObject("Image",t.ref),d=this.maybeEmbedGraphicsState({opacity:e.opacity,blendMode:e.blendMode}),f=this.getContentStream();f.push.apply(f,cq(u,{x:(i=e.x)!==null&&i!==void 0?i:this.x,y:(r=e.y)!==null&&r!==void 0?r:this.y,width:(s=e.width)!==null&&s!==void 0?s:t.size().width,height:(a=e.height)!==null&&a!==void 0?a:t.size().height,rotate:(o=e.rotate)!==null&&o!==void 0?o:Pt(0),xSkew:(c=e.xSkew)!==null&&c!==void 0?c:Pt(0),ySkew:(l=e.ySkew)!==null&&l!==void 0?l:Pt(0),graphicsState:d}))},n.prototype.drawPage=function(t,e){var i,r,s,a,o;e===void 0&&(e={}),K(t,"embeddedPage",[[mq,"PDFEmbeddedPage"]]),it(e.x,"options.x",["number"]),it(e.y,"options.y",["number"]),it(e.xScale,"options.xScale",["number"]),it(e.yScale,"options.yScale",["number"]),it(e.width,"options.width",["number"]),it(e.height,"options.height",["number"]),it(e.rotate,"options.rotate",[[Object,"Rotation"]]),it(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),it(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),Vo(e.opacity,"opacity.opacity",0,1),qa(e.blendMode,"options.blendMode",Sh);var c=this.node.newXObject("EmbeddedPdfPage",t.ref),l=this.maybeEmbedGraphicsState({opacity:e.opacity,blendMode:e.blendMode}),u=e.width!==void 0?e.width/t.width:e.xScale!==void 0?e.xScale:1,d=e.height!==void 0?e.height/t.height:e.yScale!==void 0?e.yScale:1,f=this.getContentStream();f.push.apply(f,eut(c,{x:(i=e.x)!==null&&i!==void 0?i:this.x,y:(r=e.y)!==null&&r!==void 0?r:this.y,xScale:u,yScale:d,rotate:(s=e.rotate)!==null&&s!==void 0?s:Pt(0),xSkew:(a=e.xSkew)!==null&&a!==void 0?a:Pt(0),ySkew:(o=e.ySkew)!==null&&o!==void 0?o:Pt(0),graphicsState:l}))},n.prototype.drawSvgPath=function(t,e){var i,r,s,a,o,c,l,u,d;e===void 0&&(e={}),K(t,"path",["string"]),it(e.x,"options.x",["number"]),it(e.y,"options.y",["number"]),it(e.scale,"options.scale",["number"]),it(e.rotate,"options.rotate",[[Object,"Rotation"]]),it(e.borderWidth,"options.borderWidth",["number"]),it(e.color,"options.color",[[Object,"Color"]]),Vo(e.opacity,"opacity.opacity",0,1),it(e.borderColor,"options.borderColor",[[Object,"Color"]]),it(e.borderDashArray,"options.borderDashArray",[Array]),it(e.borderDashPhase,"options.borderDashPhase",["number"]),qa(e.borderLineCap,"options.borderLineCap",jy),Vo(e.borderOpacity,"options.borderOpacity",0,1),qa(e.blendMode,"options.blendMode",Sh);var f=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.borderColor=he(0,0,0));var p=this.getContentStream();p.push.apply(p,sut(t,{x:(i=e.x)!==null&&i!==void 0?i:this.x,y:(r=e.y)!==null&&r!==void 0?r:this.y,scale:e.scale,rotate:(s=e.rotate)!==null&&s!==void 0?s:Pt(0),color:(a=e.color)!==null&&a!==void 0?a:void 0,borderColor:(o=e.borderColor)!==null&&o!==void 0?o:void 0,borderWidth:(c=e.borderWidth)!==null&&c!==void 0?c:0,borderDashArray:(l=e.borderDashArray)!==null&&l!==void 0?l:void 0,borderDashPhase:(u=e.borderDashPhase)!==null&&u!==void 0?u:void 0,borderLineCap:(d=e.borderLineCap)!==null&&d!==void 0?d:void 0,graphicsState:f}))},n.prototype.drawLine=function(t){var e,i,r,s,a;K(t.start,"options.start",[[Object,"{ x: number, y: number }"]]),K(t.end,"options.end",[[Object,"{ x: number, y: number }"]]),K(t.start.x,"options.start.x",["number"]),K(t.start.y,"options.start.y",["number"]),K(t.end.x,"options.end.x",["number"]),K(t.end.y,"options.end.y",["number"]),it(t.thickness,"options.thickness",["number"]),it(t.color,"options.color",[[Object,"Color"]]),it(t.dashArray,"options.dashArray",[Array]),it(t.dashPhase,"options.dashPhase",["number"]),qa(t.lineCap,"options.lineCap",jy),Vo(t.opacity,"opacity.opacity",0,1),qa(t.blendMode,"options.blendMode",Sh);var o=this.maybeEmbedGraphicsState({borderOpacity:t.opacity,blendMode:t.blendMode});"color"in t||(t.color=he(0,0,0));var c=this.getContentStream();c.push.apply(c,nut({start:t.start,end:t.end,thickness:(e=t.thickness)!==null&&e!==void 0?e:1,color:(i=t.color)!==null&&i!==void 0?i:void 0,dashArray:(r=t.dashArray)!==null&&r!==void 0?r:void 0,dashPhase:(s=t.dashPhase)!==null&&s!==void 0?s:void 0,lineCap:(a=t.lineCap)!==null&&a!==void 0?a:void 0,graphicsState:o}))},n.prototype.drawRectangle=function(t){var e,i,r,s,a,o,c,l,u,d,f,p,g;t===void 0&&(t={}),it(t.x,"options.x",["number"]),it(t.y,"options.y",["number"]),it(t.width,"options.width",["number"]),it(t.height,"options.height",["number"]),it(t.rotate,"options.rotate",[[Object,"Rotation"]]),it(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),it(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),it(t.borderWidth,"options.borderWidth",["number"]),it(t.color,"options.color",[[Object,"Color"]]),Vo(t.opacity,"opacity.opacity",0,1),it(t.borderColor,"options.borderColor",[[Object,"Color"]]),it(t.borderDashArray,"options.borderDashArray",[Array]),it(t.borderDashPhase,"options.borderDashPhase",["number"]),qa(t.borderLineCap,"options.borderLineCap",jy),Vo(t.borderOpacity,"options.borderOpacity",0,1),qa(t.blendMode,"options.blendMode",Sh);var m=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.color=he(0,0,0));var y=this.getContentStream();y.push.apply(y,X1({x:(e=t.x)!==null&&e!==void 0?e:this.x,y:(i=t.y)!==null&&i!==void 0?i:this.y,width:(r=t.width)!==null&&r!==void 0?r:150,height:(s=t.height)!==null&&s!==void 0?s:100,rotate:(a=t.rotate)!==null&&a!==void 0?a:Pt(0),xSkew:(o=t.xSkew)!==null&&o!==void 0?o:Pt(0),ySkew:(c=t.ySkew)!==null&&c!==void 0?c:Pt(0),borderWidth:(l=t.borderWidth)!==null&&l!==void 0?l:0,color:(u=t.color)!==null&&u!==void 0?u:void 0,borderColor:(d=t.borderColor)!==null&&d!==void 0?d:void 0,borderDashArray:(f=t.borderDashArray)!==null&&f!==void 0?f:void 0,borderDashPhase:(p=t.borderDashPhase)!==null&&p!==void 0?p:void 0,graphicsState:m,borderLineCap:(g=t.borderLineCap)!==null&&g!==void 0?g:void 0}))},n.prototype.drawSquare=function(t){t===void 0&&(t={});var e=t.size;it(e,"size",["number"]),this.drawRectangle(Nt(Nt({},t),{width:e,height:e}))},n.prototype.drawEllipse=function(t){var e,i,r,s,a,o,c,l,u,d,f;t===void 0&&(t={}),it(t.x,"options.x",["number"]),it(t.y,"options.y",["number"]),it(t.xScale,"options.xScale",["number"]),it(t.yScale,"options.yScale",["number"]),it(t.rotate,"options.rotate",[[Object,"Rotation"]]),it(t.color,"options.color",[[Object,"Color"]]),Vo(t.opacity,"opacity.opacity",0,1),it(t.borderColor,"options.borderColor",[[Object,"Color"]]),Vo(t.borderOpacity,"options.borderOpacity",0,1),it(t.borderWidth,"options.borderWidth",["number"]),it(t.borderDashArray,"options.borderDashArray",[Array]),it(t.borderDashPhase,"options.borderDashPhase",["number"]),qa(t.borderLineCap,"options.borderLineCap",jy),qa(t.blendMode,"options.blendMode",Sh);var p=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.color=he(0,0,0));var g=this.getContentStream();g.push.apply(g,XL({x:(e=t.x)!==null&&e!==void 0?e:this.x,y:(i=t.y)!==null&&i!==void 0?i:this.y,xScale:(r=t.xScale)!==null&&r!==void 0?r:100,yScale:(s=t.yScale)!==null&&s!==void 0?s:100,rotate:(a=t.rotate)!==null&&a!==void 0?a:void 0,color:(o=t.color)!==null&&o!==void 0?o:void 0,borderColor:(c=t.borderColor)!==null&&c!==void 0?c:void 0,borderWidth:(l=t.borderWidth)!==null&&l!==void 0?l:0,borderDashArray:(u=t.borderDashArray)!==null&&u!==void 0?u:void 0,borderDashPhase:(d=t.borderDashPhase)!==null&&d!==void 0?d:void 0,borderLineCap:(f=t.borderLineCap)!==null&&f!==void 0?f:void 0,graphicsState:p}))},n.prototype.drawCircle=function(t){t===void 0&&(t={});var e=t.size,i=e===void 0?100:e;it(i,"size",["number"]),this.drawEllipse(Nt(Nt({},t),{xScale:i,yScale:i}))},n.prototype.setOrEmbedFont=function(t){var e=this.font,i=this.fontKey;t?this.setFont(t):this.getFont();var r=this.font,s=this.fontKey;return{oldFont:e,oldFontKey:i,newFont:r,newFontKey:s}},n.prototype.getFont=function(){if(!this.font||!this.fontKey){var t=this.doc.embedStandardFont(q1.Helvetica);this.setFont(t)}return[this.font,this.fontKey]},n.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},n.prototype.getContentStream=function(t){return t===void 0&&(t=!0),t&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},n.prototype.createContentStream=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.doc.context.obj({}),r=gA.of(i,t);return r},n.prototype.maybeEmbedGraphicsState=function(t){var e=t.opacity,i=t.borderOpacity,r=t.blendMode;if(!(e===void 0&&i===void 0&&r===void 0)){var s=this.doc.context.obj({Type:"ExtGState",ca:e,CA:i,BM:r}),a=this.node.newExtGState("GS",s);return a}},n.prototype.scaleAnnot=function(t,e,i){for(var r=["RD","CL","Vertices","QuadPoints","L","Rect"],s=0,a=r.length;s<a;s++){var o=t.lookup(L.of(r[s]));o instanceof pe&&o.scalePDFNumbers(e,i)}var c=t.lookup(L.of("InkList"));if(c instanceof pe)for(var s=0,a=c.size();s<a;s++){var l=c.lookup(s);l instanceof pe&&l.scalePDFNumbers(e,i)}},n.of=function(t,e,i){return new n(t,e,i)},n.create=function(t){K(t,"doc",[[Is,"PDFDocument"]]);var e=Te.of(-1),i=Zu.withContextAndParent(t.context,e),r=t.context.register(i);return new n(i,r,t)},n}(),hP=function(n){rt(t,n);function t(e,i,r){var s=n.call(this,e,i,r)||this;return K(e,"acroButton",[[UF,"PDFAcroPushButton"]]),s.acroField=e,s}return t.prototype.setImage=function(e,i){i===void 0&&(i=Gp.Center);for(var r=this.acroField.getWidgets(),s=0,a=r.length;s<a;s++){var o=r[s],c=this.createImageAppearanceStream(o,e,i);this.updateWidgetAppearances(o,{normal:c})}this.markAsClean()},t.prototype.setFontSize=function(e){RF(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.addToPage=function(e,i,r){var s,a,o,c,l,u,d,f,p,g,m;it(e,"text",["string"]),it(i,"page",[[go,"PDFPage"]]),px(r);var y=this.createWidget({x:((s=r==null?void 0:r.x)!==null&&s!==void 0?s:0)-((a=r==null?void 0:r.borderWidth)!==null&&a!==void 0?a:0)/2,y:((o=r==null?void 0:r.y)!==null&&o!==void 0?o:0)-((c=r==null?void 0:r.borderWidth)!==null&&c!==void 0?c:0)/2,width:(l=r==null?void 0:r.width)!==null&&l!==void 0?l:100,height:(u=r==null?void 0:r.height)!==null&&u!==void 0?u:50,textColor:(d=r==null?void 0:r.textColor)!==null&&d!==void 0?d:he(0,0,0),backgroundColor:(f=r==null?void 0:r.backgroundColor)!==null&&f!==void 0?f:he(.75,.75,.75),borderColor:r==null?void 0:r.borderColor,borderWidth:(p=r==null?void 0:r.borderWidth)!==null&&p!==void 0?p:0,rotate:(g=r==null?void 0:r.rotate)!==null&&g!==void 0?g:Pt(0),caption:e,hidden:r==null?void 0:r.hidden,page:i.ref}),v=this.doc.context.register(y.dict);this.acroField.addWidget(v);var w=(m=r==null?void 0:r.font)!==null&&m!==void 0?m:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(y,w),i.node.addAnnot(v)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var i=this.acroField.getWidgets(),r=0,s=i.length;r<s;r++){var a=i[r],o=((e=a.getAppearances())===null||e===void 0?void 0:e.normal)instanceof Na;if(!o)return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){K(e,"font",[[za,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,i){K(e,"font",[[za,"PDFFont"]]),it(i,"provider",[Function]);for(var r=this.acroField.getWidgets(),s=0,a=r.length;s<a;s++){var o=r[s];this.updateWidgetAppearance(o,e,i)}},t.prototype.updateWidgetAppearance=function(e,i,r){var s=r??Cut,a=fx(s(this,e,i));this.updateWidgetAppearanceWithFont(e,i,a)},t.of=function(e,i,r){return new t(e,i,r)},t}(zv),vq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},AU=un.createContext&&un.createContext(vq),Lut=["attr","size","title"];function Out(n,t){if(n==null)return{};var e=But(n,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function But(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function lD(){return lD=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},lD.apply(this,arguments)}function EU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function cD(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?EU(Object(e),!0).forEach(function(i){zut(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):EU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function zut(n,t,e){return t=jut(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function jut(n){var t=Uut(n,"string");return typeof t=="symbol"?t:t+""}function Uut(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function yq(n){return n&&n.map((t,e)=>un.createElement(t.tag,cD({key:e},t.attr),yq(t.child)))}function vj(n){return t=>un.createElement(Hut,lD({attr:cD({},n.attr)},t),yq(n.child))}function Hut(n){var t=e=>{var{attr:i,size:r,title:s}=n,a=Out(n,Lut),o=r||e.size||"1em",c;return e.className&&(c=e.className),n.className&&(c=(c?c+" ":"")+n.className),un.createElement("svg",lD({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,a,{className:c,style:cD(cD({color:n.color||e.color},e.style),n.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&un.createElement("title",null,s),n.children)};return AU!==void 0?un.createElement(AU.Consumer,null,e=>t(e)):t(vq)}function Wut(n){return vj({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256.47 216.77l86.73 109.18s-16.6 102.36-76.57 150.12C206.66 523.85 0 510.19 0 510.19s3.8-23.14 11-55.43l94.62-112.17c3.97-4.7-.87-11.62-6.65-9.5l-60.4 22.09c14.44-41.66 32.72-80.04 54.6-97.47 59.97-47.76 163.3-40.94 163.3-40.94zM636.53 31.03l-19.86-25c-5.49-6.9-15.52-8.05-22.41-2.56l-232.48 177.8-34.14-42.97c-5.09-6.41-15.14-5.21-18.59 2.21l-25.33 54.55 86.73 109.18 58.8-12.45c8-1.69 11.42-11.2 6.34-17.6l-34.09-42.92 232.48-177.8c6.89-5.48 8.04-15.53 2.55-22.44z"},child:[]}]})(n)}function Vut(n){return vj({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(n)}function Gut(n){return vj({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}var yj={};(function n(t,e,i,r){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!t.OffscreenCanvas)return!1;var M=new OffscreenCanvas(1,1),N=M.getContext("2d");N.fillRect(0,0,1,1);var W=M.transferToImageBitmap();try{N.createPattern(W,"no-repeat")}catch{return!1}return!0}();function c(){}function l(M){var N=e.exports.Promise,W=N!==void 0?N:t.Promise;return typeof W=="function"?new W(M):(M(c,c),null)}var u=function(M,N){return{transform:function(W){if(M)return W;if(N.has(W))return N.get(W);var q=new OffscreenCanvas(W.width,W.height),Q=q.getContext("2d");return Q.drawImage(W,0,0),N.set(W,q),q},clear:function(){N.clear()}}}(o,new Map),d=function(){var M=Math.floor(16.666666666666668),N,W,q={},Q=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(N=function(et){var J=Math.random();return q[J]=requestAnimationFrame(function Z(tt){Q===tt||Q+M-1<tt?(Q=tt,delete q[J],et()):q[J]=requestAnimationFrame(Z)}),J},W=function(et){q[et]&&cancelAnimationFrame(q[et])}):(N=function(et){return setTimeout(et,M)},W=function(et){return clearTimeout(et)}),{frame:N,cancel:W}}(),f=function(){var M,N,W={};function q(Q){function et(J,Z){Q.postMessage({options:J||{},callback:Z})}Q.init=function(Z){var tt=Z.transferControlToOffscreen();Q.postMessage({canvas:tt},[tt])},Q.fire=function(Z,tt,wt){if(N)return et(Z,null),N;var st=Math.random().toString(36).slice(2);return N=l(function(At){function _t(vt){vt.data.callback===st&&(delete W[st],Q.removeEventListener("message",_t),N=null,u.clear(),wt(),At())}Q.addEventListener("message",_t),et(Z,st),W[st]=_t.bind(null,{data:{callback:st}})}),N},Q.reset=function(){Q.postMessage({reset:!0});for(var Z in W)W[Z](),delete W[Z]}}return function(){if(M)return M;if(!i&&s){var Q=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{M=new Worker(URL.createObjectURL(new Blob([Q])))}catch(et){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",et),null}q(M)}return M}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(M,N){return N?N(M):M}function m(M){return M!=null}function y(M,N,W){return g(M&&m(M[N])?M[N]:p[N],W)}function v(M){return M<0?0:Math.floor(M)}function w(M,N){return Math.floor(Math.random()*(N-M))+M}function x(M){return parseInt(M,16)}function A(M){return M.map(S)}function S(M){var N=String(M).replace(/[^0-9a-f]/gi,"");return N.length<6&&(N=N[0]+N[0]+N[1]+N[1]+N[2]+N[2]),{r:x(N.substring(0,2)),g:x(N.substring(2,4)),b:x(N.substring(4,6))}}function C(M){var N=y(M,"origin",Object);return N.x=y(N,"x",Number),N.y=y(N,"y",Number),N}function k(M){M.width=document.documentElement.clientWidth,M.height=document.documentElement.clientHeight}function T(M){var N=M.getBoundingClientRect();M.width=N.width,M.height=N.height}function R(M){var N=document.createElement("canvas");return N.style.position="fixed",N.style.top="0px",N.style.left="0px",N.style.pointerEvents="none",N.style.zIndex=M,N}function F(M,N,W,q,Q,et,J,Z,tt){M.save(),M.translate(N,W),M.rotate(et),M.scale(q,Q),M.arc(0,0,1,J,Z,tt),M.restore()}function D(M){var N=M.angle*(Math.PI/180),W=M.spread*(Math.PI/180);return{x:M.x,y:M.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:M.startVelocity*.5+Math.random()*M.startVelocity,angle2D:-N+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:M.color,shape:M.shape,tick:0,totalTicks:M.ticks,decay:M.decay,drift:M.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:M.gravity*3,ovalScalar:.6,scalar:M.scalar,flat:M.flat}}function U(M,N){N.x+=Math.cos(N.angle2D)*N.velocity+N.drift,N.y+=Math.sin(N.angle2D)*N.velocity+N.gravity,N.velocity*=N.decay,N.flat?(N.wobble=0,N.wobbleX=N.x+10*N.scalar,N.wobbleY=N.y+10*N.scalar,N.tiltSin=0,N.tiltCos=0,N.random=1):(N.wobble+=N.wobbleSpeed,N.wobbleX=N.x+10*N.scalar*Math.cos(N.wobble),N.wobbleY=N.y+10*N.scalar*Math.sin(N.wobble),N.tiltAngle+=.1,N.tiltSin=Math.sin(N.tiltAngle),N.tiltCos=Math.cos(N.tiltAngle),N.random=Math.random()+2);var W=N.tick++/N.totalTicks,q=N.x+N.random*N.tiltCos,Q=N.y+N.random*N.tiltSin,et=N.wobbleX+N.random*N.tiltCos,J=N.wobbleY+N.random*N.tiltSin;if(M.fillStyle="rgba("+N.color.r+", "+N.color.g+", "+N.color.b+", "+(1-W)+")",M.beginPath(),a&&N.shape.type==="path"&&typeof N.shape.path=="string"&&Array.isArray(N.shape.matrix))M.fill(B(N.shape.path,N.shape.matrix,N.x,N.y,Math.abs(et-q)*.1,Math.abs(J-Q)*.1,Math.PI/10*N.wobble));else if(N.shape.type==="bitmap"){var Z=Math.PI/10*N.wobble,tt=Math.abs(et-q)*.1,wt=Math.abs(J-Q)*.1,st=N.shape.bitmap.width*N.scalar,At=N.shape.bitmap.height*N.scalar,_t=new DOMMatrix([Math.cos(Z)*tt,Math.sin(Z)*tt,-Math.sin(Z)*wt,Math.cos(Z)*wt,N.x,N.y]);_t.multiplySelf(new DOMMatrix(N.shape.matrix));var vt=M.createPattern(u.transform(N.shape.bitmap),"no-repeat");vt.setTransform(_t),M.globalAlpha=1-W,M.fillStyle=vt,M.fillRect(N.x-st/2,N.y-At/2,st,At),M.globalAlpha=1}else if(N.shape==="circle")M.ellipse?M.ellipse(N.x,N.y,Math.abs(et-q)*N.ovalScalar,Math.abs(J-Q)*N.ovalScalar,Math.PI/10*N.wobble,0,2*Math.PI):F(M,N.x,N.y,Math.abs(et-q)*N.ovalScalar,Math.abs(J-Q)*N.ovalScalar,Math.PI/10*N.wobble,0,2*Math.PI);else if(N.shape==="star")for(var lt=Math.PI/2*3,Xt=4*N.scalar,Qt=8*N.scalar,Rn=N.x,xi=N.y,Or=5,Dn=Math.PI/Or;Or--;)Rn=N.x+Math.cos(lt)*Qt,xi=N.y+Math.sin(lt)*Qt,M.lineTo(Rn,xi),lt+=Dn,Rn=N.x+Math.cos(lt)*Xt,xi=N.y+Math.sin(lt)*Xt,M.lineTo(Rn,xi),lt+=Dn;else M.moveTo(Math.floor(N.x),Math.floor(N.y)),M.lineTo(Math.floor(N.wobbleX),Math.floor(Q)),M.lineTo(Math.floor(et),Math.floor(J)),M.lineTo(Math.floor(q),Math.floor(N.wobbleY));return M.closePath(),M.fill(),N.tick<N.totalTicks}function j(M,N,W,q,Q){var et=N.slice(),J=M.getContext("2d"),Z,tt,wt=l(function(st){function At(){Z=tt=null,J.clearRect(0,0,q.width,q.height),u.clear(),Q(),st()}function _t(){i&&!(q.width===r.width&&q.height===r.height)&&(q.width=M.width=r.width,q.height=M.height=r.height),!q.width&&!q.height&&(W(M),q.width=M.width,q.height=M.height),J.clearRect(0,0,q.width,q.height),et=et.filter(function(vt){return U(J,vt)}),et.length?Z=d.frame(_t):At()}Z=d.frame(_t),tt=At});return{addFettis:function(st){return et=et.concat(st),wt},canvas:M,promise:wt,reset:function(){Z&&d.cancel(Z),tt&&tt()}}}function V(M,N){var W=!M,q=!!y(N||{},"resize"),Q=!1,et=y(N,"disableForReducedMotion",Boolean),J=s&&!!y(N||{},"useWorker"),Z=J?f():null,tt=W?k:T,wt=M&&Z?!!M.__confetti_initialized:!1,st=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,At;function _t(lt,Xt,Qt){for(var Rn=y(lt,"particleCount",v),xi=y(lt,"angle",Number),Or=y(lt,"spread",Number),Dn=y(lt,"startVelocity",Number),Ho=y(lt,"decay",Number),vd=y(lt,"gravity",Number),Xv=y(lt,"drift",Number),hg=y(lt,"colors",A),wx=y(lt,"ticks",Number),qv=y(lt,"shapes"),Hi=y(lt,"scalar"),Br=!!y(lt,"flat"),Wi=C(lt),hh=Rn,Ha=[],vT=M.width*Wi.x,AM=M.height*Wi.y;hh--;)Ha.push(D({x:vT,y:AM,angle:xi,spread:Or,startVelocity:Dn,color:hg[hh%hg.length],shape:qv[w(0,qv.length)],ticks:wx,decay:Ho,gravity:vd,drift:Xv,scalar:Hi,flat:Br}));return At?At.addFettis(Ha):(At=j(M,Ha,tt,Xt,Qt),At.promise)}function vt(lt){var Xt=et||y(lt,"disableForReducedMotion",Boolean),Qt=y(lt,"zIndex",Number);if(Xt&&st)return l(function(Dn){Dn()});W&&At?M=At.canvas:W&&!M&&(M=R(Qt),document.body.appendChild(M)),q&&!wt&&tt(M);var Rn={width:M.width,height:M.height};Z&&!wt&&Z.init(M),wt=!0,Z&&(M.__confetti_initialized=!0);function xi(){if(Z){var Dn={getBoundingClientRect:function(){if(!W)return M.getBoundingClientRect()}};tt(Dn),Z.postMessage({resize:{width:Dn.width,height:Dn.height}});return}Rn.width=Rn.height=null}function Or(){At=null,q&&(Q=!1,t.removeEventListener("resize",xi)),W&&M&&(document.body.contains(M)&&document.body.removeChild(M),M=null,wt=!1)}return q&&!Q&&(Q=!0,t.addEventListener("resize",xi,!1)),Z?Z.fire(lt,Rn,Or):_t(lt,Rn,Or)}return vt.reset=function(){Z&&Z.reset(),At&&At.reset()},vt}var Y;function z(){return Y||(Y=V(null,{useWorker:!0,resize:!0})),Y}function B(M,N,W,q,Q,et,J){var Z=new Path2D(M),tt=new Path2D;tt.addPath(Z,new DOMMatrix(N));var wt=new Path2D;return wt.addPath(tt,new DOMMatrix([Math.cos(J)*Q,Math.sin(J)*Q,-Math.sin(J)*et,Math.cos(J)*et,W,q])),wt}function G(M){if(!a)throw new Error("path confetti are not supported in this browser");var N,W;typeof M=="string"?N=M:(N=M.path,W=M.matrix);var q=new Path2D(N),Q=document.createElement("canvas"),et=Q.getContext("2d");if(!W){for(var J=1e3,Z=J,tt=J,wt=0,st=0,At,_t,vt=0;vt<J;vt+=2)for(var lt=0;lt<J;lt+=2)et.isPointInPath(q,vt,lt,"nonzero")&&(Z=Math.min(Z,vt),tt=Math.min(tt,lt),wt=Math.max(wt,vt),st=Math.max(st,lt));At=wt-Z,_t=st-tt;var Xt=10,Qt=Math.min(Xt/At,Xt/_t);W=[Qt,0,0,Qt,-Math.round(At/2+Z)*Qt,-Math.round(_t/2+tt)*Qt]}return{type:"path",path:N,matrix:W}}function H(M){var N,W=1,q="#000000",Q='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof M=="string"?N=M:(N=M.text,W="scalar"in M?M.scalar:W,Q="fontFamily"in M?M.fontFamily:Q,q="color"in M?M.color:q);var et=10*W,J=""+et+"px "+Q,Z=new OffscreenCanvas(et,et),tt=Z.getContext("2d");tt.font=J;var wt=tt.measureText(N),st=Math.ceil(wt.actualBoundingBoxRight+wt.actualBoundingBoxLeft),At=Math.ceil(wt.actualBoundingBoxAscent+wt.actualBoundingBoxDescent),_t=2,vt=wt.actualBoundingBoxLeft+_t,lt=wt.actualBoundingBoxAscent+_t;st+=_t+_t,At+=_t+_t,Z=new OffscreenCanvas(st,At),tt=Z.getContext("2d"),tt.font=J,tt.fillStyle=q,tt.fillText(N,vt,lt);var Xt=1/W;return{type:"bitmap",bitmap:Z.transferToImageBitmap(),matrix:[Xt,0,0,Xt,-st*Xt/2,-At*Xt/2]}}e.exports=function(){return z().apply(this,arguments)},e.exports.reset=function(){z().reset()},e.exports.create=V,e.exports.shapeFromPath=G,e.exports.shapeFromText=H})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),yj,!1);const Xut=yj.exports;yj.exports.create;function Ll({title:n,description:t,actionLabel:e,processFiles:i,multiple:r=!1,outputName:s="output.pdf",files:a=null,accept:o=".pdf"}){const[c,l]=I.useState([]),[u,d]=I.useState(null),[f,p]=I.useState(!1),[g,m]=I.useState(0),[y,v]=I.useState(!1),[w,x]=I.useState(!1),[A,S]=I.useState(!1),C=a!==null?a:c,k=j=>{const V=r?Array.from(j.target.files):[j.target.files[0]];l(V),d(null)},T=()=>{let j=0;const V=setInterval(()=>{Xut({particleCount:60,spread:80,startVelocity:40,origin:{y:.6}}),j++,j>4&&clearInterval(V)},400)},R=async()=>{if(!C.length){alert("📌 Please upload your file first.");return}p(!0),m(0);const j=await i(C,m);d(j),p(!1),T(),v(!0)},F=()=>{v(!1),x(!0),T()},D=()=>{v(!1),S(!0)},U=()=>{const j=o.toLowerCase();return j.includes("word")||j.includes(".doc")?"Word File":j.includes("excel")||j.includes(".xls")?"Excel File":j.includes("image")||j.includes(".png")||j.includes(".jpg")||j.includes(".jpeg")?"Image File":j.includes("powerpoint")||j.includes("ppt")?"PowerPoint File":"PDF File"};return P.jsxs("div",{children:[a===null&&P.jsxs(P.Fragment,{children:[P.jsx("input",{type:"file",accept:o,multiple:r,onChange:k,className:"hidden",id:"fileInput"}),P.jsxs("label",{htmlFor:"fileInput",className:"cursor-pointer inline-block px-4 py-2 mb-4 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600 transition",children:["📂 Choose ",U(),r&&"s"]})]}),P.jsx("button",{onClick:R,className:"w-full px-4 py-3 bg-blue-600 text-white font-bold rounded-lg shadow hover:bg-blue-700 transition",disabled:f,children:f?"Processing…":e}),f&&P.jsx("div",{className:"w-full bg-gray-200 rounded-full mt-4",children:P.jsxs("div",{className:"bg-blue-500 text-xs font-medium text-white text-center p-0.5 leading-none rounded-full",style:{width:`${g}%`},children:[g,"%"]})}),y&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-sm text-center relative",children:[P.jsx("button",{onClick:D,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:"✖"}),P.jsx("h2",{className:"text-xl font-bold text-green-600 mb-3",children:"🎉 Completed!"}),P.jsx("div",{className:"text-3xl mb-3 animate-bounce",children:"🥳✨📄"}),P.jsx("p",{className:"text-gray-600 mb-4",children:"Your file has been successfully processed."}),u&&P.jsx("a",{href:u,download:s,className:"px-5 py-3 bg-green-500 text-white rounded-lg shadow hover:bg-green-600 transition",children:"⬇️ Download File"}),P.jsx("button",{onClick:F,className:"mt-4 px-4 py-2 bg-yellow-400 text-black font-semibold rounded-lg shadow hover:bg-yellow-500 transition flex items-center gap-2 mx-auto",children:"🐱 Buy me a coffee"}),P.jsxs("p",{className:"mt-3 text-sm text-gray-500",children:["Thank you for using ",P.jsx("b",{children:"Quicktools"})," 💙"]})]})}),w&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-sm text-center relative",children:[P.jsx("h2",{className:"text-xl font-bold text-yellow-500 mb-3",children:"☕ Thank you!"}),P.jsx("div",{className:"text-3xl mb-3",children:"🐱💙🎊"}),P.jsx("p",{className:"text-gray-600 mb-4",children:"Thanks for supporting Quicktools! You're awesome 🚀"}),P.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600 transition",children:"Close"})]})}),A&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-sm text-center relative",children:[P.jsx("h2",{className:"text-xl font-bold text-red-500 mb-3",children:"😿 Bye Bye"}),P.jsx("p",{className:"text-gray-600 mb-4",children:"See you again, don’t forget to come back!"}),P.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg shadow hover:bg-gray-600 transition",children:"Close"})]})})]})}function qut(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return I.useMemo(()=>i=>{t.forEach(r=>r(i))},t)}const ZF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gx(n){const t=Object.prototype.toString.call(n);return t==="[object Window]"||t==="[object global]"}function bj(n){return"nodeType"in n}function Ls(n){var t,e;return n?gx(n)?n:bj(n)&&(t=(e=n.ownerDocument)==null?void 0:e.defaultView)!=null?t:window:window}function wj(n){const{Document:t}=Ls(n);return n instanceof t}function eT(n){return gx(n)?!1:n instanceof Ls(n).HTMLElement}function bq(n){return n instanceof Ls(n).SVGElement}function mx(n){return n?gx(n)?n.document:bj(n)?wj(n)?n:eT(n)||bq(n)?n.ownerDocument:document:document:document}const nh=ZF?I.useLayoutEffect:I.useEffect;function xj(n){const t=I.useRef(n);return nh(()=>{t.current=n}),I.useCallback(function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t.current==null?void 0:t.current(...i)},[])}function Kut(){const n=I.useRef(null),t=I.useCallback((i,r)=>{n.current=setInterval(i,r)},[]),e=I.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[t,e]}function pE(n,t){t===void 0&&(t=[n]);const e=I.useRef(n);return nh(()=>{e.current!==n&&(e.current=n)},t),e}function nT(n,t){const e=I.useRef();return I.useMemo(()=>{const i=n(e.current);return e.current=i,i},[...t])}function hD(n){const t=xj(n),e=I.useRef(null),i=I.useCallback(r=>{r!==e.current&&(t==null||t(r,e.current)),e.current=r},[]);return[e,i]}function ZL(n){const t=I.useRef();return I.useEffect(()=>{t.current=n},[n]),t.current}let VN={};function iT(n,t){return I.useMemo(()=>{if(t)return t;const e=VN[n]==null?0:VN[n]+1;return VN[n]=e,n+"-"+e},[n,t])}function wq(n){return function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return i.reduce((s,a)=>{const o=Object.entries(a);for(const[c,l]of o){const u=s[c];u!=null&&(s[c]=u+n*l)}return s},{...t})}}const lb=wq(1),uD=wq(-1);function Yut(n){return"clientX"in n&&"clientY"in n}function Sj(n){if(!n)return!1;const{KeyboardEvent:t}=Ls(n.target);return t&&n instanceof t}function Zut(n){if(!n)return!1;const{TouchEvent:t}=Ls(n.target);return t&&n instanceof t}function QL(n){if(Zut(n)){if(n.touches&&n.touches.length){const{clientX:t,clientY:e}=n.touches[0];return{x:t,y:e}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:t,clientY:e}=n.changedTouches[0];return{x:t,y:e}}}return Yut(n)?{x:n.clientX,y:n.clientY}:null}const K1=Object.freeze({Translate:{toString(n){if(!n)return;const{x:t,y:e}=n;return"translate3d("+(t?Math.round(t):0)+"px, "+(e?Math.round(e):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:t,scaleY:e}=n;return"scaleX("+t+") scaleY("+e+")"}},Transform:{toString(n){if(n)return[K1.Translate.toString(n),K1.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:t,duration:e,easing:i}=n;return t+" "+e+"ms "+i}}}),_U="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Qut(n){return n.matches(_U)?n:n.querySelector(_U)}const Jut={display:"none"};function $ut(n){let{id:t,value:e}=n;return un.createElement("div",{id:t,style:Jut},e)}function tdt(n){let{id:t,announcement:e,ariaLiveType:i="assertive"}=n;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return un.createElement("div",{id:t,style:r,role:"status","aria-live":i,"aria-atomic":!0},e)}function edt(){const[n,t]=I.useState("");return{announce:I.useCallback(i=>{i!=null&&t(i)},[]),announcement:n}}const xq=I.createContext(null);function ndt(n){const t=I.useContext(xq);I.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(n)},[n,t])}function idt(){const[n]=I.useState(()=>new Set),t=I.useCallback(i=>(n.add(i),()=>n.delete(i)),[n]);return[I.useCallback(i=>{let{type:r,event:s}=i;n.forEach(a=>{var o;return(o=a[r])==null?void 0:o.call(a,s)})},[n]),t]}const rdt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},sdt={onDragStart(n){let{active:t}=n;return"Picked up draggable item "+t.id+"."},onDragOver(n){let{active:t,over:e}=n;return e?"Draggable item "+t.id+" was moved over droppable area "+e.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(n){let{active:t,over:e}=n;return e?"Draggable item "+t.id+" was dropped over droppable area "+e.id:"Draggable item "+t.id+" was dropped."},onDragCancel(n){let{active:t}=n;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function adt(n){let{announcements:t=sdt,container:e,hiddenTextDescribedById:i,screenReaderInstructions:r=rdt}=n;const{announce:s,announcement:a}=edt(),o=iT("DndLiveRegion"),[c,l]=I.useState(!1);if(I.useEffect(()=>{l(!0)},[]),ndt(I.useMemo(()=>({onDragStart(d){let{active:f}=d;s(t.onDragStart({active:f}))},onDragMove(d){let{active:f,over:p}=d;t.onDragMove&&s(t.onDragMove({active:f,over:p}))},onDragOver(d){let{active:f,over:p}=d;s(t.onDragOver({active:f,over:p}))},onDragEnd(d){let{active:f,over:p}=d;s(t.onDragEnd({active:f,over:p}))},onDragCancel(d){let{active:f,over:p}=d;s(t.onDragCancel({active:f,over:p}))}}),[s,t])),!c)return null;const u=un.createElement(un.Fragment,null,un.createElement($ut,{id:i,value:r.draggable}),un.createElement(tdt,{id:o,announcement:a}));return e?Qc.createPortal(u,e):u}var ui;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(ui||(ui={}));function dD(){}function Sq(n,t){return I.useMemo(()=>({sensor:n,options:{}}),[n,t])}function Aq(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return I.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const Pl=Object.freeze({x:0,y:0});function odt(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function ldt(n,t){let{data:{value:e}}=n,{data:{value:i}}=t;return e-i}function cdt(n,t){let{data:{value:e}}=n,{data:{value:i}}=t;return i-e}function hdt(n,t){if(!n||n.length===0)return null;const[e]=n;return e[t]}function CU(n,t,e){return t===void 0&&(t=n.left),e===void 0&&(e=n.top),{x:t+n.width*.5,y:e+n.height*.5}}const Eq=n=>{let{collisionRect:t,droppableRects:e,droppableContainers:i}=n;const r=CU(t,t.left,t.top),s=[];for(const a of i){const{id:o}=a,c=e.get(o);if(c){const l=odt(CU(c),r);s.push({id:o,data:{droppableContainer:a,value:l}})}}return s.sort(ldt)};function udt(n,t){const e=Math.max(t.top,n.top),i=Math.max(t.left,n.left),r=Math.min(t.left+t.width,n.left+n.width),s=Math.min(t.top+t.height,n.top+n.height),a=r-i,o=s-e;if(i<r&&e<s){const c=t.width*t.height,l=n.width*n.height,u=a*o,d=u/(c+l-u);return Number(d.toFixed(4))}return 0}const ddt=n=>{let{collisionRect:t,droppableRects:e,droppableContainers:i}=n;const r=[];for(const s of i){const{id:a}=s,o=e.get(a);if(o){const c=udt(o,t);c>0&&r.push({id:a,data:{droppableContainer:s,value:c}})}}return r.sort(cdt)};function fdt(n,t,e){return{...n,scaleX:t&&e?t.width/e.width:1,scaleY:t&&e?t.height/e.height:1}}function _q(n,t){return n&&t?{x:n.left-t.left,y:n.top-t.top}:Pl}function pdt(n){return function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return r.reduce((a,o)=>({...a,top:a.top+n*o.y,bottom:a.bottom+n*o.y,left:a.left+n*o.x,right:a.right+n*o.x}),{...e})}}const gdt=pdt(1);function mdt(n){if(n.startsWith("matrix3d(")){const t=n.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(n.startsWith("matrix(")){const t=n.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function vdt(n,t,e){const i=mdt(t);if(!i)return n;const{scaleX:r,scaleY:s,x:a,y:o}=i,c=n.left-a-(1-r)*parseFloat(e),l=n.top-o-(1-s)*parseFloat(e.slice(e.indexOf(" ")+1)),u=r?n.width/r:n.width,d=s?n.height/s:n.height;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c}}const ydt={ignoreTransform:!1};function vx(n,t){t===void 0&&(t=ydt);let e=n.getBoundingClientRect();if(t.ignoreTransform){const{transform:l,transformOrigin:u}=Ls(n).getComputedStyle(n);l&&(e=vdt(e,l,u))}const{top:i,left:r,width:s,height:a,bottom:o,right:c}=e;return{top:i,left:r,width:s,height:a,bottom:o,right:c}}function kU(n){return vx(n,{ignoreTransform:!0})}function bdt(n){const t=n.innerWidth,e=n.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function wdt(n,t){return t===void 0&&(t=Ls(n).getComputedStyle(n)),t.position==="fixed"}function xdt(n,t){t===void 0&&(t=Ls(n).getComputedStyle(n));const e=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const s=t[r];return typeof s=="string"?e.test(s):!1})}function Aj(n,t){const e=[];function i(r){if(t!=null&&e.length>=t||!r)return e;if(wj(r)&&r.scrollingElement!=null&&!e.includes(r.scrollingElement))return e.push(r.scrollingElement),e;if(!eT(r)||bq(r)||e.includes(r))return e;const s=Ls(n).getComputedStyle(r);return r!==n&&xdt(r,s)&&e.push(r),wdt(r,s)?e:i(r.parentNode)}return n?i(n):e}function Cq(n){const[t]=Aj(n,1);return t??null}function GN(n){return!ZF||!n?null:gx(n)?n:bj(n)?wj(n)||n===mx(n).scrollingElement?window:eT(n)?n:null:null}function kq(n){return gx(n)?n.scrollX:n.scrollLeft}function Tq(n){return gx(n)?n.scrollY:n.scrollTop}function JL(n){return{x:kq(n),y:Tq(n)}}var Oi;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Oi||(Oi={}));function Pq(n){return!ZF||!n?!1:n===document.scrollingElement}function Rq(n){const t={x:0,y:0},e=Pq(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},i={x:n.scrollWidth-e.width,y:n.scrollHeight-e.height},r=n.scrollTop<=t.y,s=n.scrollLeft<=t.x,a=n.scrollTop>=i.y,o=n.scrollLeft>=i.x;return{isTop:r,isLeft:s,isBottom:a,isRight:o,maxScroll:i,minScroll:t}}const Sdt={x:.2,y:.2};function Adt(n,t,e,i,r){let{top:s,left:a,right:o,bottom:c}=e;i===void 0&&(i=10),r===void 0&&(r=Sdt);const{isTop:l,isBottom:u,isLeft:d,isRight:f}=Rq(n),p={x:0,y:0},g={x:0,y:0},m={height:t.height*r.y,width:t.width*r.x};return!l&&s<=t.top+m.height?(p.y=Oi.Backward,g.y=i*Math.abs((t.top+m.height-s)/m.height)):!u&&c>=t.bottom-m.height&&(p.y=Oi.Forward,g.y=i*Math.abs((t.bottom-m.height-c)/m.height)),!f&&o>=t.right-m.width?(p.x=Oi.Forward,g.x=i*Math.abs((t.right-m.width-o)/m.width)):!d&&a<=t.left+m.width&&(p.x=Oi.Backward,g.x=i*Math.abs((t.left+m.width-a)/m.width)),{direction:p,speed:g}}function Edt(n){if(n===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:t,left:e,right:i,bottom:r}=n.getBoundingClientRect();return{top:t,left:e,right:i,bottom:r,width:n.clientWidth,height:n.clientHeight}}function Dq(n){return n.reduce((t,e)=>lb(t,JL(e)),Pl)}function _dt(n){return n.reduce((t,e)=>t+kq(e),0)}function Cdt(n){return n.reduce((t,e)=>t+Tq(e),0)}function kdt(n,t){if(t===void 0&&(t=vx),!n)return;const{top:e,left:i,bottom:r,right:s}=t(n);Cq(n)&&(r<=0||s<=0||e>=window.innerHeight||i>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const Tdt=[["x",["left","right"],_dt],["y",["top","bottom"],Cdt]];class Ej{constructor(t,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Aj(e),r=Dq(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,a,o]of Tdt)for(const c of a)Object.defineProperty(this,c,{get:()=>{const l=o(i),u=r[s]-l;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class _A{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...e)})},this.target=t}add(t,e,i){var r;(r=this.target)==null||r.addEventListener(t,e,i),this.listeners.push([t,e,i])}}function Pdt(n){const{EventTarget:t}=Ls(n);return n instanceof t?n:mx(n)}function XN(n,t){const e=Math.abs(n.x),i=Math.abs(n.y);return typeof t=="number"?Math.sqrt(e**2+i**2)>t:"x"in t&&"y"in t?e>t.x&&i>t.y:"x"in t?e>t.x:"y"in t?i>t.y:!1}var ho;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(ho||(ho={}));function TU(n){n.preventDefault()}function Rdt(n){n.stopPropagation()}var Ce;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Ce||(Ce={}));const Fq={start:[Ce.Space,Ce.Enter],cancel:[Ce.Esc],end:[Ce.Space,Ce.Enter,Ce.Tab]},Ddt=(n,t)=>{let{currentCoordinates:e}=t;switch(n.code){case Ce.Right:return{...e,x:e.x+25};case Ce.Left:return{...e,x:e.x-25};case Ce.Down:return{...e,y:e.y+25};case Ce.Up:return{...e,y:e.y-25}}};class Mq{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:e}}=t;this.props=t,this.listeners=new _A(mx(e)),this.windowListeners=new _A(Ls(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ho.Resize,this.handleCancel),this.windowListeners.add(ho.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ho.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:e}=this.props,i=t.node.current;i&&kdt(i),e(Pl)}handleKeyDown(t){if(Sj(t)){const{active:e,context:i,options:r}=this.props,{keyboardCodes:s=Fq,coordinateGetter:a=Ddt,scrollBehavior:o="smooth"}=r,{code:c}=t;if(s.end.includes(c)){this.handleEnd(t);return}if(s.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:l}=i.current,u=l?{x:l.left,y:l.top}:Pl;this.referenceCoordinates||(this.referenceCoordinates=u);const d=a(t,{active:e,context:i.current,currentCoordinates:u});if(d){const f=uD(d,u),p={x:0,y:0},{scrollableAncestors:g}=i.current;for(const m of g){const y=t.code,{isTop:v,isRight:w,isLeft:x,isBottom:A,maxScroll:S,minScroll:C}=Rq(m),k=Edt(m),T={x:Math.min(y===Ce.Right?k.right-k.width/2:k.right,Math.max(y===Ce.Right?k.left:k.left+k.width/2,d.x)),y:Math.min(y===Ce.Down?k.bottom-k.height/2:k.bottom,Math.max(y===Ce.Down?k.top:k.top+k.height/2,d.y))},R=y===Ce.Right&&!w||y===Ce.Left&&!x,F=y===Ce.Down&&!A||y===Ce.Up&&!v;if(R&&T.x!==d.x){const D=m.scrollLeft+f.x,U=y===Ce.Right&&D<=S.x||y===Ce.Left&&D>=C.x;if(U&&!f.y){m.scrollTo({left:D,behavior:o});return}U?p.x=m.scrollLeft-D:p.x=y===Ce.Right?m.scrollLeft-S.x:m.scrollLeft-C.x,p.x&&m.scrollBy({left:-p.x,behavior:o});break}else if(F&&T.y!==d.y){const D=m.scrollTop+f.y,U=y===Ce.Down&&D<=S.y||y===Ce.Up&&D>=C.y;if(U&&!f.x){m.scrollTo({top:D,behavior:o});return}U?p.y=m.scrollTop-D:p.y=y===Ce.Down?m.scrollTop-S.y:m.scrollTop-C.y,p.y&&m.scrollBy({top:-p.y,behavior:o});break}}this.handleMove(t,lb(uD(d,this.referenceCoordinates),p))}}}handleMove(t,e){const{onMove:i}=this.props;t.preventDefault(),i(e)}handleEnd(t){const{onEnd:e}=this.props;t.preventDefault(),this.detach(),e()}handleCancel(t){const{onCancel:e}=this.props;t.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Mq.activators=[{eventName:"onKeyDown",handler:(n,t,e)=>{let{keyboardCodes:i=Fq,onActivation:r}=t,{active:s}=e;const{code:a}=n.nativeEvent;if(i.start.includes(a)){const o=s.activatorNode.current;return o&&n.target!==o?!1:(n.preventDefault(),r==null||r({event:n.nativeEvent}),!0)}return!1}}];function PU(n){return!!(n&&"distance"in n)}function RU(n){return!!(n&&"delay"in n)}class _j{constructor(t,e,i){var r;i===void 0&&(i=Pdt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=e;const{event:s}=t,{target:a}=s;this.props=t,this.events=e,this.document=mx(a),this.documentListeners=new _A(this.document),this.listeners=new _A(i),this.windowListeners=new _A(Ls(a)),this.initialCoordinates=(r=QL(s))!=null?r:Pl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:e,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ho.Resize,this.handleCancel),this.windowListeners.add(ho.DragStart,TU),this.windowListeners.add(ho.VisibilityChange,this.handleCancel),this.windowListeners.add(ho.ContextMenu,TU),this.documentListeners.add(ho.Keydown,this.handleKeydown),e){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(RU(e)){this.timeoutId=setTimeout(this.handleStart,e.delay),this.handlePending(e);return}if(PU(e)){this.handlePending(e);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,e){const{active:i,onPending:r}=this.props;r(i,t,this.initialCoordinates,e)}handleStart(){const{initialCoordinates:t}=this,{onStart:e}=this.props;t&&(this.activated=!0,this.documentListeners.add(ho.Click,Rdt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ho.SelectionChange,this.removeTextSelection),e(t))}handleMove(t){var e;const{activated:i,initialCoordinates:r,props:s}=this,{onMove:a,options:{activationConstraint:o}}=s;if(!r)return;const c=(e=QL(t))!=null?e:Pl,l=uD(r,c);if(!i&&o){if(PU(o)){if(o.tolerance!=null&&XN(l,o.tolerance))return this.handleCancel();if(XN(l,o.distance))return this.handleStart()}if(RU(o)&&XN(l,o.tolerance))return this.handleCancel();this.handlePending(o,l);return}t.cancelable&&t.preventDefault(),a(c)}handleEnd(){const{onAbort:t,onEnd:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleCancel(){const{onAbort:t,onCancel:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleKeydown(t){t.code===Ce.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Fdt={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class QF extends _j{constructor(t){const{event:e}=t,i=mx(e.target);super(t,Fdt,i)}}QF.activators=[{eventName:"onPointerDown",handler:(n,t)=>{let{nativeEvent:e}=n,{onActivation:i}=t;return!e.isPrimary||e.button!==0?!1:(i==null||i({event:e}),!0)}}];const Mdt={move:{name:"mousemove"},end:{name:"mouseup"}};var $L;(function(n){n[n.RightClick=2]="RightClick"})($L||($L={}));class Ndt extends _j{constructor(t){super(t,Mdt,mx(t.event.target))}}Ndt.activators=[{eventName:"onMouseDown",handler:(n,t)=>{let{nativeEvent:e}=n,{onActivation:i}=t;return e.button===$L.RightClick?!1:(i==null||i({event:e}),!0)}}];const qN={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Idt extends _j{constructor(t){super(t,qN)}static setup(){return window.addEventListener(qN.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(qN.move.name,t)};function t(){}}}Idt.activators=[{eventName:"onTouchStart",handler:(n,t)=>{let{nativeEvent:e}=n,{onActivation:i}=t;const{touches:r}=e;return r.length>1?!1:(i==null||i({event:e}),!0)}}];var CA;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(CA||(CA={}));var fD;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(fD||(fD={}));function Ldt(n){let{acceleration:t,activator:e=CA.Pointer,canScroll:i,draggingRect:r,enabled:s,interval:a=5,order:o=fD.TreeOrder,pointerCoordinates:c,scrollableAncestors:l,scrollableAncestorRects:u,delta:d,threshold:f}=n;const p=Bdt({delta:d,disabled:!s}),[g,m]=Kut(),y=I.useRef({x:0,y:0}),v=I.useRef({x:0,y:0}),w=I.useMemo(()=>{switch(e){case CA.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case CA.DraggableRect:return r}},[e,r,c]),x=I.useRef(null),A=I.useCallback(()=>{const C=x.current;if(!C)return;const k=y.current.x*v.current.x,T=y.current.y*v.current.y;C.scrollBy(k,T)},[]),S=I.useMemo(()=>o===fD.TreeOrder?[...l].reverse():l,[o,l]);I.useEffect(()=>{if(!s||!l.length||!w){m();return}for(const C of S){if((i==null?void 0:i(C))===!1)continue;const k=l.indexOf(C),T=u[k];if(!T)continue;const{direction:R,speed:F}=Adt(C,T,w,t,f);for(const D of["x","y"])p[D][R[D]]||(F[D]=0,R[D]=0);if(F.x>0||F.y>0){m(),x.current=C,g(A,a),y.current=F,v.current=R;return}}y.current={x:0,y:0},v.current={x:0,y:0},m()},[t,A,i,m,s,a,JSON.stringify(w),JSON.stringify(p),g,l,S,u,JSON.stringify(f)])}const Odt={x:{[Oi.Backward]:!1,[Oi.Forward]:!1},y:{[Oi.Backward]:!1,[Oi.Forward]:!1}};function Bdt(n){let{delta:t,disabled:e}=n;const i=ZL(t);return nT(r=>{if(e||!i||!r)return Odt;const s={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[Oi.Backward]:r.x[Oi.Backward]||s.x===-1,[Oi.Forward]:r.x[Oi.Forward]||s.x===1},y:{[Oi.Backward]:r.y[Oi.Backward]||s.y===-1,[Oi.Forward]:r.y[Oi.Forward]||s.y===1}}},[e,t,i])}function zdt(n,t){const e=t!=null?n.get(t):void 0,i=e?e.node.current:null;return nT(r=>{var s;return t==null?null:(s=i??r)!=null?s:null},[i,t])}function jdt(n,t){return I.useMemo(()=>n.reduce((e,i)=>{const{sensor:r}=i,s=r.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,i)}));return[...e,...s]},[]),[n,t])}var gE;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(gE||(gE={}));var tO;(function(n){n.Optimized="optimized"})(tO||(tO={}));const DU=new Map;function Udt(n,t){let{dragging:e,dependencies:i,config:r}=t;const[s,a]=I.useState(null),{frequency:o,measure:c,strategy:l}=r,u=I.useRef(n),d=y(),f=pE(d),p=I.useCallback(function(v){v===void 0&&(v=[]),!f.current&&a(w=>w===null?v:w.concat(v.filter(x=>!w.includes(x))))},[f]),g=I.useRef(null),m=nT(v=>{if(d&&!e)return DU;if(!v||v===DU||u.current!==n||s!=null){const w=new Map;for(let x of n){if(!x)continue;if(s&&s.length>0&&!s.includes(x.id)&&x.rect.current){w.set(x.id,x.rect.current);continue}const A=x.node.current,S=A?new Ej(c(A),A):null;x.rect.current=S,S&&w.set(x.id,S)}return w}return v},[n,s,e,d,c]);return I.useEffect(()=>{u.current=n},[n]),I.useEffect(()=>{d||p()},[e,d]),I.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),I.useEffect(()=>{d||typeof o!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},o))},[o,d,p,...i]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:s!=null};function y(){switch(l){case gE.Always:return!1;case gE.BeforeDragging:return e;default:return!e}}}function Nq(n,t){return nT(e=>n?e||(typeof t=="function"?t(n):n):null,[t,n])}function Hdt(n,t){return Nq(n,t)}function Wdt(n){let{callback:t,disabled:e}=n;const i=xj(t),r=I.useMemo(()=>{if(e||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(i)},[i,e]);return I.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function JF(n){let{callback:t,disabled:e}=n;const i=xj(t),r=I.useMemo(()=>{if(e||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(i)},[e]);return I.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function Vdt(n){return new Ej(vx(n),n)}function FU(n,t,e){t===void 0&&(t=Vdt);const[i,r]=I.useState(null);function s(){r(c=>{if(!n)return null;if(n.isConnected===!1){var l;return(l=c??e)!=null?l:null}const u=t(n);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const a=Wdt({callback(c){if(n)for(const l of c){const{type:u,target:d}=l;if(u==="childList"&&d instanceof HTMLElement&&d.contains(n)){s();break}}}}),o=JF({callback:s});return nh(()=>{s(),n?(o==null||o.observe(n),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),a==null||a.disconnect())},[n]),i}function Gdt(n){const t=Nq(n);return _q(n,t)}const MU=[];function Xdt(n){const t=I.useRef(n),e=nT(i=>n?i&&i!==MU&&n&&t.current&&n.parentNode===t.current.parentNode?i:Aj(n):MU,[n]);return I.useEffect(()=>{t.current=n},[n]),e}function qdt(n){const[t,e]=I.useState(null),i=I.useRef(n),r=I.useCallback(s=>{const a=GN(s.target);a&&e(o=>o?(o.set(a,JL(a)),new Map(o)):null)},[]);return I.useEffect(()=>{const s=i.current;if(n!==s){a(s);const o=n.map(c=>{const l=GN(c);return l?(l.addEventListener("scroll",r,{passive:!0}),[l,JL(l)]):null}).filter(c=>c!=null);e(o.length?new Map(o):null),i.current=n}return()=>{a(n),a(s)};function a(o){o.forEach(c=>{const l=GN(c);l==null||l.removeEventListener("scroll",r)})}},[r,n]),I.useMemo(()=>n.length?t?Array.from(t.values()).reduce((s,a)=>lb(s,a),Pl):Dq(n):Pl,[n,t])}function NU(n,t){t===void 0&&(t=[]);const e=I.useRef(null);return I.useEffect(()=>{e.current=null},t),I.useEffect(()=>{const i=n!==Pl;i&&!e.current&&(e.current=n),!i&&e.current&&(e.current=null)},[n]),e.current?uD(n,e.current):Pl}function Kdt(n){I.useEffect(()=>{if(!ZF)return;const t=n.map(e=>{let{sensor:i}=e;return i.setup==null?void 0:i.setup()});return()=>{for(const e of t)e==null||e()}},n.map(t=>{let{sensor:e}=t;return e}))}function Ydt(n,t){return I.useMemo(()=>n.reduce((e,i)=>{let{eventName:r,handler:s}=i;return e[r]=a=>{s(a,t)},e},{}),[n,t])}function Iq(n){return I.useMemo(()=>n?bdt(n):null,[n])}const IU=[];function Zdt(n,t){t===void 0&&(t=vx);const[e]=n,i=Iq(e?Ls(e):null),[r,s]=I.useState(IU);function a(){s(()=>n.length?n.map(c=>Pq(c)?i:new Ej(t(c),c)):IU)}const o=JF({callback:a});return nh(()=>{o==null||o.disconnect(),a(),n.forEach(c=>o==null?void 0:o.observe(c))},[n]),r}function Qdt(n){if(!n)return null;if(n.children.length>1)return n;const t=n.children[0];return eT(t)?t:n}function Jdt(n){let{measure:t}=n;const[e,i]=I.useState(null),r=I.useCallback(l=>{for(const{target:u}of l)if(eT(u)){i(d=>{const f=t(u);return d?{...d,width:f.width,height:f.height}:f});break}},[t]),s=JF({callback:r}),a=I.useCallback(l=>{const u=Qdt(l);s==null||s.disconnect(),u&&(s==null||s.observe(u)),i(u?t(u):null)},[t,s]),[o,c]=hD(a);return I.useMemo(()=>({nodeRef:o,rect:e,setRef:c}),[e,o,c])}const $dt=[{sensor:QF,options:{}},{sensor:Mq,options:{}}],tft={current:{}},uP={draggable:{measure:kU},droppable:{measure:kU,strategy:gE.WhileDragging,frequency:tO.Optimized},dragOverlay:{measure:vx}};class kA extends Map{get(t){var e;return t!=null&&(e=super.get(t))!=null?e:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:e}=t;return!e})}getNodeFor(t){var e,i;return(e=(i=this.get(t))==null?void 0:i.node.current)!=null?e:void 0}}const eft={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new kA,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:dD},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:uP,measureDroppableContainers:dD,windowRect:null,measuringScheduled:!1},nft={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:dD,draggableNodes:new Map,over:null,measureDroppableContainers:dD},$F=I.createContext(nft),Lq=I.createContext(eft);function ift(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new kA}}}function rft(n,t){switch(t.type){case ui.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ui.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:t.coordinates.x-n.draggable.initialCoordinates.x,y:t.coordinates.y-n.draggable.initialCoordinates.y}}};case ui.DragEnd:case ui.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ui.RegisterDroppable:{const{element:e}=t,{id:i}=e,r=new kA(n.droppable.containers);return r.set(i,e),{...n,droppable:{...n.droppable,containers:r}}}case ui.SetDroppableDisabled:{const{id:e,key:i,disabled:r}=t,s=n.droppable.containers.get(e);if(!s||i!==s.key)return n;const a=new kA(n.droppable.containers);return a.set(e,{...s,disabled:r}),{...n,droppable:{...n.droppable,containers:a}}}case ui.UnregisterDroppable:{const{id:e,key:i}=t,r=n.droppable.containers.get(e);if(!r||i!==r.key)return n;const s=new kA(n.droppable.containers);return s.delete(e),{...n,droppable:{...n.droppable,containers:s}}}default:return n}}function sft(n){let{disabled:t}=n;const{active:e,activatorEvent:i,draggableNodes:r}=I.useContext($F),s=ZL(i),a=ZL(e==null?void 0:e.id);return I.useEffect(()=>{if(!t&&!i&&s&&a!=null){if(!Sj(s)||document.activeElement===s.target)return;const o=r.get(a);if(!o)return;const{activatorNode:c,node:l}=o;if(!c.current&&!l.current)return;requestAnimationFrame(()=>{for(const u of[c.current,l.current]){if(!u)continue;const d=Qut(u);if(d){d.focus();break}}})}},[i,t,r,a,s]),null}function aft(n,t){let{transform:e,...i}=t;return n!=null&&n.length?n.reduce((r,s)=>s({transform:r,...i}),e):e}function oft(n){return I.useMemo(()=>({draggable:{...uP.draggable,...n==null?void 0:n.draggable},droppable:{...uP.droppable,...n==null?void 0:n.droppable},dragOverlay:{...uP.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function lft(n){let{activeNode:t,measure:e,initialRect:i,config:r=!0}=n;const s=I.useRef(!1),{x:a,y:o}=typeof r=="boolean"?{x:r,y:r}:r;nh(()=>{if(!a&&!o||!t){s.current=!1;return}if(s.current||!i)return;const l=t==null?void 0:t.node.current;if(!l||l.isConnected===!1)return;const u=e(l),d=_q(u,i);if(a||(d.x=0),o||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const f=Cq(l);f&&f.scrollBy({top:d.y,left:d.x})}},[t,a,o,i,e])}const Oq=I.createContext({...Pl,scaleX:1,scaleY:1});var zd;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(zd||(zd={}));const Bq=I.memo(function(t){var e,i,r,s;let{id:a,accessibility:o,autoScroll:c=!0,children:l,sensors:u=$dt,collisionDetection:d=ddt,measuring:f,modifiers:p,...g}=t;const m=I.useReducer(rft,void 0,ift),[y,v]=m,[w,x]=idt(),[A,S]=I.useState(zd.Uninitialized),C=A===zd.Initialized,{draggable:{active:k,nodes:T,translate:R},droppable:{containers:F}}=y,D=k!=null?T.get(k):null,U=I.useRef({initial:null,translated:null}),j=I.useMemo(()=>{var yr;return k!=null?{id:k,data:(yr=D==null?void 0:D.data)!=null?yr:tft,rect:U}:null},[k,D]),V=I.useRef(null),[Y,z]=I.useState(null),[B,G]=I.useState(null),H=pE(g,Object.values(g)),M=iT("DndDescribedBy",a),N=I.useMemo(()=>F.getEnabled(),[F]),W=oft(f),{droppableRects:q,measureDroppableContainers:Q,measuringScheduled:et}=Udt(N,{dragging:C,dependencies:[R.x,R.y],config:W.droppable}),J=zdt(T,k),Z=I.useMemo(()=>B?QL(B):null,[B]),tt=o$(),wt=Hdt(J,W.draggable.measure);lft({activeNode:k!=null?T.get(k):null,config:tt.layoutShiftCompensation,initialRect:wt,measure:W.draggable.measure});const st=FU(J,W.draggable.measure,wt),At=FU(J?J.parentElement:null),_t=I.useRef({activatorEvent:null,active:null,activeNode:J,collisionRect:null,collisions:null,droppableRects:q,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),vt=F.getNodeFor((e=_t.current.over)==null?void 0:e.id),lt=Jdt({measure:W.dragOverlay.measure}),Xt=(i=lt.nodeRef.current)!=null?i:J,Qt=C?(r=lt.rect)!=null?r:st:null,Rn=!!(lt.nodeRef.current&&lt.rect),xi=Gdt(Rn?null:st),Or=Iq(Xt?Ls(Xt):null),Dn=Xdt(C?vt??J:null),Ho=Zdt(Dn),vd=aft(p,{transform:{x:R.x-xi.x,y:R.y-xi.y,scaleX:1,scaleY:1},activatorEvent:B,active:j,activeNodeRect:st,containerNodeRect:At,draggingNodeRect:Qt,over:_t.current.over,overlayNodeRect:lt.rect,scrollableAncestors:Dn,scrollableAncestorRects:Ho,windowRect:Or}),Xv=Z?lb(Z,R):null,hg=qdt(Dn),wx=NU(hg),qv=NU(hg,[st]),Hi=lb(vd,wx),Br=Qt?gdt(Qt,vd):null,Wi=j&&Br?d({active:j,collisionRect:Br,droppableRects:q,droppableContainers:N,pointerCoordinates:Xv}):null,hh=hdt(Wi,"id"),[Ha,vT]=I.useState(null),AM=Rn?vd:lb(vd,qv),i$=fdt(AM,(s=Ha==null?void 0:Ha.rect)!=null?s:null,st),EM=I.useRef(null),c5=I.useCallback((yr,Os)=>{let{sensor:Bs,options:yd}=Os;if(V.current==null)return;const Wa=T.get(V.current);if(!Wa)return;const zs=yr.nativeEvent,Ol=new Bs({active:V.current,activeNode:Wa,event:zs,options:yd,context:_t,onAbort(Vi){if(!T.get(Vi))return;const{onDragAbort:Bl}=H.current,uh={id:Vi};Bl==null||Bl(uh),w({type:"onDragAbort",event:uh})},onPending(Vi,bd,Bl,uh){if(!T.get(Vi))return;const{onDragPending:Sx}=H.current,wd={id:Vi,constraint:bd,initialCoordinates:Bl,offset:uh};Sx==null||Sx(wd),w({type:"onDragPending",event:wd})},onStart(Vi){const bd=V.current;if(bd==null)return;const Bl=T.get(bd);if(!Bl)return;const{onDragStart:uh}=H.current,xx={activatorEvent:zs,active:{id:bd,data:Bl.data,rect:U}};Qc.unstable_batchedUpdates(()=>{uh==null||uh(xx),S(zd.Initializing),v({type:ui.DragStart,initialCoordinates:Vi,active:bd}),w({type:"onDragStart",event:xx}),z(EM.current),G(zs)})},onMove(Vi){v({type:ui.DragMove,coordinates:Vi})},onEnd:Kv(ui.DragEnd),onCancel:Kv(ui.DragCancel)});EM.current=Ol;function Kv(Vi){return async function(){const{active:Bl,collisions:uh,over:xx,scrollAdjustedTranslate:Sx}=_t.current;let wd=null;if(Bl&&Sx){const{cancelDrop:Ax}=H.current;wd={activatorEvent:zs,active:Bl,collisions:uh,delta:Sx,over:xx},Vi===ui.DragEnd&&typeof Ax=="function"&&await Promise.resolve(Ax(wd))&&(Vi=ui.DragCancel)}V.current=null,Qc.unstable_batchedUpdates(()=>{v({type:Vi}),S(zd.Uninitialized),vT(null),z(null),G(null),EM.current=null;const Ax=Vi===ui.DragEnd?"onDragEnd":"onDragCancel";if(wd){const _M=H.current[Ax];_M==null||_M(wd),w({type:Ax,event:wd})}})}}},[T]),r$=I.useCallback((yr,Os)=>(Bs,yd)=>{const Wa=Bs.nativeEvent,zs=T.get(yd);if(V.current!==null||!zs||Wa.dndKit||Wa.defaultPrevented)return;const Ol={active:zs};yr(Bs,Os.options,Ol)===!0&&(Wa.dndKit={capturedBy:Os.sensor},V.current=yd,c5(Bs,Os))},[T,c5]),h5=jdt(u,r$);Kdt(u),nh(()=>{st&&A===zd.Initializing&&S(zd.Initialized)},[st,A]),I.useEffect(()=>{const{onDragMove:yr}=H.current,{active:Os,activatorEvent:Bs,collisions:yd,over:Wa}=_t.current;if(!Os||!Bs)return;const zs={active:Os,activatorEvent:Bs,collisions:yd,delta:{x:Hi.x,y:Hi.y},over:Wa};Qc.unstable_batchedUpdates(()=>{yr==null||yr(zs),w({type:"onDragMove",event:zs})})},[Hi.x,Hi.y]),I.useEffect(()=>{const{active:yr,activatorEvent:Os,collisions:Bs,droppableContainers:yd,scrollAdjustedTranslate:Wa}=_t.current;if(!yr||V.current==null||!Os||!Wa)return;const{onDragOver:zs}=H.current,Ol=yd.get(hh),Kv=Ol&&Ol.rect.current?{id:Ol.id,rect:Ol.rect.current,data:Ol.data,disabled:Ol.disabled}:null,Vi={active:yr,activatorEvent:Os,collisions:Bs,delta:{x:Wa.x,y:Wa.y},over:Kv};Qc.unstable_batchedUpdates(()=>{vT(Kv),zs==null||zs(Vi),w({type:"onDragOver",event:Vi})})},[hh]),nh(()=>{_t.current={activatorEvent:B,active:j,activeNode:J,collisionRect:Br,collisions:Wi,droppableRects:q,draggableNodes:T,draggingNode:Xt,draggingNodeRect:Qt,droppableContainers:F,over:Ha,scrollableAncestors:Dn,scrollAdjustedTranslate:Hi},U.current={initial:Qt,translated:Br}},[j,J,Wi,Br,T,Xt,Qt,q,F,Ha,Dn,Hi]),Ldt({...tt,delta:R,draggingRect:Br,pointerCoordinates:Xv,scrollableAncestors:Dn,scrollableAncestorRects:Ho});const s$=I.useMemo(()=>({active:j,activeNode:J,activeNodeRect:st,activatorEvent:B,collisions:Wi,containerNodeRect:At,dragOverlay:lt,draggableNodes:T,droppableContainers:F,droppableRects:q,over:Ha,measureDroppableContainers:Q,scrollableAncestors:Dn,scrollableAncestorRects:Ho,measuringConfiguration:W,measuringScheduled:et,windowRect:Or}),[j,J,st,B,Wi,At,lt,T,F,q,Ha,Q,Dn,Ho,W,et,Or]),a$=I.useMemo(()=>({activatorEvent:B,activators:h5,active:j,activeNodeRect:st,ariaDescribedById:{draggable:M},dispatch:v,draggableNodes:T,over:Ha,measureDroppableContainers:Q}),[B,h5,j,st,v,M,T,Ha,Q]);return un.createElement(xq.Provider,{value:x},un.createElement($F.Provider,{value:a$},un.createElement(Lq.Provider,{value:s$},un.createElement(Oq.Provider,{value:i$},l)),un.createElement(sft,{disabled:(o==null?void 0:o.restoreFocus)===!1})),un.createElement(adt,{...o,hiddenTextDescribedById:M}));function o$(){const yr=(Y==null?void 0:Y.autoScrollEnabled)===!1,Os=typeof c=="object"?c.enabled===!1:c===!1,Bs=C&&!yr&&!Os;return typeof c=="object"?{...c,enabled:Bs}:{enabled:Bs}}}),cft=I.createContext(null),LU="button",hft="Draggable";function uft(n){let{id:t,data:e,disabled:i=!1,attributes:r}=n;const s=iT(hft),{activators:a,activatorEvent:o,active:c,activeNodeRect:l,ariaDescribedById:u,draggableNodes:d,over:f}=I.useContext($F),{role:p=LU,roleDescription:g="draggable",tabIndex:m=0}=r??{},y=(c==null?void 0:c.id)===t,v=I.useContext(y?Oq:cft),[w,x]=hD(),[A,S]=hD(),C=Ydt(a,t),k=pE(e);nh(()=>(d.set(t,{id:t,key:s,node:w,activatorNode:A,data:k}),()=>{const R=d.get(t);R&&R.key===s&&d.delete(t)}),[d,t]);const T=I.useMemo(()=>({role:p,tabIndex:m,"aria-disabled":i,"aria-pressed":y&&p===LU?!0:void 0,"aria-roledescription":g,"aria-describedby":u.draggable}),[i,p,m,y,g,u.draggable]);return{active:c,activatorEvent:o,activeNodeRect:l,attributes:T,isDragging:y,listeners:i?void 0:C,node:w,over:f,setNodeRef:x,setActivatorNodeRef:S,transform:v}}function dft(){return I.useContext(Lq)}const fft="Droppable",pft={timeout:25};function gft(n){let{data:t,disabled:e=!1,id:i,resizeObserverConfig:r}=n;const s=iT(fft),{active:a,dispatch:o,over:c,measureDroppableContainers:l}=I.useContext($F),u=I.useRef({disabled:e}),d=I.useRef(!1),f=I.useRef(null),p=I.useRef(null),{disabled:g,updateMeasurementsFor:m,timeout:y}={...pft,...r},v=pE(m??i),w=I.useCallback(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{l(Array.isArray(v.current)?v.current:[v.current]),p.current=null},y)},[y]),x=JF({callback:w,disabled:g||!a}),A=I.useCallback((T,R)=>{x&&(R&&(x.unobserve(R),d.current=!1),T&&x.observe(T))},[x]),[S,C]=hD(A),k=pE(t);return I.useEffect(()=>{!x||!S.current||(x.disconnect(),d.current=!1,x.observe(S.current))},[S,x]),I.useEffect(()=>(o({type:ui.RegisterDroppable,element:{id:i,key:s,disabled:e,node:S,rect:f,data:k}}),()=>o({type:ui.UnregisterDroppable,key:s,id:i})),[i]),I.useEffect(()=>{e!==u.current.disabled&&(o({type:ui.SetDroppableDisabled,id:i,key:s,disabled:e}),u.current.disabled=e)},[i,s,e,o]),{active:a,rect:f,isOver:(c==null?void 0:c.id)===i,node:S,over:c,setNodeRef:C}}function tM(n,t,e){const i=n.slice();return i.splice(e<0?i.length+e:e,0,i.splice(t,1)[0]),i}function mft(n,t){return n.reduce((e,i,r)=>{const s=t.get(i);return s&&(e[r]=s),e},Array(n.length))}function o2(n){return n!==null&&n>=0}function vft(n,t){if(n===t)return!0;if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function yft(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const zq=n=>{let{rects:t,activeIndex:e,overIndex:i,index:r}=n;const s=tM(t,i,e),a=t[r],o=s[r];return!o||!a?null:{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}},l2={scaleX:1,scaleY:1},jq=n=>{var t;let{activeIndex:e,activeNodeRect:i,index:r,rects:s,overIndex:a}=n;const o=(t=s[e])!=null?t:i;if(!o)return null;if(r===e){const l=s[a];return l?{x:0,y:e<a?l.top+l.height-(o.top+o.height):l.top-o.top,...l2}:null}const c=bft(s,r,e);return r>e&&r<=a?{x:0,y:-o.height-c,...l2}:r<e&&r>=a?{x:0,y:o.height+c,...l2}:{x:0,y:0,...l2}};function bft(n,t,e){const i=n[t],r=n[t-1],s=n[t+1];return i?e<t?r?i.top-(r.top+r.height):s?s.top-(i.top+i.height):0:s?s.top-(i.top+i.height):r?i.top-(r.top+r.height):0:0}const Uq="Sortable",Hq=un.createContext({activeIndex:-1,containerId:Uq,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:zq,disabled:{draggable:!1,droppable:!1}});function Wq(n){let{children:t,id:e,items:i,strategy:r=zq,disabled:s=!1}=n;const{active:a,dragOverlay:o,droppableRects:c,over:l,measureDroppableContainers:u}=dft(),d=iT(Uq,e),f=o.rect!==null,p=I.useMemo(()=>i.map(C=>typeof C=="object"&&"id"in C?C.id:C),[i]),g=a!=null,m=a?p.indexOf(a.id):-1,y=l?p.indexOf(l.id):-1,v=I.useRef(p),w=!vft(p,v.current),x=y!==-1&&m===-1||w,A=yft(s);nh(()=>{w&&g&&u(p)},[w,p,g,u]),I.useEffect(()=>{v.current=p},[p]);const S=I.useMemo(()=>({activeIndex:m,containerId:d,disabled:A,disableTransforms:x,items:p,overIndex:y,useDragOverlay:f,sortedRects:mft(p,c),strategy:r}),[m,d,A.draggable,A.droppable,x,p,y,c,f,r]);return un.createElement(Hq.Provider,{value:S},t)}const wft=n=>{let{id:t,items:e,activeIndex:i,overIndex:r}=n;return tM(e,i,r).indexOf(t)},xft=n=>{let{containerId:t,isSorting:e,wasDragging:i,index:r,items:s,newIndex:a,previousItems:o,previousContainerId:c,transition:l}=n;return!l||!i||o!==s&&r===a?!1:e?!0:a!==r&&t===c},Sft={duration:200,easing:"ease"},Vq="transform",Aft=K1.Transition.toString({property:Vq,duration:0,easing:"linear"}),Eft={roleDescription:"sortable"};function _ft(n){let{disabled:t,index:e,node:i,rect:r}=n;const[s,a]=I.useState(null),o=I.useRef(e);return nh(()=>{if(!t&&e!==o.current&&i.current){const c=r.current;if(c){const l=vx(i.current,{ignoreTransform:!0}),u={x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height};(u.x||u.y)&&a(u)}}e!==o.current&&(o.current=e)},[t,e,i,r]),I.useEffect(()=>{s&&a(null)},[s]),s}function Gq(n){let{animateLayoutChanges:t=xft,attributes:e,disabled:i,data:r,getNewIndex:s=wft,id:a,strategy:o,resizeObserverConfig:c,transition:l=Sft}=n;const{items:u,containerId:d,activeIndex:f,disabled:p,disableTransforms:g,sortedRects:m,overIndex:y,useDragOverlay:v,strategy:w}=I.useContext(Hq),x=Cft(i,p),A=u.indexOf(a),S=I.useMemo(()=>({sortable:{containerId:d,index:A,items:u},...r}),[d,r,A,u]),C=I.useMemo(()=>u.slice(u.indexOf(a)),[u,a]),{rect:k,node:T,isOver:R,setNodeRef:F}=gft({id:a,data:S,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:D,activatorEvent:U,activeNodeRect:j,attributes:V,setNodeRef:Y,listeners:z,isDragging:B,over:G,setActivatorNodeRef:H,transform:M}=uft({id:a,data:S,attributes:{...Eft,...e},disabled:x.draggable}),N=qut(F,Y),W=!!D,q=W&&!g&&o2(f)&&o2(y),Q=!v&&B,et=Q&&q?M:null,Z=q?et??(o??w)({rects:m,activeNodeRect:j,activeIndex:f,overIndex:y,index:A}):null,tt=o2(f)&&o2(y)?s({id:a,items:u,activeIndex:f,overIndex:y}):A,wt=D==null?void 0:D.id,st=I.useRef({activeId:wt,items:u,newIndex:tt,containerId:d}),At=u!==st.current.items,_t=t({active:D,containerId:d,isDragging:B,isSorting:W,id:a,index:A,items:u,newIndex:st.current.newIndex,previousItems:st.current.items,previousContainerId:st.current.containerId,transition:l,wasDragging:st.current.activeId!=null}),vt=_ft({disabled:!_t,index:A,node:T,rect:k});return I.useEffect(()=>{W&&st.current.newIndex!==tt&&(st.current.newIndex=tt),d!==st.current.containerId&&(st.current.containerId=d),u!==st.current.items&&(st.current.items=u)},[W,tt,d,u]),I.useEffect(()=>{if(wt===st.current.activeId)return;if(wt!=null&&st.current.activeId==null){st.current.activeId=wt;return}const Xt=setTimeout(()=>{st.current.activeId=wt},50);return()=>clearTimeout(Xt)},[wt]),{active:D,activeIndex:f,attributes:V,data:S,rect:k,index:A,newIndex:tt,items:u,isOver:R,isSorting:W,isDragging:B,listeners:z,node:T,overIndex:y,over:G,setNodeRef:N,setActivatorNodeRef:H,setDroppableNodeRef:F,setDraggableNodeRef:Y,transform:vt??Z,transition:lt()};function lt(){if(vt||At&&st.current.newIndex===A)return Aft;if(!(Q&&!Sj(U)||!l)&&(W||_t))return K1.Transition.toString({...l,property:Vq})}}function Cft(n,t){var e,i;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(e=n==null?void 0:n.draggable)!=null?e:t.draggable,droppable:(i=n==null?void 0:n.droppable)!=null?i:t.droppable}}Ce.Down,Ce.Right,Ce.Up,Ce.Left;const OU=()=>Math.random().toString(36).substring(2,9);function kft({item:n,onRemove:t}){const{attributes:e,listeners:i,setNodeRef:r,transform:s,transition:a}=Gq({id:n.id}),o={transform:K1.Transform.toString(s),transition:a};return P.jsxs("li",{ref:r,style:o,...e,className:"flex justify-between items-center bg-blue-50 p-3 rounded-lg shadow-sm",children:[P.jsxs("div",{...i,className:"flex items-center gap-3 text-blue-700 cursor-move flex-1",children:[P.jsx(Vut,{})," ",n.file.name,P.jsxs("span",{className:"text-xs text-gray-500",children:["(",(n.file.size/1024/1024).toFixed(2)," MB)"]})]}),P.jsx("button",{onClick:()=>t(n.id),className:"px-2 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600 ml-2",children:P.jsx(Gut,{})})]})}function Tft(){const[n,t]=I.useState([]),[e,i]=I.useState("merged.pdf"),r=Aq(Sq(QF)),s=f=>{f.preventDefault();const p=Array.from(f.dataTransfer.files).filter(g=>g.type==="application/pdf").map(g=>({id:OU(),file:g}));t(g=>[...g,...p])},a=f=>f.preventDefault(),o=f=>{const p=Array.from(f.target.files).filter(g=>g.type==="application/pdf").map(g=>({id:OU(),file:g}));t(g=>[...g,...p])},c=()=>t([]),l=f=>{const{active:p,over:g}=f;if(g&&p.id!==g.id){const m=n.findIndex(v=>v.id===p.id),y=n.findIndex(v=>v.id===g.id);t(v=>tM(v,m,y))}},u=async(f,p)=>{const g=await Is.create();for(let v=0;v<f.length;v++){const x=await f[v].file.arrayBuffer(),A=await Is.load(x);(await g.copyPages(A,A.getPageIndices())).forEach(C=>g.addPage(C)),p(Math.round((v+1)/f.length*100))}const m=await g.save(),y=new Blob([m],{type:"application/pdf"});return URL.createObjectURL(y)},d=n.reduce((f,p)=>f+p.file.size,0);return P.jsxs("div",{className:"p-6 max-w-2xl mx-auto bg-white rounded-2xl shadow-lg border border-blue-200",children:[P.jsx("h1",{className:"text-2xl font-bold mb-2 text-blue-600",children:"🔗 Merge PDF"}),P.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["📝 Choose OR drag & drop PDFs → ",P.jsx("b",{children:"Drag files up & down to reorder"})," → Merge → Download."]}),P.jsx("input",{type:"file",accept:"application/pdf",multiple:!0,onChange:o,className:"hidden",id:"fileInput"}),P.jsx("label",{htmlFor:"fileInput",className:"cursor-pointer inline-block px-4 py-2 mb-4 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600 transition",children:"📂 Choose PDF Files"}),P.jsx("div",{onDrop:s,onDragOver:a,className:"border-2 border-dashed border-blue-400 rounded-lg p-8 mb-6 text-center text-gray-600 hover:bg-blue-50 transition",children:"🚀 Or Drag & Drop your PDF files here"}),n.length>0&&P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"flex justify-between items-center mb-3 text-sm text-gray-600",children:[P.jsxs("span",{children:["📊 ",n.length," file(s) – ",(d/1024/1024).toFixed(2)," MB total"]}),P.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:[P.jsx(Wut,{})," Clear All"]})]}),P.jsx(Bq,{sensors:r,collisionDetection:Eq,onDragEnd:l,children:P.jsx(Wq,{items:n.map(f=>f.id),strategy:jq,children:P.jsx("ul",{className:"mb-6 space-y-2",children:n.map(f=>P.jsx(kft,{item:f,onRemove:p=>t(g=>g.filter(m=>m.id!==p))},f.id))})})}),P.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"💡 Tip: Drag files up & down to reorder them"})]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"✏️ Output File Name"}),P.jsx("input",{type:"text",value:e,onChange:f=>i(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200"})]}),P.jsx(Ll,{title:"",description:"",actionLabel:"🔗 Merge PDFs",processFiles:async(f,p)=>await u(n,p),multiple:!0,outputName:e||"merged.pdf",files:n})]})}const Zr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),eO=[.001,0,0,.001,0,0],KN=1.35,wa={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Gd={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Xq="pdfjs_internal_editor_",Mt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},le={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Pft={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Gi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},dP={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Gn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ly={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},eM={ERRORS:0,WARNINGS:1,INFOS:5},mE={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},c2={moveTo:0,lineTo:1,curveTo:2,closePath:3},Rft={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let nM=eM.WARNINGS;function Dft(n){Number.isInteger(n)&&(nM=n)}function Fft(){return nM}function iM(n){nM>=eM.INFOS&&console.log(`Info: ${n}`)}function Bt(n){nM>=eM.WARNINGS&&console.log(`Warning: ${n}`)}function We(n){throw new Error(n)}function Zn(n,t){n||We(t)}function Mft(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function qq(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=Bft(n)}catch{}}const i=t?URL.parse(n,t):URL.parse(n);return Mft(i)?i:null}function Kq(n,t,e=!1){const i=URL.parse(n);return i?(i.hash=t,i.href):e&&qq(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Zt(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const jv=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();let BU=class extends jv{constructor(t,e){super(t,"PasswordException"),this.code=e}},YN=class extends jv{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}},nO=class extends jv{constructor(t){super(t,"InvalidPDFException")}},pD=class extends jv{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}},Nft=class extends jv{constructor(t){super(t,"FormatError")}},Qp=class extends jv{constructor(t){super(t,"AbortException")}};function Yq(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&We("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<t;r+=e){const s=Math.min(r+e,t),a=n.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function rT(n){typeof n!="string"&&We("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function Ift(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Lft(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Oft(){try{return new Function(""),!0}catch{return!1}}let mr=class{static get isLittleEndian(){return Zt(this,"isLittleEndian",Lft())}static get isEvalSupported(){return Zt(this,"isEvalSupported",Oft())}static get isOffscreenCanvasSupported(){return Zt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Zt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Zt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return Zt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}};const ZN=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Qu,gI,fP,iO;let mt=(gI=class{static makeHexColor(t,e,i){return`#${ZN[t]}${ZN[e]}${ZN[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,i=0){const r=t[i],s=t[i+1];t[i]=r*e[0]+s*e[2]+e[4],t[i+1]=r*e[1]+s*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const r=e[0],s=e[1],a=e[2],o=e[3],c=e[4],l=e[5];for(let u=0;u<6;u+=2){const d=t[i+u],f=t[i+u+1];t[i+u]=d*r+f*a+c,t[i+u+1]=d*s+f*o+l}}static applyInverseTransform(t,e){const i=t[0],r=t[1],s=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/s,t[1]=(-i*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/s}static axialAlignedBoundingBox(t,e,i){const r=e[0],s=e[1],a=e[2],o=e[3],c=e[4],l=e[5],u=t[0],d=t[1],f=t[2],p=t[3];let g=r*u+c,m=g,y=r*f+c,v=y,w=o*d+l,x=w,A=o*p+l,S=A;if(s!==0||a!==0){const C=s*u,k=s*f,T=a*d,R=a*p;g+=T,v+=T,y+=R,m+=R,w+=C,S+=C,A+=k,x+=k}i[0]=Math.min(i[0],g,y,m,v),i[1]=Math.min(i[1],w,A,x,S),i[2]=Math.max(i[2],g,y,m,v),i[3]=Math.max(i[3],w,A,x,S)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],r=t[1],s=t[2],a=t[3],o=i**2+r**2,c=i*s+r*a,l=s**2+a**2,u=(o+l)/2,d=Math.sqrt(u**2-(o*l-c**2));e[0]=Math.sqrt(u+d||1),e[1]=Math.sqrt(u-d||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>a?null:[i,s,r,a]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,r,s){s[0]=Math.min(s[0],t,i),s[1]=Math.min(s[1],e,r),s[2]=Math.max(s[2],t,i),s[3]=Math.max(s[3],e,r)}static bezierBoundingBox(t,e,i,r,s,a,o,c,l){l[0]=Math.min(l[0],t,o),l[1]=Math.min(l[1],e,c),l[2]=Math.max(l[2],t,o),l[3]=Math.max(l[3],e,c),_(this,Qu,iO).call(this,t,i,s,o,e,r,a,c,3*(-t+3*(i-s)+o),6*(t-2*i+s),3*(i-t),l),_(this,Qu,iO).call(this,t,i,s,o,e,r,a,c,3*(-e+3*(r-a)+c),6*(e-2*r+a),3*(r-e),l)}},Qu=new WeakSet,fP=function(t,e,i,r,s,a,o,c,l,u){if(l<=0||l>=1)return;const d=1-l,f=l*l,p=f*l,g=d*(d*(d*t+3*l*e)+3*f*i)+p*r,m=d*(d*(d*s+3*l*a)+3*f*o)+p*c;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],m),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],m)},iO=function(t,e,i,r,s,a,o,c,l,u,d,f){if(Math.abs(l)<1e-12){Math.abs(u)>=1e-12&&_(this,Qu,fP).call(this,t,e,i,r,s,a,o,c,-d/u,f);return}const p=u**2-4*d*l;if(p<0)return;const g=Math.sqrt(p),m=2*l;_(this,Qu,fP).call(this,t,e,i,r,s,a,o,c,(-u+g)/m,f),_(this,Qu,fP).call(this,t,e,i,r,s,a,o,c,(-u-g)/m,f)},E(gI,Qu),gI);function Bft(n){return decodeURIComponent(escape(n))}let QN=null,zU=null;function zft(n){return QN||(QN=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,zU=new Map([["ﬅ","ſt"]])),n.replaceAll(QN,(t,e,i)=>e?e.normalize("NFKC"):zU.get(i))}function Zq(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),Yq(n)}const Cj="pdfjs_internal_id_";function jft(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,r,...s]=e;if(!n(i)&&!Number.isInteger(i)||!t(r))return!1;const a=s.length;let o=!0;switch(r.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const c of s)if(!(typeof c=="number"||o&&c===null))return!1;return!0}function Qr(n,t,e){return Math.min(Math.max(n,t),e)}function Qq(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(Yq(n))}function Uft(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):rT(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});const gh="http://www.w3.org/2000/svg";var jc;let Y1=(jc=class{},X(jc,"CSS",96),X(jc,"PDF",72),X(jc,"PDF_TO_CSS_UNITS",jc.CSS/jc.PDF),jc);async function sT(n,t="text"){if(uS(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}let kj=class Jq{constructor({viewBox:t,userUnit:e,scale:i,rotation:r,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=a,i*=e;const c=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let u,d,f,p;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,d=0,f=0,p=1;break;case 90:u=0,d=1,f=1,p=0;break;case 270:u=0,d=-1,f=-1,p=0;break;case 0:u=1,d=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let g,m,y,v;u===0?(g=Math.abs(l-t[1])*i+s,m=Math.abs(c-t[0])*i+a,y=(t[3]-t[1])*i,v=(t[2]-t[0])*i):(g=Math.abs(c-t[0])*i+s,m=Math.abs(l-t[1])*i+a,y=(t[2]-t[0])*i,v=(t[3]-t[1])*i),this.transform=[u*i,d*i,f*i,p*i,g-u*i*c-f*i*l,m-d*i*c-p*i*l],this.width=y,this.height=v}get rawDims(){const t=this.viewBox;return Zt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Jq({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(t,e){const i=[t,e];return mt.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];mt.applyTransform(e,this.transform);const i=[t[2],t[3]];return mt.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return mt.applyInverseTransform(i,this.transform),i}},Tj=class extends jv{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}};function rM(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function Pj(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function Hft(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Wft(n,t="document.pdf"){if(typeof n!="string")return t;if(rM(n))return Bt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return t;const r=o=>{try{let c=decodeURIComponent(o);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:o):c}catch{return o}},s=/\.pdf$/i,a=i.pathname.split("/").at(-1);if(s.test(a))return r(a);if(i.searchParams.size>0){const o=Array.from(i.searchParams.values()).reverse();for(const l of o)if(s.test(l))return r(l);const c=Array.from(i.searchParams.keys()).reverse();for(const l of c)if(s.test(l))return r(l)}if(i.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(c)return r(c[0])}return t}let jU=class{constructor(){X(this,"started",Object.create(null));X(this,"times",[])}time(t){t in this.started&&Bt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Bt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:r,end:s}of this.times)t.push(`${i.padEnd(e)} ${s-r}ms
`);return t.join("")}};function uS(n,t){const e=t?URL.parse(n,t):URL.parse(n);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function zo(n){n.preventDefault()}function qn(n){n.preventDefault(),n.stopPropagation()}function Vft(n){console.log("Deprecated API usage: "+n)}var mI,_E;let rO=(mI=class{static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;h(this,_E)||b(this,_E,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h(this,_E).exec(t);if(!e)return null;const i=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(e[6],10);c=c>=0&&c<=59?c:0;const l=e[7]||"Z";let u=parseInt(e[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,l==="-"?(a+=u,o+=d):l==="+"&&(a-=u,o-=d),new Date(Date.UTC(i,r,s,a,o,c))}},_E=new WeakMap,E(mI,_E),mI);function Gft(n,{scale:t=1,rotation:e=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new kj({viewBox:s,userUnit:1,scale:t,rotation:e})}function sM(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Bt(`Not a valid color format: "${n}"`),[0,0,0])}function Xft(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,sM(i))}t.remove()}function yn(n){const{a:t,b:e,c:i,d:r,e:s,f:a}=n.getTransform();return[t,e,i,r,s,a]}function ql(n){const{a:t,b:e,c:i,d:r,e:s,f:a}=n.getTransform().invertSelf();return[t,e,i,r,s,a]}function bv(n,t,e=!1,i=!0){if(t instanceof kj){const{pageWidth:r,pageHeight:s}=t.rawDims,{style:a}=n,o=mr.isCSSRoundSupported,c=`var(--total-scale-factor) * ${r}px`,l=`var(--total-scale-factor) * ${s}px`,u=o?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,d=o?`round(down, ${l}, var(--scale-round-y))`:`calc(${l})`;!e||t.rotation%180===0?(a.width=u,a.height=d):(a.width=d,a.height=u)}i&&n.setAttribute("data-main-rotation",t.rotation)}let wv=class sO{constructor(){const{pixelRatio:t}=sO;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,r,s=-1){let a=1/0,o=1/0,c=1/0;i=sO.capPixels(i,s),i>0&&(a=Math.sqrt(i/(t*e))),r!==-1&&(o=r/t,c=r/e);const l=Math.min(a,o,c);return this.sx>l||this.sy>l?(this.sx=l,this.sy=l,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}};const aO=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Xd,qd,Ka,Ph,CE,db,fb,vo,kE,kD,$q,cr,tK,eK,cy,dS;let qft=(vo=class{constructor(t){E(this,cr);E(this,Xd,null);E(this,qd,null);E(this,Ka);E(this,Ph,null);E(this,CE,null);E(this,db,null);E(this,fb,null);b(this,Ka,t),h(vo,kE)||b(vo,kE,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=b(this,Xd,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=h(this,Ka)._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",zo,{signal:e}),t.addEventListener("pointerdown",_(vo,kD,$q),{signal:e}));const i=b(this,Ph,document.createElement("div"));i.className="buttons",t.append(i);const r=h(this,Ka).toolbarPosition;if(r){const{style:s}=t,a=h(this,Ka)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return h(this,Xd)}hide(){var t;h(this,Xd).classList.add("hidden"),(t=h(this,qd))==null||t.hideDropdown()}show(){var t,e;h(this,Xd).classList.remove("hidden"),(t=h(this,CE))==null||t.shown(),(e=h(this,db))==null||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=h(this,Ka),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",h(vo,kE)[t]),_(this,cr,cy).call(this,i)&&i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),h(this,Ph).append(i)}async addAltText(t){const e=await t.render();_(this,cr,cy).call(this,e),h(this,Ph).append(e,h(this,cr,dS)),b(this,CE,t)}addComment(t){if(h(this,db))return;const e=t.render();e&&(_(this,cr,cy).call(this,e),h(this,Ph).append(e,h(this,cr,dS)),b(this,db,t),t.toolbar=this)}addColorPicker(t){if(h(this,qd))return;b(this,qd,t);const e=t.renderButton();_(this,cr,cy).call(this,e),h(this,Ph).append(e,h(this,cr,dS))}async addEditSignatureButton(t){const e=b(this,fb,await t.renderEditButton(h(this,Ka)));_(this,cr,cy).call(this,e),h(this,Ph).append(e,h(this,cr,dS))}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}updateEditSignatureButton(t){h(this,fb)&&(h(this,fb).title=t)}remove(){var t;h(this,Xd).remove(),(t=h(this,qd))==null||t.destroy(),b(this,qd,null)}},Xd=new WeakMap,qd=new WeakMap,Ka=new WeakMap,Ph=new WeakMap,CE=new WeakMap,db=new WeakMap,fb=new WeakMap,kE=new WeakMap,kD=new WeakSet,$q=function(t){t.stopPropagation()},cr=new WeakSet,tK=function(t){h(this,Ka)._focusEventsAllowed=!1,qn(t)},eK=function(t){h(this,Ka)._focusEventsAllowed=!0,qn(t)},cy=function(t){const e=h(this,Ka)._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",_(this,cr,tK).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",_(this,cr,eK).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",zo,{signal:e}),!0)},dS=function(){const t=document.createElement("div");return t.className="divider",t},E(vo,kD),E(vo,kE,null),vo);var TE,Ig,Rh,od,nK,iK,oO;class Kft{constructor(t){E(this,od);E(this,TE,null);E(this,Ig,null);E(this,Rh);b(this,Rh,t)}show(t,e,i){const[r,s]=_(this,od,iK).call(this,e,i),{style:a}=h(this,Ig)||b(this,Ig,_(this,od,nK).call(this));t.append(h(this,Ig)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,Ig).remove()}}TE=new WeakMap,Ig=new WeakMap,Rh=new WeakMap,od=new WeakSet,nK=function(){const t=b(this,Ig,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=h(this,Rh)._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",zo,{signal:e});const i=b(this,TE,document.createElement("div"));return i.className="buttons",t.append(i),h(this,Rh).hasCommentManager()&&_(this,od,oO).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{h(this,Rh).commentSelection("floating_button")}),_(this,od,oO).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{h(this,Rh).highlightSelection("floating_button")}),t},iK=function(t,e){let i=0,r=0;for(const s of t){const a=s.y+s.height;if(a<i)continue;const o=s.x+(e?s.width:0);if(a>i){r=o,i=a;continue}e?o>r&&(r=o):o<r&&(r=o)}return[e?1-r:r,i]},oO=function(t,e,i,r){const s=document.createElement("button");s.classList.add("basic",t),s.tabIndex=0,s.setAttribute("data-l10n-id",e);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",i);const o=h(this,Rh)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",zo,{signal:o}),s.addEventListener("click",r,{signal:o})),h(this,TE).append(s)};function rK(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}var TD,KH;let Yft=(KH=class{constructor(){E(this,TD,0)}get id(){return`${Xq}${fe(this,TD)._++}`}},TD=new WeakMap,KH);var pb,PE,_r,gb,pP,mb;let Zft=(mb=class{constructor(){E(this,gb);E(this,pb,Zq());E(this,PE,0);E(this,_r,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Zt(this,"_isSVGFittingCanvas",s)}async getFromFile(t){const{lastModified:e,name:i,size:r,type:s}=t;return _(this,gb,pP).call(this,`${e}_${i}_${r}_${s}`,t)}async getFromUrl(t){return _(this,gb,pP).call(this,t,t)}async getFromBlob(t,e){const i=await e;return _(this,gb,pP).call(this,t,i)}async getFromId(t){h(this,_r)||b(this,_r,new Map);const e=h(this,_r).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){h(this,_r)||b(this,_r,new Map);let i=h(this,_r).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${h(this,pb)}_${fe(this,PE)._++}`,refCounter:1,isSvg:!1},h(this,_r).set(t,i),h(this,_r).set(i.id,i),i}getSvgUrl(t){const e=h(this,_r).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;h(this,_r)||b(this,_r,new Map);const e=h(this,_r).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,pb)}_`)}},pb=new WeakMap,PE=new WeakMap,_r=new WeakMap,gb=new WeakSet,pP=async function(t,e){h(this,_r)||b(this,_r,new Map);let i=h(this,_r).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${h(this,pb)}_${fe(this,PE)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(i.url=e,r=await sT(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const s=mb._isSVGFittingCanvas,a=new FileReader,o=new Image,c=new Promise((l,u)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,l()},a.onload=async()=>{const d=i.svgUrl=a.result;o.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=u});a.readAsDataURL(r),await c}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){Bt(r),i=null}return h(this,_r).set(t,i),i&&h(this,_r).set(i.id,i),i},mb);var Ln,Kd,RE,gn,YH;let Qft=(YH=class{constructor(t=128){E(this,Ln,[]);E(this,Kd,!1);E(this,RE);E(this,gn,-1);b(this,RE,t)}add({cmd:t,undo:e,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&t(),h(this,Kd))return;const c={cmd:t,undo:e,post:i,type:s};if(h(this,gn)===-1){h(this,Ln).length>0&&(h(this,Ln).length=0),b(this,gn,0),h(this,Ln).push(c);return}if(a&&h(this,Ln)[h(this,gn)].type===s){o&&(c.undo=h(this,Ln)[h(this,gn)].undo),h(this,Ln)[h(this,gn)]=c;return}const l=h(this,gn)+1;l===h(this,RE)?h(this,Ln).splice(0,1):(b(this,gn,l),l<h(this,Ln).length&&h(this,Ln).splice(l)),h(this,Ln).push(c)}undo(){if(h(this,gn)===-1)return;b(this,Kd,!0);const{undo:t,post:e}=h(this,Ln)[h(this,gn)];t(),e==null||e(),b(this,Kd,!1),b(this,gn,h(this,gn)-1)}redo(){if(h(this,gn)<h(this,Ln).length-1){b(this,gn,h(this,gn)+1),b(this,Kd,!0);const{cmd:t,post:e}=h(this,Ln)[h(this,gn)];t(),e==null||e(),b(this,Kd,!1)}}hasSomethingToUndo(){return h(this,gn)!==-1}hasSomethingToRedo(){return h(this,gn)<h(this,Ln).length-1}cleanType(t){if(h(this,gn)!==-1){for(let e=h(this,gn);e>=0;e--)if(h(this,Ln)[e].type!==t){h(this,Ln).splice(e+1,h(this,gn)-e),b(this,gn,e);return}h(this,Ln).length=0,b(this,gn,-1)}}destroy(){b(this,Ln,null)}},Ln=new WeakMap,Kd=new WeakMap,RE=new WeakMap,gn=new WeakMap,YH);var PD,sK,ZH;let aT=(ZH=class{constructor(t){E(this,PD);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=mr.platform;for(const[i,r,s={}]of t)for(const a of i){const o=a.startsWith("mac+");e&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!e&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(_(this,PD,sK).call(this,e));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=i;o&&!o(t,e)||(r.bind(t,...a,e)(),s||qn(e))}},PD=new WeakSet,sK=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e},ZH);var Lg;let Jft=(Lg=class{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return Xft(t),Zt(this,"_colors",t)}convert(t){const e=sM(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,r]of this._colors)if(r.every((s,a)=>s===e[a]))return Lg._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?mt.makeHexColor(...e):t}},X(Lg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),Lg);var vb,Ws,yb,ii,Xi,bb,Dh,wb,Ya,Fh,Yd,Zd,xb,Og,nc,Za,Bg,DE,FE,Sb,ME,ic,Qd,Ab,Jd,rc,RD,$d,Eb,NE,tf,zg,_b,ef,IE,ri,Fe,Mh,nf,rf,LE,Cb,OE,sf,sc,Nh,BE,zE,Qa,Vu,at,gP,lO,aK,oK,fS,lK,cK,hK,cO,uK,hO,uO,dK,zr,mh,fK,pK,dO,gK,pS,fO;let vE=(Vu=class{constructor(t,e,i,r,s,a,o,c,l,u,d,f,p,g,m,y){E(this,at);E(this,vb,new AbortController);E(this,Ws,null);E(this,yb,null);E(this,ii,new Map);E(this,Xi,new Map);E(this,bb,null);E(this,Dh,null);E(this,wb,null);E(this,Ya,new Qft);E(this,Fh,null);E(this,Yd,null);E(this,Zd,null);E(this,xb,0);E(this,Og,new Set);E(this,nc,null);E(this,Za,null);E(this,Bg,new Set);X(this,"_editorUndoBar",null);E(this,DE,!1);E(this,FE,!1);E(this,Sb,!1);E(this,ME,null);E(this,ic,null);E(this,Qd,null);E(this,Ab,null);E(this,Jd,!1);E(this,rc,null);E(this,RD,new Yft);E(this,$d,!1);E(this,Eb,!1);E(this,NE,!1);E(this,tf,null);E(this,zg,null);E(this,_b,null);E(this,ef,null);E(this,IE,null);E(this,ri,Mt.NONE);E(this,Fe,new Set);E(this,Mh,null);E(this,nf,null);E(this,rf,null);E(this,LE,null);E(this,Cb,null);E(this,OE,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});E(this,sf,[0,0]);E(this,sc,null);E(this,Nh,null);E(this,BE,null);E(this,zE,null);E(this,Qa,null);const v=this._signal=h(this,vb).signal;b(this,Nh,t),b(this,BE,e),b(this,zE,i),b(this,bb,r),b(this,Fh,s),b(this,nf,a),b(this,Cb,c),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:v}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),o._on("setpreference",this.onSetPreference.bind(this),{signal:v}),o._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:v}),window.addEventListener("pointerdown",()=>{b(this,Eb,!0)},{capture:!0,signal:v}),window.addEventListener("pointerup",()=>{b(this,Eb,!1)},{capture:!0,signal:v}),_(this,at,lK).call(this),_(this,at,dK).call(this),_(this,at,cO).call(this),b(this,Dh,c.annotationStorage),b(this,ME,c.filterFactory),b(this,rf,l),b(this,Ab,u||null),b(this,DE,d),b(this,FE,f),b(this,Sb,p),b(this,IE,g||null),this.viewParameters={realScale:Y1.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=y!==!1}static get _keyboardManager(){const t=Vu.prototype,e=a=>h(a,Nh).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Zt(this,"_keyboardManager",new aT([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&h(a,Nh).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&h(a,Nh).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}destroy(){var t,e,i,r,s,a,o,c,l;(t=h(this,Qa))==null||t.resolve(),b(this,Qa,null),(e=h(this,vb))==null||e.abort(),b(this,vb,null),this._signal=null;for(const u of h(this,Xi).values())u.destroy();h(this,Xi).clear(),h(this,ii).clear(),h(this,Bg).clear(),(i=h(this,ef))==null||i.clear(),b(this,Ws,null),h(this,Fe).clear(),h(this,Ya).destroy(),(r=h(this,bb))==null||r.destroy(),(s=h(this,Fh))==null||s.destroy(),(a=h(this,nf))==null||a.destroy(),(o=h(this,rc))==null||o.hide(),b(this,rc,null),(c=h(this,_b))==null||c.destroy(),b(this,_b,null),b(this,yb,null),h(this,ic)&&(clearTimeout(h(this,ic)),b(this,ic,null)),h(this,sc)&&(clearTimeout(h(this,sc)),b(this,sc,null)),(l=this._editorUndoBar)==null||l.destroy(),b(this,Cb,null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,IE)}get useNewAltTextFlow(){return h(this,FE)}get useNewAltTextWhenAddingImage(){return h(this,Sb)}get hcmFilter(){return Zt(this,"hcmFilter",h(this,rf)?h(this,ME).addHCMFilter(h(this,rf).foreground,h(this,rf).background):"none")}get direction(){return Zt(this,"direction",getComputedStyle(h(this,Nh)).direction)}get _highlightColors(){return Zt(this,"_highlightColors",h(this,Ab)?new Map(h(this,Ab).split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Zt(this,"highlightColors",null);const e=new Map,i=!!h(this,rf);for(const[r,s]of t){const a=r.endsWith("_HCM");if(i&&a){e.set(r.replace("_HCM",""),s);continue}!i&&!a&&e.set(r,s)}return Zt(this,"highlightColors",e)}get highlightColorNames(){return Zt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),b(this,Zd,t)}setMainHighlightColorPicker(t){b(this,_b,t)}editAltText(t,e=!1){var i;(i=h(this,bb))==null||i.editAltText(this,t,e)}hasCommentManager(){return!!h(this,Fh)}editComment(t,e){var i;(i=h(this,Fh))==null||i.open(this,t,e)}getSignature(t){var e;(e=h(this,nf))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return h(this,nf)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":b(this,Sb,e);break}}onPageChanging({pageNumber:t}){b(this,xb,t-1)}focusMainContainer(){h(this,Nh).focus()}findParent(t,e){for(const i of h(this,Xi).values()){const{x:r,y:s,width:a,height:o}=i.div.getBoundingClientRect();if(t>=r&&t<=r+a&&e>=s&&e<=s+o)return i}return null}disableUserSelect(t=!1){h(this,BE).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,Bg).add(t)}removeShouldRescale(t){h(this,Bg).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*Y1.PDF_TO_CSS_UNITS;for(const i of h(this,Bg))i.onScaleChanging();(e=h(this,Zd))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t="",e=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o}=i,c=i.toString(),u=_(this,at,gP).call(this,i).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;i.empty();const f=_(this,at,lO).call(this,u),p=h(this,ri)===Mt.NONE,g=()=>{const m=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:d,anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o,text:c});p&&this.showAllEditors("highlight",!0,!0),e&&(m==null||m.editComment())};if(p){this.switchToMode(Mt.HIGHLIGHT,g);return}g()}commentSelection(t=""){this.highlightSelection(t,!0)}addToAnnotationStorage(t){!t.isEmpty()&&h(this,Dh)&&!h(this,Dh).has(t.id)&&h(this,Dh).setValue(t.id,t)}a11yAlert(t,e=null){const i=h(this,zE);i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,h(this,Jd)&&(b(this,Jd,!1),_(this,at,fS).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,Fe))if(e.div.contains(t)){b(this,zg,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,zg))return;const[t,e]=h(this,zg);b(this,zg,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){_(this,at,cO).call(this),_(this,at,hO).call(this)}removeEditListeners(){_(this,at,uK).call(this),_(this,at,uO).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of h(this,Za))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of h(this,Za))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=h(this,Ws))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of h(this,Fe)){const s=r.serialize(!0);s&&e.push(s)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const a of h(this,Za))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){Bt(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const c of i){const l=await r.deserialize(c);if(!l)return;s.push(l)}const a=()=>{for(const c of s)_(this,at,dO).call(this,c);_(this,at,fO).call(this,s)},o=()=>{for(const c of s)c.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Bt(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,ri)!==Mt.NONE&&!this.isEditorHandlingKeyboard&&Vu._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Jd)&&(b(this,Jd,!1),_(this,at,fS).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(t){t?(_(this,at,cK).call(this),_(this,at,hO).call(this),_(this,at,zr).call(this,{isEditing:h(this,ri)!==Mt.NONE,isEmpty:_(this,at,pS).call(this),hasSomethingToUndo:h(this,Ya).hasSomethingToUndo(),hasSomethingToRedo:h(this,Ya).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,at,hK).call(this),_(this,at,uO).call(this),_(this,at,zr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,Za)){b(this,Za,t);for(const e of h(this,Za))_(this,at,mh).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,RD).id}get currentLayer(){return h(this,Xi).get(h(this,xb))}getLayer(t){return h(this,Xi).get(t)}get currentPageIndex(){return h(this,xb)}addLayer(t){h(this,Xi).set(t.pageIndex,t),h(this,$d)?t.enable():t.disable()}removeLayer(t){h(this,Xi).delete(t.pageIndex)}async updateMode(t,e=null,i=!1,r=!1,s=!1){var a,o,c,l,u;if(h(this,ri)!==t&&!(h(this,Qa)&&(await h(this,Qa).promise,!h(this,Qa)))){if(b(this,Qa,Promise.withResolvers()),(a=h(this,Zd))==null||a.commitOrRemove(),h(this,ri)===Mt.POPUP&&((o=h(this,Fh))==null||o.hideSidebar()),b(this,ri,t),t===Mt.NONE){this.setEditingState(!1),_(this,at,pK).call(this),(c=this._editorUndoBar)==null||c.hide(),h(this,Qa).resolve();return}t===Mt.SIGNATURE&&await((l=h(this,nf))==null?void 0:l.loadSignatures()),t===Mt.POPUP&&(h(this,yb)||b(this,yb,await h(this,Cb).getAnnotationsByType(new Set(h(this,Za).map(d=>d._editorType)))),(u=h(this,Fh))==null||u.showSidebar(h(this,yb))),this.setEditingState(!0),await _(this,at,fK).call(this),this.unselectAll();for(const d of h(this,Xi).values())d.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),h(this,Qa).resolve();return}for(const d of h(this,ii).values())d.annotationElementId===e||d.id===e?(this.setSelected(d),s?d.editComment():r&&d.enterInEditMode()):d.unselect();h(this,Qa).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==h(this,ri)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(h(this,Za)){switch(t){case le.CREATE:this.currentLayer.addNewEditor(e);return;case le.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,LE)||b(this,LE,new Map)).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of h(this,Fe))i.updateParams(t,e);else for(const i of h(this,Za))i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var s;for(const a of h(this,ii).values())a.editorType===t&&a.show(e);(((s=h(this,LE))==null?void 0:s.get(le.HIGHLIGHT_SHOW_ALL))??!0)!==e&&_(this,at,mh).call(this,[[le.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,NE)!==t){b(this,NE,t);for(const e of h(this,Xi).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of h(this,ii).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return h(this,ii).get(t)}addEditor(t){h(this,ii).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(h(this,ic)&&clearTimeout(h(this,ic)),b(this,ic,setTimeout(()=>{this.focusMainContainer(),b(this,ic,null)},0))),h(this,ii).delete(t.id),t.annotationElementId&&((e=h(this,ef))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!h(this,Og).has(t.annotationElementId))&&((i=h(this,Dh))==null||i.remove(t.id))}addDeletedAnnotationElement(t){h(this,Og).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,Og).has(t)}removeDeletedAnnotationElement(t){h(this,Og).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,Ws)!==t&&(b(this,Ws,t),t&&_(this,at,mh).call(this,t.propertiesToUpdate))}updateUI(t){h(this,at,gK)===t&&_(this,at,mh).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){_(this,at,mh).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(h(this,Fe).has(t)){h(this,Fe).delete(t),t.unselect(),_(this,at,zr).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Fe).add(t),t.select(),_(this,at,mh).call(this,t.propertiesToUpdate),_(this,at,zr).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),(e=h(this,Zd))==null||e.commitOrRemove();for(const i of h(this,Fe))i!==t&&i.unselect();h(this,Fe).clear(),h(this,Fe).add(t),t.select(),_(this,at,mh).call(this,t.propertiesToUpdate),_(this,at,zr).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,Fe).has(t)}get firstSelectedEditor(){return h(this,Fe).values().next().value}unselect(t){t.unselect(),h(this,Fe).delete(t),_(this,at,zr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Fe).size!==0}get isEnterHandled(){return h(this,Fe).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;h(this,Ya).undo(),_(this,at,zr).call(this,{hasSomethingToUndo:h(this,Ya).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,at,pS).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){h(this,Ya).redo(),_(this,at,zr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,Ya).hasSomethingToRedo(),isEmpty:_(this,at,pS).call(this)})}addCommands(t){h(this,Ya).add(t),_(this,at,zr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,at,pS).call(this)})}cleanUndoStack(t){h(this,Ya).cleanType(t)}delete(){var s;this.commitOrRemove();const t=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...h(this,Fe)],i=()=>{var a;(a=this._editorUndoBar)==null||a.show(r,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},r=()=>{for(const a of e)_(this,at,dO).call(this,a)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var t;(t=h(this,Ws))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,Ws)||this.hasSelection}selectAll(){for(const t of h(this,Fe))t.commit();_(this,at,fO).call(this,h(this,ii).values())}unselectAll(){var t;if(!(h(this,Ws)&&(h(this,Ws).commitOrRemove(),h(this,ri)!==Mt.NONE))&&!((t=h(this,Zd))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of h(this,Fe))e.unselect();h(this,Fe).clear(),_(this,at,zr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;h(this,sf)[0]+=t,h(this,sf)[1]+=e;const[r,s]=h(this,sf),a=[...h(this,Fe)],o=1e3;h(this,sc)&&clearTimeout(h(this,sc)),b(this,sc,setTimeout(()=>{b(this,sc,null),h(this,sf)[0]=h(this,sf)[1]=0,this.addCommands({cmd:()=>{for(const c of a)h(this,ii).has(c.id)&&(c.translateInPage(r,s),c.translationDone())},undo:()=>{for(const c of a)h(this,ii).has(c.id)&&(c.translateInPage(-r,-s),c.translationDone())},mustExec:!1})},o));for(const c of a)c.translateInPage(t,e),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,nc,new Map);for(const t of h(this,Fe))h(this,nc).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,nc))return!1;this.disableUserSelect(!1);const t=h(this,nc);b(this,nc,null);let e=!1;for(const[{x:r,y:s,pageIndex:a},o]of t)o.newX=r,o.newY=s,o.newPageIndex=a,e||(e=r!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!e)return!1;const i=(r,s,a,o)=>{if(h(this,ii).has(r.id)){const c=h(this,Xi).get(o);c?r._setParentAndPosition(c,s,a):(r.pageIndex=o,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:o}]of t)i(r,s,a,o)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:o}]of t)i(r,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,nc))for(const i of h(this,nc).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,Fe).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,Ws)===t}getActive(){return h(this,Ws)}getMode(){return h(this,ri)}get imageManager(){return Zt(this,"imageManager",new Zft)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let l=0,u=e.rangeCount;l<u;l++)if(!t.contains(e.getRangeAt(l).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:a}=t.getBoundingClientRect();let o;switch(t.getAttribute("data-main-rotation")){case"90":o=(l,u,d,f)=>({x:(u-r)/a,y:1-(l+d-i)/s,width:f/a,height:d/s});break;case"180":o=(l,u,d,f)=>({x:1-(l+d-i)/s,y:1-(u+f-r)/a,width:d/s,height:f/a});break;case"270":o=(l,u,d,f)=>({x:1-(u+f-r)/a,y:(l-i)/s,width:f/a,height:d/s});break;default:o=(l,u,d,f)=>({x:(l-i)/s,y:(u-r)/a,width:d/s,height:f/a});break}const c=[];for(let l=0,u=e.rangeCount;l<u;l++){const d=e.getRangeAt(l);if(!d.collapsed)for(const{x:f,y:p,width:g,height:m}of d.getClientRects())g===0||m===0||c.push(o(f,p,g,m))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,wb)||b(this,wb,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,wb))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=h(this,wb))==null?void 0:r.get(t.data.id);if(!e)return;const i=h(this,Dh).getRawValue(e);i&&(h(this,ri)===Mt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var s;const r=(s=h(this,ef))==null?void 0:s.get(t);r&&(r.setCanvas(e,i),h(this,ef).delete(t))}addMissingCanvas(t,e){(h(this,ef)||b(this,ef,new Map)).set(t,e)}},vb=new WeakMap,Ws=new WeakMap,yb=new WeakMap,ii=new WeakMap,Xi=new WeakMap,bb=new WeakMap,Dh=new WeakMap,wb=new WeakMap,Ya=new WeakMap,Fh=new WeakMap,Yd=new WeakMap,Zd=new WeakMap,xb=new WeakMap,Og=new WeakMap,nc=new WeakMap,Za=new WeakMap,Bg=new WeakMap,DE=new WeakMap,FE=new WeakMap,Sb=new WeakMap,ME=new WeakMap,ic=new WeakMap,Qd=new WeakMap,Ab=new WeakMap,Jd=new WeakMap,rc=new WeakMap,RD=new WeakMap,$d=new WeakMap,Eb=new WeakMap,NE=new WeakMap,tf=new WeakMap,zg=new WeakMap,_b=new WeakMap,ef=new WeakMap,IE=new WeakMap,ri=new WeakMap,Fe=new WeakMap,Mh=new WeakMap,nf=new WeakMap,rf=new WeakMap,LE=new WeakMap,Cb=new WeakMap,OE=new WeakMap,sf=new WeakMap,sc=new WeakMap,Nh=new WeakMap,BE=new WeakMap,zE=new WeakMap,Qa=new WeakMap,at=new WeakSet,gP=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},lO=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of h(this,Xi).values())if(i.hasTextLayer(t))return i;return null},aK=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=_(this,at,gP).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(h(this,rc)||b(this,rc,new Kft(this)),h(this,rc).show(i,r,this.direction==="ltr"))},oK=function(){var s,a,o;const t=document.getSelection();if(!t||t.isCollapsed){h(this,Mh)&&((s=h(this,rc))==null||s.hide(),b(this,Mh,null),_(this,at,zr).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,Mh))return;const r=_(this,at,gP).call(this,t).closest(".textLayer");if(!r){h(this,Mh)&&((a=h(this,rc))==null||a.hide(),b(this,Mh,null),_(this,at,zr).call(this,{hasSelectedText:!1}));return}if((o=h(this,rc))==null||o.hide(),b(this,Mh,e),_(this,at,zr).call(this,{hasSelectedText:!0}),!(h(this,ri)!==Mt.HIGHLIGHT&&h(this,ri)!==Mt.NONE)&&(h(this,ri)===Mt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,Jd,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=h(this,ri)===Mt.HIGHLIGHT?_(this,at,lO).call(this,r):null;if(c==null||c.toggleDrawing(),h(this,Eb)){const l=new AbortController,u=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&_(this,at,fS).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else c==null||c.toggleDrawing(!0),_(this,at,fS).call(this,"main_toolbar")}},fS=function(t=""){h(this,ri)===Mt.HIGHLIGHT?this.highlightSelection(t):h(this,DE)&&_(this,at,aK).call(this)},lK=function(){document.addEventListener("selectionchange",_(this,at,oK).bind(this),{signal:this._signal})},cK=function(){if(h(this,Qd))return;b(this,Qd,new AbortController);const t=this.combinedSignal(h(this,Qd));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},hK=function(){var t;(t=h(this,Qd))==null||t.abort(),b(this,Qd,null)},cO=function(){if(h(this,tf))return;b(this,tf,new AbortController);const t=this.combinedSignal(h(this,tf));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},uK=function(){var t;(t=h(this,tf))==null||t.abort(),b(this,tf,null)},hO=function(){if(h(this,Yd))return;b(this,Yd,new AbortController);const t=this.combinedSignal(h(this,Yd));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},uO=function(){var t;(t=h(this,Yd))==null||t.abort(),b(this,Yd,null)},dK=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},zr=function(t){Object.entries(t).some(([i,r])=>h(this,OE)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,OE),t)}),h(this,ri)===Mt.HIGHLIGHT&&t.hasSelectedEditor===!1&&_(this,at,mh).call(this,[[le.HIGHLIGHT_FREE,!0]]))},mh=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},fK=async function(){if(!h(this,$d)){b(this,$d,!0);const t=[];for(const e of h(this,Xi).values())t.push(e.enable());await Promise.all(t);for(const e of h(this,ii).values())e.enable()}},pK=function(){if(this.unselectAll(),h(this,$d)){b(this,$d,!1);for(const t of h(this,Xi).values())t.disable();for(const t of h(this,ii).values())t.disable()}},dO=function(t){const e=h(this,Xi).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},gK=function(){let t=null;for(t of h(this,Fe));return t},pS=function(){if(h(this,ii).size===0)return!0;if(h(this,ii).size===1)for(const t of h(this,ii).values())return t.isEmpty();return!1},fO=function(t){for(const e of h(this,Fe))e.unselect();h(this,Fe).clear();for(const e of t)e.isEmpty()||(h(this,Fe).add(e),e.select());_(this,at,zr).call(this,{hasSelectedEditor:this.hasSelection})},X(Vu,"TRANSLATE_SMALL",1),X(Vu,"TRANSLATE_BIG",10),Vu);var Si,ac,Yo,kb,oc,Vs,Tb,lc,vs,Ih,jg,cc,Ii,af,xl,gS,mP;let UU=(Ii=class{constructor(t){E(this,xl);E(this,Si,null);E(this,ac,!1);E(this,Yo,null);E(this,kb,null);E(this,oc,null);E(this,Vs,null);E(this,Tb,!1);E(this,lc,null);E(this,vs,null);E(this,Ih,null);E(this,jg,null);E(this,cc,!1);b(this,vs,t),b(this,cc,t._uiManager.useNewAltTextFlow),h(Ii,af)||b(Ii,af,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Ii._l10n??(Ii._l10n=t)}async render(){const t=b(this,Yo,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=b(this,kb,document.createElement("span"));t.append(e),h(this,cc)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(Ii,af).missing),e.setAttribute("data-l10n-id",h(Ii,af)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=h(this,vs)._uiManager._signal;t.addEventListener("contextmenu",zo,{signal:i}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),h(this,vs)._uiManager.editAltText(h(this,vs)),h(this,cc)&&h(this,vs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,xl,gS)}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(b(this,Tb,!0),r(s))},{signal:i}),await _(this,xl,mP).call(this),t}finish(){h(this,Yo)&&(h(this,Yo).focus({focusVisible:h(this,Tb)}),b(this,Tb,!1))}isEmpty(){return h(this,cc)?h(this,Si)===null:!h(this,Si)&&!h(this,ac)}hasData(){return h(this,cc)?h(this,Si)!==null||!!h(this,Ih):this.isEmpty()}get guessedText(){return h(this,Ih)}async setGuessedText(t){h(this,Si)===null&&(b(this,Ih,t),b(this,jg,await Ii._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),_(this,xl,mP).call(this))}toggleAltTextBadge(t=!1){var e;if(!h(this,cc)||h(this,Si)){(e=h(this,lc))==null||e.remove(),b(this,lc,null);return}if(!h(this,lc)){const i=b(this,lc,document.createElement("div"));i.className="noAltTextBadge",h(this,vs).div.append(i)}h(this,lc).classList.toggle("hidden",!t)}serialize(t){let e=h(this,Si);return!t&&h(this,Ih)===e&&(e=h(this,jg)),{altText:e,decorative:h(this,ac),guessedText:h(this,Ih),textWithDisclaimer:h(this,jg)}}get data(){return{altText:h(this,Si),decorative:h(this,ac)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(b(this,Ih,i),b(this,jg,r)),!(h(this,Si)===t&&h(this,ac)===e)&&(s||(b(this,Si,t),b(this,ac,e)),_(this,xl,mP).call(this))}toggle(t=!1){h(this,Yo)&&(!t&&h(this,Vs)&&(clearTimeout(h(this,Vs)),b(this,Vs,null)),h(this,Yo).disabled=!t)}shown(){h(this,vs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,xl,gS)}})}destroy(){var t,e;(t=h(this,Yo))==null||t.remove(),b(this,Yo,null),b(this,kb,null),b(this,oc,null),(e=h(this,lc))==null||e.remove(),b(this,lc,null)}},Si=new WeakMap,ac=new WeakMap,Yo=new WeakMap,kb=new WeakMap,oc=new WeakMap,Vs=new WeakMap,Tb=new WeakMap,lc=new WeakMap,vs=new WeakMap,Ih=new WeakMap,jg=new WeakMap,cc=new WeakMap,af=new WeakMap,xl=new WeakSet,gS=function(){return h(this,Si)&&"added"||h(this,Si)===null&&this.guessedText&&"review"||"missing"},mP=async function(){var r,s,a;const t=h(this,Yo);if(!t)return;if(h(this,cc)){if(t.classList.toggle("done",!!h(this,Si)),t.setAttribute("data-l10n-id",h(Ii,af)[h(this,xl,gS)]),(r=h(this,kb))==null||r.setAttribute("data-l10n-id",h(Ii,af)[`${h(this,xl,gS)}-label`]),!h(this,Si)){(s=h(this,oc))==null||s.remove();return}}else{if(!h(this,Si)&&!h(this,ac)){t.classList.remove("done"),(a=h(this,oc))==null||a.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=h(this,oc);if(!e){b(this,oc,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${h(this,vs).id}`;const o=100,c=h(this,vs)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(h(this,Vs)),b(this,Vs,null)},{once:!0}),t.addEventListener("mouseenter",()=>{b(this,Vs,setTimeout(()=>{b(this,Vs,null),h(this,oc).classList.add("show"),h(this,vs)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:c}),t.addEventListener("mouseleave",()=>{var l;h(this,Vs)&&(clearTimeout(h(this,Vs)),b(this,Vs,null)),(l=h(this,oc))==null||l.classList.remove("show")},{signal:c})}h(this,ac)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=h(this,Si)),e.parentNode||t.append(e);const i=h(this,vs).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},E(Ii,af,null),X(Ii,"_l10n",null),Ii);var hc,Ug,Zo,jE,Lh,Pb,of;class h2{constructor(t){E(this,hc,null);E(this,Ug,!1);E(this,Zo,null);E(this,jE,null);E(this,Lh,null);E(this,Pb,null);E(this,of,!1);b(this,Zo,t),this.toolbar=null}render(){if(!h(this,Zo)._uiManager.hasCommentManager())return null;const t=b(this,hc,document.createElement("button"));t.className="comment",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const e=h(this,Zo)._uiManager._signal;if(!(e instanceof AbortSignal)||e.aborted)return t;t.addEventListener("contextmenu",zo,{signal:e}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:e});const i=r=>{r.preventDefault(),this.edit()};return t.addEventListener("click",i,{capture:!0,signal:e}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(b(this,Ug,!0),i(r))},{signal:e}),t}edit(){const{bottom:t,left:e,right:i}=h(this,Zo).getClientDimensions(),r={top:t};h(this,Zo)._uiManager.direction==="ltr"?r.right=i:r.left=e,h(this,Zo)._uiManager.editComment(h(this,Zo),r)}finish(){h(this,hc)&&(h(this,hc).focus({focusVisible:h(this,Ug)}),b(this,Ug,!1))}isDeleted(){return h(this,of)||h(this,Lh)===""}hasBeenEdited(){return this.isDeleted()||h(this,Lh)!==h(this,jE)}serialize(){return this.data}get data(){return{text:h(this,Lh),date:h(this,Pb),deleted:h(this,of)}}set data(t){if(t===null){b(this,Lh,""),b(this,of,!0);return}b(this,Lh,t),b(this,Pb,new Date),b(this,of,!1)}setInitialText(t){b(this,jE,t),this.data=t}toggle(t=!1){h(this,hc)&&(h(this,hc).disabled=!t)}shown(){}destroy(){var t;(t=h(this,hc))==null||t.remove(),b(this,hc,null),b(this,Lh,""),b(this,Pb,null),b(this,Zo,null),b(this,Ug,!1),b(this,of,!1)}}hc=new WeakMap,Ug=new WeakMap,Zo=new WeakMap,jE=new WeakMap,Lh=new WeakMap,Pb=new WeakMap,of=new WeakMap;var Rb,Hg,UE,HE,WE,VE,GE,Oh,Wg,Bh,Vg,zh,tg,vK,yK,bK,Db;let mK=(Db=class{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){E(this,tg);E(this,Rb);E(this,Hg,!1);E(this,UE,null);E(this,HE);E(this,WE);E(this,VE);E(this,GE);E(this,Oh,null);E(this,Wg);E(this,Bh,null);E(this,Vg);E(this,zh,null);b(this,Rb,t),b(this,UE,i),b(this,HE,e),b(this,WE,r),b(this,VE,s),b(this,GE,a),b(this,Vg,new AbortController),b(this,Wg,AbortSignal.any([o,h(this,Vg).signal])),t.addEventListener("touchstart",_(this,tg,vK).bind(this),{passive:!1,signal:h(this,Wg)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/wv.pixelRatio}destroy(){var t,e;(t=h(this,Vg))==null||t.abort(),b(this,Vg,null),(e=h(this,Oh))==null||e.abort(),b(this,Oh,null)}},Rb=new WeakMap,Hg=new WeakMap,UE=new WeakMap,HE=new WeakMap,WE=new WeakMap,VE=new WeakMap,GE=new WeakMap,Oh=new WeakMap,Wg=new WeakMap,Bh=new WeakMap,Vg=new WeakMap,zh=new WeakMap,tg=new WeakSet,vK=function(t){var r,s,a;if((r=h(this,HE))!=null&&r.call(this))return;if(t.touches.length===1){if(h(this,Oh))return;const o=b(this,Oh,new AbortController),c=AbortSignal.any([h(this,Wg),o.signal]),l=h(this,Rb),u={capture:!0,signal:c,passive:!1},d=f=>{var p;f.pointerType==="touch"&&((p=h(this,Oh))==null||p.abort(),b(this,Oh,null))};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(qn(f),d(f))},u),l.addEventListener("pointerup",d,u),l.addEventListener("pointercancel",d,u);return}if(!h(this,zh)){b(this,zh,new AbortController);const o=AbortSignal.any([h(this,Wg),h(this,zh).signal]),c=h(this,Rb),l={signal:o,capture:!1,passive:!1};c.addEventListener("touchmove",_(this,tg,yK).bind(this),l);const u=_(this,tg,bK).bind(this);c.addEventListener("touchend",u,l),c.addEventListener("touchcancel",u,l),l.capture=!0,c.addEventListener("pointerdown",qn,l),c.addEventListener("pointermove",qn,l),c.addEventListener("pointercancel",qn,l),c.addEventListener("pointerup",qn,l),(s=h(this,WE))==null||s.call(this)}if(qn(t),t.touches.length!==2||(a=h(this,UE))!=null&&a.call(this)){b(this,Bh,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),b(this,Bh,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},yK=function(t){var A;if(!h(this,Bh)||t.touches.length!==2)return;qn(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:r,screenY:s}=e,{screenX:a,screenY:o}=i,c=h(this,Bh),{touch0X:l,touch0Y:u,touch1X:d,touch1Y:f}=c,p=d-l,g=f-u,m=a-r,y=o-s,v=Math.hypot(m,y)||1,w=Math.hypot(p,g)||1;if(!h(this,Hg)&&Math.abs(w-v)<=Db.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=r,c.touch0Y=s,c.touch1X=a,c.touch1Y=o,!h(this,Hg)){b(this,Hg,!0);return}const x=[(r+a)/2,(s+o)/2];(A=h(this,VE))==null||A.call(this,x,w,v)},bK=function(t){var e;t.touches.length>=2||(h(this,zh)&&(h(this,zh).abort(),b(this,zh,null),(e=h(this,GE))==null||e.call(this)),h(this,Bh)&&(qn(t),b(this,Bh,null),b(this,Hg,!1)))},Db);var Gg,Qo,sn,qi,Fb,lf,XE,Xg,Ki,qg,jh,cf,qE,Kg,Gs,KE,Yg,Uh,uc,Mb,Nb,Ja,Zg,jt,YE,DD,Ct,pO,ZE,gO,vP,wK,xK,mO,yP,vO,SK,AK,EK,yO,_K,bO,CK,kK,TK,wO,mS;let fn=(jt=class{constructor(t){E(this,Ct);E(this,Gg,null);E(this,Qo,null);E(this,sn,null);E(this,qi,null);E(this,Fb,!1);E(this,lf,null);E(this,XE,"");E(this,Xg,!1);E(this,Ki,null);E(this,qg,null);E(this,jh,null);E(this,cf,null);E(this,qE,"");E(this,Kg,!1);E(this,Gs,null);E(this,KE,!1);E(this,Yg,!1);E(this,Uh,!1);E(this,uc,null);E(this,Mb,0);E(this,Nb,0);E(this,Ja,null);E(this,Zg,null);X(this,"isSelected",!1);X(this,"_isCopy",!1);X(this,"_editToolbar",null);X(this,"_initialOptions",Object.create(null));X(this,"_initialData",null);X(this,"_isVisible",!0);X(this,"_uiManager",null);X(this,"_focusEventsAllowed",!0);E(this,YE,!1);E(this,DD,jt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,a];const[o,c]=this.parentDimensions;this.x=t.x/o,this.y=t.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=jt.prototype._resizeWithKeyboard,e=vE.TRANSLATE_SMALL,i=vE.TRANSLATE_BIG;return Zt(this,"_resizerKeyboardManager",new aT([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],jt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Zt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new $ft({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(jt._l10n??(jt._l10n=t),jt._l10nResizer||(jt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),jt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);jt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){We("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,YE)}set _isDraggable(t){var e;b(this,YE,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,DD)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):_(this,Ct,mS).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,Kg)?b(this,Kg,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){const[s,a]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/s,this.y=(e+r)/a,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,r]=this.parentDimensions;this.setAt(t*i,e*r,this.width*i,this.height*r),this._onTranslated()}translate(t,e){_(this,Ct,pO).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,Gs)||b(this,Gs,[this.x,this.y,this.width,this.height]),_(this,Ct,pO).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){h(this,Gs)||b(this,Gs,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,s]}=this;if(this.x+=t/r,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[c,l]=this.getBaseTranslation();a+=c,o+=l;const{style:u}=i;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!h(this,Gs)&&(h(this,Gs)[0]!==this.x||h(this,Gs)[1]!==this.y)}get _hasBeenResized(){return!!h(this,Gs)&&(h(this,Gs)[2]!==this.width||h(this,Gs)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=jt,r=i/t,s=i/e;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,r]}=this;let{x:s,y:a,width:o,height:c}=this;if(o*=i,c*=r,s*=i,a*=r,this._mustFixPosition)switch(t){case 0:s=Qr(s,0,i-o),a=Qr(a,0,r-c);break;case 90:s=Qr(s,0,i-c),a=Qr(a,o,r);break;case 180:s=Qr(s,o,i),a=Qr(a,c,r);break;case 270:s=Qr(s,c,i),a=Qr(a,0,r-o);break}this.x=s/=i,this.y=a/=r;const[l,u]=this.getBaseTranslation();s+=l,a+=u,e.left=`${(100*s).toFixed(2)}%`,e.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return _(i=jt,ZE,gO).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return _(i=jt,ZE,gO).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,r]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*t/i).toFixed(2)}%`,h(this,Xg)||(s.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,r=i.endsWith("%"),s=!h(this,Xg)&&e.endsWith("%");if(r&&s)return;const[a,o]=this.parentDimensions;r||(t.width=`${(100*parseFloat(i)/a).toFixed(2)}%`),!h(this,Xg)&&!s&&(t.height=`${(100*parseFloat(e)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=h(this,sn))==null||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||h(this,Yg))return this._editToolbar;this._editToolbar=new qft(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,sn))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return h(this,sn)||(UU.initialize(jt._l10n),b(this,sn,new UU(this)),h(this,Gg)&&(h(this,sn).data=h(this,Gg),b(this,Gg,null))),h(this,sn)}get altTextData(){var t;return(t=h(this,sn))==null?void 0:t.data}set altTextData(t){h(this,sn)&&(h(this,sn).data=t)}get guessedAltText(){var t;return(t=h(this,sn))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=h(this,sn))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=h(this,sn))==null?void 0:e.serialize(t)}hasAltText(){return!!h(this,sn)&&!h(this,sn).isEmpty()}hasAltTextData(){var t;return((t=h(this,sn))==null?void 0:t.hasData())??!1}addCommentButton(){return h(this,qi)?h(this,qi):b(this,qi,new h2(this))}get commentColor(){return null}get comment(){const t=h(this,qi);return{text:t.data.text,date:t.data.date,deleted:t.isDeleted(),color:this.commentColor}}set comment(t){h(this,qi)||b(this,qi,new h2(this)),h(this,qi).data=t}setCommentData(t){h(this,qi)||b(this,qi,new h2(this)),h(this,qi).setInitialText(t)}get hasEditedComment(){var t;return(t=h(this,qi))==null?void 0:t.hasBeenEdited()}async editComment(){h(this,qi)||b(this,qi,new h2(this)),h(this,qi).edit()}addComment(t){if(this.hasEditedComment){const[,,,r]=t.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,c=r-100,l=o+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,c,l,r]}}}render(){var a;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=h(this,Fb)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),_(this,Ct,bO).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),rK(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(h(this,Zg)||b(this,Zg,new mK({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:_(this,Ct,SK).bind(this),onPinching:_(this,Ct,AK).bind(this),onPinchEnd:_(this,Ct,EK).bind(this),signal:this._uiManager._signal}))),(a=this._uiManager._editorUndoBar)==null||a.hide(),t}pointerdown(t){const{isMac:e}=mr.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(b(this,Kg,!0),this._isDraggable){_(this,Ct,_K).call(this,t);return}_(this,Ct,yO).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){h(this,uc)&&clearTimeout(h(this,uc)),b(this,uc,setTimeout(()=>{var t;b(this,uc,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[o,c]=this.pageTranslation,l=t/r,u=e/r,d=this.x*s,f=this.y*a,p=this.width*s,g=this.height*a;switch(i){case 0:return[d+l+o,a-f-u-g+c,d+l+p+o,a-f-u+c];case 90:return[d+u+o,a-f+l+c,d+u+g+o,a-f+l+p+c];case 180:return[d-l-p+o,a-f+u+c,d-l+o,a-f+u+g+c];case 270:return[d-u-g+o,a-f-l-p+c,d-u+o,a-f-l+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,r,s,a]=t,o=s-i,c=a-r;switch(this.rotation){case 0:return[i,e-a,o,c];case 90:return[i,e-r,c,o];case 180:return[s,e-r,o,c];case 270:return[s,e-a,c,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),b(this,Yg,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),b(this,Yg,!1),!0):!1}isInEditMode(){return h(this,Yg)}shouldGetKeyboardEvents(){return h(this,Uh)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return e<a&&r>0&&t<s&&i>0}rebuild(){_(this,Ct,bO).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){We("An editor must be serializable")}static async deserialize(t,e,i){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId});r.rotation=t.rotation,b(r,Gg,t.accessibilityData),r._isCopy=t.isCopy||!1;const[s,a]=r.pageDimensions,[o,c,l,u]=r.getRectInCurrentCoords(t.rect,a);return r.x=o/s,r.y=c/a,r.width=l/s,r.height=u/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=h(this,cf))==null||t.abort(),b(this,cf,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,uc)&&(clearTimeout(h(this,uc)),b(this,uc,null)),_(this,Ct,mS).call(this),this.removeEditToolbar(),h(this,Ja)){for(const i of h(this,Ja).values())clearTimeout(i);b(this,Ja,null)}this.parent=null,(e=h(this,Zg))==null||e.destroy(),b(this,Zg,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,Ct,wK).call(this),h(this,Ki).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),b(this,jh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,Ki).children;if(!h(this,Qo)){b(this,Qo,Array.from(e));const a=_(this,Ct,CK).bind(this),o=_(this,Ct,kK).bind(this),c=this._uiManager._signal;for(const l of h(this,Qo)){const u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",a,{signal:c}),l.addEventListener("blur",o,{signal:c}),l.addEventListener("focus",_(this,Ct,TK).bind(this,u),{signal:c}),l.setAttribute("data-l10n-id",jt._l10nResizer[u])}}const i=h(this,Qo)[0];let r=0;for(const a of e){if(a===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(h(this,Qo).length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)h(this,Ki).append(h(this,Ki).firstChild);else if(s>r)for(let o=0;o<s-r;o++)h(this,Ki).firstChild.before(h(this,Ki).lastChild);let a=0;for(const o of e){const l=h(this,Qo)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",jt._l10nResizer[l])}}_(this,Ct,wO).call(this,0),b(this,Uh,!0),h(this,Ki).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,Uh)&&_(this,Ct,vO).call(this,h(this,qE),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){_(this,Ct,mS).call(this),this.div.focus()}select(){var t,e,i;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(e=this._editToolbar)==null||e.show(),(i=h(this,sn))==null||i.toggleAltTextBadge(!1)}}unselect(){var t,e,i,r,s;this.isSelected&&(this.isSelected=!1,(t=h(this,Ki))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=h(this,sn))==null||s.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return h(this,KE)}set isEditing(t){b(this,KE,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){b(this,Xg,!0);const i=t/e,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,Ja)||b(this,Ja,new Map);const{action:i}=t;let r=h(this,Ja).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),h(this,Ja).delete(i),h(this,Ja).size===0&&b(this,Ja,null)},jt._telemetryTimeout),h(this,Ja).set(i,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),b(this,Fb,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,Fb,!0)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}},Gg=new WeakMap,Qo=new WeakMap,sn=new WeakMap,qi=new WeakMap,Fb=new WeakMap,lf=new WeakMap,XE=new WeakMap,Xg=new WeakMap,Ki=new WeakMap,qg=new WeakMap,jh=new WeakMap,cf=new WeakMap,qE=new WeakMap,Kg=new WeakMap,Gs=new WeakMap,KE=new WeakMap,Yg=new WeakMap,Uh=new WeakMap,uc=new WeakMap,Mb=new WeakMap,Nb=new WeakMap,Ja=new WeakMap,Zg=new WeakMap,YE=new WeakMap,DD=new WeakMap,Ct=new WeakSet,pO=function([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},ZE=new WeakSet,gO=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},vP=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},wK=function(){if(h(this,Ki))return;b(this,Ki,document.createElement("div")),h(this,Ki).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const r=document.createElement("div");h(this,Ki).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",_(this,Ct,xK).bind(this,i),{signal:e}),r.addEventListener("contextmenu",zo,{signal:e}),r.tabIndex=-1}this.div.prepend(h(this,Ki))},xK=function(t,e){var u;e.preventDefault();const{isMac:i}=mr.platform;if(e.button!==0||e.ctrlKey&&i)return;(u=h(this,sn))==null||u.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,b(this,qg,[e.screenX,e.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",_(this,Ct,vO).bind(this,t),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",qn,{passive:!1,signal:a}),window.addEventListener("contextmenu",zo,{signal:a}),b(this,jh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const l=()=>{var d;s.abort(),this.parent.togglePointerEvents(!0),(d=h(this,sn))==null||d.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=c,_(this,Ct,yP).call(this)};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})},mO=function(t,e,i,r){this.width=i,this.height=r,this.x=t,this.y=e;const[s,a]=this.parentDimensions;this.setDims(s*i,a*r),this.fixAndSetPosition(),this._onResized()},yP=function(){if(!h(this,jh))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=h(this,jh);b(this,jh,null);const s=this.x,a=this.y,o=this.width,c=this.height;s===t&&a===e&&o===i&&c===r||this.addCommands({cmd:_(this,Ct,mO).bind(this,s,a,o,c),undo:_(this,Ct,mO).bind(this,t,e,i,r),mustExec:!0})},vO=function(t,e){const[i,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,c=this.height,l=jt.MIN_SIZE/i,u=jt.MIN_SIZE/r,d=_(this,Ct,vP).call(this,this.rotation),f=(z,B)=>[d[0]*z+d[2]*B,d[1]*z+d[3]*B],p=_(this,Ct,vP).call(this,360-this.rotation),g=(z,B)=>[p[0]*z+p[2]*B,p[1]*z+p[3]*B];let m,y,v=!1,w=!1;switch(t){case"topLeft":v=!0,m=(z,B)=>[0,0],y=(z,B)=>[z,B];break;case"topMiddle":m=(z,B)=>[z/2,0],y=(z,B)=>[z/2,B];break;case"topRight":v=!0,m=(z,B)=>[z,0],y=(z,B)=>[0,B];break;case"middleRight":w=!0,m=(z,B)=>[z,B/2],y=(z,B)=>[0,B/2];break;case"bottomRight":v=!0,m=(z,B)=>[z,B],y=(z,B)=>[0,0];break;case"bottomMiddle":m=(z,B)=>[z/2,B],y=(z,B)=>[z/2,0];break;case"bottomLeft":v=!0,m=(z,B)=>[0,B],y=(z,B)=>[z,0];break;case"middleLeft":w=!0,m=(z,B)=>[0,B/2],y=(z,B)=>[z,B/2];break}const x=m(o,c),A=y(o,c);let S=f(...A);const C=jt._round(s+S[0]),k=jt._round(a+S[1]);let T=1,R=1,F,D;if(e.fromKeyboard)({deltaX:F,deltaY:D}=e);else{const{screenX:z,screenY:B}=e,[G,H]=h(this,qg);[F,D]=this.screenToPageTranslation(z-G,B-H),h(this,qg)[0]=z,h(this,qg)[1]=B}if([F,D]=g(F/i,D/r),v){const z=Math.hypot(o,c);T=R=Math.max(Math.min(Math.hypot(A[0]-x[0]-F,A[1]-x[1]-D)/z,1/o,1/c),l/o,u/c)}else w?T=Qr(Math.abs(A[0]-x[0]-F),l,1)/o:R=Qr(Math.abs(A[1]-x[1]-D),u,1)/c;const U=jt._round(o*T),j=jt._round(c*R);S=f(...y(U,j));const V=C-S[0],Y=k-S[1];h(this,Gs)||b(this,Gs,[this.x,this.y,this.width,this.height]),this.width=U,this.height=j,this.x=V,this.y=Y,this.setDims(i*U,r*j),this.fixAndSetPosition(),this._onResizing()},SK=function(){var t;b(this,jh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=h(this,sn))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},AK=function(t,e,i){let s=.7*(i/e)+1-.7;if(s===1)return;const a=_(this,Ct,vP).call(this,this.rotation),o=(C,k)=>[a[0]*C+a[2]*k,a[1]*C+a[3]*k],[c,l]=this.parentDimensions,u=this.x,d=this.y,f=this.width,p=this.height,g=jt.MIN_SIZE/c,m=jt.MIN_SIZE/l;s=Math.max(Math.min(s,1/f,1/p),g/f,m/p);const y=jt._round(f*s),v=jt._round(p*s);if(y===f&&v===p)return;h(this,Gs)||b(this,Gs,[u,d,f,p]);const w=o(f/2,p/2),x=jt._round(u+w[0]),A=jt._round(d+w[1]),S=o(y/2,v/2);this.x=x-S[0],this.y=A-S[1],this.width=y,this.height=v,this.setDims(c*y,l*v),this.fixAndSetPosition(),this._onResizing()},EK=function(){var t;(t=h(this,sn))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),_(this,Ct,yP).call(this)},yO=function(t){const{isMac:e}=mr.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},_K=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),a={capture:!0,passive:!1,signal:s},o=l=>{r.abort(),b(this,lf,null),b(this,Kg,!1),this._uiManager.endDragSession()||_(this,Ct,yO).call(this,l),i&&this._onStopDragging()};e&&(b(this,Mb,t.clientX),b(this,Nb,t.clientY),b(this,lf,t.pointerId),b(this,XE,t.pointerType),window.addEventListener("pointermove",l=>{i||(i=!0,this._onStartDragging());const{clientX:u,clientY:d,pointerId:f}=l;if(f!==h(this,lf)){qn(l);return}const[p,g]=this.screenToPageTranslation(u-h(this,Mb),d-h(this,Nb));b(this,Mb,u),b(this,Nb,d),this._uiManager.dragSelectedEditors(p,g)},a),window.addEventListener("touchmove",qn,a),window.addEventListener("pointerdown",l=>{l.pointerType===h(this,XE)&&(h(this,Zg)||l.isPrimary)&&o(l),qn(l)},a));const c=l=>{if(!h(this,lf)||h(this,lf)===l.pointerId){o(l);return}qn(l)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},bO=function(){if(h(this,cf)||!this.div)return;b(this,cf,new AbortController);const t=this._uiManager.combinedSignal(h(this,cf));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},CK=function(t){jt._resizerKeyboardManager.exec(this,t)},kK=function(t){var e;h(this,Uh)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,Ki)&&_(this,Ct,mS).call(this)},TK=function(t){b(this,qE,h(this,Uh)?t:"")},wO=function(t){if(h(this,Qo))for(const e of h(this,Qo))e.tabIndex=t},mS=function(){b(this,Uh,!1),_(this,Ct,wO).call(this,-1),_(this,Ct,yP).call(this)},E(jt,ZE),X(jt,"_l10n",null),X(jt,"_l10nResizer",null),X(jt,"_borderLineWidth",-1),X(jt,"_colorManager",new Jft),X(jt,"_zIndex",1),X(jt,"_telemetryTimeout",1e3),jt),$ft=class extends fn{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}};const HU=3285377520,Va=4294901760,Kl=65535;let PK=class{constructor(t){this.h1=t?t&4294967295:HU,this.h2=t?t&4294967295:HU}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let m=0,y=t.length;m<y;m++){const v=t.charCodeAt(m);v<=255?e[i++]=v:(e[i++]=v>>>8,e[i++]=v&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,a=new Uint32Array(e.buffer,0,r);let o=0,c=0,l=this.h1,u=this.h2;const d=3432918353,f=461845907,p=d&Kl,g=f&Kl;for(let m=0;m<r;m++)m&1?(o=a[m],o=o*d&Va|o*p&Kl,o=o<<15|o>>>17,o=o*f&Va|o*g&Kl,l^=o,l=l<<13|l>>>19,l=l*5+3864292196):(c=a[m],c=c*d&Va|c*p&Kl,c=c<<15|c>>>17,c=c*f&Va|c*g&Kl,u^=c,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,s){case 3:o^=e[r*4+2]<<16;case 2:o^=e[r*4+1]<<8;case 1:o^=e[r*4],o=o*d&Va|o*p&Kl,o=o<<15|o>>>17,o=o*f&Va|o*g&Kl,r&1?l^=o:u^=o}this.h1=l,this.h2=u}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Va|t*36045&Kl,e=e*4283543511&Va|((e<<16|t>>>16)*2950163797&Va)>>>16,t^=e>>>1,t=t*444984403&Va|t*60499&Kl,e=e*3301882366&Va|((e<<16|t>>>16)*3120437893&Va)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}};const xO=Object.freeze({map:null,hash:"",transfer:void 0});var Qg,Jg,Yi,FD,RK,QH;let Rj=(QH=class{constructor(){E(this,FD);E(this,Qg,!1);E(this,Jg,null);E(this,Yi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=h(this,Yi).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return h(this,Yi).get(t)}remove(t){if(h(this,Yi).delete(t),h(this,Yi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,Yi).values())if(e instanceof fn)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=h(this,Yi).get(t);let r=!1;if(i!==void 0)for(const[s,a]of Object.entries(e))i[s]!==a&&(r=!0,i[s]=a);else r=!0,h(this,Yi).set(t,e);r&&_(this,FD,RK).call(this),e instanceof fn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,Yi).has(t)}get size(){return h(this,Yi).size}resetModified(){h(this,Qg)&&(b(this,Qg,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new DK(this)}get serializable(){if(h(this,Yi).size===0)return xO;const t=new Map,e=new PK,i=[],r=Object.create(null);let s=!1;for(const[a,o]of h(this,Yi)){const c=o instanceof fn?o.serialize(!1,r):o;c&&(t.set(a,c),e.update(`${a}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const a of t.values())a.bitmap&&i.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:xO}get editorStats(){let t=null;const e=new Map;for(const i of h(this,Yi).values()){if(!(i instanceof fn))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;e.has(s)||e.set(s,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const a=t[s]||(t[s]=new Map);for(const[o,c]of Object.entries(r)){if(o==="type")continue;let l=a.get(o);l||(l=new Map,a.set(o,l));const u=l.get(c)??0;l.set(c,u+1)}}for(const[i,r]of e)t[i]=r.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){b(this,Jg,null)}get modifiedIds(){if(h(this,Jg))return h(this,Jg);const t=[];for(const e of h(this,Yi).values())!(e instanceof fn)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return b(this,Jg,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return h(this,Yi).entries()}},Qg=new WeakMap,Jg=new WeakMap,Yi=new WeakMap,FD=new WeakSet,RK=function(){h(this,Qg)||(b(this,Qg,!0),typeof this.onSetModified=="function"&&this.onSetModified())},QH);var QE,JH;let DK=(JH=class extends Rj{constructor(e){super();E(this,QE);const{map:i,hash:r,transfer:s}=e.serializable,a=structuredClone(i,s?{transfer:s}:null);b(this,QE,{map:a,hash:r,transfer:s})}get print(){We("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,QE)}get modifiedIds(){return Zt(this,"modifiedIds",{ids:new Set,hash:""})}},QE=new WeakMap,JH);var Ib,$H;let tpt=($H=class{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){E(this,Ib,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,Ib).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||h(this,Ib).has(t.loadedName))){if(Zn(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:a}=t,o=new FontFace(r,s,a);this.addNativeFontFace(o);try{await o.load(),h(this,Ib).add(r),i==null||i(t)}catch{Bt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}We("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Bt(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Zt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Zt(this,"isSyncFontLoadingSupported",Zr||mr.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Zn(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Zt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(A,S){return A.charCodeAt(S)<<24|A.charCodeAt(S+1)<<16|A.charCodeAt(S+2)<<8|A.charCodeAt(S+3)&255}function r(A,S,C,k){const T=A.substring(0,S),R=A.substring(S+C);return T+k+R}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let l=0;function u(A,S){if(++l>30){Bt("Load test font never loaded."),S();return}if(c.font="30px "+A,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(u.bind(null,A,S))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,d.length,d);const g=16,m=1482184792;let y=i(f,g);for(s=0,a=d.length-3;s<a;s+=4)y=y-m+i(d,s)|0;s<d.length&&(y=y-m+i(d+"XXX",s)|0),f=r(f,g,4,Ift(y));const v=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${d}";src:${v}}`;this.insertRule(w);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const A of[t.loadedName,d]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=A,x.append(S)}this._document.body.append(x),u(d,()=>{x.remove(),e.complete()})}},Ib=new WeakMap,$H),ept=class{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=e}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${Qq(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let r;try{r=t.get(i)}catch(a){Bt(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(r||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=s}};function npt(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Zr)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function ipt(n){if(Zr&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return rT(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function u2(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const SO=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,rpt=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",spt=jft.bind(null,SO,rpt);var Hh,MD,tW;let apt=(tW=class{constructor(){E(this,Hh,new Map);E(this,MD,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};h(this,MD).then(()=>{for(const[r]of h(this,Hh))r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){Bt("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(t,e);r=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}h(this,Hh).set(e,r)}removeEventListener(t,e){const i=h(this,Hh).get(e);i==null||i(),h(this,Hh).delete(e)}terminate(){for(const[,t]of h(this,Hh))t==null||t();h(this,Hh).clear()}},Hh=new WeakMap,MD=new WeakMap,tW);const d2={DATA:1,ERROR:2},Wn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function WU(){}function ps(n){if(n instanceof Qp||n instanceof nO||n instanceof BU||n instanceof pD||n instanceof YN)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||We('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Qp(n.message);case"InvalidPDFException":return new nO(n.message);case"PasswordException":return new BU(n.message,n.code);case"ResponseException":return new pD(n.message,n.status,n.missing);case"UnknownErrorException":return new YN(n.message,n.details)}return new YN(n.message,n.toString())}var Lb,Ro,FK,MK,NK,bP,eW;let vS=(eW=class{constructor(t,e,i){E(this,Ro);E(this,Lb,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",_(this,Ro,FK).bind(this),{signal:h(this,Lb).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(a){s.reject(a)}return s.promise}sendWithStream(t,e,i,r){const s=this.streamId++,a=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:l=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:l,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:o,action:t,streamId:s,data:e,desiredSize:l.desiredSize},r),u.promise},pull:l=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,c.postMessage({sourceName:a,targetName:o,stream:Wn.PULL,streamId:s,desiredSize:l.desiredSize}),u.promise},cancel:l=>{Zn(l instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:a,targetName:o,stream:Wn.CANCEL,streamId:s,reason:ps(l)}),u.promise}},i)}destroy(){var t;(t=h(this,Lb))==null||t.abort(),b(this,Lb,null)}},Lb=new WeakMap,Ro=new WeakSet,FK=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){_(this,Ro,NK).call(this,t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===d2.DATA)r.resolve(t.data);else if(t.callback===d2.ERROR)r.reject(ps(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,s=this.comObj;Promise.try(e,t.data).then(function(a){s.postMessage({sourceName:i,targetName:r,callback:d2.DATA,callbackId:t.callbackId,data:a})},function(a){s.postMessage({sourceName:i,targetName:r,callback:d2.ERROR,callbackId:t.callbackId,reason:ps(a)})});return}if(t.streamId){_(this,Ro,MK).call(this,t);return}e(t.data)},MK=function(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,s=this.comObj,a=this,o=this.actionHandler[t.action],c={enqueue(l,u=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=u,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:Wn.ENQUEUE,streamId:e,chunk:l},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Wn.CLOSE,streamId:e}),delete a.streamSinks[e])},error(l){Zn(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Wn.ERROR,streamId:e,reason:ps(l)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[e]=c,Promise.try(o,t.data,c).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Wn.START_COMPLETE,streamId:e,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:Wn.START_COMPLETE,streamId:e,reason:ps(l)})})},NK=function(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,s=this.comObj,a=this.streamControllers[e],o=this.streamSinks[e];switch(t.stream){case Wn.START_COMPLETE:t.success?a.startCall.resolve():a.startCall.reject(ps(t.reason));break;case Wn.PULL_COMPLETE:t.success?a.pullCall.resolve():a.pullCall.reject(ps(t.reason));break;case Wn.PULL:if(!o){s.postMessage({sourceName:i,targetName:r,stream:Wn.PULL_COMPLETE,streamId:e,success:!0});break}o.desiredSize<=0&&t.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=t.desiredSize,Promise.try(o.onPull||WU).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Wn.PULL_COMPLETE,streamId:e,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:Wn.PULL_COMPLETE,streamId:e,reason:ps(l)})});break;case Wn.ENQUEUE:if(Zn(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case Wn.CLOSE:if(Zn(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),_(this,Ro,bP).call(this,a,e);break;case Wn.ERROR:Zn(a,"error should have stream controller"),a.controller.error(ps(t.reason)),_(this,Ro,bP).call(this,a,e);break;case Wn.CANCEL_COMPLETE:t.success?a.cancelCall.resolve():a.cancelCall.reject(ps(t.reason)),_(this,Ro,bP).call(this,a,e);break;case Wn.CANCEL:if(!o)break;const c=ps(t.reason);Promise.try(o.onCancel||WU,c).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Wn.CANCEL_COMPLETE,streamId:e,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:Wn.CANCEL_COMPLETE,streamId:e,reason:ps(l)})}),o.sinkCapability.reject(c),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},bP=async function(t,e){var i,r,s;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(r=t.pullCall)==null?void 0:r.promise,(s=t.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[e]},eW);var JE,nW;let IK=(nW=class{constructor({enableHWA:t=!1}){E(this,JE,!1);b(this,JE,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!h(this,JE)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){We("Abstract method `_createCanvas` called.")}},JE=new WeakMap,nW),opt=class extends IK{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}},LK=class{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){We("Abstract method `_fetch` called.")}},VU=class extends LK{async _fetch(t){const e=await sT(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):rT(e)}},OK=class{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,s){return"none"}destroy(t=!1){}};var $g,Ob,Wh,Vh,Cr,t0,e0,ht,Sr,yS,hy,wP,uy,BK,AO,dy,bS,wS,EO,xS,iW;let lpt=(iW=class extends OK{constructor({docId:e,ownerDocument:i=globalThis.document}){super();E(this,ht);E(this,$g);E(this,Ob);E(this,Wh);E(this,Vh);E(this,Cr);E(this,t0);E(this,e0,0);b(this,Vh,e),b(this,Cr,i)}addFilter(e){if(!e)return"none";let i=h(this,ht,Sr).get(e);if(i)return i;const[r,s,a]=_(this,ht,wP).call(this,e),o=e.length===1?r:`${r}${s}${a}`;if(i=h(this,ht,Sr).get(o),i)return h(this,ht,Sr).set(e,i),i;const c=`g_${h(this,Vh)}_transfer_map_${fe(this,e0)._++}`,l=_(this,ht,uy).call(this,c);h(this,ht,Sr).set(e,l),h(this,ht,Sr).set(o,l);const u=_(this,ht,dy).call(this,c);return _(this,ht,wS).call(this,r,s,a,u),l}addHCMFilter(e,i){var g;const r=`${e}-${i}`,s="base";let a=h(this,ht,yS).get(s);if((a==null?void 0:a.key)===r||(a?((g=a.filter)==null||g.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},h(this,ht,yS).set(s,a)),!e||!i))return a.url;const o=_(this,ht,xS).call(this,e);e=mt.makeHexColor(...o);const c=_(this,ht,xS).call(this,i);if(i=mt.makeHexColor(...c),h(this,ht,hy).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return a.url;const l=new Array(256);for(let m=0;m<=255;m++){const y=m/255;l[m]=y<=.03928?y/12.92:((y+.055)/1.055)**2.4}const u=l.join(","),d=`g_${h(this,Vh)}_hcm_filter`,f=a.filter=_(this,ht,dy).call(this,d);_(this,ht,wS).call(this,u,u,u,f),_(this,ht,AO).call(this,f);const p=(m,y)=>{const v=o[m]/255,w=c[m]/255,x=new Array(y+1);for(let A=0;A<=y;A++)x[A]=v+A/y*(w-v);return x.join(",")};return _(this,ht,wS).call(this,p(0,5),p(1,5),p(2,5),f),a.url=_(this,ht,uy).call(this,d),a.url}addAlphaFilter(e){let i=h(this,ht,Sr).get(e);if(i)return i;const[r]=_(this,ht,wP).call(this,[e]),s=`alpha_${r}`;if(i=h(this,ht,Sr).get(s),i)return h(this,ht,Sr).set(e,i),i;const a=`g_${h(this,Vh)}_alpha_map_${fe(this,e0)._++}`,o=_(this,ht,uy).call(this,a);h(this,ht,Sr).set(e,o),h(this,ht,Sr).set(s,o);const c=_(this,ht,dy).call(this,a);return _(this,ht,EO).call(this,r,c),o}addLuminosityFilter(e){let i=h(this,ht,Sr).get(e||"luminosity");if(i)return i;let r,s;if(e?([r]=_(this,ht,wP).call(this,[e]),s=`luminosity_${r}`):s="luminosity",i=h(this,ht,Sr).get(s),i)return h(this,ht,Sr).set(e,i),i;const a=`g_${h(this,Vh)}_luminosity_map_${fe(this,e0)._++}`,o=_(this,ht,uy).call(this,a);h(this,ht,Sr).set(e,o),h(this,ht,Sr).set(s,o);const c=_(this,ht,dy).call(this,a);return _(this,ht,BK).call(this,c),e&&_(this,ht,EO).call(this,r,c),o}addHighlightHCMFilter(e,i,r,s,a){var w;const o=`${i}-${r}-${s}-${a}`;let c=h(this,ht,yS).get(e);if((c==null?void 0:c.key)===o||(c?((w=c.filter)==null||w.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},h(this,ht,yS).set(e,c)),!i||!r))return c.url;const[l,u]=[i,r].map(_(this,ht,xS).bind(this));let d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,g]=[s,a].map(_(this,ht,xS).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),h(this,ht,hy).style.color="";const m=(x,A,S)=>{const C=new Array(256),k=(f-d)/S,T=x/255,R=(A-x)/(255*S);let F=0;for(let D=0;D<=S;D++){const U=Math.round(d+D*k),j=T+D*R;for(let V=F;V<=U;V++)C[V]=j;F=U+1}for(let D=F;D<256;D++)C[D]=C[F-1];return C.join(",")},y=`g_${h(this,Vh)}_hcm_${e}_filter`,v=c.filter=_(this,ht,dy).call(this,y);return _(this,ht,AO).call(this,v),_(this,ht,wS).call(this,m(p[0],g[0],5),m(p[1],g[1],5),m(p[2],g[2],5),v),c.url=_(this,ht,uy).call(this,y),c.url}destroy(e=!1){var i,r,s,a;e&&((i=h(this,t0))!=null&&i.size)||((r=h(this,Wh))==null||r.parentNode.parentNode.remove(),b(this,Wh,null),(s=h(this,Ob))==null||s.clear(),b(this,Ob,null),(a=h(this,t0))==null||a.clear(),b(this,t0,null),b(this,e0,0))}},$g=new WeakMap,Ob=new WeakMap,Wh=new WeakMap,Vh=new WeakMap,Cr=new WeakMap,t0=new WeakMap,e0=new WeakMap,ht=new WeakSet,Sr=function(){return h(this,Ob)||b(this,Ob,new Map)},yS=function(){return h(this,t0)||b(this,t0,new Map)},hy=function(){if(!h(this,Wh)){const e=h(this,Cr).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=h(this,Cr).createElementNS(gh,"svg");r.setAttribute("width",0),r.setAttribute("height",0),b(this,Wh,h(this,Cr).createElementNS(gh,"defs")),e.append(r),r.append(h(this,Wh)),h(this,Cr).body.append(e)}return h(this,Wh)},wP=function(e){if(e.length===1){const l=e[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=l[f]/255;const d=u.join(",");return[d,d,d]}const[i,r,s]=e,a=new Array(256),o=new Array(256),c=new Array(256);for(let l=0;l<256;l++)a[l]=i[l]/255,o[l]=r[l]/255,c[l]=s[l]/255;return[a.join(","),o.join(","),c.join(",")]},uy=function(e){if(h(this,$g)===void 0){b(this,$g,"");const i=h(this,Cr).URL;i!==h(this,Cr).baseURI&&(rM(i)?Bt('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,$g,Kq(i,"")))}return`url(${h(this,$g)}#${e})`},BK=function(e){const i=h(this,Cr).createElementNS(gh,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},AO=function(e){const i=h(this,Cr).createElementNS(gh,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},dy=function(e){const i=h(this,Cr).createElementNS(gh,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),h(this,ht,hy).append(i),i},bS=function(e,i,r){const s=h(this,Cr).createElementNS(gh,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),e.append(s)},wS=function(e,i,r,s){const a=h(this,Cr).createElementNS(gh,"feComponentTransfer");s.append(a),_(this,ht,bS).call(this,a,"feFuncR",e),_(this,ht,bS).call(this,a,"feFuncG",i),_(this,ht,bS).call(this,a,"feFuncB",r)},EO=function(e,i){const r=h(this,Cr).createElementNS(gh,"feComponentTransfer");i.append(r),_(this,ht,bS).call(this,r,"feFuncA",e)},xS=function(e){return h(this,ht,hy).style.color=e,sM(getComputedStyle(h(this,ht,hy)).getPropertyValue("color"))},iW),zK=class{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){We("Abstract method `_fetch` called.")}},GU=class extends zK{async _fetch(t){const e=await sT(t,"arraybuffer");return new Uint8Array(e)}},jK=class{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){We("Abstract method `_fetch` called.")}},XU=class extends jK{async _fetch(t){const e=await sT(t,"arraybuffer");return new Uint8Array(e)}};Zr&&Bt("Please use the `legacy` build in Node.js environments.");async function Dj(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}let cpt=class extends OK{},hpt=class extends IK{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}},upt=class extends LK{async _fetch(t){return Dj(t)}},dpt=class extends zK{async _fetch(t){return Dj(t)}},fpt=class extends jK{async _fetch(t){return Dj(t)}};const ay="__forcedDependency";var Xs,Wr,Bb,dc,zb,Gh,Me,Le,Xh,qs,hf,jb,uf,df;class ppt{constructor(t){E(this,Xs,{__proto__:null});E(this,Wr,{__proto__:null,transform:[],moveText:[],sameLineText:[],[ay]:[]});E(this,Bb,new Map);E(this,dc,[]);E(this,zb,[]);E(this,Gh,[[1,0,0,1,0,0]]);E(this,Me,[-1/0,-1/0,1/0,1/0]);E(this,Le,new Float64Array([1/0,1/0,-1/0,-1/0]));E(this,Xh,-1);E(this,qs,new Set);E(this,hf,new Map);E(this,jb,new Map);E(this,uf);E(this,df);b(this,uf,t.width),b(this,df,t.height)}save(t){return b(this,Xs,{__proto__:h(this,Xs)}),b(this,Wr,{__proto__:h(this,Wr),transform:{__proto__:h(this,Wr).transform},moveText:{__proto__:h(this,Wr).moveText},sameLineText:{__proto__:h(this,Wr).sameLineText},[ay]:{__proto__:h(this,Wr)[ay]}}),b(this,Me,{__proto__:h(this,Me)}),h(this,dc).push([t,null]),this}restore(t){const e=Object.getPrototypeOf(h(this,Xs));if(e===null)return this;b(this,Xs,e),b(this,Wr,Object.getPrototypeOf(h(this,Wr))),b(this,Me,Object.getPrototypeOf(h(this,Me)));const i=h(this,dc).pop();return i!==void 0&&(i[1]=t),this}recordOpenMarker(t){return h(this,dc).push([t,null]),this}getOpenMarker(){return h(this,dc).length===0?null:h(this,dc).at(-1)[0]}recordCloseMarker(t){const e=h(this,dc).pop();return e!==void 0&&(e[1]=t),this}beginMarkedContent(t){return h(this,zb).push([t,null]),this}endMarkedContent(t){const e=h(this,zb).pop();return e!==void 0&&(e[1]=t),this}pushBaseTransform(t){return h(this,Gh).push(mt.multiplyByDOMMatrix(h(this,Gh).at(-1),t.getTransform())),this}popBaseTransform(){return h(this,Gh).length>1&&h(this,Gh).pop(),this}recordSimpleData(t,e){return h(this,Xs)[t]=e,this}recordIncrementalData(t,e){return h(this,Wr)[t].push(e),this}resetIncrementalData(t,e){return h(this,Wr)[t].length=0,this}recordNamedData(t,e){return h(this,Bb).set(t,e),this}recordFutureForcedDependency(t,e){return this.recordIncrementalData(ay,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in h(this,Xs)&&this.recordFutureForcedDependency(e,h(this,Xs)[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of h(this,qs))this.recordFutureForcedDependency(ay,t);return this}resetBBox(t){return b(this,Xh,t),h(this,Le)[0]=1/0,h(this,Le)[1]=1/0,h(this,Le)[2]=-1/0,h(this,Le)[3]=-1/0,this}get hasPendingBBox(){return h(this,Xh)!==-1}recordClipBox(t,e,i,r,s,a){const o=mt.multiplyByDOMMatrix(h(this,Gh).at(-1),e.getTransform()),c=[1/0,1/0,-1/0,-1/0];mt.axialAlignedBoundingBox([i,s,r,a],o,c);const l=mt.intersect(h(this,Me),c);return l?(h(this,Me)[0]=l[0],h(this,Me)[1]=l[1],h(this,Me)[2]=l[2],h(this,Me)[3]=l[3]):(h(this,Me)[0]=h(this,Me)[1]=1/0,h(this,Me)[2]=h(this,Me)[3]=-1/0),this}recordBBox(t,e,i,r,s,a){const o=h(this,Me);if(o[0]===1/0)return this;const c=mt.multiplyByDOMMatrix(h(this,Gh).at(-1),e.getTransform());if(o[0]===-1/0)return mt.axialAlignedBoundingBox([i,s,r,a],c,h(this,Le)),this;const l=[1/0,1/0,-1/0,-1/0];return mt.axialAlignedBoundingBox([i,s,r,a],c,l),h(this,Le)[0]=Math.min(h(this,Le)[0],Math.max(l[0],o[0])),h(this,Le)[1]=Math.min(h(this,Le)[1],Math.max(l[1],o[1])),h(this,Le)[2]=Math.max(h(this,Le)[2],Math.min(l[2],o[2])),h(this,Le)[3]=Math.max(h(this,Le)[3],Math.min(l[3],o[3])),this}recordCharacterBBox(t,e,i,r=1,s=0,a=0,o){const c=i.bbox;let l,u;if(c&&(l=c[2]!==c[0]&&c[3]!==c[1]&&h(this,jb).get(i),l!==!1&&(u=[0,0,0,0],mt.axialAlignedBoundingBox(c,i.fontMatrix,u),(r!==1||s!==0||a!==0)&&mt.scaleMinMax([r,0,0,-r,s,a],u),l)))return this.recordBBox(t,e,u[0],u[2],u[1],u[3]);if(!o)return this.recordFullPageBBox(t);const d=o();return c&&u&&l===void 0&&(l=u[0]<=s-d.actualBoundingBoxLeft&&u[2]>=s+d.actualBoundingBoxRight&&u[1]<=a-d.actualBoundingBoxAscent&&u[3]>=a+d.actualBoundingBoxDescent,h(this,jb).set(i,l),l)?this.recordBBox(t,e,u[0],u[2],u[1],u[3]):this.recordBBox(t,e,s-d.actualBoundingBoxLeft,s+d.actualBoundingBoxRight,a-d.actualBoundingBoxAscent,a+d.actualBoundingBoxDescent)}recordFullPageBBox(t){return h(this,Le)[0]=Math.max(0,h(this,Me)[0]),h(this,Le)[1]=Math.max(0,h(this,Me)[1]),h(this,Le)[2]=Math.min(h(this,uf),h(this,Me)[2]),h(this,Le)[3]=Math.min(h(this,df),h(this,Me)[3]),this}getSimpleIndex(t){return h(this,Xs)[t]}recordDependencies(t,e){const i=h(this,qs),r=h(this,Xs),s=h(this,Wr);for(const a of e)a in h(this,Xs)?i.add(r[a]):a in s&&s[a].forEach(i.add,i);return this}copyDependenciesFromIncrementalOperation(t,e){const i=h(this,hf),r=h(this,qs);for(const s of h(this,Wr)[e])i.get(s).dependencies.forEach(r.add,r.add(s));return this}recordNamedDependency(t,e){return h(this,Bb).has(e)&&h(this,qs).add(h(this,Bb).get(e)),this}recordOperation(t,e=!1){this.recordDependencies(t,[ay]);const i=new Set(h(this,qs)),r=h(this,dc).concat(h(this,zb)),s=h(this,Xh)===t?{minX:h(this,Le)[0],minY:h(this,Le)[1],maxX:h(this,Le)[2],maxY:h(this,Le)[3]}:null;return h(this,hf).set(t,{bbox:s,pairs:r,dependencies:i}),e||b(this,Xh,-1),h(this,qs).clear(),this}bboxToClipBoxDropOperation(t){return h(this,Xh)!==-1&&(b(this,Xh,-1),h(this,Me)[0]=Math.max(h(this,Me)[0],h(this,Le)[0]),h(this,Me)[1]=Math.max(h(this,Me)[1],h(this,Le)[1]),h(this,Me)[2]=Math.min(h(this,Me)[2],h(this,Le)[2]),h(this,Me)[3]=Math.min(h(this,Me)[3],h(this,Le)[3])),h(this,qs).clear(),this}_takePendingDependencies(){const t=h(this,qs);return b(this,qs,new Set),t}_extractOperation(t){const e=h(this,hf).get(t);return h(this,hf).delete(t),e}_pushPendingDependencies(t){for(const e of t)h(this,qs).add(e)}take(){return h(this,jb).clear(),Array.from(h(this,hf),([t,{bbox:e,pairs:i,dependencies:r}])=>(i.forEach(s=>s.forEach(r.add,r)),r.delete(t),{minX:((e==null?void 0:e.minX)??0)/h(this,uf),maxX:((e==null?void 0:e.maxX)??h(this,uf))/h(this,uf),minY:((e==null?void 0:e.minY)??0)/h(this,df),maxY:((e==null?void 0:e.maxY)??h(this,df))/h(this,df),dependencies:Array.from(r).sort((s,a)=>s-a),idx:t}))}}Xs=new WeakMap,Wr=new WeakMap,Bb=new WeakMap,dc=new WeakMap,zb=new WeakMap,Gh=new WeakMap,Me=new WeakMap,Le=new WeakMap,Xh=new WeakMap,qs=new WeakMap,hf=new WeakMap,jb=new WeakMap,uf=new WeakMap,df=new WeakMap;var Pe,mn,Ub,ff,Hb;const r5=class r5{constructor(t,e){E(this,Pe);E(this,mn);E(this,Ub,0);E(this,ff);E(this,Hb,0);if(t instanceof r5)return t;b(this,Pe,t),b(this,ff,t._takePendingDependencies()),b(this,mn,e)}save(t){return fe(this,Hb)._++,h(this,Pe).save(h(this,mn)),this}restore(t){return h(this,Hb)>0&&(h(this,Pe).restore(h(this,mn)),fe(this,Hb)._--),this}recordOpenMarker(t){return fe(this,Ub)._++,this}getOpenMarker(){return h(this,Ub)>0?h(this,mn):h(this,Pe).getOpenMarker()}recordCloseMarker(t){return fe(this,Ub)._--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return h(this,Pe).pushBaseTransform(t),this}popBaseTransform(){return h(this,Pe).popBaseTransform(),this}recordSimpleData(t,e){return h(this,Pe).recordSimpleData(t,h(this,mn)),this}recordIncrementalData(t,e){return h(this,Pe).recordIncrementalData(t,h(this,mn)),this}resetIncrementalData(t,e){return h(this,Pe).resetIncrementalData(t,h(this,mn)),this}recordNamedData(t,e){return this}recordFutureForcedDependency(t,e){return h(this,Pe).recordFutureForcedDependency(t,h(this,mn)),this}inheritSimpleDataAsFutureForcedDependencies(t){return h(this,Pe).inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return h(this,Pe).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return h(this,Pe).hasPendingBBox||h(this,Pe).resetBBox(h(this,mn)),this}get hasPendingBBox(){return h(this,Pe).hasPendingBBox}recordClipBox(t,e,i,r,s,a){return h(this,Pe).recordClipBox(h(this,mn),e,i,r,s,a),this}recordBBox(t,e,i,r,s,a){return h(this,Pe).recordBBox(h(this,mn),e,i,r,s,a),this}recordCharacterBBox(t,e,i,r,s,a,o){return h(this,Pe).recordCharacterBBox(h(this,mn),e,i,r,s,a,o),this}recordFullPageBBox(t){return h(this,Pe).recordFullPageBBox(h(this,mn)),this}getSimpleIndex(t){return h(this,Pe).getSimpleIndex(t)}recordDependencies(t,e){return h(this,Pe).recordDependencies(h(this,mn),e),this}copyDependenciesFromIncrementalOperation(t,e){return h(this,Pe).copyDependenciesFromIncrementalOperation(h(this,mn),e),this}recordNamedDependency(t,e){return h(this,Pe).recordNamedDependency(h(this,mn),e),this}recordOperation(t){h(this,Pe).recordOperation(h(this,mn),!0);const e=h(this,Pe)._extractOperation(h(this,mn));for(const i of e.dependencies)h(this,ff).add(i);return h(this,ff).delete(h(this,mn)),h(this,ff).delete(null),this}bboxToClipBoxDropOperation(t){return h(this,Pe).bboxToClipBoxDropOperation(h(this,mn)),this}recordNestedDependencies(){h(this,Pe)._pushPendingDependencies(h(this,ff))}take(){throw new Error("Unreachable")}};Pe=new WeakMap,mn=new WeakMap,Ub=new WeakMap,ff=new WeakMap,Hb=new WeakMap;let gD=r5;const Ga={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation"],transform:["transform"],transformAndFill:["transform","fillColor"]},sr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function _O(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),n.clip(r)}let Fj=class{isModifyingCurrentTransform(){return!1}getPattern(){We("Abstract method `getPattern` called.")}},gpt=class extends Fj{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,r){let s;if(r===sr.STROKE||r===sr.FILL){const a=e.current.getClippedPathBoundingBox(r,yn(t))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,l=e.cachedCanvases.getCanvas("pattern",o,c),u=l.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),i=mt.transform(i,[1,0,0,1,a[0],a[1]]),u.transform(...e.baseTransform),this.matrix&&u.transform(...this.matrix),_O(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=t.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(i);s.setTransform(d)}else _O(t,this._bbox),s=this._createGradient(t);return s}};function JN(n,t,e,i,r,s,a,o){const c=t.coords,l=t.colors,u=n.data,d=n.width*4;let f;c[e+1]>c[i+1]&&(f=e,e=i,i=f,f=s,s=a,a=f),c[i+1]>c[r+1]&&(f=i,i=r,r=f,f=a,a=o,o=f),c[e+1]>c[i+1]&&(f=e,e=i,i=f,f=s,s=a,a=f);const p=(c[e]+t.offsetX)*t.scaleX,g=(c[e+1]+t.offsetY)*t.scaleY,m=(c[i]+t.offsetX)*t.scaleX,y=(c[i+1]+t.offsetY)*t.scaleY,v=(c[r]+t.offsetX)*t.scaleX,w=(c[r+1]+t.offsetY)*t.scaleY;if(g>=w)return;const x=l[s],A=l[s+1],S=l[s+2],C=l[a],k=l[a+1],T=l[a+2],R=l[o],F=l[o+1],D=l[o+2],U=Math.round(g),j=Math.round(w);let V,Y,z,B,G,H,M,N;for(let W=U;W<=j;W++){if(W<y){const Z=W<g?0:(g-W)/(g-y);V=p-(p-m)*Z,Y=x-(x-C)*Z,z=A-(A-k)*Z,B=S-(S-T)*Z}else{let Z;W>w?Z=1:y===w?Z=0:Z=(y-W)/(y-w),V=m-(m-v)*Z,Y=C-(C-R)*Z,z=k-(k-F)*Z,B=T-(T-D)*Z}let q;W<g?q=0:W>w?q=1:q=(g-W)/(g-w),G=p-(p-v)*q,H=x-(x-R)*q,M=A-(A-F)*q,N=S-(S-D)*q;const Q=Math.round(Math.min(V,G)),et=Math.round(Math.max(V,G));let J=d*W+Q*4;for(let Z=Q;Z<=et;Z++)q=(V-Z)/(V-G),q<0?q=0:q>1&&(q=1),u[J++]=Y-(Y-H)*q|0,u[J++]=z-(z-M)*q|0,u[J++]=B-(B-N)*q|0,u[J++]=255}}function mpt(n,t,e){const i=t.coords,r=t.colors;let s,a;switch(t.type){case"lattice":const o=t.verticesPerRow,c=Math.floor(i.length/o)-1,l=o-1;for(s=0;s<c;s++){let u=s*o;for(let d=0;d<l;d++,u++)JN(n,e,i[u],i[u+1],i[u+o],r[u],r[u+1],r[u+o]),JN(n,e,i[u+o+1],i[u+1],i[u+o],r[u+o+1],r[u+1],r[u+o])}break;case"triangles":for(s=0,a=i.length;s<a;s+=3)JN(n,e,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}let vpt=class extends Fj{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),l=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-c,d=Math.min(Math.ceil(Math.abs(l*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(u*t[1]*1.1)),3e3),p=l/d,g=u/f,m={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/p,scaleY:1/g},y=d+2*2,v=f+2*2,w=i.getCanvas("mesh",y,v),x=w.context,A=x.createImageData(d,f);if(e){const C=A.data;for(let k=0,T=C.length;k<T;k+=4)C[k]=e[0],C[k+1]=e[1],C[k+2]=e[2],C[k+3]=255}for(const C of this._figures)mpt(A,C,m);return x.putImageData(A,2,2),{canvas:w.canvas,offsetX:o-2*p,offsetY:c-2*g,scaleX:p,scaleY:g}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,r){_O(t,this._bbox);const s=new Float32Array(2);if(r===sr.SHADING)mt.singularValueDecompose2dScale(yn(t),s);else if(this.matrix){mt.singularValueDecompose2dScale(this.matrix,s);const[o,c]=s;mt.singularValueDecompose2dScale(e.baseTransform,s),s[0]*=o,s[1]*=c}else mt.singularValueDecompose2dScale(e.baseTransform,s);const a=this._createMeshCanvas(s,r===sr.SHADING?null:this._background,e.cachedCanvases);return r!==sr.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}},ypt=class extends Fj{getPattern(){return"hotpink"}};function bpt(n){switch(n[0]){case"RadialAxial":return new gpt(n);case"Mesh":return new vpt(n);case"Dummy":return new ypt}throw new Error(`Unknown IR type: ${n[0]}`)}const qU={COLORED:1,UNCOLORED:2};var n0;let wpt=(n0=class{constructor(t,e,i,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t){var G,H,M,N;const{bbox:e,operatorList:i,paintType:r,tilingType:s,color:a,canvasGraphicsFactory:o}=this;let{xstep:c,ystep:l}=this;c=Math.abs(c),l=Math.abs(l),iM("TilingType: "+s);const u=e[0],d=e[1],f=e[2],p=e[3],g=f-u,m=p-d,y=new Float32Array(2);mt.singularValueDecompose2dScale(this.matrix,y);const[v,w]=y;mt.singularValueDecompose2dScale(this.baseTransform,y);const x=v*y[0],A=w*y[1];let S=g,C=m,k=!1,T=!1;const R=Math.ceil(c*x),F=Math.ceil(l*A),D=Math.ceil(g*x),U=Math.ceil(m*A);R>=D?S=c:k=!0,F>=U?C=l:T=!0;const j=this.getSizeAndScale(S,this.ctx.canvas.width,x),V=this.getSizeAndScale(C,this.ctx.canvas.height,A),Y=t.cachedCanvases.getCanvas("pattern",j.size,V.size),z=Y.context,B=o.createCanvasGraphics(z);if(B.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(B,r,a),z.translate(-j.scale*u,-V.scale*d),B.transform(0,j.scale,0,0,V.scale,0,0),z.save(),(G=B.dependencyTracker)==null||G.save(),this.clipBbox(B,u,d,f,p),B.baseTransform=yn(B.ctx),B.executeOperatorList(i),B.endDrawing(),(N=(H=B.dependencyTracker)==null?void 0:(M=H.restore()).recordNestedDependencies)==null||N.call(M),z.restore(),k||T){const W=Y.canvas;k&&(S=c),T&&(C=l);const q=this.getSizeAndScale(S,this.ctx.canvas.width,x),Q=this.getSizeAndScale(C,this.ctx.canvas.height,A),et=q.size,J=Q.size,Z=t.cachedCanvases.getCanvas("pattern-workaround",et,J),tt=Z.context,wt=k?Math.floor(g/c):0,st=T?Math.floor(m/l):0;for(let At=0;At<=wt;At++)for(let _t=0;_t<=st;_t++)tt.drawImage(W,et*At,J*_t,et,J,0,0,et,J);return{canvas:Z.canvas,scaleX:q.scale,scaleY:Q.scale,offsetX:u,offsetY:d}}return{canvas:Y.canvas,scaleX:j.scale,scaleY:V.scale,offsetX:u,offsetY:d}}getSizeAndScale(t,e,i){const r=Math.max(n0.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*i);return s>=r?s=r:i=s/t,{scale:i,size:s}}clipBbox(t,e,i,r,s){const a=r-e,o=s-i;t.ctx.rect(e,i,a,o),mt.axialAlignedBoundingBox([e,i,r,s],yn(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const r=t.ctx,s=t.current;switch(e){case qU.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;r.fillStyle=s.fillColor=a,r.strokeStyle=s.strokeColor=o;break;case qU.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new Nft(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,r){let s=i;r!==sr.SHADING&&(s=mt.transform(s,e.baseTransform),this.matrix&&(s=mt.transform(s,this.matrix)));const a=this.createPatternCanvas(e);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const c=t.createPattern(a.canvas,"repeat");return c.setTransform(o),c}},X(n0,"MAX_PATTERN_SIZE",3e3),n0);function xpt({src:n,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=mr.isLittleEndian?4278190080:255,[c,l]=a?[s,o]:[o,s],u=i>>3,d=i&7,f=n.length;e=new Uint32Array(e.buffer);let p=0;for(let g=0;g<r;g++){for(const y=t+u;t<y;t++){const v=t<f?n[t]:255;e[p++]=v&128?l:c,e[p++]=v&64?l:c,e[p++]=v&32?l:c,e[p++]=v&16?l:c,e[p++]=v&8?l:c,e[p++]=v&4?l:c,e[p++]=v&2?l:c,e[p++]=v&1?l:c}if(d===0)continue;const m=t<f?n[t++]:255;for(let y=0;y<d;y++)e[p++]=m&1<<7-y?l:c}return{srcPos:t,destPos:p}}const KU=16,YU=100,Spt=15,ZU=10,As=16,$N=new DOMMatrix,Aa=new Float32Array(2),Uy=new Float32Array([1/0,1/0,-1/0,-1/0]);function Apt(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},n.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},n.transform=function(e,i,r,s,a,o){t.transform(e,i,r,s,a,o),this.__originalTransform(e,i,r,s,a,o)},n.setTransform=function(e,i,r,s,a,o){t.setTransform(e,i,r,s,a,o),this.__originalSetTransform(e,i,r,s,a,o)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,r,s,a,o){t.bezierCurveTo(e,i,r,s,a,o),this.__originalBezierCurveTo(e,i,r,s,a,o)},n.rect=function(e,i,r,s){t.rect(e,i,r,s),this.__originalRect(e,i,r,s)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}let Ept=class{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}};function f2(n,t,e,i,r,s,a,o,c,l){const[u,d,f,p,g,m]=yn(n);if(d===0&&f===0){const w=a*u+g,x=Math.round(w),A=o*p+m,S=Math.round(A),C=(a+c)*u+g,k=Math.abs(Math.round(C)-x)||1,T=(o+l)*p+m,R=Math.abs(Math.round(T)-S)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(p),x,S),n.drawImage(t,e,i,r,s,0,0,k,R),n.setTransform(u,d,f,p,g,m),[k,R]}if(u===0&&p===0){const w=o*f+g,x=Math.round(w),A=a*d+m,S=Math.round(A),C=(o+l)*f+g,k=Math.abs(Math.round(C)-x)||1,T=(a+c)*d+m,R=Math.abs(Math.round(T)-S)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,x,S),n.drawImage(t,e,i,r,s,0,0,R,k),n.setTransform(u,d,f,p,g,m),[R,k]}n.drawImage(t,e,i,r,s,a,o,c,l);const y=Math.hypot(u,d),v=Math.hypot(f,p);return[y*c,v*l]}let QU=class{constructor(t,e,i){X(this,"alphaIsShape",!1);X(this,"fontSize",0);X(this,"fontSizeScale",1);X(this,"textMatrix",null);X(this,"textMatrixScale",1);X(this,"fontMatrix",eO);X(this,"leading",0);X(this,"x",0);X(this,"y",0);X(this,"lineX",0);X(this,"lineY",0);X(this,"charSpacing",0);X(this,"wordSpacing",0);X(this,"textHScale",1);X(this,"textRenderingMode",Gi.FILL);X(this,"textRise",0);X(this,"fillColor","#000000");X(this,"strokeColor","#000000");X(this,"patternFill",!1);X(this,"patternStroke",!1);X(this,"fillAlpha",1);X(this,"strokeAlpha",1);X(this,"lineWidth",1);X(this,"activeSMask",null);X(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Uy.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=sr.FILL,e=null){const i=this.minMax.slice();if(t===sr.STROKE){e||We("Stroke bounding box must include transform."),mt.singularValueDecompose2dScale(e,Aa);const r=Aa[0]*this.lineWidth/2,s=Aa[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const t=mt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Uy,0)}getClippedPathBoundingBox(t=sr.FILL,e=null){return mt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}};function JU(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,r=e%As,s=(e-r)/As,a=r===0?s:s+1,o=n.createImageData(i,As);let c=0,l;const u=t.data,d=o.data;let f,p,g,m;if(t.kind===dP.GRAYSCALE_1BPP){const y=u.byteLength,v=new Uint32Array(d.buffer,0,d.byteLength>>2),w=v.length,x=i+7>>3,A=4294967295,S=mr.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(g=f<s?As:r,l=0,p=0;p<g;p++){const C=y-c;let k=0;const T=C>x?i:C*8-7,R=T&-8;let F=0,D=0;for(;k<R;k+=8)D=u[c++],v[l++]=D&128?A:S,v[l++]=D&64?A:S,v[l++]=D&32?A:S,v[l++]=D&16?A:S,v[l++]=D&8?A:S,v[l++]=D&4?A:S,v[l++]=D&2?A:S,v[l++]=D&1?A:S;for(;k<T;k++)F===0&&(D=u[c++],F=128),v[l++]=D&F?A:S,F>>=1}for(;l<w;)v[l++]=0;n.putImageData(o,0,f*As)}}else if(t.kind===dP.RGBA_32BPP){for(p=0,m=i*As*4,f=0;f<s;f++)d.set(u.subarray(c,c+m)),c+=m,n.putImageData(o,0,p),p+=As;f<a&&(m=i*r*4,d.set(u.subarray(c,c+m)),n.putImageData(o,0,p))}else if(t.kind===dP.RGB_24BPP)for(g=As,m=i*g,f=0;f<a;f++){for(f>=s&&(g=r,m=i*g),l=0,p=m;p--;)d[l++]=u[c++],d[l++]=u[c++],d[l++]=u[c++],d[l++]=255;n.putImageData(o,0,f*As)}else throw new Error(`bad image kind: ${t.kind}`)}function $U(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,r=e%As,s=(e-r)/As,a=r===0?s:s+1,o=n.createImageData(i,As);let c=0;const l=t.data,u=o.data;for(let d=0;d<a;d++){const f=d<s?As:r;({srcPos:c}=xpt({src:l,srcPos:c,dest:u,width:i,height:f,nonBlackColor:0})),n.putImageData(o,0,d*As)}}function Hx(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function p2(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function tH(n,t){if(t)return!0;mt.singularValueDecompose2dScale(n,Aa);const e=Math.fround(wv.pixelRatio*Y1.PDF_TO_CSS_UNITS);return Aa[0]<=e&&Aa[1]<=e}const _pt=["butt","round","square"],Cpt=["miter","round","bevel"],kpt={},eH={};var Dl,CO,kO,TO,Wb;let xP=(Wb=class{constructor(t,e,i,r,s,{optionalContentConfig:a,markedContentStack:o=null},c,l,u){E(this,Dl);this.ctx=t,this.current=new QU(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new Ept(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(t,e,i=null){var r;return typeof e=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):i}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,i){const c=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...yn(this.compositeCtx))}this.ctx.save(),p2(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=yn(this.ctx)}executeOperatorList(t,e,i,r,s){var v;const a=t.argsArray,o=t.fnArray;let c=e||0;const l=a.length;if(l===c)return c;const u=l-c>ZU&&typeof i=="function",d=u?Date.now()+Spt:0;let f=0;const p=this.commonObjs,g=this.objs;let m,y;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,i),c;if(!s||s.has(c))if(m=o[c],y=a[c]??null,m!==mE.dependency)y===null?this[m](c):this[m](c,...y);else for(const w of y){(v=this.dependencyTracker)==null||v.recordNamedData(w,c);const x=w.startsWith("g_")?p:g;if(!x.has(w))return x.get(w,i),c}if(c++,c===l)return c;if(u&&++f>ZU){if(Date.now()>d)return i(),c;f=0}}}endDrawing(){_(this,Dl,CO).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),_(this,Dl,kO).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let s=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),o=i,c=r,l="prescale1",u,d;for(;s>2&&o>1||a>2&&c>1;){let f=o,p=c;s>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/f),a>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/p),u=this.cachedCanvases.getCanvas(l,f,p),d=u.context,d.clearRect(0,0,f,p),d.drawImage(t,0,0,o,c,0,0,f,p),t=u.canvas,o=f,c=p,l=l==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:o,paintHeight:c}}_createMaskCanvas(t,e){var F,D;const i=this.ctx,{width:r,height:s}=e,a=this.current.fillColor,o=this.current.patternFill,c=yn(i);let l,u,d,f;if((e.bitmap||e.data)&&e.count>1){const U=e.bitmap||e.data.buffer;u=JSON.stringify(o?c:[c.slice(0,4),a]),l=this._cachedBitmapsMap.get(U),l||(l=new Map,this._cachedBitmapsMap.set(U,l));const j=l.get(u);if(j&&!o){const V=Math.round(Math.min(c[0],c[2])+c[4]),Y=Math.round(Math.min(c[1],c[3])+c[5]);return(F=this.dependencyTracker)==null||F.recordDependencies(t,Ga.transformAndFill),{canvas:j,offsetX:V,offsetY:Y}}d=j}d||(f=this.cachedCanvases.getCanvas("maskCanvas",r,s),$U(f.context,e));let p=mt.transform(c,[1/r,0,0,-1/s,0,0]);p=mt.transform(p,[1,0,0,1,0,-s]);const g=Uy.slice();mt.axialAlignedBoundingBox([0,0,r,s],p,g);const[m,y,v,w]=g,x=Math.round(v-m)||1,A=Math.round(w-y)||1,S=this.cachedCanvases.getCanvas("fillCanvas",x,A),C=S.context,k=m,T=y;C.translate(-k,-T),C.transform(...p),d||(d=this._scaleImage(f.canvas,ql(C)),d=d.img,l&&o&&l.set(u,d)),C.imageSmoothingEnabled=tH(yn(C),e.interpolate),f2(C,d,0,0,d.width,d.height,0,0,r,s),C.globalCompositeOperation="source-in";const R=mt.transform(ql(C),[1,0,0,1,-k,-T]);return C.fillStyle=o?a.getPattern(i,this,R,sr.FILL):a,C.fillRect(0,0,r,s),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,S.canvas)),(D=this.dependencyTracker)==null||D.recordDependencies(t,Ga.transformAndFill),{canvas:S.canvas,offsetX:Math.round(k),offsetY:Math.round(T)}}setLineWidth(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",t),this.ctx.lineCap=_pt[e]}setLineJoin(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",t),this.ctx.lineJoin=Cpt[e]}setMiterLimit(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,i){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",t);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=i)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){var i,r,s,a,o;for(const[c,l]of e)switch(c){case"LW":this.setLineWidth(t,l);break;case"LC":this.setLineCap(t,l);break;case"LJ":this.setLineJoin(t,l);break;case"ML":this.setMiterLimit(t,l);break;case"D":this.setDash(t,l[0],l[1]);break;case"RI":this.setRenderingIntent(t,l);break;case"FL":this.setFlatness(t,l);break;case"Font":this.setFont(t,l[0],l[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=l;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=l;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=l;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",t),this.current.activeSMask=l?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(l);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,e,i);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),Hx(this.suspendedCtx,a),Apt(a,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Hx(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){const s=r[0],a=r[1],o=r[2]-s,c=r[3]-a;o===0||c===0||(this.genericComposeSMask(e.context,i,o,c,e.subtype,e.backdrop,e.transferMap,s,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,s,a,o,c,l,u,d){let f=t.canvas,p=c-u,g=l-d;if(a)if(p<0||g<0||p+i>f.width||g+r>f.height){const y=this.cachedCanvases.getCanvas("maskExtension",i,r),v=y.context;v.drawImage(f,-p,-g),v.globalCompositeOperation="destination-atop",v.fillStyle=a,v.fillRect(0,0,i,r),v.globalCompositeOperation="source-over",f=y.canvas,p=g=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(p,g,i,r),t.clip(y),t.globalCompositeOperation="destination-atop",t.fillStyle=a,t.fillRect(p,g,i,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?e.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(o));const m=new Path2D;m.rect(c,l,i,r),e.clip(m),e.globalCompositeOperation="destination-in",e.drawImage(f,p,g,i,r,c,l,i,r),e.restore()}save(t){var i;this.inSMaskMode&&Hx(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),(i=this.dependencyTracker)==null||i.save(t)}restore(t){var e;if((e=this.dependencyTracker)==null||e.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Hx(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,r,s,a,o){var c;(c=this.dependencyTracker)==null||c.recordIncrementalData("transform",t),this.ctx.transform(e,i,r,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i,r){let[s]=i;if(!r){s||(s=i[0]=new Path2D),this[e](t,s);return}if(this.dependencyTracker!==null){const a=e===mE.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,r[0]-a,r[2]+a,r[1]-a,r[3]+a).recordDependencies(t,["transform"])}if(!(s instanceof Path2D)){const a=i[0]=new Path2D;for(let o=0,c=s.length;o<c;)switch(s[o++]){case c2.moveTo:a.moveTo(s[o++],s[o++]);break;case c2.lineTo:a.lineTo(s[o++],s[o++]);break;case c2.curveTo:a.bezierCurveTo(s[o++],s[o++],s[o++],s[o++],s[o++],s[o++]);break;case c2.closePath:a.closePath();break;default:Bt(`Unrecognized drawing path operator: ${s[o-1]}`);break}s=a}mt.axialAlignedBoundingBox(r,yn(this.ctx),this.current.minMax),this[e](t,s),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,i=!0){var a;const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,ql(r),sr.STROKE),o){const c=new Path2D;c.addPath(e,r.getTransform().invertSelf().multiplySelf(o)),e=c}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);(a=this.dependencyTracker)==null||a.recordDependencies(t,Ga.stroke),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(sr.STROKE,yn(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,i=!0){var l,u,d;const r=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const f=s.isModifyingCurrentTransform()?r.getTransform():null;if((l=this.dependencyTracker)==null||l.save(t),r.save(),r.fillStyle=s.getPattern(r,this,ql(r),sr.FILL),f){const p=new Path2D;p.addPath(e,r.getTransform().invertSelf().multiplySelf(f)),e=p}o=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),(u=this.dependencyTracker)==null||u.recordDependencies(t,Ga.fill),o&&(r.restore(),(d=this.dependencyTracker)==null||d.restore(t)),i&&this.consumePath(t,e,c)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){var i;this.ctx.fill(e),(i=this.dependencyTracker)==null||i.recordDependencies(t,Ga.rawFillPath).recordOperation(t)}clip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=kpt}eoClip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=eH}beginText(t){var e;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(e=this.dependencyTracker)==null||e.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;e!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",t),r.recordCloseMarker(t)}if(e!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:a,x:o,y:c,fontSize:l,path:u}of e)u&&r.addPath(u,new DOMMatrix(a).preMultiplySelf(s).translate(o,c).scale(l,-l));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,i){var d,f;(d=this.dependencyTracker)==null||d.recordSimpleData("font",t).recordNamedDependency(t,e);const r=this.commonObjs.get(e),s=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=r.fontMatrix||eO,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Bt("Invalid font matrix for font "+e),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const a=r.loadedName||"sans-serif",o=((f=r.systemFontInfo)==null?void 0:f.css)||`"${a}", ${r.fallbackName}`;let c="normal";r.black?c="900":r.bold&&(c="bold");const l=r.italic?"italic":"normal";let u=i;i<KU?u=KU:i>YU&&(u=YU),this.current.fontSizeScale=i/u,this.ctx.font=`${l} ${c} ${u}px ${o}`}setTextRenderingMode(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,i){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,e,i){this.setLeading(t,-i),this.moveText(t,e,i)}setTextMatrix(t,e){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){var e;this.moveText(t,0,this.current.leading),(e=this.dependencyTracker)==null||e.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}paintChar(t,e,i,r,s,a){var v,w,x,A;const o=this.ctx,c=this.current,l=c.font,u=c.textRenderingMode,d=c.fontSize/c.fontSizeScale,f=u&Gi.FILL_STROKE_MASK,p=!!(u&Gi.ADD_TO_PATH_FLAG),g=c.patternFill&&!l.missingFile,m=c.patternStroke&&!l.missingFile;let y;if((l.disableFontFace||p||g||m)&&!l.missingFile&&(y=l.getPathGenerator(this.commonObjs,e)),y&&(l.disableFontFace||g||m)){o.save(),o.translate(i,r),o.scale(d,-d),(v=this.dependencyTracker)==null||v.recordCharacterBBox(t,o,l);let S;if(f===Gi.FILL||f===Gi.FILL_STROKE)if(s){S=o.getTransform(),o.setTransform(...s);const C=_(this,Dl,TO).call(this,y,S,s);o.fill(C)}else o.fill(y);if(f===Gi.STROKE||f===Gi.FILL_STROKE)if(a){S||(S=o.getTransform()),o.setTransform(...a);const{a:C,b:k,c:T,d:R}=S,F=mt.inverseTransform(a),D=mt.transform([C,k,T,R,0,0],F);mt.singularValueDecompose2dScale(D,Aa),o.lineWidth*=Math.max(Aa[0],Aa[1])/d,o.stroke(_(this,Dl,TO).call(this,y,S,a))}else o.lineWidth/=d,o.stroke(y);o.restore()}else(f===Gi.FILL||f===Gi.FILL_STROKE)&&(o.fillText(e,i,r),(w=this.dependencyTracker)==null||w.recordCharacterBBox(t,o,l,d,i,r,()=>o.measureText(e))),(f===Gi.STROKE||f===Gi.FILL_STROKE)&&(this.dependencyTracker&&((x=this.dependencyTracker)==null||x.recordCharacterBBox(t,o,l,d,i,r,()=>o.measureText(e)).recordDependencies(t,Ga.stroke)),o.strokeText(e,i,r));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:yn(o),x:i,y:r,fontSize:d,path:y}),(A=this.dependencyTracker)==null||A.recordCharacterBBox(t,o,l,d,i,r))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return Zt(this,"isFontSubpixelAAEnabled",i)}showText(t,e){var T,R,F,D;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Ga.showText).copyDependenciesFromIncrementalOperation(t,"sameLineText").resetBBox(t),this.current.textRenderingMode&Gi.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(t,e),(T=this.dependencyTracker)==null||T.recordOperation(t).recordIncrementalData("sameLineText",t);return}const s=i.fontSize;if(s===0){(R=this.dependencyTracker)==null||R.recordOperation(t);return}const a=this.ctx,o=i.fontSizeScale,c=i.charSpacing,l=i.wordSpacing,u=i.fontDirection,d=i.textHScale*u,f=e.length,p=r.vertical,g=p?1:-1,m=r.defaultVMetrics,y=s*i.fontMatrix[0],v=i.textRenderingMode===Gi.FILL&&!r.disableFontFace&&!i.patternFill;a.save(),i.textMatrix&&a.transform(...i.textMatrix),a.translate(i.x,i.y+i.textRise),u>0?a.scale(d,-1):a.scale(d,1);let w,x;if(i.patternFill){a.save();const U=i.fillColor.getPattern(a,this,ql(a),sr.FILL);w=yn(a),a.restore(),a.fillStyle=U}if(i.patternStroke){a.save();const U=i.strokeColor.getPattern(a,this,ql(a),sr.STROKE);x=yn(a),a.restore(),a.strokeStyle=U}let A=i.lineWidth;const S=i.textMatrixScale;if(S===0||A===0){const U=i.textRenderingMode&Gi.FILL_STROKE_MASK;(U===Gi.STROKE||U===Gi.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=S;if(o!==1&&(a.scale(o,o),A/=o),a.lineWidth=A,r.isInvalidPDFjsFont){const U=[];let j=0;for(const Y of e)U.push(Y.unicode),j+=Y.width;const V=U.join("");if(a.fillText(V,0,0),this.dependencyTracker!==null){const Y=a.measureText(V);this.dependencyTracker.recordBBox(t,this.ctx,-Y.actualBoundingBoxLeft,Y.actualBoundingBoxRight,-Y.actualBoundingBoxAscent,Y.actualBoundingBoxDescent).recordOperation(t).recordIncrementalData("sameLineText",t)}i.x+=j*y*d,a.restore(),this.compose();return}let C=0,k;for(k=0;k<f;++k){const U=e[k];if(typeof U=="number"){C+=g*U*s/1e3;continue}let j=!1;const V=(U.isSpace?l:0)+c,Y=U.fontChar,z=U.accent;let B,G,H=U.width;if(p){const W=U.vmetric||m,q=-(U.vmetric?W[1]:H*.5)*y,Q=W[2]*y;H=W?-W[0]:H,B=q/o,G=(C+Q)/o}else B=C/o,G=0;let M;if(r.remeasure&&H>0){M=a.measureText(Y);const W=M.width*1e3/s*o;if(H<W&&this.isFontSubpixelAAEnabled){const q=H/W;j=!0,a.save(),a.scale(q,1),B/=q}else H!==W&&(B+=(H-W)/2e3*s/o)}if(this.contentVisible&&(U.isInFont||r.missingFile)){if(v&&!z)a.fillText(Y,B,G),(F=this.dependencyTracker)==null||F.recordCharacterBBox(t,a,M?{bbox:null}:r,s/o,B,G,()=>M??a.measureText(Y));else if(this.paintChar(t,Y,B,G,w,x),z){const W=B+s*z.offset.x/o,q=G-s*z.offset.y/o;this.paintChar(t,z.fontChar,W,q,w,x)}}const N=p?H*y-V*u:H*y+V*u;C+=N,j&&a.restore()}p?i.y-=C:i.x+=C*d,a.restore(),this.compose(),(D=this.dependencyTracker)==null||D.recordOperation(t).recordIncrementalData("sameLineText",t)}showType3Text(t,e){const i=this.ctx,r=this.current,s=r.font,a=r.fontSize,o=r.fontDirection,c=s.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,d=r.textHScale*o,f=r.fontMatrix||eO,p=e.length,g=r.textRenderingMode===Gi.INVISIBLE;let m,y,v,w;if(g||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(d,o);const x=this.dependencyTracker;for(this.dependencyTracker=x?new gD(x,t):null,m=0;m<p;++m){if(y=e[m],typeof y=="number"){w=c*y*a/1e3,this.ctx.translate(w,0),r.x+=w*d;continue}const A=(y.isSpace?u:0)+l,S=s.charProcOperatorList[y.operatorListId];S?this.contentVisible&&(this.save(),i.scale(a,a),i.transform(...f),this.executeOperatorList(S),this.restore()):Bt(`Type3 character "${y.operatorListId}" is not available.`);const C=[y.width,0];mt.applyTransform(C,f),v=C[0]*a+A,i.translate(v,0),r.x+=v*d}i.restore(),x&&(this.dependencyTracker.recordNestedDependencies(),this.dependencyTracker=x)}setCharWidth(t,e,i){}setCharWidthAndBounds(t,e,i,r,s,a,o){var l;const c=new Path2D;c.rect(r,s,a-r,o-s),this.ctx.clip(c),(l=this.dependencyTracker)==null||l.recordBBox(t,this.ctx,r,a,s,o).recordClipBox(t,this.ctx,r,a,s,o),this.endPath(t)}getColorN_Pattern(t,e){let i;if(e[0]==="TilingPattern"){const r=this.baseTransform||yn(this.ctx),s={createCanvasGraphics:a=>new Wb(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new gD(this.dependencyTracker,t):null)};i=new wpt(e,this.ctx,s,r)}else i=this._getPattern(t,e[1],e[2]);return i}setStrokeColorN(t,...e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,i=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=bpt(this.getObject(t,e)),this.cachedPatterns.set(e,r)),i&&(r.matrix=i),r}shadingFill(t,e){var a;if(!this.contentVisible)return;const i=this.ctx;this.save(t);const r=this._getPattern(t,e);i.fillStyle=r.getPattern(i,this,ql(i),sr.SHADING);const s=ql(i);if(s){const{width:o,height:c}=i.canvas,l=Uy.slice();mt.axialAlignedBoundingBox([0,0,o,c],s,l);const[u,d,f,p]=l;this.ctx.fillRect(u,d,f-u,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Ga.transform).recordDependencies(t,Ga.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){We("Should not call beginInlineImage")}beginImageData(){We("Should not call beginImageData")}paintFormXObjectBegin(t,e,i){var r;if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=yn(this.ctx),i)){mt.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[s,a,o,c]=i,l=new Path2D;l.rect(s,a,o-s,c-a),this.ctx.clip(l),(r=this.dependencyTracker)==null||r.recordClipBox(t,this.ctx,s,o,a,c),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){var x;if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||iM("TODO: Support non-isolated groups."),e.knockout&&Bt("Knockout groups not supported.");const r=yn(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Uy.slice();mt.axialAlignedBoundingBox(e.bbox,yn(i),s);const a=[0,0,i.canvas.width,i.canvas.height];s=mt.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),c=Math.floor(s[1]),l=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,l,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(d,l,u),p=f.context;p.translate(-o,-c),p.transform(...r);let g=new Path2D;const[m,y,v,w]=e.bbox;if(g.rect(m,y,v-m,w-y),e.matrix){const A=new Path2D;A.addPath(g,new DOMMatrix(e.matrix)),g=A}p.clip(g),e.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:o,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(o,c),i.save()),Hx(i,p),this.ctx=p,(x=this.dependencyTracker)==null||x.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){var s;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=yn(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...a);const o=Uy.slice();mt.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],a,o),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,i,r,s,a){if(_(this,Dl,CO).call(this),p2(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const o=i[2]-i[0],c=i[3]-i[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=o,i[3]=c,mt.singularValueDecompose2dScale(yn(this.ctx),Aa);const{viewportScale:l}=this,u=Math.ceil(o*this.outputScaleX*l),d=Math.ceil(c*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(Aa[0],0,0,-Aa[1],0,c*Aa[1]),p2(this.ctx)}else{p2(this.ctx),this.endPath(t);const l=new Path2D;l.rect(i[0],i[1],o,c),this.ctx.clip(l)}}this.current=new QU(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...r),this.transform(t,...s)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),_(this,Dl,kO).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){var o;if(!this.contentVisible)return;const i=e.count;e=this.getObject(t,e.data,e),e.count=i;const r=this.ctx,s=this._createMaskCanvas(t,e),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(t).recordBBox(t,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i,r=0,s=0,a,o){var d,f,p;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const c=this.ctx;c.save();const l=yn(c);c.transform(i,r,s,a,0,0);const u=this._createMaskCanvas(t,e);c.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]),(d=this.dependencyTracker)==null||d.resetBBox(t);for(let g=0,m=o.length;g<m;g+=2){const y=mt.transform(l,[i,r,s,a,o[g],o[g+1]]);c.drawImage(u.canvas,y[4],y[5]),(f=this.dependencyTracker)==null||f.recordBBox(t,this.ctx,y[4],y[4]+u.canvas.width,y[5],y[5]+u.canvas.height)}c.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(t)}paintImageMaskXObjectGroup(t,e){var a,o,c;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(t).recordDependencies(t,Ga.transformAndFill);for(const l of e){const{data:u,width:d,height:f,transform:p}=l,g=this.cachedCanvases.getCanvas("maskCanvas",d,f),m=g.context;m.save();const y=this.getObject(t,u,l);$U(m,y),m.globalCompositeOperation="source-in",m.fillStyle=s?r.getPattern(m,this,ql(i),sr.FILL):r,m.fillRect(0,0,d,f),m.restore(),i.save(),i.transform(...p),i.scale(1,-1),f2(i,g.canvas,0,0,d,f,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(t,i,0,d,0,f),i.restore()}this.compose(),(c=this.dependencyTracker)==null||c.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const i=this.getObject(t,e);if(!i){Bt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,e,i,r,s){if(!this.contentVisible)return;const a=this.getObject(t,e);if(!a){Bt("Dependent image isn't ready yet");return}const o=a.width,c=a.height,l=[];for(let u=0,d=s.length;u<d;u+=2)l.push({transform:[i,0,0,r,s[u],s[u+1]],x:0,y:0,w:o,h:c});this.paintInlineImageXObjectGroup(t,a,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:r}=t,s=this.cachedCanvases.getCanvas("inlineImage",i,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",s.canvas}paintInlineImageXObject(t,e){var l;if(!this.contentVisible)return;const i=e.width,r=e.height,s=this.ctx;this.save(t);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/i,-1/r);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const d=this.cachedCanvases.getCanvas("inlineImage",i,r).context;JU(d,e),o=this.applyTransferMapsToCanvas(d)}const c=this._scaleImage(o,ql(s));s.imageSmoothingEnabled=tH(yn(s),e.interpolate),(l=this.dependencyTracker)==null||l.resetBBox(t).recordBBox(t,s,0,i,-r,0).recordDependencies(t,Ga.imageXObject).recordOperation(t),f2(s,c.img,0,0,c.paintWidth,c.paintHeight,0,-r,i,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,i){var a,o,c;if(!this.contentVisible)return;const r=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const l=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;JU(f,e),s=this.applyTransferMapsToCanvas(f)}(a=this.dependencyTracker)==null||a.resetBBox(t);for(const l of i)r.save(),r.transform(...l.transform),r.scale(1,-1),f2(r,s,l.x,l.y,l.w,l.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(t,r,0,1,-1,0),r.restore();(c=this.dependencyTracker)==null||c.recordOperation(t),this.compose()}paintSolidColorImageMask(t){var e;this.contentVisible&&((e=this.dependencyTracker)==null||e.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Ga.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,i){}beginMarkedContent(t,e){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,i){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){var e;(e=this.dependencyTracker)==null||e.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,i){var a,o;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===eH?s.clip(e,"evenodd"):s.clip(e)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):(o=this.dependencyTracker)==null||o.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=yn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:r,d:s}=this.ctx.getTransform();let a,o;if(i===0&&r===0){const c=Math.abs(e),l=Math.abs(s);if(c===l)if(t===0)a=o=1/c;else{const u=c*t;a=o=u<1?1/u:1}else if(t===0)a=1/c,o=1/l;else{const u=c*t,d=l*t;a=u<1?1/u:1,o=d<1?1/d:1}}else{const c=Math.abs(e*s-i*r),l=Math.hypot(e,i),u=Math.hypot(r,s);if(t===0)a=u/c,o=l/c;else{const d=t*c;a=u>d?u/d:1,o=l>d?l/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:r}}=this,[s,a]=this.getScaleForStroking();if(s===a){i.lineWidth=(r||1)*s,i.stroke(t);return}const o=i.getLineDash();e&&i.save(),i.scale(s,a),$N.a=1/s,$N.d=1/a;const c=new Path2D;if(c.addPath(t,$N),o.length>0){const l=Math.max(s,a);i.setLineDash(o.map(u=>u/l)),i.lineDashOffset/=l}i.lineWidth=r||1,i.stroke(c),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}},Dl=new WeakSet,CO=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},kO=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},TO=function(t,e,i){const r=new Path2D;return r.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),r},Wb);for(const n in mE)xP.prototype[n]!==void 0&&(xP.prototype[mE[n]]=xP.prototype[n]);var R2,$E,t_;let Kc=(R2=class{static get workerPort(){return h(this,$E)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");b(this,$E,t)}static get workerSrc(){return h(this,t_)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");b(this,t_,t)}},$E=new WeakMap,t_=new WeakMap,E(R2,$E,null),E(R2,t_,""),R2);var Vb,e_,rW;let Tpt=(rW=class{constructor({parsedData:t,rawData:e}){E(this,Vb);E(this,e_);b(this,Vb,t),b(this,e_,e)}getRaw(){return h(this,e_)}get(t){return h(this,Vb).get(t)??null}[Symbol.iterator](){return h(this,Vb).entries()}},Vb=new WeakMap,e_=new WeakMap,rW);const fy=Symbol("INTERNAL");var n_,i_,r_,Gb,sW;let Ppt=(sW=class{constructor(t,{name:e,intent:i,usage:r,rbGroups:s}){E(this,n_,!1);E(this,i_,!1);E(this,r_,!1);E(this,Gb,!0);b(this,n_,!!(t&wa.DISPLAY)),b(this,i_,!!(t&wa.PRINT)),this.name=e,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(h(this,r_))return h(this,Gb);if(!h(this,Gb))return!1;const{print:t,view:e}=this.usage;return h(this,n_)?(e==null?void 0:e.viewState)!=="OFF":h(this,i_)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==fy&&We("Internal method `_setVisible` called."),b(this,r_,i),b(this,Gb,e)}},n_=new WeakMap,i_=new WeakMap,r_=new WeakMap,Gb=new WeakMap,sW);var pf,Oe,Xb,qb,s_,PO,aW;let Rpt=(aW=class{constructor(t,e=wa.DISPLAY){E(this,s_);E(this,pf,null);E(this,Oe,new Map);E(this,Xb,null);E(this,qb,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,b(this,qb,t.order);for(const i of t.groups)h(this,Oe).set(i.id,new Ppt(e,i));if(t.baseState==="OFF")for(const i of h(this,Oe).values())i._setVisible(fy,!1);for(const i of t.on)h(this,Oe).get(i)._setVisible(fy,!0);for(const i of t.off)h(this,Oe).get(i)._setVisible(fy,!1);b(this,Xb,this.getHash())}}isVisible(t){if(h(this,Oe).size===0)return!0;if(!t)return iM("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,Oe).has(t.id)?h(this,Oe).get(t.id).visible:(Bt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return _(this,s_,PO).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,Oe).has(e))return Bt(`Optional content group not found: ${e}`),!0;if(h(this,Oe).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,Oe).has(e))return Bt(`Optional content group not found: ${e}`),!0;if(!h(this,Oe).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,Oe).has(e))return Bt(`Optional content group not found: ${e}`),!0;if(!h(this,Oe).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,Oe).has(e))return Bt(`Optional content group not found: ${e}`),!0;if(h(this,Oe).get(e).visible)return!1}return!0}return Bt(`Unknown optional content policy ${t.policy}.`),!0}return Bt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var s;const r=h(this,Oe).get(t);if(!r){Bt(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(const a of r.rbGroups)for(const o of a)o!==t&&((s=h(this,Oe).get(o))==null||s._setVisible(fy,!1,!0));r._setVisible(fy,!!e,!0),b(this,pf,null)}setOCGState({state:t,preserveRB:e}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=h(this,Oe).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!s.visible,e);break}}b(this,pf,null)}get hasInitialVisibility(){return h(this,Xb)===null||this.getHash()===h(this,Xb)}getOrder(){return h(this,Oe).size?h(this,qb)?h(this,qb).slice():[...h(this,Oe).keys()]:null}getGroup(t){return h(this,Oe).get(t)||null}getHash(){if(h(this,pf)!==null)return h(this,pf);const t=new PK;for(const[e,i]of h(this,Oe))t.update(`${e}:${i.visible}`);return b(this,pf,t.hexdigest())}[Symbol.iterator](){return h(this,Oe).entries()}},pf=new WeakMap,Oe=new WeakMap,Xb=new WeakMap,qb=new WeakMap,s_=new WeakSet,PO=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let r=1;r<e;r++){const s=t[r];let a;if(Array.isArray(s))a=_(this,s_,PO).call(this,s);else if(h(this,Oe).has(s))a=h(this,Oe).get(s).visible;else return Bt(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"},aW),Dpt=class{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Zn(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((c,l)=>{this._onReceiveData({begin:c,chunk:l})}),t.addProgressListener((c,l)=>{this._onProgress({loaded:c,total:l})}),t.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(i),!0)});Zn(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,r,s;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Zn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Fpt(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new Mpt(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}},Fpt=class{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=Pj(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}},Mpt=class{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}};function Npt(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let u=o(e);return u=unescape(u),u=c(u),u=l(u),s(u)}if(e=a(n),e){const u=l(e);return s(u)}if(e=i("filename","i").exec(n),e){e=e[1];let u=o(e);return u=l(u),s(u)}function i(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(u,{fatal:!0}),p=rT(d);d=f.decode(p),t=!1}catch{}}return d}function s(u){return t&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),t&&(u=r("iso-8859-1",u))),u}function a(u){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(u))!==null;){let[,m,y,v]=f;if(m=parseInt(m,10),m in d){if(m===0)break;continue}d[m]=[y,v]}const g=[];for(let m=0;m<d.length&&m in d;++m){let[y,v]=d[m];v=o(v),y&&(v=unescape(v),m===0&&(v=c(v))),g.push(v)}return g.join("")}function o(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function c(u){const d=u.indexOf("'");if(d===-1)return u;const f=u.slice(0,d),g=u.slice(d+1).replace(/^[^']*'/,"");return r(f,g)}function l(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,y){return String.fromCharCode(parseInt(y,16))}),r(f,g);try{g=atob(g)}catch{}return r(f,g)})}return""}function UK(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const r=t[i];r!==void 0&&e.append(i,r)}return e}function aM(n){var t;return((t=URL.parse(n))==null?void 0:t.origin)??null}function HK({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function WK(n){const t=n.get("Content-Disposition");if(t){let e=Npt(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Pj(e))return e}return null}function oT(n,t){return new pD(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function VK(n){return n===200||n===206}function GK(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function XK(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Bt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}let Ipt=class{constructor(t){X(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=UK(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Zn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Lpt(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new Opt(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}},Lpt=class{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),r=e.url;fetch(r,GK(i,this._withCredentials,this._abortController)).then(s=>{if(t._responseOrigin=aM(s.url),!VK(s.status))throw oT(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:c}=HK({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=c||this._contentLength,this._filename=WK(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Qp("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:XK(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}},Opt=class{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(t.headers);s.append("Range",`bytes=${e}-${i-1}`);const a=r.url;fetch(a,GK(s,this._withCredentials,this._abortController)).then(o=>{const c=aM(o.url);if(c!==t._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${t._responseOrigin}".`);if(!VK(o.status))throw oT(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:XK(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}};const tI=200,eI=206;function Bpt(n){const t=n.response;return typeof t!="string"?t:rT(t).buffer}let zpt=class{constructor({url:t,httpHeaders:e,withCredentials:i}){X(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=UK(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,a]of this.headers)e.setRequestHeader(s,a);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=eI):r.expectedStatus=tI,e.responseType="arraybuffer",Zn(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var r;const i=this.pendingRequests[t];i&&((r=i.onProgress)==null||r.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||tI;if(!(s===tI&&i.expectedStatus===eI)&&s!==i.expectedStatus){i.onError(r.status);return}const o=Bpt(r);if(s===eI){const c=r.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);l?i.onDone({begin:parseInt(l[1],10),chunk:o}):(Bt('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone({begin:0,chunk:o}):i.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}},jpt=class{constructor(t){this._source=t,this._manager=new zpt(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Zn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Upt(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new Hpt(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}},Upt=class{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=aM(e.responseURL);const i=e.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[c,...l]=o.split(": ");return[c,l.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=HK({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=WK(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=oT(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},Hpt=class{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=aM((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=oT(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}};const Wpt=/^[a-z][a-z0-9\-+.]+:/i;function Vpt(n){if(Wpt.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}let Gpt=class{constructor(t){this.source=t,this.url=Vpt(t.url),Zn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Zn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Xpt(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new qpt(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}},Xpt=class{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=oT(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Qp("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},qpt=class{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}};const Wx=Symbol("INITIAL_DATA");var Ks,a_,RO,oW;let qK=(oW=class{constructor(){E(this,a_);E(this,Ks,Object.create(null))}get(t,e=null){if(e){const r=_(this,a_,RO).call(this,t);return r.promise.then(()=>e(r.data)),null}const i=h(this,Ks)[t];if(!i||i.data===Wx)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=h(this,Ks)[t];return!!e&&e.data!==Wx}delete(t){const e=h(this,Ks)[t];return!e||e.data===Wx?!1:(delete h(this,Ks)[t],!0)}resolve(t,e=null){const i=_(this,a_,RO).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in h(this,Ks)){const{data:i}=h(this,Ks)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}b(this,Ks,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,Ks)){const{data:e}=h(this,Ks)[t];e!==Wx&&(yield[t,e])}}},Ks=new WeakMap,a_=new WeakSet,RO=function(t){var e;return(e=h(this,Ks))[t]||(e[t]={...Promise.withResolvers(),data:Wx})},oW);const Kpt=1e5,nH=30;var lW,gf,ys,o_,l_,i0,qh,c_,h_,r0,Kb,Yb,mf,Zb,u_,Qb,s0,d_,f_,Cn,Jb,a0,p_,vf,$b,ld,KK,YK,FO,La,SP,MO,ZK,QK;let DO=(Cn=class{constructor({textContentSource:t,container:e,viewport:i}){E(this,ld);E(this,gf,Promise.withResolvers());E(this,ys,null);E(this,o_,!1);E(this,l_,!!((lW=globalThis.FontInspector)!=null&&lW.enabled));E(this,i0,null);E(this,qh,null);E(this,c_,0);E(this,h_,0);E(this,r0,null);E(this,Kb,null);E(this,Yb,0);E(this,mf,0);E(this,Zb,Object.create(null));E(this,u_,[]);E(this,Qb,null);E(this,s0,[]);E(this,d_,new WeakMap);E(this,f_,null);var c;if(t instanceof ReadableStream)b(this,Qb,t);else if(typeof t=="object")b(this,Qb,new ReadableStream({start(l){l.enqueue(t),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,ys,b(this,Kb,e)),b(this,mf,i.scale*wv.pixelRatio),b(this,Yb,i.rotation),b(this,qh,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=i.rawDims;b(this,f_,[1,0,0,-1,-a,o+s]),b(this,h_,r),b(this,c_,s),_(c=Cn,La,ZK).call(c),bv(e,i),h(this,gf).promise.finally(()=>{h(Cn,$b).delete(this),b(this,qh,null),b(this,Zb,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=mr.platform;return Zt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,r0).read().then(({value:e,done:i})=>{if(i){h(this,gf).resolve();return}h(this,i0)??b(this,i0,e.lang),Object.assign(h(this,Zb),e.styles),_(this,ld,KK).call(this,e.items),t()},h(this,gf).reject)};return b(this,r0,h(this,Qb).getReader()),h(Cn,$b).add(this),t(),h(this,gf).promise}update({viewport:t,onBefore:e=null}){var s;const i=t.scale*wv.pixelRatio,r=t.rotation;if(r!==h(this,Yb)&&(e==null||e(),b(this,Yb,r),bv(h(this,Kb),{rotation:r})),i!==h(this,mf)){e==null||e(),b(this,mf,i);const a={div:null,properties:null,ctx:_(s=Cn,La,SP).call(s,h(this,i0))};for(const o of h(this,s0))a.properties=h(this,d_).get(o),a.div=o,_(this,ld,FO).call(this,a)}}cancel(){var e;const t=new Qp("TextLayer task cancelled.");(e=h(this,r0))==null||e.cancel(t).catch(()=>{}),b(this,r0,null),h(this,gf).reject(t)}get textDivs(){return h(this,s0)}get textContentItemsStr(){return h(this,u_)}static cleanup(){if(!(h(this,$b).size>0)){h(this,Jb).clear();for(const{canvas:t}of h(this,a0).values())t.remove();h(this,a0).clear()}}},gf=new WeakMap,ys=new WeakMap,o_=new WeakMap,l_=new WeakMap,i0=new WeakMap,qh=new WeakMap,c_=new WeakMap,h_=new WeakMap,r0=new WeakMap,Kb=new WeakMap,Yb=new WeakMap,mf=new WeakMap,Zb=new WeakMap,u_=new WeakMap,Qb=new WeakMap,s0=new WeakMap,d_=new WeakMap,f_=new WeakMap,Jb=new WeakMap,a0=new WeakMap,p_=new WeakMap,vf=new WeakMap,$b=new WeakMap,ld=new WeakSet,KK=function(t){var r,s;if(h(this,o_))return;(s=h(this,qh)).ctx??(s.ctx=_(r=Cn,La,SP).call(r,h(this,i0)));const e=h(this,s0),i=h(this,u_);for(const a of t){if(e.length>Kpt){Bt("Ignoring additional textDivs for performance reasons."),b(this,o_,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=h(this,ys);b(this,ys,document.createElement("span")),h(this,ys).classList.add("markedContent"),a.id&&h(this,ys).setAttribute("id",`${a.id}`),o.append(h(this,ys))}else a.type==="endMarkedContent"&&b(this,ys,h(this,ys).parentNode);continue}i.push(a.str),_(this,ld,YK).call(this,a)}},YK=function(t){var m;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,s0).push(e);const r=mt.transform(h(this,f_),t.transform);let s=Math.atan2(r[1],r[0]);const a=h(this,Zb)[t.fontName];a.vertical&&(s+=Math.PI/2);let o=h(this,l_)&&a.fontSubstitution||a.fontFamily;o=Cn.fontFamilyMap.get(o)||o;const c=Math.hypot(r[2],r[3]),l=c*_(m=Cn,La,QK).call(m,o,a,h(this,i0));let u,d;s===0?(u=r[4],d=r[5]-l):(u=r[4]+l*Math.sin(s),d=r[5]-l*Math.cos(s));const f="calc(var(--total-scale-factor) *",p=e.style;h(this,ys)===h(this,Kb)?(p.left=`${(100*u/h(this,h_)).toFixed(2)}%`,p.top=`${(100*d/h(this,c_)).toFixed(2)}%`):(p.left=`${f}${u.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(h(Cn,vf)*c).toFixed(2)}px)`,p.fontFamily=o,i.fontSize=c,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,l_)&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),s!==0&&(i.angle=s*(180/Math.PI));let g=!1;if(t.str.length>1)g=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const y=Math.abs(t.transform[0]),v=Math.abs(t.transform[3]);y!==v&&Math.max(y,v)/Math.min(y,v)>1.5&&(g=!0)}if(g&&(i.canvasWidth=a.vertical?t.height:t.width),h(this,d_).set(e,i),h(this,qh).div=e,h(this,qh).properties=i,_(this,ld,FO).call(this,h(this,qh)),i.hasText&&h(this,ys).append(e),i.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),h(this,ys).append(y)}},FO=function(t){var o;const{div:e,properties:i,ctx:r}=t,{style:s}=e;let a="";if(h(Cn,vf)>1&&(a=`scale(${1/h(Cn,vf)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=s,{canvasWidth:l,fontSize:u}=i;_(o=Cn,La,MO).call(o,r,u*h(this,mf),c);const{width:d}=r.measureText(e.textContent);d>0&&(a=`scaleX(${l*h(this,mf)/d}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(s.transform=a)},La=new WeakSet,SP=function(t=null){let e=h(this,a0).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,a0).set(t,e),h(this,p_).set(e,{size:0,family:""})}return e},MO=function(t,e,i){const r=h(this,p_).get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)},ZK=function(){if(h(this,vf)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),b(this,vf,t.getBoundingClientRect().height),t.remove()},QK=function(t,e,i){const r=h(this,Jb).get(t);if(r)return r;const s=_(this,La,SP).call(this,i);s.canvas.width=s.canvas.height=nH,_(this,La,MO).call(this,s,nH,t);const a=s.measureText(""),o=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let l=.8;return o?l=o/(o+c):(mr.platform.isFirefox&&Bt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?l=e.ascent:e.descent&&(l=1+e.descent)),h(this,Jb).set(t,l),l},E(Cn,La),E(Cn,Jb,new Map),E(Cn,a0,new Map),E(Cn,p_,new WeakMap),E(Cn,vf,null),E(Cn,$b,new Set),Cn),NO=class JK{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function r(s){var c;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(JK.shouldBuildText(o))(c=s==null?void 0:s.attributes)!=null&&c.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&e.push({str:a}),!!s.children)for(const l of s.children)r(l)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}};const Ypt=100;function Uv(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new Zpt,{docId:e}=t,i=n.url?npt(n.url):null,r=n.data?ipt(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,c=n.range instanceof $K?n.range:null,l=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let u=n.worker instanceof IO?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!rM(n.docBaseUrl)?n.docBaseUrl:null,p=u2(n.cMapUrl),g=n.cMapPacked!==!1,m=n.CMapReaderFactory||(Zr?upt:VU),y=u2(n.iccUrl),v=u2(n.standardFontDataUrl),w=n.StandardFontDataFactory||(Zr?dpt:GU),x=u2(n.wasmUrl),A=n.WasmFactory||(Zr?fpt:XU),S=n.stopAtErrors!==!0,C=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,k=n.isEvalSupported!==!1,T=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Zr,R=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Zr&&(mr.platform.isFirefox||!globalThis.chrome),F=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,D=typeof n.disableFontFace=="boolean"?n.disableFontFace:Zr,U=n.fontExtraProperties===!0,j=n.enableXfa===!0,V=n.ownerDocument||globalThis.document,Y=n.disableRange===!0,z=n.disableStream===!0,B=n.disableAutoFetch===!0,G=n.pdfBug===!0,H=n.CanvasFactory||(Zr?hpt:opt),M=n.FilterFactory||(Zr?cpt:lpt),N=n.enableHWA===!0,W=n.useWasm!==!1,q=c?c.length:n.length??NaN,Q=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Zr&&!D,et=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(m===VU&&w===GU&&A===XU&&p&&v&&x&&uS(p,document.baseURI)&&uS(v,document.baseURI)&&uS(x,document.baseURI)),J=null;Dft(d);const Z={canvasFactory:new H({ownerDocument:V,enableHWA:N}),filterFactory:new M({docId:e,ownerDocument:V}),cMapReaderFactory:et?null:new m({baseUrl:p,isCompressed:g}),standardFontDataFactory:et?null:new w({baseUrl:v}),wasmFactory:et?null:new A({baseUrl:x})};u||(u=IO.create({verbosity:d,port:Kc.workerPort}),t._worker=u);const tt={docId:e,apiVersion:"5.4.149",data:r,password:o,disableAutoFetch:B,rangeChunkSize:l,length:q,docBaseUrl:f,enableXfa:j,evaluatorOptions:{maxImageSize:C,disableFontFace:D,ignoreErrors:S,isEvalSupported:k,isOffscreenCanvasSupported:T,isImageDecoderSupported:R,canvasMaxAreaInBytes:F,fontExtraProperties:U,useSystemFonts:Q,useWasm:W,useWorkerFetch:et,cMapUrl:p,iccUrl:y,standardFontDataUrl:v,wasmUrl:x}},wt={ownerDocument:V,pdfBug:G,styleElement:J,loadingParams:{disableAutoFetch:B,enableXfa:j}};return u.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const st=u.messageHandler.sendWithPromise("GetDocRequest",tt,r?[r.buffer]:null);let At;if(c)At=new Dpt(c,{disableRange:Y,disableStream:z});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const _t=uS(i)?Ipt:Zr?Gpt:jpt;At=new _t({url:i,length:q,httpHeaders:s,withCredentials:a,rangeChunkSize:l,disableRange:Y,disableStream:z})}return st.then(_t=>{if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const vt=new vS(e,_t,u.port),lt=new $pt(vt,t,At,wt,Z,N);t._transport=lt,vt.send("Ready",null)})}).catch(t._capability.reject),t}var o0,ND;let Zpt=(o0=class{constructor(){X(this,"_capability",Promise.withResolvers());X(this,"_transport",null);X(this,"_worker",null);X(this,"docId",`d${fe(o0,ND)._++}`);X(this,"destroyed",!1);X(this,"onPassword",null);X(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,r;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}},ND=new WeakMap,E(o0,ND,0),o0);var l0,g_,m_,v_,y_,cW;let $K=(cW=class{constructor(t,e,i=!1,r=null){E(this,l0,Promise.withResolvers());E(this,g_,[]);E(this,m_,[]);E(this,v_,[]);E(this,y_,[]);this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(t){h(this,y_).push(t)}addProgressListener(t){h(this,v_).push(t)}addProgressiveReadListener(t){h(this,m_).push(t)}addProgressiveDoneListener(t){h(this,g_).push(t)}onDataRange(t,e){for(const i of h(this,y_))i(t,e)}onDataProgress(t,e){h(this,l0).promise.then(()=>{for(const i of h(this,v_))i(t,e)})}onDataProgressiveRead(t){h(this,l0).promise.then(()=>{for(const e of h(this,m_))e(t)})}onDataProgressiveDone(){h(this,l0).promise.then(()=>{for(const t of h(this,g_))t()})}transportReady(){h(this,l0).resolve()}requestDataRange(t,e){We("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},l0=new WeakMap,g_=new WeakMap,m_=new WeakMap,v_=new WeakMap,y_=new WeakMap,cW),Qpt=class{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Zt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}};var Kh,c0,SS,hW;let Jpt=(hW=class{constructor(t,e,i,r=!1){E(this,c0);E(this,Kh,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new jU:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new qK,this._intentStates=new Map,this.destroyed=!1,this.recordedGroups=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new kj({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Zt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:r="display",annotationMode:s=Gd.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:c=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:f=!1,recordOperations:p=!1,filteredOperationIndexes:g=null}){var T,R,F;(T=this._stats)==null||T.time("Overall");const m=this._transport.getRenderingIntent(r,s,d,f),{renderingIntent:y,cacheKey:v}=m;b(this,Kh,!1),c||(c=this._transport.getOptionalContentConfig(y));let w=this._intentStates.get(v);w||(w=Object.create(null),this._intentStates.set(v,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const x=!!(y&wa.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(R=this._stats)==null||R.time("Page Request"),this._pumpOperatorList(m));const A=!this.recordedGroups&&(p||this._pdfBug&&((F=globalThis.StepperManager)==null?void 0:F.enabled)),S=D=>{var U,j,V;if(w.renderTasks.delete(C),A){const Y=(U=C.gfx)==null?void 0:U.dependencyTracker.take();Y?((j=C.stepper)==null||j.setOperatorGroups(Y),p&&(this.recordedGroups=Y)):p&&(this.recordedGroups=[])}x&&b(this,Kh,!0),_(this,c0,SS).call(this),D?(C.capability.reject(D),this._abortOperatorList({intentState:w,reason:D instanceof Error?D:new Error(D)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(V=globalThis.Stats)!=null&&V.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new egt({callback:S,params:{canvas:e,canvasContext:t,dependencyTracker:A?new ppt(e):null,viewport:i,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,filteredOperationIndexes:g});(w.renderTasks||(w.renderTasks=new Set)).add(C);const k=C.task;return Promise.all([w.displayReadyCapability.promise,c]).then(([D,U])=>{var j;if(this.destroyed){S();return}if((j=this._stats)==null||j.time("Rendering"),!(U.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:D,optionalContentConfig:U}),C.operatorListChanged()}).catch(S),k}getOperatorList({intent:t="display",annotationMode:e=Gd.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var l;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(c))}const a=this._transport.getRenderingIntent(t,e,i,r,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let c;return o.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(c),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>NO.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,r){function s(){a.read().then(function({value:c,done:l}){if(l){i(o);return}o.lang??(o.lang=c.lang),Object.assign(o.styles,c.styles),o.items.push(...c.items),s()},r)}const a=e.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),b(this,Kh,!1),Promise.all(t)}cleanup(t=!1){b(this,Kh,!0);const e=_(this,c0,SS).call(this);return t&&e&&this._stats&&(this._stats=new jU),e}_startRenderPage(t,e){var r,s;const i=this._intentStates.get(e);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&_(this,c0,SS).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:a}=i,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:r},a).getReader(),l=this._intentStates.get(e);l.streamReader=c;const u=()=>{c.read().then(({value:d,done:f})=>{if(f){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,l),u())},d=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const f of l.renderTasks)f.operatorListChanged();_(this,c0,SS).call(this)}if(l.displayReadyCapability)l.displayReadyCapability.reject(d);else if(l.opListReadCapability)l.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof Tj){let r=Ypt;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Qp(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}},Kh=new WeakMap,c0=new WeakSet,SS=function(){if(!h(this,Kh)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,Kh,!1),!0},hW);var yf,Jo,Yh,h0,Xe,ID,u0,d0,is,AP,tY,eY,AS,tw,EP;let IO=(Xe=class{constructor({name:t=null,port:e=null,verbosity:i=Fft()}={}){E(this,is);E(this,yf,Promise.withResolvers());E(this,Jo,null);E(this,Yh,null);E(this,h0,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(h(Xe,d0).has(e))throw new Error("Cannot use more than one PDFWorker per port.");h(Xe,d0).set(e,this),_(this,is,tY).call(this,e)}else _(this,is,eY).call(this)}get promise(){return h(this,yf).promise}get port(){return h(this,Yh)}get messageHandler(){return h(this,Jo)}destroy(){var t,e;this.destroyed=!0,(t=h(this,h0))==null||t.terminate(),b(this,h0,null),h(Xe,d0).delete(h(this,Yh)),b(this,Yh,null),(e=h(this,Jo))==null||e.destroy(),b(this,Jo,null)}static create(t){const e=h(this,d0).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Xe(t)}static get workerSrc(){if(Kc.workerSrc)return Kc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Zt(this,"_setupFakeWorkerGlobal",(async()=>h(this,tw,EP)?h(this,tw,EP):(await import(this.workerSrc)).WorkerMessageHandler)())}},yf=new WeakMap,Jo=new WeakMap,Yh=new WeakMap,h0=new WeakMap,ID=new WeakMap,u0=new WeakMap,d0=new WeakMap,is=new WeakSet,AP=function(){h(this,yf).resolve(),h(this,Jo).send("configure",{verbosity:this.verbosity})},tY=function(t){b(this,Yh,t),b(this,Jo,new vS("main","worker",t)),h(this,Jo).on("ready",()=>{}),_(this,is,AP).call(this)},eY=function(){if(h(Xe,u0)||h(Xe,tw,EP)){_(this,is,AS).call(this);return}let{workerSrc:t}=Xe;try{Xe._isSameOrigin(window.location,t)||(t=Xe._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new vS("main","worker",e),r=()=>{s.abort(),i.destroy(),e.terminate(),this.destroyed?h(this,yf).reject(new Error("Worker was destroyed")):_(this,is,AS).call(this)},s=new AbortController;e.addEventListener("error",()=>{h(this,h0)||r()},{signal:s.signal}),i.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}b(this,Jo,i),b(this,Yh,e),b(this,h0,e),_(this,is,AP).call(this)}),i.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{_(this,is,AS).call(this)}});const a=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};a();return}catch{iM("The worker has been disabled.")}_(this,is,AS).call(this)},AS=function(){h(Xe,u0)||(Bt("Setting up fake worker."),b(Xe,u0,!0)),Xe._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){h(this,yf).reject(new Error("Worker was destroyed"));return}const e=new apt;b(this,Yh,e);const i=`fake${fe(Xe,ID)._++}`,r=new vS(i+"_worker",i,e);t.setup(r,e),b(this,Jo,new vS(i,i+"_worker",e)),_(this,is,AP).call(this)}).catch(t=>{h(this,yf).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},tw=new WeakSet,EP=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},E(Xe,tw),E(Xe,ID,0),E(Xe,u0,!1),E(Xe,d0,new WeakMap),Zr&&(b(Xe,u0,!0),Kc.workerSrc||(Kc.workerSrc="./pdf.worker.mjs")),Xe._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(e,i);return i.origin===r.origin},Xe._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Xe.fromPort=t=>{if(Vft("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Xe.create(t)},Xe);var Zh,fc,ew,nw,Qh,f0,ES,uW;let $pt=(uW=class{constructor(t,e,i,r,s,a){E(this,f0);E(this,Zh,new Map);E(this,fc,new Map);E(this,ew,new Map);E(this,nw,new Map);E(this,Qh,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new qK,this.fontLoader=new tpt({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Zt(this,"annotationStorage",new Rj)}getRenderingIntent(t,e=Gd.ENABLE,i=null,r=!1,s=!1){let a=wa.DISPLAY,o=xO;switch(t){case"any":a=wa.ANY;break;case"display":break;case"print":a=wa.PRINT;break;default:Bt(`getRenderingIntent - invalid intent: ${t}`)}const c=a&wa.PRINT&&i instanceof DK?i:this.annotationStorage;switch(e){case Gd.DISABLE:a+=wa.ANNOTATIONS_DISABLE;break;case Gd.ENABLE:break;case Gd.ENABLE_FORMS:a+=wa.ANNOTATIONS_FORMS;break;case Gd.ENABLE_STORAGE:a+=wa.ANNOTATIONS_STORAGE,o=c.serializable;break;default:Bt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(a+=wa.IS_EDITING),s&&(a+=wa.OPLIST);const{ids:l,hash:u}=c.modifiedIds,d=[a,o.hash,u];return{renderingIntent:a,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:l}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=h(this,Qh))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of h(this,fc).values())t.push(r._destroy());h(this,fc).clear(),h(this,ew).clear(),h(this,nw).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),h(this,Zh).clear(),this.filterFactory.destroy(),DO.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Qp("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{Zn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}Zn(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",async i=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:a}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((o=e.onProgress)==null||o.call(e,this._lastProgress)),this._fullReader.onProgress=c=>{var l;(l=e.onProgress)==null||l.call(e,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:a}}),t.on("GetRangeReader",(i,r)=>{Zn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}Zn(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new Qpt(i,this))}),t.on("DocException",i=>{e._capability.reject(ps(i))}),t.on("PasswordRequest",i=>{b(this,Qh,Promise.withResolvers());try{if(!e.onPassword)throw ps(i);const r=s=>{s instanceof Error?h(this,Qh).reject(s):h(this,Qh).resolve({password:s})};e.onPassword(r,i.code)}catch(r){h(this,Qh).reject(r)}return h(this,Qh).promise}),t.on("DataLoaded",i=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;h(this,fc).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,s])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const u=s.error;Bt(`Error during font loading: ${u}`),this.commonObjs.resolve(i,u);break}const o=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(u,d)=>globalThis.FontInspector.fontAdded(u,d):null,c=new ept(s,o);this.fontLoader.bind(c).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!c.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(i,c)});break;case"CopyLocalImage":const{imageRef:l}=s;Zn(l,"The imageRef must be defined.");for(const u of h(this,fc).values())for(const[,d]of u.objs)if((d==null?void 0:d.ref)===l)return d.dataLen?(this.commonObjs.resolve(i,structuredClone(d)),d.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,s,a])=>{var c;if(this.destroyed)return;const o=h(this,fc).get(r);if(!o.objs.has(i)){if(o._intentStates.size===0){(c=a==null?void 0:a.bitmap)==null||c.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",i=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Bt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=h(this,ew).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&h(this,nw).set(s.refStr,t);const a=new Jpt(e,s,this,this._params.pdfBug);return h(this,fc).set(e,a),a});return h(this,ew).set(e,r),r}getPageIndex(t){return SO(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return _(this,f0,ES).call(this,"GetFieldObjects")}hasJSActions(){return _(this,f0,ES).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return _(this,f0,ES).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return _(this,f0,ES).call(this,"GetOptionalContentConfig").then(e=>new Rpt(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,Zh).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(r=>{var s,a;return{info:r[0],metadata:r[1]?new Tpt(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return h(this,Zh).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,fc).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,Zh).clear(),this.filterFactory.destroy(!0),DO.cleanup()}}cachedPageNumber(t){if(!SO(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,nw).get(e)??null}},Zh=new WeakMap,fc=new WeakMap,ew=new WeakMap,nw=new WeakMap,Qh=new WeakMap,f0=new WeakSet,ES=function(t,e=null){const i=h(this,Zh).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,e);return h(this,Zh).set(t,r),r},uW);var bf,dW;let tgt=(dW=class{constructor(t){E(this,bf,null);X(this,"onContinue",null);X(this,"onError",null);b(this,bf,t)}get promise(){return h(this,bf).capability.promise}cancel(t=0){h(this,bf).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,bf).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,bf);return t.form||t.canvas&&(e==null?void 0:e.size)>0}},bf=new WeakMap,dW);var wf,Jc,p0;let egt=(Jc=class{constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:c,filterFactory:l,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:f=null,enableHWA:p=!1,filteredOperationIndexes:g=null}){E(this,wf,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=l,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new tgt(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=p,this._dependencyTracker=e.dependencyTracker,this._filteredOperationIndexes=g}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var c,l;if(this.cancelled)return;if(this._canvas){if(h(Jc,p0).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(Jc,p0).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new xP(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:r,viewport:i,transparency:t,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(t=null,e=0){var i,r,s;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),h(this,wf)&&(window.cancelAnimationFrame(h(this,wf)),b(this,wf,null)),h(Jc,p0).delete(this._canvas),t||(t=new Tj(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(s=(r=this.task).onError)==null||s.call(r,t)}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,wf,window.requestAnimationFrame(()=>{b(this,wf,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._filteredOperationIndexes),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(Jc,p0).delete(this._canvas),this.callback())))}},wf=new WeakMap,p0=new WeakMap,E(Jc,p0,new WeakSet),Jc);const Mj="5.4.149",ngt="9e2e9e209";var Ys,g0,iw,si,b_,rw,Jh,w_,xf,$o,rr,x_,Ue,LO,OO,BO,mg,iY,Nd;let nY=(rr=class{constructor({editor:t=null,uiManager:e=null}){E(this,Ue);E(this,Ys,null);E(this,g0,null);E(this,iw);E(this,si,null);E(this,b_,!1);E(this,rw,!1);E(this,Jh,null);E(this,w_);E(this,xf,null);E(this,$o,null);var i,r;t?(b(this,rw,!1),b(this,Jh,t)):b(this,rw,!0),b(this,$o,(t==null?void 0:t._uiManager)||e),b(this,w_,h(this,$o)._eventBus),b(this,iw,((i=t==null?void 0:t.color)==null?void 0:i.toUpperCase())||((r=h(this,$o))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),h(rr,x_)||b(rr,x_,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Zt(this,"_keyboardManager",new aT([[["Escape","mac+Escape"],rr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],rr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],rr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],rr.prototype._moveToPrevious],[["Home","mac+Home"],rr.prototype._moveToBeginning],[["End","mac+End"],rr.prototype._moveToEnd]]))}renderButton(){const t=b(this,Ys,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",h(this,Jh)&&(t.ariaControls=`${h(this,Jh).id}_colorpicker_dropdown`);const e=h(this,$o)._signal;t.addEventListener("click",_(this,Ue,mg).bind(this),{signal:e}),t.addEventListener("keydown",_(this,Ue,BO).bind(this),{signal:e});const i=b(this,g0,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=h(this,iw),t.append(i),t}renderMainDropdown(){const t=b(this,si,_(this,Ue,LO).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===h(this,Ys)){_(this,Ue,mg).call(this,t);return}const e=t.target.getAttribute("data-color");e&&_(this,Ue,OO).call(this,e,t)}_moveToNext(t){var e,i;if(!h(this,Ue,Nd)){_(this,Ue,mg).call(this,t);return}if(t.target===h(this,Ys)){(e=h(this,si).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=h(this,si))==null?void 0:e.firstChild)||t.target===h(this,Ys)){h(this,Ue,Nd)&&this._hideDropdownFromKeyboard();return}h(this,Ue,Nd)||_(this,Ue,mg).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!h(this,Ue,Nd)){_(this,Ue,mg).call(this,t);return}(e=h(this,si).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,Ue,Nd)){_(this,Ue,mg).call(this,t);return}(e=h(this,si).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=h(this,si))==null||t.classList.add("hidden"),h(this,Ys).ariaExpanded="false",(e=h(this,xf))==null||e.abort(),b(this,xf,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,rw)){if(!h(this,Ue,Nd)){(t=h(this,Jh))==null||t.unselect();return}this.hideDropdown(),h(this,Ys).focus({preventScroll:!0,focusVisible:h(this,b_)})}}updateColor(t){if(h(this,g0)&&(h(this,g0).style.backgroundColor=t),!h(this,si))return;const e=h(this,$o).highlightColors.values();for(const i of h(this,si).children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;(t=h(this,Ys))==null||t.remove(),b(this,Ys,null),b(this,g0,null),(e=h(this,si))==null||e.remove(),b(this,si,null)}},Ys=new WeakMap,g0=new WeakMap,iw=new WeakMap,si=new WeakMap,b_=new WeakMap,rw=new WeakMap,Jh=new WeakMap,w_=new WeakMap,xf=new WeakMap,$o=new WeakMap,x_=new WeakMap,Ue=new WeakSet,LO=function(){const t=document.createElement("div"),e=h(this,$o)._signal;t.addEventListener("contextmenu",zo,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),h(this,Jh)&&(t.id=`${h(this,Jh).id}_colorpicker_dropdown`);for(const[i,r]of h(this,$o).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",h(rr,x_)[i]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.ariaSelected=r===h(this,iw),s.addEventListener("click",_(this,Ue,OO).bind(this,r),{signal:e}),t.append(s)}return t.addEventListener("keydown",_(this,Ue,BO).bind(this),{signal:e}),t},OO=function(t,e){e.stopPropagation(),h(this,w_).dispatch("switchannotationeditorparams",{source:this,type:le.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)},BO=function(t){rr._keyboardManager.exec(this,t)},mg=function(t){if(h(this,Ue,Nd)){this.hideDropdown();return}if(b(this,b_,t.detail===0),h(this,xf)||(b(this,xf,new AbortController),window.addEventListener("pointerdown",_(this,Ue,iY).bind(this),{signal:h(this,$o).combinedSignal(h(this,xf))})),h(this,Ys).ariaExpanded="true",h(this,si)){h(this,si).classList.remove("hidden");return}const e=b(this,si,_(this,Ue,LO).call(this));h(this,Ys).append(e)},iY=function(t){var e;(e=h(this,si))!=null&&e.contains(t.target)||this.hideDropdown()},Nd=function(){return h(this,si)&&!h(this,si).classList.contains("hidden")},E(rr,x_,null),rr);var pc,S_,sw,A_;const Ag=class Ag{constructor(t){E(this,pc,null);E(this,S_,null);E(this,sw,null);b(this,S_,t),b(this,sw,t._uiManager),h(Ag,A_)||b(Ag,A_,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(h(this,pc))return h(this,pc);const{editorType:t,colorType:e,colorValue:i}=h(this,S_),r=b(this,pc,document.createElement("input"));return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",h(Ag,A_)[t]),r.addEventListener("input",()=>{h(this,sw).updateParams(e,r.value)},{signal:h(this,sw)._signal}),r}update(t){h(this,pc)&&(h(this,pc).value=t)}destroy(){var t;(t=h(this,pc))==null||t.remove(),b(this,pc,null)}hideDropdown(){}};pc=new WeakMap,S_=new WeakMap,sw=new WeakMap,A_=new WeakMap,E(Ag,A_,null);let mD=Ag;function iH(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Vx(n){return Math.max(0,Math.min(255,255*n))}let rH=class{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Vx(t),[t,t,t]}static G_HTML([t]){const e=iH(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Vx)}static RGB_HTML(t){return`#${t.map(iH).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[Vx(1-Math.min(1,t+r)),Vx(1-Math.min(1,i+r)),Vx(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const r=1-t,s=1-e,a=1-i,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}},igt=class{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){We("Abstract method `_createSVG` called.")}},vD=class extends igt{_createSVG(t){return document.createElementNS(gh,t)}},rY=class{static setupStorage(t,e,i,r,s){const a=r.getValue(e,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),s==="print")break;t.addEventListener("input",o=>{r.setValue(e,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?t.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",o=>{r.setValue(e,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),s==="print")break;t.addEventListener("input",o=>{r.setValue(e,{value:o.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(const o of i.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}t.addEventListener("input",o=>{const c=o.target.options,l=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(e,{value:l})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:s}){const{attributes:a}=e,o=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[c,l]of Object.entries(a))if(l!=null)switch(c){case"class":l.length&&t.setAttribute(c,l.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",l);break;case"style":Object.assign(t.style,l);break;case"textContent":t.textContent=l;break;default:(!o||c!=="href"&&c!=="newWindow")&&t.setAttribute(c,l)}o&&s.addLinkAttributes(t,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(t,a.dataId,e,i)}static render(t){var d,f;const e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,s=t.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:i});const o=s!=="richText",c=t.div;if(c.append(a),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;c.style.transform=p}o&&c.setAttribute("class","xfaLayer xfaFont");const l=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);a.append(p),o&&NO.shouldBuildText(r.name)&&l.push(p)}return{textDivs:l}}const u=[[r,-1,a]];for(;u.length>0;){const[p,g,m]=u.at(-1);if(g+1===p.children.length){u.pop();continue}const y=p.children[++u.at(-1)[1]];if(y===null)continue;const{name:v}=y;if(v==="#text"){const x=document.createTextNode(y.value);l.push(x),m.append(x);continue}const w=(d=y==null?void 0:y.attributes)!=null&&d.xmlns?document.createElementNS(y.attributes.xmlns,v):document.createElement(v);if(m.append(w),y.attributes&&this.setAttributes({html:w,element:y,storage:e,intent:s,linkService:i}),((f=y.children)==null?void 0:f.length)>0)u.push([y,-1,w]);else if(y.value){const x=document.createTextNode(y.value);o&&NO.shouldBuildText(v)&&l.push(x),w.append(x)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:l}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}};const rgt=9,xv=new WeakSet,sgt=new Date().getTimezoneOffset()*60*1e3;let sH=class{static create(t){switch(t.data.annotationType){case Gn.LINK:return new Nj(t);case Gn.TEXT:return new agt(t);case Gn.WIDGET:switch(t.data.fieldType){case"Tx":return new ogt(t);case"Btn":return t.data.radioButton?new lY(t):t.data.checkBox?new cgt(t):new hgt(t);case"Ch":return new ugt(t);case"Sig":return new lgt(t)}return new Hv(t);case Gn.POPUP:return new jO(t);case Gn.FREETEXT:return new gY(t);case Gn.LINE:return new fgt(t);case Gn.SQUARE:return new pgt(t);case Gn.CIRCLE:return new ggt(t);case Gn.POLYLINE:return new mY(t);case Gn.CARET:return new vgt(t);case Gn.INK:return new Ij(t);case Gn.POLYGON:return new mgt(t);case Gn.HIGHLIGHT:return new vY(t);case Gn.UNDERLINE:return new ygt(t);case Gn.SQUIGGLY:return new bgt(t);case Gn.STRIKEOUT:return new wgt(t);case Gn.STAMP:return new yY(t);case Gn.FILEATTACHMENT:return new xgt(t);default:return new wi(t)}}};var m0,aw,$h,_v,sY,zO,ow;let wi=(ow=class{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){E(this,_v);E(this,m0,null);E(this,aw,!1);E(this,$h,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t!=null&&t.str||e!=null&&e.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return ow._hasPopupData(this.data)}get hasCommentButton(){return this.enableComment&&this._isEditable&&this.hasPopupElement}get commentButtonPosition(){const{quadPoints:t,rect:e}=this.data;let i=-1/0,r=-1/0;if((t==null?void 0:t.length)>=8){for(let s=0;s<t.length;s+=8)t[s+1]>r?(r=t[s+1],i=t[s+2]):t[s+1]===r&&(i=Math.max(i,t[s+2]));return[i,r]}return e?[e[2],e[3]]:null}get commentButtonColor(){if(!this.data.color)return null;const[t,e,i]=this.data.color,s=255*(1-(this.data.opacity??1));return _(this,_v,sY).call(this,Math.min(t+s,255),Math.min(e+s,255),Math.min(i+s,255))}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-s)/i,t[1]=100*(t[1]-a)/r,t}updateEdited(t){var s;if(!this.container)return;t.rect&&(h(this,m0)||b(this,m0,{rect:this.data.rect.slice(0)}));const{rect:e,popup:i}=t;e&&_(this,_v,zO).call(this,e);let r=((s=h(this,$h))==null?void 0:s.popup)||this.popup;!r&&(i!=null&&i.text)&&(this._createPopup(i),r=h(this,$h).popup),r&&(r.updateEdited(t),i!=null&&i.deleted&&(r.remove(),b(this,$h,null),this.popup=null))}resetEdited(){var t;h(this,m0)&&(_(this,_v,zO).call(this,h(this,m0).rect),(t=h(this,$h))==null||t.popup.resetEdited(),b(this,m0,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),!(this instanceof Hv)&&!(this instanceof Nj)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof jO){const{rotation:m}=e;return!e.hasOwnCanvas&&m!==0&&this.setRotation(m,s),s}const{width:o,height:c}=this;if(!t&&e.borderStyle.width>0){a.borderWidth=`${e.borderStyle.width}px`;const m=e.borderStyle.horizontalCornerRadius,y=e.borderStyle.verticalCornerRadius;if(m>0||y>0){const w=`calc(${m}px * var(--total-scale-factor)) / calc(${y}px * var(--total-scale-factor))`;a.borderRadius=w}else if(this instanceof lY){const w=`calc(${o}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;a.borderRadius=w}switch(e.borderStyle.style){case ly.SOLID:a.borderStyle="solid";break;case ly.DASHED:a.borderStyle="dashed";break;case ly.BEVELED:Bt("Unimplemented border style: beveled");break;case ly.INSET:Bt("Unimplemented border style: inset");break;case ly.UNDERLINE:a.borderBottomStyle="solid";break}const v=e.borderColor||null;v?(b(this,aw,!0),a.borderColor=mt.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):a.borderWidth=0}const l=mt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:d,pageX:f,pageY:p}=r.rawDims;a.left=`${100*(l[0]-f)/u}%`,a.top=`${100*(l[1]-p)/d}%`;const{rotation:g}=e;return e.hasOwnCanvas||g===0?(a.width=`${100*o/u}%`,a.height=`${100*c/d}%`):this.setRotation(g,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:a}=this;t%180!==0&&([s,a]=[a,s]),e.style.width=`${100*s/i}%`,e.style.height=`${100*a/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,r)=>{const s=r.detail[e],a=s[0],o=s.slice(1);r.target.style[i]=rH[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:rH[`${a}_rgb`](o)})};return Zt(this,"_commonActions",{display:e=>{const{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const r of Object.keys(e.detail)){const s=t[r]||i[r];s==null||s(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[r,s]of Object.entries(e)){const a=i[r];if(a){const o={detail:{[r]:s},target:t};a(o),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,r,s]=this.data.rect.map(m=>Math.fround(m));if(t.length===8){const[m,y,v,w]=t.subarray(2,6);if(r===m&&s===y&&e===v&&i===w)return}const{style:a}=this.container;let o;if(h(this,aw)){const{borderColor:m,borderWidth:y}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${y}">`],this.container.classList.add("hasBorder")}const c=r-e,l=s-i,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const f=u.createElement("defs");d.append(f);const p=u.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,y=t.length;m<y;m+=8){const v=t[m],w=t[m+1],x=t[m+2],A=t[m+3],S=u.createElement("rect"),C=(x-e)/c,k=(s-w)/l,T=(v-x)/c,R=(w-A)/l;S.setAttribute("x",C),S.setAttribute("y",k),S.setAttribute("width",T),S.setAttribute("height",R),p.append(S),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${k}" width="${T}" height="${R}"/>`)}h(this,aw)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(t=null){const{data:e}=this;let i,r;t?(i={str:t.text},r=t.date):(i=e.contentsObj,r=e.modificationDate);const s=b(this,$h,new jO({data:{color:e.color,titleObj:e.titleObj,modificationDate:r,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent.div.append(s.render())}get hasPopupElement(){return!!(h(this,$h)||this.popup||this.data.popupRef)}render(){We("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:s,id:a,exportValues:o}of r){if(s===-1||a===e)continue;const c=typeof o=="string"?o:null,l=document.querySelector(`[data-element-id="${a}"]`);if(l&&!xv.has(l)){Bt(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:c,domElement:l})}return i}for(const r of document.getElementsByName(t)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==e&&xv.has(r)&&i.push({id:a,exportValue:s,domElement:r})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}},m0=new WeakMap,aw=new WeakMap,$h=new WeakMap,_v=new WeakSet,sY=function(t,e,i){t/=255,e/=255,i/=255;const r=Math.max(t,e,i),s=Math.min(t,e,i),a=(r+s)/2,o=((1+Math.sqrt(a))/2*100).toFixed(2);if(r===s)return`hsl(0, 0%, ${o}%)`;const c=r-s;let l;r===t?l=(e-i)/c+(e<i?6:0):r===e?l=(i-t)/c+2:l=(t-e)/c+4,l=(l*60).toFixed(2);const u=(c/(1-Math.abs(2*a-1))*100).toFixed(2);return`hsl(${l}, ${u}%, ${o}%)`},zO=function(t){const{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-o)/s}%`,e.top=`${100*(a-t[3]+c)/a}%`,r===0?(e.width=`${100*(t[2]-t[0])/s}%`,e.height=`${100*(t[3]-t[1])/a}%`):this.setRotation(r)},ow);var _a,vg,aY,oY,fW;let Nj=(fW=class extends wi{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});E(this,_a);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let s=!1;return e.url?(i.addLinkAttributes(r,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(r,e.action,e.overlaidText),s=!0):e.attachment?(_(this,_a,aY).call(this,r,e.attachment,e.overlaidText,e.attachmentDest),s=!0):e.setOCGState?(_(this,_a,oY).call(this,r,e.setOCGState,e.overlaidText),s=!0):e.dest?(this._bindLink(r,e.dest,e.overlaidText),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),s=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(e,i,r=""){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&_(this,_a,vg).call(this),r&&(e.title=r)}_bindNamedAction(e,i,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),r&&(e.title=r),_(this,_a,vg).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const a=r.get(s);a&&(e[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}i.overlaidText&&(e.title=i.overlaidText),e.onclick||(e.onclick=()=>!1),_(this,_a,vg).call(this)}_bindResetFormAction(e,i){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),_(this,_a,vg).call(this),!this._fieldObjects){Bt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var d;r==null||r();const{fields:s,refs:a,include:o}=i,c=[];if(s.length!==0||a.length!==0){const f=new Set(a);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:m}of g)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===o&&c.push(g)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const l=this.annotationStorage,u=[];for(const f of c){const{id:p}=f;switch(u.push(p),f.type){case"text":{const m=f.defaultValue||"";l.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;l.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";l.setValue(p,{value:m});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!xv.has(g)){Bt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}},_a=new WeakSet,vg=function(){this.container.setAttribute("data-internal-link","")},aY=function(e,i,r="",s=null){e.href=this.linkService.getAnchorUrl(""),i.description?e.title=i.description:r&&(e.title=r),e.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,s),!1},_(this,_a,vg).call(this)},oY=function(e,i,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),r&&(e.title=r),_(this,_a,vg).call(this)},fW),agt=class extends wi{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}},Hv=class extends wi{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return mr.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,s){i.includes("mouse")?t.addEventListener(i,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(i,a=>{var o;if(i==="blur"){if(!e.focused||!a.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}}))})}_setEventListeners(t,e,i,r){var s,a,o;for(const[c,l]of i)(l==="Action"||(s=this.data.actions)!=null&&s[l])&&((l==="Focus"||l==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,c,l,r),l==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":mt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||rgt,s=t.style;let a;const o=2,c=l=>Math.round(10*l)/10;if(this.data.multiLine){const l=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(l/(KN*r))||1,d=l/u;a=Math.min(r,c(d/KN))}else{const l=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,c(l/KN))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=mt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}},ogt=class extends Hv{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){const s=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=i),s.setValue(a.id,{[r]:i})}render(){var r,s;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let o=a.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let l=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=l??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",l??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),xv.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:d,datetimeType:f,timeStep:p}=this.data,g=!!f&&this.enableScripting;d&&(i.title=d),this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",y=>{t.setValue(e,{value:y.target.value}),this.setPropertyOnSiblings(i,"value",y.target.value,"value"),u.formattedValue=null}),i.addEventListener("resetform",y=>{const v=this.data.defaultFieldValue??"";i.value=u.userValue=v,u.formattedValue=null});let m=y=>{const{formattedValue:v}=u;v!=null&&(y.target.value=v),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",v=>{var x;if(u.focused)return;const{target:w}=v;if(g&&(w.type=f,p&&(w.step=p)),u.userValue){const A=u.userValue;if(g)if(f==="time"){const S=new Date(A),C=[S.getHours(),S.getMinutes(),S.getSeconds()];w.value=C.map(k=>k.toString().padStart(2,"0")).join(":")}else w.value=new Date(A-sgt).toISOString().split(f==="date"?"T":".",1)[0];else w.value=A}u.lastCommittedValue=w.value,u.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(u.focused=!0)}),i.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const w={value(x){u.userValue=x.detail.value??"",g||t.setValue(e,{value:u.userValue.toString()}),x.target.value=u.userValue},formattedValue(x){const{formattedValue:A}=x.detail;u.formattedValue=A,A!=null&&x.target!==document.activeElement&&(x.target.value=A);const S={formattedValue:A};g&&(S.value=A),t.setValue(e,S)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var k;const{charLimit:A}=x.detail,{target:S}=x;if(A===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",A);let C=u.userValue;!C||C.length<=A||(C=C.slice(0,A),S.value=u.userValue=C,t.setValue(e,{value:C}),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(w,v)}),i.addEventListener("keydown",v=>{var A;u.commitKey=1;let w=-1;if(v.key==="Escape"?w=0:v.key==="Enter"&&!this.data.multiLine?w=2:v.key==="Tab"&&(u.commitKey=3),w===-1)return;const{value:x}=v.target;u.lastCommittedValue!==x&&(u.lastCommittedValue=x,u.userValue=x,(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:w,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const y=m;m=null,i.addEventListener("blur",v=>{var A,S;if(!u.focused||!v.relatedTarget)return;(A=this.data.actions)!=null&&A.Blur||(u.focused=!1);const{target:w}=v;let{value:x}=w;if(g){if(x&&f==="time"){const C=x.split(":").map(k=>parseInt(k,10));x=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),w.step=""}else x=new Date(x).valueOf();w.type="text"}u.userValue=x,u.lastCommittedValue!==x&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:u.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}})),y(v)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",v=>{var R;u.lastCommittedValue=null;const{data:w,target:x}=v,{value:A,selectionStart:S,selectionEnd:C}=x;let k=S,T=C;switch(v.inputType){case"deleteWordBackward":{const F=A.substring(0,S).match(/\w*[^\w]*$/);F&&(k-=F[0].length);break}case"deleteWordForward":{const F=A.substring(S).match(/^[^\w]*\w*/);F&&(T+=F[0].length);break}case"deleteContentBackward":S===C&&(k-=1);break;case"deleteContentForward":S===C&&(T+=1);break}v.preventDefault(),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,change:w||"",willCommit:!1,selStart:k,selEnd:T}})}),this._setEventListeners(i,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(m&&i.addEventListener("blur",m),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}},lgt=class extends Hv{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}},cgt=class extends Hv{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return xv.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const l of this._getElementsByName(o,i)){const u=c&&l.exportValue===e.exportValue;l.domElement&&(l.domElement.checked=u),t.setValue(l.id,{value:u})}t.setValue(i,{value:c})}),s.addEventListener("resetform",a=>{const o=e.defaultFieldValue||"Off";a.target.checked=o===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(c){c.target.checked=c.detail.value!=="Off",t.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}},lY=class extends Hv{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(const a of this._getElementsByName(e.fieldName,i))t.setValue(a.id,{value:!1});const s=document.createElement("input");if(xv.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const l of this._getElementsByName(o,i))t.setValue(l.id,{value:!1});t.setValue(i,{value:c})}),s.addEventListener("resetform",a=>{const o=e.defaultFieldValue;a.target.checked=o!=null&&o===e.buttonValue}),this.enableScripting&&this.hasJSActions){const a=e.buttonValue;s.addEventListener("updatefromsandbox",o=>{const c={value:l=>{const u=a===l.detail.value;for(const d of this._getElementsByName(l.target.name)){const f=u&&d.id===i;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}},hgt=class extends Nj{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}},ugt=class extends Hv{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");xv.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,i.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),r.append(d)}let a=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),a=()=>{u.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=u=>{const d=u?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let c=o(!1);const l=u=>{const d=u.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{const d={value(f){a==null||a();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const m of r.options)m.selected=g.has(m.value);t.setValue(e,{value:o(!0)}),c=o(!1)},multipleSelection(f){r.multiple=!0},remove(f){const p=r.options,g=f.detail.remove;p[g].selected=!1,r.remove(g),p.length>0&&Array.prototype.findIndex.call(p,y=>y.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:o(!0),items:l(f)}),c=o(!1)},clear(f){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),c=o(!1)},insert(f){const{index:p,displayValue:g,exportValue:m}=f.detail.insert,y=r.children[p],v=document.createElement("option");v.textContent=g,v.value=m,y?y.before(v):r.append(v),t.setValue(e,{value:o(!0),items:l(f)}),c=o(!1)},items(f){const{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(const g of p){const{displayValue:m,exportValue:y}=g,v=document.createElement("option");v.textContent=m,v.value=y,r.append(v)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:o(!0),items:l(f)}),c=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);t.setValue(e,{value:o(!0)}),c=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,u)}),r.addEventListener("input",u=>{var p;const d=o(!0),f=o(!1);t.setValue(e,{value:d}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:c,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){t.setValue(e,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}},jO=class extends wi{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:wi._hasPopupData(e)}),this.elements=i,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=new dgt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,eventBus:this.linkService.eventBus}),i=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${Cj}${r}`).join(",")),this.container}};var v0,LD,OD,y0,lw,An,tu,Sf,eu,E_,__,cw,gc,Zs,nu,iu,C_,Af,hw,k_,ru,uw,b0,Ef,ie,_P,cY,hY,CP,UO,uY,dY,fY,pY,kP,TP,HO,pW;let dgt=(pW=class{constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:c,rect:l,parentRect:u,open:d,eventBus:f=null}){E(this,ie);E(this,v0,_(this,ie,fY).bind(this));E(this,LD,_(this,ie,HO).bind(this));E(this,OD,_(this,ie,TP).bind(this));E(this,y0,_(this,ie,kP).bind(this));E(this,lw,null);E(this,An,null);E(this,tu,null);E(this,Sf,null);E(this,eu,null);E(this,E_,null);E(this,__,null);E(this,cw,null);E(this,gc,!1);E(this,Zs,null);E(this,nu,null);E(this,iu,null);E(this,C_,null);E(this,Af,null);E(this,hw,null);E(this,k_,null);E(this,ru,null);E(this,uw,null);E(this,b0,null);E(this,Ef,!1);b(this,An,t),b(this,uw,r),b(this,tu,a),b(this,ru,o),b(this,__,c),b(this,lw,e),b(this,k_,l),b(this,cw,u),b(this,eu,i),b(this,E_,f),b(this,Sf,rO.toDateObject(s)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup()),_(this,ie,_P).call(this),h(this,An).hidden=!0,d&&_(this,ie,kP).call(this)}render(){var r;if(h(this,Zs))return;const t=b(this,Zs,document.createElement("div"));if(t.className="popup",h(this,lw)){const s=t.style.outlineColor=mt.makeHexColor(...h(this,lw));t.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const e=document.createElement("span");if(e.className="header",(r=h(this,uw))!=null&&r.str){const s=document.createElement("span");s.className="title",e.append(s),{dir:s.dir,str:s.textContent}=h(this,uw)}if(t.append(e),h(this,Sf)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,Sf).valueOf()})),s.dateTime=h(this,Sf).toISOString(),e.append(s)}const i=h(this,ie,CP);if(i)rY.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(h(this,tu));t.append(s)}h(this,An).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let s=0,a=r.length;s<a;++s){const o=r[s];i.append(document.createTextNode(o)),s<a-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popup:e,deleted:i}){var r;if(i||e!=null&&e.deleted){this.remove();return}_(this,ie,_P).call(this),h(this,b0)||b(this,b0,{contentsObj:h(this,tu),richText:h(this,ru)}),t&&b(this,iu,null),e&&(b(this,ru,_(this,ie,dY).call(this,e.text)),b(this,Sf,rO.toDateObject(e.date)),b(this,tu,null)),(r=h(this,Zs))==null||r.remove(),b(this,Zs,null)}resetEdited(){var t;h(this,b0)&&({contentsObj:fe(this,tu)._,richText:fe(this,ru)._}=h(this,b0),b(this,b0,null),(t=h(this,Zs))==null||t.remove(),b(this,Zs,null),b(this,iu,null))}remove(){var t,e;(t=h(this,nu))==null||t.abort(),b(this,nu,null),(e=h(this,Zs))==null||e.remove(),b(this,Zs,null),b(this,Ef,!1),b(this,gc,!1);for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){b(this,Ef,this.isVisible),h(this,Ef)&&(h(this,An).hidden=!0)}maybeShow(){_(this,ie,_P).call(this),h(this,Ef)&&(h(this,Zs)||_(this,ie,TP).call(this),b(this,Ef,!1),h(this,An).hidden=!1)}get isVisible(){return h(this,An).hidden===!1}},v0=new WeakMap,LD=new WeakMap,OD=new WeakMap,y0=new WeakMap,lw=new WeakMap,An=new WeakMap,tu=new WeakMap,Sf=new WeakMap,eu=new WeakMap,E_=new WeakMap,__=new WeakMap,cw=new WeakMap,gc=new WeakMap,Zs=new WeakMap,nu=new WeakMap,iu=new WeakMap,C_=new WeakMap,Af=new WeakMap,hw=new WeakMap,k_=new WeakMap,ru=new WeakMap,uw=new WeakMap,b0=new WeakMap,Ef=new WeakMap,ie=new WeakSet,_P=function(){var e;if(h(this,nu))return;b(this,nu,new AbortController);const{signal:t}=h(this,nu);for(const i of this.trigger)i.addEventListener("click",h(this,y0),{signal:t}),i.addEventListener("mouseenter",h(this,OD),{signal:t}),i.addEventListener("mouseleave",h(this,LD),{signal:t}),i.classList.add("popupTriggerArea");for(const i of h(this,eu))(e=i.container)==null||e.addEventListener("keydown",h(this,v0),{signal:t});_(this,ie,hY).call(this)},cY=function(){const t=h(this,eu).find(e=>e.hasCommentButton);t&&(b(this,Af,t._normalizePoint(t.commentButtonPosition)),b(this,hw,t.commentButtonColor))},hY=function(){if(h(this,C_)||(h(this,Af)||_(this,ie,cY).call(this),!h(this,Af)))return;const t=b(this,C_,document.createElement("button"));t.className="annotationCommentButton";const e=h(this,eu)[0].container;t.style.zIndex=e.style.zIndex+1,t.tabIndex=0;const{signal:i}=h(this,nu);t.addEventListener("hover",h(this,y0),{signal:i}),t.addEventListener("keydown",h(this,v0),{signal:i}),t.addEventListener("click",()=>{var o;const[{data:{id:s},annotationEditorType:a}]=h(this,eu);(o=h(this,E_))==null||o.dispatch("switchannotationeditormode",{source:this,editId:s,mode:a,editComment:!0})},{signal:i});const{style:r}=t;r.left=`calc(${h(this,Af)[0]}%)`,r.top=`calc(${h(this,Af)[1]}% - var(--comment-button-dim))`,h(this,hw)&&(r.backgroundColor=h(this,hw)),e.after(t)},CP=function(){const t=h(this,ru),e=h(this,tu);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,ru).html||null},UO=function(){var t,e,i;return((i=(e=(t=h(this,ie,CP))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},uY=function(){var t,e,i;return((i=(e=(t=h(this,ie,CP))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},dY=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:h(this,ie,uY),fontSize:h(this,ie,UO)?`calc(${h(this,ie,UO)}px * var(--total-scale-factor))`:""}};for(const s of t.split(`
`))e.push({name:"span",value:s,attributes:r});return i},fY=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,gc))&&_(this,ie,kP).call(this)},pY=function(){if(h(this,iu)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:s}}}=h(this,__);let a=!!h(this,cw),o=a?h(this,cw):h(this,k_);for(const g of h(this,eu))if(!o||mt.intersect(g.data.rect,o)!==null){o=g.data.rect,a=!0;break}const c=mt.normalizeRect([o[0],t[3]-o[1]+t[1],o[2],t[3]-o[3]+t[1]]),u=a?o[2]-o[0]+5:0,d=c[0]+u,f=c[1];b(this,iu,[100*(d-r)/e,100*(f-s)/i]);const{style:p}=h(this,An);p.left=`${h(this,iu)[0]}%`,p.top=`${h(this,iu)[1]}%`},kP=function(){b(this,gc,!h(this,gc)),h(this,gc)?(_(this,ie,TP).call(this),h(this,An).addEventListener("click",h(this,y0)),h(this,An).addEventListener("keydown",h(this,v0))):(_(this,ie,HO).call(this),h(this,An).removeEventListener("click",h(this,y0)),h(this,An).removeEventListener("keydown",h(this,v0)))},TP=function(){h(this,Zs)||this.render(),this.isVisible?h(this,gc)&&h(this,An).classList.add("focused"):(_(this,ie,pY).call(this),h(this,An).hidden=!1,h(this,An).style.zIndex=parseInt(h(this,An).style.zIndex)+1e3)},HO=function(){h(this,An).classList.remove("focused"),!(h(this,gc)||!this.isVisible)&&(h(this,An).hidden=!0,h(this,An).style.zIndex=parseInt(h(this,An).style.zIndex)-1e3)},pW),gY=class extends wi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Mt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}};var T_,gW;let fgt=(gW=class extends wi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,T_,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=b(this,T_,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,T_)}addHighlightArea(){this.container.classList.add("highlightArea")}},T_=new WeakMap,gW);var P_,mW;let pgt=(mW=class extends wi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,P_,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=e.borderStyle.width,o=b(this,P_,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",i-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,P_)}addHighlightArea(){this.container.classList.add("highlightArea")}},P_=new WeakMap,mW);var R_,vW;let ggt=(vW=class extends wi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,R_,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=e.borderStyle.width,o=b(this,R_,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",r/2),o.setAttribute("rx",i/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,R_)}addHighlightArea(){this.container.classList.add("highlightArea")}},R_=new WeakMap,vW);var D_,yW;let mY=(yW=class extends wi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,D_,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:r,popupRef:s},width:a,height:o}=this;if(!i)return this.container;const c=this.svgFactory.create(a,o,!0);let l=[];for(let d=0,f=i.length;d<f;d+=2){const p=i[d]-e[0],g=e[3]-i[d+1];l.push(`${p},${g}`)}l=l.join(" ");const u=b(this,D_,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",l),u.setAttribute("stroke-width",r.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),c.append(u),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,D_)}addHighlightArea(){this.container.classList.add("highlightArea")}},D_=new WeakMap,yW),mgt=class extends mY{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}},vgt=class extends wi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}};var F_,w0,M_,WO,bW;let Ij=(bW=class extends wi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,M_);E(this,F_,null);E(this,w0,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Mt.HIGHLIGHT:Mt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:r,borderStyle:s,popupRef:a}}=this,{transform:o,width:c,height:l}=_(this,M_,WO).call(this,i,e),u=this.svgFactory.create(c,l,!0),d=b(this,F_,this.svgFactory.createElement("svg:g"));u.append(d),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",o);for(let f=0,p=r.length;f<p;f++){const g=this.svgFactory.createElement(this.svgElementName);h(this,w0).push(g),g.setAttribute("points",r[f].join(",")),d.append(g)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:r,rect:s}=e,a=h(this,F_);if(i>=0&&a.setAttribute("stroke-width",i||1),r)for(let o=0,c=h(this,w0).length;o<c;o++)h(this,w0)[o].setAttribute("points",r[o].join(","));if(s){const{transform:o,width:c,height:l}=_(this,M_,WO).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${l}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return h(this,w0)}addHighlightArea(){this.container.classList.add("highlightArea")}get commentButtonPosition(){const{inkLists:e,rect:i}=this.data;if((e==null?void 0:e.length)>=1){let r=-1/0,s=-1/0;for(const a of e)for(let o=0,c=a.length;o<c;o+=2)a[o+1]>s?(s=a[o+1],r=a[o]):a[o+1]===s&&(r=Math.max(r,a[o]));if(r!==1/0)return[r,s]}return i?[i[2],i[3]]:null}},F_=new WeakMap,w0=new WeakMap,M_=new WeakSet,WO=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}},bW),vY=class extends wi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Mt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}},ygt=class extends wi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}},bgt=class extends wi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}},wgt=class extends wi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}},yY=class extends wi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Mt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}};var N_,I_,VO,wW;let xgt=(wW=class extends wi{constructor(e){var r;super(e,{isRenderable:!0});E(this,I_);E(this,N_,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",_(this,I_,VO).bind(this)),b(this,N_,r);const{isMac:s}=mr.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&_(this,I_,VO).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return h(this,N_)}addHighlightArea(){this.container.classList.add("highlightArea")}},N_=new WeakMap,I_=new WeakSet,VO=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)},wW);var L_,x0,_f,O_,eg,GO,XO,dw;let Sgt=(dw=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a,structTreeLayer:o}){E(this,eg);E(this,L_,null);E(this,x0,null);E(this,_f,new Map);E(this,O_,null);this.div=t,b(this,L_,e),b(this,x0,i),b(this,O_,o||null),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return h(this,_f).size>0}async render(t){var a;const{annotations:e}=t,i=this.div;bv(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new vD,annotationStorage:t.annotationStorage||new Rj,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){if(o.noHTML)continue;const c=o.annotationType===Gn.POPUP;if(c){const d=r.get(o.id);if(!d)continue;s.elements=d}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;s.data=o;const l=sH.create(s);if(!l.isRenderable)continue;if(!c&&o.popupRef){const d=r.get(o.popupRef);d?d.push(l):r.set(o.popupRef,[l])}const u=l.render();o.hidden&&(u.style.visibility="hidden"),await _(this,eg,GO).call(this,u,o.id,s.elements),l._isEditable&&(h(this,_f).set(l.data.id,l),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(l))}_(this,eg,XO).call(this)}async addLinkAnnotations(t,e){const i={data:null,layer:this.div,linkService:e,svgFactory:new vD,parent:this};for(const r of t){r.borderStyle||(r.borderStyle=dw._defaultBorderStyle),i.data=r;const s=sH.create(i);if(!s.isRenderable)continue;const a=s.render();await _(this,eg,GO).call(this,a,r.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,bv(e,{rotation:t.rotation}),_(this,eg,XO).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,_f).values())}getEditableAnnotation(t){return h(this,_f).get(t)}static get _defaultBorderStyle(){return Zt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:ly.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},L_=new WeakMap,x0=new WeakMap,_f=new WeakMap,O_=new WeakMap,eg=new WeakSet,GO=async function(t,e,i){var o,c;const r=t.firstChild||t,s=r.id=`${Cj}${e}`,a=await((o=h(this,O_))==null?void 0:o.getAriaAttributes(s));if(a)for(const[l,u]of a)r.setAttribute(l,u);i?i.at(-1).container.after(t):(this.div.append(t),(c=h(this,L_))==null||c.moveElementInDOM(this.div,t,r,!1))},XO=function(){var e;if(!h(this,x0))return;const t=this.div;for(const[i,r]of h(this,x0)){const s=t.querySelector(`[data-annotation-id="${i}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):s.append(r);const o=h(this,_f).get(i);o&&(o._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,s.id,r),o._hasNoCanvas=!1):o.canvas=r)}h(this,x0).clear()},dw);const g2=/\r\n?|\n/g;var $a,Qs,B_,S0,Js,ze,$n,bY,wY,xY,PP,Ju,RP,DP,SY,qO,AY;let Agt=(ze=class extends fn{constructor(e){super({...e,name:"freeTextEditor"});E(this,$n);E(this,$a);E(this,Qs,"");E(this,B_,`${this.id}-editor`);E(this,S0,null);E(this,Js);X(this,"_colorPicker",null);b(this,$a,e.color||ze._defaultColor||fn._defaultLineColor),b(this,Js,e.fontSize||ze._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const e=ze.prototype,i=a=>a.isEmpty(),r=vE.TRANSLATE_SMALL,s=vE.TRANSLATE_BIG;return Zt(this,"_keyboardManager",new aT([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(e,i){fn.initialize(e,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case le.FREETEXT_SIZE:ze._defaultFontSize=i;break;case le.FREETEXT_COLOR:ze._defaultColor=i;break}}updateParams(e,i){switch(e){case le.FREETEXT_SIZE:_(this,$n,bY).call(this,i);break;case le.FREETEXT_COLOR:_(this,$n,wY).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[le.FREETEXT_SIZE,ze._defaultFontSize],[le.FREETEXT_COLOR,ze._defaultColor||fn._defaultLineColor]]}get propertiesToUpdate(){return[[le.FREETEXT_SIZE,h(this,Js)],[le.FREETEXT_COLOR,h(this,$a)]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new mD(this)),[["colorPicker",this._colorPicker]]}get colorType(){return le.FREETEXT_COLOR}get colorValue(){return h(this,$a)}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-ze._internalPadding*e,-(ze._internalPadding+h(this,Js))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,S0,new AbortController);const e=this._uiManager.combinedSignal(h(this,S0));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,B_)),this._isDraggable=!0,(e=h(this,S0))==null||e.abort(),b(this,S0,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,Qs),i=b(this,Qs,_(this,$n,xY).call(this).trimEnd());if(e===i)return;const r=s=>{if(b(this,Qs,s),!s){this.remove();return}_(this,$n,DP).call(this),this._uiManager.rebuild(this),_(this,$n,PP).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(e)},mustExec:!1}),_(this,$n,PP).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ze._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,B_)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${h(this,Js)}px * var(--total-scale-factor))`,r.color=h(this,$a),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,l]=this.getInitialTranslation();[c,l]=this.pageTranslationToScreen(c,l);const[u,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,m;switch(this.rotation){case 0:g=e+(o[0]-f)/u,m=i+this.height-(o[1]-p)/d;break;case 90:g=e+(o[0]-f)/u,m=i-(o[1]-p)/d,[c,l]=[l,-c];break;case 180:g=e-this.width+(o[0]-f)/u,m=i-(o[1]-p)/d,[c,l]=[-c,-l];break;case 270:g=e+(o[0]-f-this.height*d)/u,m=i+(o[1]-p-this.width*u)/d,[c,l]=[-l,c];break}this.setAt(g*s,m*a,c,l)}else this._moveAfterPaste(e,i);_(this,$n,DP).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var g,m,y;const i=e.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const s=_(g=ze,Ju,qO).call(g,i.getData("text")||"").replaceAll(g2,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:l}=o,u=[],d=[];if(c.nodeType===Node.TEXT_NODE){const v=c.parentElement;if(d.push(c.nodeValue.slice(l).replaceAll(g2,"")),v!==this.editorDiv){let w=u;for(const x of this.editorDiv.childNodes){if(x===v){w=d;continue}w.push(_(m=ze,Ju,RP).call(m,x))}}u.push(c.nodeValue.slice(0,l).replaceAll(g2,""))}else if(c===this.editorDiv){let v=u,w=0;for(const x of this.editorDiv.childNodes)w++===l&&(v=d),v.push(_(y=ze,Ju,RP).call(y,x))}b(this,Qs,`${u.join(`
`)}${s}${d.join(`
`)}`),_(this,$n,DP).call(this);const f=new Range;let p=Math.sumPrecise(u.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const w=v.nodeValue.length;if(p<=w){f.setStart(v,p),f.setEnd(v,p);break}p-=w}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const e=ze._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,i,r){var o;let s=null;if(e instanceof gY){const{data:{defaultAppearanceData:{fontSize:c,fontColor:l},rect:u,rotation:d,id:f,popupRef:p,contentsObj:g},textContent:m,textPosition:y,parent:{page:{pageNumber:v}}}=e;if(!m||m.length===0)return null;s=e={annotationType:Mt.FREETEXT,color:Array.from(l),fontSize:c,value:m.join(`
`),position:y,pageIndex:v-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(g==null?void 0:g.str)||null}}const a=await super.deserialize(e,i,r);return b(a,Js,e.fontSize),b(a,$a,mt.makeHexColor(...e.color)),b(a,Qs,_(o=ze,Ju,qO).call(o,e.value)),a._initialData=s,e.comment&&a.setCommentData(e.comment),a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=this.getPDFRect(),r=fn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,$a)),s={annotationType:Mt.FREETEXT,color:r,fontSize:h(this,Js),value:_(this,$n,SY).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!_(this,$n,AY).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(!i)return null;const{style:r}=i;r.fontSize=`calc(${h(this,Js)}px * var(--total-scale-factor))`,r.color=h(this,$a),i.replaceChildren();for(const a of h(this,Qs).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),i.append(o)}const s={rect:this.getPDFRect()};return s.popup=this.hasEditedComment?this.comment:{text:h(this,Qs)},e.updateEdited(s),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}},$a=new WeakMap,Qs=new WeakMap,B_=new WeakMap,S0=new WeakMap,Js=new WeakMap,$n=new WeakSet,bY=function(e){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-h(this,Js))*this.parentScale),b(this,Js,s),_(this,$n,PP).call(this)},r=h(this,Js);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},wY=function(e){const i=s=>{var a;b(this,$a,this.editorDiv.style.color=s),(a=this._colorPicker)==null||a.update(s)},r=h(this,$a);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},xY=function(){var r;const e=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(e.push(_(r=ze,Ju,RP).call(r,s)),i=s);return e.join(`
`)},PP=function(){const[e,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/i):(this.width=r.height/e,this.height=r.width/i),this.fixAndSetPosition()},Ju=new WeakSet,RP=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(g2,"")},DP=function(){if(this.editorDiv.replaceChildren(),!!h(this,Qs))for(const e of h(this,Qs).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},SY=function(){return h(this,Qs).replaceAll(" "," ")},qO=function(e){return e.replaceAll(" "," ")},AY=function(e){const{value:i,fontSize:r,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==i||e.fontSize!==r||e.color.some((o,c)=>o!==s[c])||e.pageIndex!==a},E(ze,Ju),X(ze,"_freeTextDefaultContent",""),X(ze,"_internalPadding",0),X(ze,"_defaultColor",null),X(ze,"_defaultFontSize",10),X(ze,"_type","freetext"),X(ze,"_editorType",Mt.FREETEXT),ze);var vI;let ft=(vI=class{toSVGPath(){We("Abstract method `toSVGPath` must be implemented.")}get box(){We("Abstract getter `box` must be implemented.")}serialize(t,e){We("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,r,s,a){a||(a=new Float32Array(t.length));for(let o=0,c=t.length;o<c;o+=2)a[o]=e+t[o]*r,a[o+1]=i+t[o+1]*s;return a}static _rescaleAndSwap(t,e,i,r,s,a){a||(a=new Float32Array(t.length));for(let o=0,c=t.length;o<c;o+=2)a[o]=e+t[o+1]*r,a[o+1]=i+t[o]*s;return a}static _translate(t,e,i,r){r||(r=new Float32Array(t.length));for(let s=0,a=t.length;s<a;s+=2)r[s]=e+t[s],r[s+1]=i+t[s+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,r,s){switch(s){case 90:return[1-e/i,t/r];case 180:return[1-t/i,1-e/r];case 270:return[e/i,1-t/r];default:return[t/i,e/r]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,r,s,a){return[(t+5*i)/6,(e+5*r)/6,(5*i+s)/6,(5*r+a)/6,(i+s)/2,(r+a)/2]}},X(vI,"PRECISION",1e-4),vI);var $s,tl,fw,pw,mc,Kt,A0,E0,z_,j_,gw,mw,Cf,mo,U_,BD,zD,mi,_S,_Y,CY,kY,TY,PY,RY;let EY=(mo=class{constructor({x:t,y:e},i,r,s,a,o=0){E(this,mi);E(this,$s);E(this,tl,[]);E(this,fw);E(this,pw);E(this,mc,[]);E(this,Kt,new Float32Array(18));E(this,A0);E(this,E0);E(this,z_);E(this,j_);E(this,gw);E(this,mw);E(this,Cf,[]);b(this,$s,i),b(this,mw,s*r),b(this,pw,a),h(this,Kt).set([NaN,NaN,NaN,NaN,t,e],6),b(this,fw,o),b(this,j_,h(mo,U_)*r),b(this,z_,h(mo,zD)*r),b(this,gw,r),h(this,Cf).push(t,e)}isEmpty(){return isNaN(h(this,Kt)[8])}add({x:t,y:e}){var R;b(this,A0,t),b(this,E0,e);const[i,r,s,a]=h(this,$s);let[o,c,l,u]=h(this,Kt).subarray(8,12);const d=t-l,f=e-u,p=Math.hypot(d,f);if(p<h(this,z_))return!1;const g=p-h(this,j_),m=g/p,y=m*d,v=m*f;let w=o,x=c;o=l,c=u,l+=y,u+=v,(R=h(this,Cf))==null||R.push(t,e);const A=-v/g,S=y/g,C=A*h(this,mw),k=S*h(this,mw);return h(this,Kt).set(h(this,Kt).subarray(2,8),0),h(this,Kt).set([l+C,u+k],4),h(this,Kt).set(h(this,Kt).subarray(14,18),12),h(this,Kt).set([l-C,u-k],16),isNaN(h(this,Kt)[6])?(h(this,mc).length===0&&(h(this,Kt).set([o+C,c+k],2),h(this,mc).push(NaN,NaN,NaN,NaN,(o+C-i)/s,(c+k-r)/a),h(this,Kt).set([o-C,c-k],14),h(this,tl).push(NaN,NaN,NaN,NaN,(o-C-i)/s,(c-k-r)/a)),h(this,Kt).set([w,x,o,c,l,u],6),!this.isEmpty()):(h(this,Kt).set([w,x,o,c,l,u],6),Math.abs(Math.atan2(x-c,w-o)-Math.atan2(v,y))<Math.PI/2?([o,c,l,u]=h(this,Kt).subarray(2,6),h(this,mc).push(NaN,NaN,NaN,NaN,((o+l)/2-i)/s,((c+u)/2-r)/a),[o,c,w,x]=h(this,Kt).subarray(14,18),h(this,tl).push(NaN,NaN,NaN,NaN,((w+o)/2-i)/s,((x+c)/2-r)/a),!0):([w,x,o,c,l,u]=h(this,Kt).subarray(0,6),h(this,mc).push(((w+5*o)/6-i)/s,((x+5*c)/6-r)/a,((5*o+l)/6-i)/s,((5*c+u)/6-r)/a,((o+l)/2-i)/s,((c+u)/2-r)/a),[l,u,o,c,w,x]=h(this,Kt).subarray(12,18),h(this,tl).push(((w+5*o)/6-i)/s,((x+5*c)/6-r)/a,((5*o+l)/6-i)/s,((5*c+u)/6-r)/a,((o+l)/2-i)/s,((c+u)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,mc),e=h(this,tl);if(isNaN(h(this,Kt)[6])&&!this.isEmpty())return _(this,mi,_Y).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);_(this,mi,kY).call(this,i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return _(this,mi,CY).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,r,s,a){return new DY(t,e,i,r,s,a)}getOutlines(){var d;const t=h(this,mc),e=h(this,tl),i=h(this,Kt),[r,s,a,o]=h(this,$s),c=new Float32Array((((d=h(this,Cf))==null?void 0:d.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(h(this,Cf)[f]-r)/a,c[f+1]=(h(this,Cf)[f+1]-s)/o;if(c[c.length-2]=(h(this,A0)-r)/a,c[c.length-1]=(h(this,E0)-s)/o,isNaN(i[6])&&!this.isEmpty())return _(this,mi,TY).call(this,c);const l=new Float32Array(h(this,mc).length+24+h(this,tl).length);let u=t.length;for(let f=0;f<u;f+=2){if(isNaN(t[f])){l[f]=l[f+1]=NaN;continue}l[f]=t[f],l[f+1]=t[f+1]}u=_(this,mi,RY).call(this,l,u);for(let f=e.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(e[f+p])){l[u]=l[u+1]=NaN,u+=2;continue}l[u]=e[f+p],l[u+1]=e[f+p+1],u+=2}return _(this,mi,PY).call(this,l,u),this.newFreeDrawOutline(l,c,h(this,$s),h(this,gw),h(this,fw),h(this,pw))}},$s=new WeakMap,tl=new WeakMap,fw=new WeakMap,pw=new WeakMap,mc=new WeakMap,Kt=new WeakMap,A0=new WeakMap,E0=new WeakMap,z_=new WeakMap,j_=new WeakMap,gw=new WeakMap,mw=new WeakMap,Cf=new WeakMap,U_=new WeakMap,BD=new WeakMap,zD=new WeakMap,mi=new WeakSet,_S=function(){const t=h(this,Kt).subarray(4,6),e=h(this,Kt).subarray(16,18),[i,r,s,a]=h(this,$s);return[(h(this,A0)+(t[0]-e[0])/2-i)/s,(h(this,E0)+(t[1]-e[1])/2-r)/a,(h(this,A0)+(e[0]-t[0])/2-i)/s,(h(this,E0)+(e[1]-t[1])/2-r)/a]},_Y=function(){const[t,e,i,r]=h(this,$s),[s,a,o,c]=_(this,mi,_S).call(this);return`M${(h(this,Kt)[2]-t)/i} ${(h(this,Kt)[3]-e)/r} L${(h(this,Kt)[4]-t)/i} ${(h(this,Kt)[5]-e)/r} L${s} ${a} L${o} ${c} L${(h(this,Kt)[16]-t)/i} ${(h(this,Kt)[17]-e)/r} L${(h(this,Kt)[14]-t)/i} ${(h(this,Kt)[15]-e)/r} Z`},CY=function(t){const e=h(this,tl);t.push(`L${e[4]} ${e[5]} Z`)},kY=function(t){const[e,i,r,s]=h(this,$s),a=h(this,Kt).subarray(4,6),o=h(this,Kt).subarray(16,18),[c,l,u,d]=_(this,mi,_S).call(this);t.push(`L${(a[0]-e)/r} ${(a[1]-i)/s} L${c} ${l} L${u} ${d} L${(o[0]-e)/r} ${(o[1]-i)/s}`)},TY=function(t){const e=h(this,Kt),[i,r,s,a]=h(this,$s),[o,c,l,u]=_(this,mi,_S).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(e[2]-i)/s,(e[3]-r)/a,NaN,NaN,NaN,NaN,(e[4]-i)/s,(e[5]-r)/a,NaN,NaN,NaN,NaN,o,c,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,(e[16]-i)/s,(e[17]-r)/a,NaN,NaN,NaN,NaN,(e[14]-i)/s,(e[15]-r)/a],0),this.newFreeDrawOutline(d,t,h(this,$s),h(this,gw),h(this,fw),h(this,pw))},PY=function(t,e){const i=h(this,tl);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},RY=function(t,e){const i=h(this,Kt).subarray(4,6),r=h(this,Kt).subarray(16,18),[s,a,o,c]=h(this,$s),[l,u,d,f]=_(this,mi,_S).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/c,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/c],e),e+=24},E(mo,U_,8),E(mo,BD,2),E(mo,zD,h(mo,U_)+h(mo,BD)),mo);var vw,_0,su,H_,ta,W_,On,jD,FY,xW;let DY=(xW=class extends ft{constructor(e,i,r,s,a,o){super();E(this,jD);E(this,vw);E(this,_0,new Float32Array(4));E(this,su);E(this,H_);E(this,ta);E(this,W_);E(this,On);b(this,On,e),b(this,ta,i),b(this,vw,r),b(this,W_,s),b(this,su,a),b(this,H_,o),this.lastPoint=[NaN,NaN],_(this,jD,FY).call(this,o);const[c,l,u,d]=h(this,_0);for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-c)/u,e[f+1]=(e[f+1]-l)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-c)/u,i[f+1]=(i[f+1]-l)/d}toSVGPath(){const e=[`M${h(this,On)[4]} ${h(this,On)[5]}`];for(let i=6,r=h(this,On).length;i<r;i+=6){if(isNaN(h(this,On)[i])){e.push(`L${h(this,On)[i+4]} ${h(this,On)[i+5]}`);continue}e.push(`C${h(this,On)[i]} ${h(this,On)[i+1]} ${h(this,On)[i+2]} ${h(this,On)[i+3]} ${h(this,On)[i+4]} ${h(this,On)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,r,s],a){const o=r-e,c=s-i;let l,u;switch(a){case 0:l=ft._rescale(h(this,On),e,s,o,-c),u=ft._rescale(h(this,ta),e,s,o,-c);break;case 90:l=ft._rescaleAndSwap(h(this,On),e,i,o,c),u=ft._rescaleAndSwap(h(this,ta),e,i,o,c);break;case 180:l=ft._rescale(h(this,On),r,i,-o,c),u=ft._rescale(h(this,ta),r,i,-o,c);break;case 270:l=ft._rescaleAndSwap(h(this,On),r,s,-o,-c),u=ft._rescaleAndSwap(h(this,ta),r,s,-o,-c);break}return{outline:Array.from(l),points:[Array.from(u)]}}get box(){return h(this,_0)}newOutliner(e,i,r,s,a,o=0){return new EY(e,i,r,s,a,o)}getNewOutline(e,i){const[r,s,a,o]=h(this,_0),[c,l,u,d]=h(this,vw),f=a*u,p=o*d,g=r*u+c,m=s*d+l,y=this.newOutliner({x:h(this,ta)[0]*f+g,y:h(this,ta)[1]*p+m},h(this,vw),h(this,W_),e,h(this,H_),i??h(this,su));for(let v=2;v<h(this,ta).length;v+=2)y.add({x:h(this,ta)[v]*f+g,y:h(this,ta)[v+1]*p+m});return y.getOutlines()}},vw=new WeakMap,_0=new WeakMap,su=new WeakMap,H_=new WeakMap,ta=new WeakMap,W_=new WeakMap,On=new WeakMap,jD=new WeakSet,FY=function(e){const i=h(this,On);let r=i[4],s=i[5];const a=[r,s,r,s];let o=r,c=s;const l=e?Math.max:Math.min;for(let d=6,f=i.length;d<f;d+=6){const p=i[d+4],g=i[d+5];if(isNaN(i[d]))mt.pointBoundingBox(p,g,a),c<g?(o=p,c=g):c===g&&(o=l(o,p));else{const m=[1/0,1/0,-1/0,-1/0];mt.bezierBoundingBox(r,s,...i.slice(d,d+6),m),mt.rectBoundingBox(...m,a),c<m[3]?(o=m[2],c=m[3]):c===m[3]&&(o=l(o,m[2]))}r=p,s=g}const u=h(this,_0);u[0]=a[0]-h(this,su),u[1]=a[1]-h(this,su),u[2]=a[2]-a[0]+2*h(this,su),u[3]=a[3]-a[1]+2*h(this,su),this.lastPoint=[o,c]},xW);var V_,G_,kf,el,cs,MY,FP,NY,IY,YO,SW;let KO=(SW=class{constructor(t,e=0,i=0,r=!0){E(this,cs);E(this,V_);E(this,G_);E(this,kf,[]);E(this,el,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:p,y:g,width:m,height:y}of t){const v=Math.floor((p-e)/a)*a,w=Math.ceil((p+m+e)/a)*a,x=Math.floor((g-e)/a)*a,A=Math.ceil((g+y+e)/a)*a,S=[v,x,A,!0],C=[w,x,A,!1];h(this,kf).push(S,C),mt.rectBoundingBox(v,x,w,A,s)}const o=s[2]-s[0]+2*i,c=s[3]-s[1]+2*i,l=s[0]-i,u=s[1]-i,d=h(this,kf).at(r?-1:-2),f=[d[0],d[2]];for(const p of h(this,kf)){const[g,m,y]=p;p[0]=(g-l)/o,p[1]=(m-u)/c,p[2]=(y-u)/c}b(this,V_,new Float32Array([l,u,o,c])),b(this,G_,f)}getOutlines(){h(this,kf).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of h(this,kf))e[3]?(t.push(..._(this,cs,YO).call(this,e)),_(this,cs,NY).call(this,e)):(_(this,cs,IY).call(this,e),t.push(..._(this,cs,YO).call(this,e)));return _(this,cs,MY).call(this,t)}},V_=new WeakMap,G_=new WeakMap,kf=new WeakMap,el=new WeakMap,cs=new WeakSet,MY=function(t){const e=[],i=new Set;for(const a of t){const[o,c,l]=a;e.push([o,c,a],[o,l,a])}e.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=e.length;a<o;a+=2){const c=e[a][2],l=e[a+1][2];c.push(l),l.push(c),i.add(c),i.add(l)}const r=[];let s;for(;i.size>0;){const a=i.values().next().value;let[o,c,l,u,d]=a;i.delete(a);let f=o,p=c;for(s=[o,l],r.push(s);;){let g;if(i.has(u))g=u;else if(i.has(d))g=d;else break;i.delete(g),[o,c,l,u,d]=g,f!==o&&(s.push(f,p,o,p===c?c:l),f=o),p=p===c?l:c}s.push(f,p)}return new Egt(r,h(this,V_),h(this,G_))},FP=function(t){const e=h(this,el);let i=0,r=e.length-1;for(;i<=r;){const s=i+r>>1,a=e[s][0];if(a===t)return s;a<t?i=s+1:r=s-1}return r+1},NY=function([,t,e]){const i=_(this,cs,FP).call(this,t);h(this,el).splice(i,0,[t,e])},IY=function([,t,e]){const i=_(this,cs,FP).call(this,t);for(let r=i;r<h(this,el).length;r++){const[s,a]=h(this,el)[r];if(s!==t)break;if(s===t&&a===e){h(this,el).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,a]=h(this,el)[r];if(s!==t)break;if(s===t&&a===e){h(this,el).splice(r,1);return}}},YO=function(t){const[e,i,r]=t,s=[[e,i,r]],a=_(this,cs,FP).call(this,r);for(let o=0;o<a;o++){const[c,l]=h(this,el)[o];for(let u=0,d=s.length;u<d;u++){const[,f,p]=s[u];if(!(l<=f||p<=c)){if(f>=c){if(p>l)s[u][1]=l;else{if(d===1)return[];s.splice(u,1),u--,d--}continue}s[u][2]=c,p>l&&s.push([e,l,p])}}}return s},SW);var X_,yw,AW;let Egt=(AW=class extends ft{constructor(e,i,r){super();E(this,X_);E(this,yw);b(this,yw,e),b(this,X_,i),this.lastPoint=r}toSVGPath(){const e=[];for(const i of h(this,yw)){let[r,s]=i;e.push(`M${r} ${s}`);for(let a=2;a<i.length;a+=2){const o=i[a],c=i[a+1];o===r?(e.push(`V${c}`),s=c):c===s&&(e.push(`H${o}`),r=o)}e.push("Z")}return e.join(" ")}serialize([e,i,r,s],a){const o=[],c=r-e,l=s-i;for(const u of h(this,yw)){const d=new Array(u.length);for(let f=0;f<u.length;f+=2)d[f]=e+u[f]*c,d[f+1]=s-u[f+1]*l;o.push(d)}return o}get box(){return h(this,X_)}get classNamesForOutlining(){return["highlightOutline"]}},X_=new WeakMap,yw=new WeakMap,AW),ZO=class extends EY{newFreeDrawOutline(t,e,i,r,s,a){return new _gt(t,e,i,r,s,a)}},_gt=class extends DY{newOutliner(t,e,i,r,s,a=0){return new ZO(t,e,i,r,s,a)}};var bw,q_,au,C0,K_,bs,Y_,Z_,k0,to,ea,Zi,ww,ou,kr,xw,eo,Q_,de,Vt,QO,MP,LY,OY,BY,JO,yg,yo,py,zY,NP,CS,jY,UY,HY,WY,VY;let aH=(de=class extends fn{constructor(e){super({...e,name:"highlightEditor"});E(this,Vt);E(this,bw,null);E(this,q_,0);E(this,au);E(this,C0,null);E(this,K_,null);E(this,bs,null);E(this,Y_,null);E(this,Z_,0);E(this,k0,null);E(this,to,null);E(this,ea,null);E(this,Zi,!1);E(this,ww,null);E(this,ou);E(this,kr,null);E(this,xw,"");E(this,eo);E(this,Q_,"");this.color=e.color||de._defaultColor,b(this,eo,e.thickness||de._defaultThickness),b(this,ou,e.opacity||de._defaultOpacity),b(this,au,e.boxes||null),b(this,Q_,e.methodOfCreation||""),b(this,xw,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(b(this,Zi,!0),_(this,Vt,MP).call(this,e),_(this,Vt,yg).call(this)):h(this,au)&&(b(this,bw,e.anchorNode),b(this,q_,e.anchorOffset),b(this,Y_,e.focusNode),b(this,Z_,e.focusOffset),_(this,Vt,QO).call(this),_(this,Vt,yg).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const e=de.prototype;return Zt(this,"_keyboardManager",new aT([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,Zi)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:h(this,eo),methodOfCreation:h(this,Q_)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var r;fn.initialize(e,i),de._defaultColor||(de._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case le.HIGHLIGHT_COLOR:de._defaultColor=i;break;case le.HIGHLIGHT_THICKNESS:de._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return h(this,ww)}updateParams(e,i){switch(e){case le.HIGHLIGHT_COLOR:_(this,Vt,LY).call(this,i);break;case le.HIGHLIGHT_THICKNESS:_(this,Vt,OY).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[le.HIGHLIGHT_COLOR,de._defaultColor],[le.HIGHLIGHT_THICKNESS,de._defaultThickness]]}get propertiesToUpdate(){return[[le.HIGHLIGHT_COLOR,this.color||de._defaultColor],[le.HIGHLIGHT_THICKNESS,h(this,eo)||de._defaultThickness],[le.HIGHLIGHT_FREE,h(this,Zi)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",b(this,K_,new nY({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,Vt,CS).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,_(this,Vt,CS).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){_(this,Vt,JO).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,Vt,yg).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let i=!1;this.parent&&!e?_(this,Vt,JO).call(this):e&&(_(this,Vt,yg).call(this,e),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var s,a,o;const{drawLayer:i}=this.parent;let r;h(this,Zi)?(e=(e-this.rotation+360)%360,r=_(s=de,yo,py).call(s,h(this,to).box,e)):r=_(a=de,yo,py).call(a,[this.x,this.y,this.width,this.height],e),i.updateProperties(h(this,ea),{bbox:r,root:{"data-main-rotation":e}}),i.updateProperties(h(this,kr),{bbox:_(o=de,yo,py).call(o,h(this,bs).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();h(this,xw)&&(e.setAttribute("aria-label",h(this,xw)),e.setAttribute("role","mark")),h(this,Zi)?e.classList.add("free"):this.div.addEventListener("keydown",_(this,Vt,zY).bind(this),{signal:this._uiManager._signal});const i=b(this,k0,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=h(this,C0);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),rK(this,h(this,k0),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(h(this,kr),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(h(this,kr),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:_(this,Vt,NP).call(this,!0);break;case 1:case 3:_(this,Vt,NP).call(this,!1);break}}select(){var e;super.select(),h(this,kr)&&((e=this.parent)==null||e.drawLayer.updateProperties(h(this,kr),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),h(this,kr)&&((e=this.parent)==null||e.drawLayer.updateProperties(h(this,kr),{rootClass:{selected:!1}}),h(this,Zi)||_(this,Vt,NP).call(this,!1))}get _mustFixPosition(){return!h(this,Zi)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(h(this,ea),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(h(this,kr),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:r,x:s,y:a}){const{x:o,y:c,width:l,height:u}=r.getBoundingClientRect(),d=new AbortController,f=e.combinedSignal(d),p=g=>{d.abort(),_(this,yo,WY).call(this,e,g)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",qn,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",zo,{signal:f}),r.addEventListener("pointermove",_(this,yo,HY).bind(this,e),{signal:f}),this._freeHighlight=new ZO({x:s,y:a},[o,c,l,u],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,r){var m,y,v,w;let s=null;if(e instanceof vY){const{data:{quadPoints:x,rect:A,rotation:S,id:C,color:k,opacity:T,popupRef:R,contentsObj:F},parent:{page:{pageNumber:D}}}=e;s=e={annotationType:Mt.HIGHLIGHT,color:Array.from(k),opacity:T,quadPoints:x,boxes:null,pageIndex:D-1,rect:A.slice(0),rotation:S,annotationElementId:C,id:C,deleted:!1,popupRef:R,comment:(F==null?void 0:F.str)||null}}else if(e instanceof Ij){const{data:{inkLists:x,rect:A,rotation:S,id:C,color:k,borderStyle:{rawWidth:T},popupRef:R,contentsObj:F},parent:{page:{pageNumber:D}}}=e;s=e={annotationType:Mt.HIGHLIGHT,color:Array.from(k),thickness:T,inkLists:x,boxes:null,pageIndex:D-1,rect:A.slice(0),rotation:S,annotationElementId:C,id:C,deleted:!1,popupRef:R,comment:(F==null?void 0:F.str)||null}}const{color:a,quadPoints:o,inkLists:c,opacity:l}=e,u=await super.deserialize(e,i,r);u.color=mt.makeHexColor(...a),b(u,ou,l||1),c&&b(u,eo,e.thickness),u._initialData=s,e.comment&&u.setCommentData(e.comment);const[d,f]=u.pageDimensions,[p,g]=u.pageTranslation;if(o){const x=b(u,au,[]);for(let A=0;A<o.length;A+=8)x.push({x:(o[A]-p)/d,y:1-(o[A+1]-g)/f,width:(o[A+2]-o[A])/d,height:(o[A+1]-o[A+5])/f});_(m=u,Vt,QO).call(m),_(y=u,Vt,yg).call(y),u.rotate(u.rotation)}else if(c){b(u,Zi,!0);const x=c[0],A={x:x[0]-p,y:f-(x[1]-g)},S=new ZO(A,[0,0,d,f],1,h(u,eo)/2,!0,.001);for(let T=0,R=x.length;T<R;T+=2)A.x=x[T]-p,A.y=f-(x[T+1]-g),S.add(A);const{id:C,clipPathId:k}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);_(v=u,Vt,MP).call(v,{highlightOutlines:S.getOutlines(),highlightId:C,clipPathId:k}),_(w=u,Vt,yg).call(w),u.rotate(u.parentRotation)}return u}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getPDFRect(),r=fn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),s={annotationType:Mt.HIGHLIGHT,color:r,opacity:h(this,ou),thickness:h(this,eo),quadPoints:_(this,Vt,jY).call(this),outlines:_(this,Vt,UY).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:_(this,Vt,CS).call(this),structTreeParentId:this._structTreeParentId};return this.addComment(s),this.annotationElementId&&!_(this,Vt,VY).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const i={rect:this.getPDFRect()};return this.hasEditedComment&&(i.popup=this.comment),e.updateEdited(i),null}static canCreateNewEmptyEditor(){return!1}},bw=new WeakMap,q_=new WeakMap,au=new WeakMap,C0=new WeakMap,K_=new WeakMap,bs=new WeakMap,Y_=new WeakMap,Z_=new WeakMap,k0=new WeakMap,to=new WeakMap,ea=new WeakMap,Zi=new WeakMap,ww=new WeakMap,ou=new WeakMap,kr=new WeakMap,xw=new WeakMap,eo=new WeakMap,Q_=new WeakMap,Vt=new WeakSet,QO=function(){const e=new KO(h(this,au),.001);b(this,to,e.getOutlines()),[this.x,this.y,this.width,this.height]=h(this,to).box;const i=new KO(h(this,au),.0025,.001,this._uiManager.direction==="ltr");b(this,bs,i.getOutlines());const{lastPoint:r}=h(this,bs);b(this,ww,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},MP=function({highlightOutlines:e,highlightId:i,clipPathId:r}){var d,f;if(b(this,to,e),b(this,bs,e.getNewOutline(h(this,eo)/2+1.5,.0025)),i>=0)b(this,ea,i),b(this,C0,r),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),b(this,kr,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:h(this,bs).box,path:{d:h(this,bs).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(h(this,ea),{bbox:_(d=de,yo,py).call(d,h(this,to).box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(h(this,kr),{bbox:_(f=de,yo,py).call(f,h(this,bs).box,p),path:{d:h(this,bs).toSVGPath()}})}const[a,o,c,l]=e.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=c,this.height=l;break;case 90:{const[p,g]=this.parentDimensions;this.x=o,this.y=1-a,this.width=c*g/p,this.height=l*p/g;break}case 180:this.x=1-a,this.y=1-o,this.width=c,this.height=l;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-o,this.y=a,this.width=c*g/p,this.height=l*p/g;break}}const{lastPoint:u}=h(this,bs);b(this,ww,[(u[0]-a)/c,(u[1]-o)/l])},LY=function(e){const i=(a,o)=>{var c,l;this.color=a,b(this,ou,o),(c=this.parent)==null||c.drawLayer.updateProperties(h(this,ea),{root:{fill:a,"fill-opacity":o}}),(l=h(this,K_))==null||l.updateColor(a)},r=this.color,s=h(this,ou);this.addCommands({cmd:i.bind(this,e,de._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)},OY=function(e){const i=h(this,eo),r=s=>{b(this,eo,s),_(this,Vt,BY).call(this,s)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},BY=function(e){if(!h(this,Zi))return;_(this,Vt,MP).call(this,{highlightOutlines:h(this,to).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},JO=function(){h(this,ea)===null||!this.parent||(this.parent.drawLayer.remove(h(this,ea)),b(this,ea,null),this.parent.drawLayer.remove(h(this,kr)),b(this,kr,null))},yg=function(e=this.parent){h(this,ea)===null&&({id:fe(this,ea)._,clipPathId:fe(this,C0)._}=e.drawLayer.draw({bbox:h(this,to).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":h(this,ou)},rootClass:{highlight:!0,free:h(this,Zi)},path:{d:h(this,to).toSVGPath()}},!1,!0),b(this,kr,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:h(this,Zi)},bbox:h(this,bs).box,path:{d:h(this,bs).toSVGPath()}},h(this,Zi))),h(this,k0)&&(h(this,k0).style.clipPath=h(this,C0)))},yo=new WeakSet,py=function([e,i,r,s],a){switch(a){case 90:return[1-i-s,e,s,r];case 180:return[1-e-r,1-i-s,r,s];case 270:return[i,1-e-r,s,r]}return[e,i,r,s]},zY=function(e){de._keyboardManager.exec(this,e)},NP=function(e){if(!h(this,bw))return;const i=window.getSelection();e?i.setPosition(h(this,bw),h(this,q_)):i.setPosition(h(this,Y_),h(this,Z_))},CS=function(){return h(this,Zi)?this.rotation:0},jY=function(){if(h(this,Zi))return null;const[e,i]=this.pageDimensions,[r,s]=this.pageTranslation,a=h(this,au),o=new Float32Array(a.length*8);let c=0;for(const{x:l,y:u,width:d,height:f}of a){const p=l*e+r,g=(1-u)*i+s;o[c]=o[c+4]=p,o[c+1]=o[c+3]=g,o[c+2]=o[c+6]=p+d*e,o[c+5]=o[c+7]=g-f*i,c+=8}return o},UY=function(e){return h(this,to).serialize(e,_(this,Vt,CS).call(this))},HY=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},WY=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},VY=function(e){const{color:i}=this._initialData;return this.hasEditedComment||e.color.some((r,s)=>r!==i[s])},E(de,yo),X(de,"_defaultColor",null),X(de,"_defaultOpacity",1),X(de,"_defaultThickness",12),X(de,"_type","highlight"),X(de,"_editorType",Mt.HIGHLIGHT),X(de,"_freeHighlightId",-1),X(de,"_freeHighlight",null),X(de,"_freeHighlightClipId",""),de);var T0,EW;let GY=(EW=class{constructor(){E(this,T0,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){h(this,T0)[t]=e}toSVGProperties(){const t=h(this,T0);return b(this,T0,Object.create(null)),{root:t}}reset(){b(this,T0,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){We("Not implemented")}},T0=new WeakMap,EW);var na,Sw,ct,Ai,P0,R0,Tf,Pf,Rf,D0,me,$O,t3,e3,kS,qY,IP,TS,gy;let XY=(ct=class extends fn{constructor(e){super(e);E(this,me);E(this,na,null);E(this,Sw);X(this,"_colorPicker",null);X(this,"_drawId",null);b(this,Sw,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(_(this,me,$O).call(this,e),_(this,me,kS).call(this))}static _mergeSVGProperties(e,i){const r=new Set(Object.keys(e));for(const[s,a]of Object.entries(i))r.has(s)?Object.assign(e[s],a):e[s]=a;return e}static getDefaultDrawingOptions(e){We("Not implemented")}static get typesMap(){We("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(h(ct,Ai).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)e.push([r,i[s]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[r,s]of this.constructor.typesMap)e.push([r,i[s]]);return e}_updateProperty(e,i,r){const s=this._drawingOptions,a=s[i],o=c=>{var u,d;s.updateProperty(i,c);const l=h(this,na).updateProperty(i,c);l&&_(this,me,TS).call(this,l),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),e===this.colorType&&((d=this._colorPicker)==null||d.update(c))};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,ct._mergeSVGProperties(h(this,na).getPathResizingSVGProperties(_(this,me,IP).call(this)),{bbox:_(this,me,gy).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,ct._mergeSVGProperties(h(this,na).getPathResizedSVGProperties(_(this,me,IP).call(this)),{bbox:_(this,me,gy).call(this)}))}_onTranslating(e,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:_(this,me,gy).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,ct._mergeSVGProperties(h(this,na).getPathTranslatedSVGProperties(_(this,me,IP).call(this),this.parentDimensions),{bbox:_(this,me,gy).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,h(this,Sw)&&(b(this,Sw,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){_(this,me,e3).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,me,kS).call(this),_(this,me,TS).call(this,h(this,na).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),_(this,me,e3).call(this)):e&&(this._uiManager.addShouldRescale(this),_(this,me,kS).call(this,e),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ct._mergeSVGProperties({bbox:_(this,me,gy).call(this)},h(this,na).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&_(this,me,TS).call(this,h(this,na).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const r=super.render();r.classList.add("draw");const s=document.createElement("div");r.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[a,o]=this.parentDimensions;return this.setDims(this.width*a,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),r}static createDrawerInstance(e,i,r,s,a){We("Not implemented")}static startDrawing(e,i,r,s){var y;const{target:a,offsetX:o,offsetY:c,pointerId:l,pointerType:u}=s;if(h(ct,Pf)&&h(ct,Pf)!==u)return;const{viewport:{rotation:d}}=e,{width:f,height:p}=a.getBoundingClientRect(),g=b(ct,P0,new AbortController),m=e.combinedSignal(g);if(h(ct,Tf)||b(ct,Tf,l),h(ct,Pf)??b(ct,Pf,u),window.addEventListener("pointerup",v=>{var w;h(ct,Tf)===v.pointerId?this._endDraw(v):(w=h(ct,Rf))==null||w.delete(v.pointerId)},{signal:m}),window.addEventListener("pointercancel",v=>{var w;h(ct,Tf)===v.pointerId?this._currentParent.endDrawingSession():(w=h(ct,Rf))==null||w.delete(v.pointerId)},{signal:m}),window.addEventListener("pointerdown",v=>{h(ct,Pf)===v.pointerType&&((h(ct,Rf)||b(ct,Rf,new Set)).add(v.pointerId),h(ct,Ai).isCancellable()&&(h(ct,Ai).removeLastElement(),h(ct,Ai).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",zo,{signal:m}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),a.addEventListener("touchmove",v=>{v.timeStamp===h(ct,D0)&&qn(v)},{signal:m}),e.toggleDrawing(),(y=i._editorUndoBar)==null||y.hide(),h(ct,Ai)){e.drawLayer.updateProperties(this._currentDrawId,h(ct,Ai).startNew(o,c,f,p,d));return}i.updateUIForDefaultProperties(this),b(ct,Ai,this.createDrawerInstance(o,c,f,p,d)),b(ct,R0,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(h(ct,R0).toSVGProperties(),h(ct,Ai).defaultSVGProperties),!0,!1)}static _drawMove(e){var a;if(b(ct,D0,-1),!h(ct,Ai))return;const{offsetX:i,offsetY:r,pointerId:s}=e;if(h(ct,Tf)===s){if(((a=h(ct,Rf))==null?void 0:a.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,h(ct,Ai).add(i,r)),b(ct,D0,e.timeStamp),qn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,b(ct,Ai,null),b(ct,R0,null),b(ct,Pf,null),b(ct,D0,NaN)),h(ct,P0)&&(h(ct,P0).abort(),b(ct,P0,null),b(ct,Tf,NaN),b(ct,Rf,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,h(ct,Ai).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=h(ct,Ai),s=this._currentDrawId,a=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(a))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:le.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(le.DRAW_STEP),!h(ct,Ai).isEmpty()){const{pageDimensions:[r,s],scale:a}=i,o=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:h(ct,Ai).getOutlines(r*a,s*a,a,this._INNER_MARGIN),drawingOptions:h(ct,R0),mustBeCommitted:!e});return this._cleanup(!0),o}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,r,s,a,o){We("Not implemented")}static async deserialize(e,i,r){var d,f;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}=i.viewport,l=this.deserializeDraw(o,c,s,a,this._INNER_MARGIN,e),u=await super.deserialize(e,i,r);return u.createDrawingOptions(e),_(d=u,me,$O).call(d,{drawOutlines:l}),_(f=u,me,kS).call(f),u.onScaleChanging(),u.rotate(),u}serializeDraw(e){const[i,r]=this.pageTranslation,[s,a]=this.pageDimensions;return h(this,na).serialize([i,r,s,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}},na=new WeakMap,Sw=new WeakMap,Ai=new WeakMap,P0=new WeakMap,R0=new WeakMap,Tf=new WeakMap,Pf=new WeakMap,Rf=new WeakMap,D0=new WeakMap,me=new WeakSet,$O=function({drawOutlines:e,drawId:i,drawingOptions:r}){b(this,na,e),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=_(this,me,t3).call(this,e,this.parent),_(this,me,TS).call(this,e.box)},t3=function(e,i){const{id:r}=i.drawLayer.draw(ct._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r},e3=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},kS=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=_(this,me,t3).call(this,h(this,na),e)}},qY=function([e,i,r,s]){const{parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[i,1-e,r*(o/a),s*(a/o)];case 180:return[1-e,1-i,r,s];case 270:return[1-i,e,r*(o/a),s*(a/o)];default:return[e,i,r,s]}},IP=function(){const{x:e,y:i,width:r,height:s,parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[1-i,e,r*(a/o),s*(o/a)];case 180:return[1-e,1-i,r,s];case 270:return[i,1-e,r*(a/o),s*(o/a)];default:return[e,i,r,s]}},TS=function(e){if([this.x,this.y,this.width,this.height]=_(this,me,qY).call(this,e),this.div){this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)}this._onResized()},gy=function(){const{x:e,y:i,width:r,height:s,rotation:a,parentRotation:o,parentDimensions:[c,l]}=this;switch((a*4+o)/90){case 1:return[1-i-s,e,s,r];case 2:return[1-e-r,1-i-s,r,s];case 3:return[i,1-e-r,s,r];case 4:return[e,i-r*(c/l),s*(l/c),r*(c/l)];case 5:return[1-i,e,r*(c/l),s*(l/c)];case 6:return[1-e-s*(l/c),1-i,s*(l/c),r*(c/l)];case 7:return[i-r*(c/l),1-e-s*(l/c),r*(c/l),s*(l/c)];case 8:return[e-r,i-s,r,s];case 9:return[1-i,e-r,s,r];case 10:return[1-e,1-i,r,s];case 11:return[i-s,1-e,s,r];case 12:return[e-s*(l/c),i,s*(l/c),r*(c/l)];case 13:return[1-i-r*(c/l),e-s*(l/c),r*(c/l),s*(l/c)];case 14:return[1-e,1-i-r*(c/l),s*(l/c),r*(c/l)];case 15:return[i,1-e,r*(c/l),s*(l/c)];default:return[e,i,r,s]}},X(ct,"_currentDrawId",-1),X(ct,"_currentParent",null),E(ct,Ai,null),E(ct,P0,null),E(ct,R0,null),E(ct,Tf,NaN),E(ct,Pf,null),E(ct,Rf,null),E(ct,D0,NaN),X(ct,"_INNER_MARGIN",3),ct);var vc,Ei,_i,F0,Aw,Vr,Qi,no,M0,N0,I0,Ew,LP,_W;let Cgt=(_W=class{constructor(t,e,i,r,s,a){E(this,Ew);E(this,vc,new Float64Array(6));E(this,Ei);E(this,_i);E(this,F0);E(this,Aw);E(this,Vr);E(this,Qi,"");E(this,no,0);E(this,M0,new lT);E(this,N0);E(this,I0);b(this,N0,i),b(this,I0,r),b(this,F0,s),b(this,Aw,a),[t,e]=_(this,Ew,LP).call(this,t,e);const o=b(this,Ei,[NaN,NaN,NaN,NaN,t,e]);b(this,Vr,[t,e]),b(this,_i,[{line:o,points:h(this,Vr)}]),h(this,vc).set(o,0)}updateProperty(t,e){t==="stroke-width"&&b(this,Aw,e)}isEmpty(){return!h(this,_i)||h(this,_i).length===0}isCancellable(){return h(this,Vr).length<=10}add(t,e){[t,e]=_(this,Ew,LP).call(this,t,e);const[i,r,s,a]=h(this,vc).subarray(2,6),o=t-s,c=e-a;return Math.hypot(h(this,N0)*o,h(this,I0)*c)<=2?null:(h(this,Vr).push(t,e),isNaN(i)?(h(this,vc).set([s,a,t,e],2),h(this,Ei).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(h(this,vc)[0])&&h(this,Ei).splice(6,6),h(this,vc).set([i,r,s,a,t,e],0),h(this,Ei).push(...ft.createBezierPoints(i,r,s,a,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(h(this,Vr).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,r,s){b(this,N0,i),b(this,I0,r),b(this,F0,s),[t,e]=_(this,Ew,LP).call(this,t,e);const a=b(this,Ei,[NaN,NaN,NaN,NaN,t,e]);b(this,Vr,[t,e]);const o=h(this,_i).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),h(this,_i).push({line:a,points:h(this,Vr)}),h(this,vc).set(a,0),b(this,no,0),this.toSVGPath(),null}getLastElement(){return h(this,_i).at(-1)}setLastElement(t){return h(this,_i)?(h(this,_i).push(t),b(this,Ei,t.line),b(this,Vr,t.points),b(this,no,0),{path:{d:this.toSVGPath()}}):h(this,M0).setLastElement(t)}removeLastElement(){if(!h(this,_i))return h(this,M0).removeLastElement();h(this,_i).pop(),b(this,Qi,"");for(let t=0,e=h(this,_i).length;t<e;t++){const{line:i,points:r}=h(this,_i)[t];b(this,Ei,i),b(this,Vr,r),b(this,no,0),this.toSVGPath()}return{path:{d:h(this,Qi)}}}toSVGPath(){const t=ft.svgRound(h(this,Ei)[4]),e=ft.svgRound(h(this,Ei)[5]);if(h(this,Vr).length===2)return b(this,Qi,`${h(this,Qi)} M ${t} ${e} Z`),h(this,Qi);if(h(this,Vr).length<=6){const r=h(this,Qi).lastIndexOf("M");b(this,Qi,`${h(this,Qi).slice(0,r)} M ${t} ${e}`),b(this,no,6)}if(h(this,Vr).length===4){const r=ft.svgRound(h(this,Ei)[10]),s=ft.svgRound(h(this,Ei)[11]);return b(this,Qi,`${h(this,Qi)} L ${r} ${s}`),b(this,no,12),h(this,Qi)}const i=[];h(this,no)===0&&(i.push(`M ${t} ${e}`),b(this,no,6));for(let r=h(this,no),s=h(this,Ei).length;r<s;r+=6){const[a,o,c,l,u,d]=h(this,Ei).slice(r,r+6).map(ft.svgRound);i.push(`C${a} ${o} ${c} ${l} ${u} ${d}`)}return b(this,Qi,h(this,Qi)+i.join(" ")),b(this,no,h(this,Ei).length),h(this,Qi)}getOutlines(t,e,i,r){const s=h(this,_i).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),h(this,M0).build(h(this,_i),t,e,i,h(this,F0),h(this,Aw),r),b(this,vc,null),b(this,Ei,null),b(this,_i,null),b(this,Qi,null),h(this,M0)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}},vc=new WeakMap,Ei=new WeakMap,_i=new WeakMap,F0=new WeakMap,Aw=new WeakMap,Vr=new WeakMap,Qi=new WeakMap,no=new WeakMap,M0=new WeakMap,N0=new WeakMap,I0=new WeakMap,Ew=new WeakSet,LP=function(t,e){return ft._normalizePoint(t,e,h(this,N0),h(this,I0),h(this,F0))},_W);var Gr,J_,$_,ia,yc,bc,_w,Cw,L0,or,vh,KY,YY,ZY,CW;let lT=(CW=class extends ft{constructor(){super(...arguments);E(this,or);E(this,Gr);E(this,J_,0);E(this,$_);E(this,ia);E(this,yc);E(this,bc);E(this,_w);E(this,Cw);E(this,L0)}build(e,i,r,s,a,o,c){b(this,yc,i),b(this,bc,r),b(this,_w,s),b(this,Cw,a),b(this,L0,o),b(this,$_,c??0),b(this,ia,e),_(this,or,YY).call(this)}get thickness(){return h(this,L0)}setLastElement(e){return h(this,ia).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return h(this,ia).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of h(this,ia)){if(e.push(`M${ft.svgRound(i[4])} ${ft.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${ft.svgRound(i[10])} ${ft.svgRound(i[11])}`);continue}for(let r=6,s=i.length;r<s;r+=6){const[a,o,c,l,u,d]=i.subarray(r,r+6).map(ft.svgRound);e.push(`C${a} ${o} ${c} ${l} ${u} ${d}`)}}return e.join("")}serialize([e,i,r,s],a){const o=[],c=[],[l,u,d,f]=_(this,or,KY).call(this);let p,g,m,y,v,w,x,A,S;switch(h(this,Cw)){case 0:S=ft._rescale,p=e,g=i+s,m=r,y=-s,v=e+l*r,w=i+(1-u-f)*s,x=e+(l+d)*r,A=i+(1-u)*s;break;case 90:S=ft._rescaleAndSwap,p=e,g=i,m=r,y=s,v=e+u*r,w=i+l*s,x=e+(u+f)*r,A=i+(l+d)*s;break;case 180:S=ft._rescale,p=e+r,g=i,m=-r,y=s,v=e+(1-l-d)*r,w=i+u*s,x=e+(1-l)*r,A=i+(u+f)*s;break;case 270:S=ft._rescaleAndSwap,p=e+r,g=i+s,m=-r,y=-s,v=e+(1-u-f)*r,w=i+(1-l-d)*s,x=e+(1-u)*r,A=i+(1-l)*s;break}for(const{line:C,points:k}of h(this,ia))o.push(S(C,p,g,m,y,a?new Array(C.length):null)),c.push(S(k,p,g,m,y,a?new Array(k.length):null));return{lines:o,points:c,rect:[v,w,x,A]}}static deserialize(e,i,r,s,a,{paths:{lines:o,points:c},rotation:l,thickness:u}){const d=[];let f,p,g,m,y;switch(l){case 0:y=ft._rescale,f=-e/r,p=i/s+1,g=1/r,m=-1/s;break;case 90:y=ft._rescaleAndSwap,f=-i/s,p=-e/r,g=1/s,m=1/r;break;case 180:y=ft._rescale,f=e/r+1,p=-i/s,g=-1/r,m=1/s;break;case 270:y=ft._rescaleAndSwap,f=i/s+1,p=e/r+1,g=-1/s,m=-1/r;break}if(!o){o=[];for(const w of c){const x=w.length;if(x===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(x===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const A=new Float32Array(3*(x-2));o.push(A);let[S,C,k,T]=w.subarray(0,4);A.set([NaN,NaN,NaN,NaN,S,C],0);for(let R=4;R<x;R+=2){const F=w[R],D=w[R+1];A.set(ft.createBezierPoints(S,C,k,T,F,D),(R-2)*3),[S,C,k,T]=[k,T,F,D]}}}for(let w=0,x=o.length;w<x;w++)d.push({line:y(o[w].map(A=>A??NaN),f,p,g,m),points:y(c[w].map(A=>A??NaN),f,p,g,m)});const v=new this.prototype.constructor;return v.build(d,r,s,1,l,u,a),v}get box(){return h(this,Gr)}updateProperty(e,i){return e==="stroke-width"?_(this,or,ZY).call(this,i):null}updateParentDimensions([e,i],r){const[s,a]=_(this,or,vh).call(this);b(this,yc,e),b(this,bc,i),b(this,_w,r);const[o,c]=_(this,or,vh).call(this),l=o-s,u=c-a,d=h(this,Gr);return d[0]-=l,d[1]-=u,d[2]+=2*l,d[3]+=2*u,d}updateRotation(e){return b(this,J_,e),{path:{transform:this.rotationTransform}}}get viewBox(){return h(this,Gr).map(ft.svgRound).join(" ")}get defaultProperties(){const[e,i]=h(this,Gr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=h(this,Gr);let r=0,s=0,a=0,o=0,c=0,l=0;switch(h(this,J_)){case 90:s=i/e,a=-e/i,c=e;break;case 180:r=-1,o=-1,c=e,l=i;break;case 270:s=-i/e,a=e/i,l=i;break;default:return""}return`matrix(${r} ${s} ${a} ${o} ${ft.svgRound(c)} ${ft.svgRound(l)})`}getPathResizingSVGProperties([e,i,r,s]){const[a,o]=_(this,or,vh).call(this),[c,l,u,d]=h(this,Gr);if(Math.abs(u-a)<=ft.PRECISION||Math.abs(d-o)<=ft.PRECISION){const y=e+r/2-(c+u/2),v=i+s/2-(l+d/2);return{path:{"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`,transform:`${this.rotationTransform} translate(${y} ${v})`}}}const f=(r-2*a)/(u-2*a),p=(s-2*o)/(d-2*o),g=u/r,m=d/s;return{path:{"transform-origin":`${ft.svgRound(c)} ${ft.svgRound(l)}`,transform:`${this.rotationTransform} scale(${g} ${m}) translate(${ft.svgRound(a)} ${ft.svgRound(o)}) scale(${f} ${p}) translate(${ft.svgRound(-a)} ${ft.svgRound(-o)})`}}}getPathResizedSVGProperties([e,i,r,s]){const[a,o]=_(this,or,vh).call(this),c=h(this,Gr),[l,u,d,f]=c;if(c[0]=e,c[1]=i,c[2]=r,c[3]=s,Math.abs(d-a)<=ft.PRECISION||Math.abs(f-o)<=ft.PRECISION){const v=e+r/2-(l+d/2),w=i+s/2-(u+f/2);for(const{line:x,points:A}of h(this,ia))ft._translate(x,v,w,x),ft._translate(A,v,w,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(r-2*a)/(d-2*a),g=(s-2*o)/(f-2*o),m=-p*(l+a)+e+a,y=-g*(u+o)+i+o;if(p!==1||g!==1||m!==0||y!==0)for(const{line:v,points:w}of h(this,ia))ft._rescale(v,m,y,p,g,v),ft._rescale(w,m,y,p,g,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],r){const[s,a]=r,o=h(this,Gr),c=e-o[0],l=i-o[1];if(h(this,yc)===s&&h(this,bc)===a)for(const{line:u,points:d}of h(this,ia))ft._translate(u,c,l,u),ft._translate(d,c,l,d);else{const u=h(this,yc)/s,d=h(this,bc)/a;b(this,yc,s),b(this,bc,a);for(const{line:f,points:p}of h(this,ia))ft._rescale(f,c,l,u,d,f),ft._rescale(p,c,l,u,d,p);o[2]*=u,o[3]*=d}return o[0]=e,o[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`}}}get defaultSVGProperties(){const e=h(this,Gr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ft.svgRound(e[0])} ${ft.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}},Gr=new WeakMap,J_=new WeakMap,$_=new WeakMap,ia=new WeakMap,yc=new WeakMap,bc=new WeakMap,_w=new WeakMap,Cw=new WeakMap,L0=new WeakMap,or=new WeakSet,vh=function(e=h(this,L0)){const i=h(this,$_)+e/2*h(this,_w);return h(this,Cw)%180===0?[i/h(this,yc),i/h(this,bc)]:[i/h(this,bc),i/h(this,yc)]},KY=function(){const[e,i,r,s]=h(this,Gr),[a,o]=_(this,or,vh).call(this,0);return[e+a,i+o,r-2*a,s-2*o]},YY=function(){const e=b(this,Gr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of h(this,ia)){if(s.length<=12){for(let c=4,l=s.length;c<l;c+=6)mt.pointBoundingBox(s[c],s[c+1],e);continue}let a=s[4],o=s[5];for(let c=6,l=s.length;c<l;c+=6){const[u,d,f,p,g,m]=s.subarray(c,c+6);mt.bezierBoundingBox(a,o,u,d,f,p,g,m,e),a=g,o=m}}const[i,r]=_(this,or,vh).call(this);e[0]=Qr(e[0]-i,0,1),e[1]=Qr(e[1]-r,0,1),e[2]=Qr(e[2]+i,0,1),e[3]=Qr(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]},ZY=function(e){const[i,r]=_(this,or,vh).call(this);b(this,L0,e);const[s,a]=_(this,or,vh).call(this),[o,c]=[s-i,a-r],l=h(this,Gr);return l[0]-=o,l[1]-=c,l[2]+=2*o,l[3]+=2*c,l},CW),QY=class JY extends GY{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:fn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new JY(this._viewParameters);return t.updateAll(this),t}};var lu,UD,$Y;let kgt=(lu=class extends XY{constructor(e){super({...e,name:"inkEditor"});E(this,UD);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){fn.initialize(e,i),this._defaultDrawingOptions=new QY(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return Zt(this,"typesMap",new Map([[le.INK_THICKNESS,"stroke-width"],[le.INK_COLOR,"stroke"],[le.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,r,s,a){return new Cgt(e,i,r,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,r,s,a,o){return lT.deserialize(e,i,r,s,a,o)}static async deserialize(e,i,r){let s=null;if(e instanceof Ij){const{data:{inkLists:o,rect:c,rotation:l,id:u,color:d,opacity:f,borderStyle:{rawWidth:p},popupRef:g,contentsObj:m},parent:{page:{pageNumber:y}}}=e;s=e={annotationType:Mt.INK,color:Array.from(d),thickness:p,opacity:f,paths:{points:o},boxes:null,pageIndex:y-1,rect:c.slice(0),rotation:l,annotationElementId:u,id:u,deleted:!1,popupRef:g,comment:(m==null?void 0:m.str)||null}}const a=await super.deserialize(e,i,r);return a._initialData=s,e.comment&&a.setCommentData(e.comment),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new mD(this)),[["colorPicker",this._colorPicker]]}get colorType(){return le.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:r}){this._drawingOptions=lu.getDefaultDrawingOptions({stroke:mt.makeHexColor(...e),"stroke-width":i,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r,rect:s}=this.serializeDraw(e),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":c}}=this,l={annotationType:Mt.INK,color:fn._colorManager.convert(a),opacity:o,thickness:c,paths:{lines:i,points:r},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(l),e?(l.isCopy=!0,l):this.annotationElementId&&!_(this,UD,$Y).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:i,rect:r}=this.serializeDraw(!1),s={rect:r,thickness:this._drawingOptions["stroke-width"],points:i};return this.hasEditedComment&&(s.popup=this.comment),e.updateEdited(s),null}},UD=new WeakSet,$Y=function(e){const{color:i,thickness:r,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((o,c)=>o!==i[c])||e.thickness!==r||e.opacity!==s||e.pageIndex!==a},X(lu,"_type","ink"),X(lu,"_editorType",Mt.INK),X(lu,"_defaultDrawingOptions",null),lu),n3=class extends lT{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}};const m2=8,Gx=3;var Qx,O0,Re,i3,nl,tZ,eZ,r3,OP,nZ,iZ,rZ,s3,a3,sZ;let my=(Qx=class{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:r},s,a,o,c){let l=new OffscreenCanvas(1,1),u=l.getContext("2d",{alpha:!1});const d=200,f=u.font=`${i} ${r} ${d}px ${e}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:g,actualBoundingBoxAscent:m,actualBoundingBoxDescent:y,fontBoundingBoxAscent:v,fontBoundingBoxDescent:w,width:x}=u.measureText(t),A=1.5,S=Math.ceil(Math.max(Math.abs(p)+Math.abs(g)||0,x)*A),C=Math.ceil(Math.max(Math.abs(m)+Math.abs(y)||d,Math.abs(v)+Math.abs(w)||d)*A);l=new OffscreenCanvas(S,C),u=l.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=f,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,S,C),u.fillStyle="black",u.fillText(t,S*(A-1)/2,C*(3-A)/2);const k=_(this,Re,s3).call(this,u.getImageData(0,0,S,C).data),T=_(this,Re,rZ).call(this,k),R=_(this,Re,a3).call(this,T),F=_(this,Re,r3).call(this,k,S,C,R);return this.processDrawnLines({lines:{curves:F,width:S,height:C},pageWidth:s,pageHeight:a,rotation:o,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(t,e,i,r,s){const[a,o,c]=_(this,Re,sZ).call(this,t),[l,u]=_(this,Re,iZ).call(this,a,o,c,Math.hypot(o,c)*h(this,O0).sigmaSFactor,h(this,O0).sigmaR,h(this,O0).kernelSize),d=_(this,Re,a3).call(this,u),f=_(this,Re,r3).call(this,l,o,c,d);return this.processDrawnLines({lines:{curves:f,width:o,height:c},pageWidth:e,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:a,areContours:o}){r%180!==0&&([e,i]=[i,e]);const{curves:c,width:l,height:u}=t,d=t.thickness??0,f=[],p=Math.min(e/l,i/u),g=p/e,m=p/i,y=[];for(const{points:w}of c){const x=a?_(this,Re,nZ).call(this,w):w;if(!x)continue;y.push(x);const A=x.length,S=new Float32Array(A),C=new Float32Array(3*(A===2?2:A-2));if(f.push({line:C,points:S}),A===2){S[0]=x[0]*g,S[1]=x[1]*m,C.set([NaN,NaN,NaN,NaN,S[0],S[1]],0);continue}let[k,T,R,F]=x;k*=g,T*=m,R*=g,F*=m,S.set([k,T,R,F],0),C.set([NaN,NaN,NaN,NaN,k,T],0);for(let D=4;D<A;D+=2){const U=S[D]=x[D]*g,j=S[D+1]=x[D+1]*m;C.set(ft.createBezierPoints(k,T,R,F,U,j),(D-2)*3),[k,T,R,F]=[R,F,U,j]}}if(f.length===0)return null;const v=o?new n3:new lT;return v.build(f,e,i,1,r,o?0:d,s),{outline:v,newCurves:y,areContours:o,thickness:d,width:l,height:u}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:r,height:s}){let a=1/0,o=-1/0,c=0;for(const x of t){c+=x.length;for(let A=2,S=x.length;A<S;A++){const C=x[A]-x[A-2];a=Math.min(a,C),o=Math.max(o,C)}}let l;a>=-128&&o<=127?l=Int8Array:a>=-32768&&o<=32767?l=Int16Array:l=Int32Array;const u=t.length,d=m2+Gx*u,f=new Uint32Array(d);let p=0;f[p++]=d*Uint32Array.BYTES_PER_ELEMENT+(c-2*u)*l.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=r,f[p++]=s,f[p++]=e?0:1,f[p++]=Math.max(0,Math.floor(i??0)),f[p++]=u,f[p++]=l.BYTES_PER_ELEMENT;for(const x of t)f[p++]=x.length-2,f[p++]=x[0],f[p++]=x[1];const g=new CompressionStream("deflate-raw"),m=g.writable.getWriter();await m.ready,m.write(f);const y=l.prototype.constructor;for(const x of t){const A=new y(x.length-2);for(let S=2,C=x.length;S<C;S++)A[S-2]=x[S]-x[S-2];m.write(A)}m.close();const v=await new Response(g.readable).arrayBuffer(),w=new Uint8Array(v);return Qq(w)}static async decompressSignature(t){try{const e=Uft(t),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(e).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const x of i)a||(a=new Uint8Array(new Uint32Array(x.buffer,0,4)[0])),a.set(x,o),o+=x.length;const c=new Uint32Array(a.buffer,0,a.length>>2),l=c[1];if(l!==0)throw new Error(`Invalid version: ${l}`);const u=c[2],d=c[3],f=c[4]===0,p=c[5],g=c[6],m=c[7],y=[],v=(m2+Gx*g)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(m){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(a.buffer,v);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(a.buffer,v);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(a.buffer,v);break}o=0;for(let x=0;x<g;x++){const A=c[Gx*x+m2],S=new Float32Array(A+2);y.push(S);for(let C=0;C<Gx-1;C++)S[C]=c[Gx*x+m2+C+1];for(let C=0;C<A;C++)S[C+2]=S[C]+w[o++]}return{areContours:f,thickness:p,outlines:y,width:u,height:d}}catch(e){return Bt(`decompressSignature: ${e}`),null}}},O0=new WeakMap,Re=new WeakSet,i3=function(t,e,i,r){return i-=t,r-=e,i===0?r>0?0:4:i===1?r+6:2-r},nl=new WeakMap,tZ=function(t,e,i,r,s,a,o){const c=_(this,Re,i3).call(this,i,r,s,a);for(let l=0;l<8;l++){const u=(-l+c-o+16)%8,d=h(this,nl)[2*u],f=h(this,nl)[2*u+1];if(t[(i+d)*e+(r+f)]!==0)return u}return-1},eZ=function(t,e,i,r,s,a,o){const c=_(this,Re,i3).call(this,i,r,s,a);for(let l=0;l<8;l++){const u=(l+c+o+16)%8,d=h(this,nl)[2*u],f=h(this,nl)[2*u+1];if(t[(i+d)*e+(r+f)]!==0)return u}return-1},r3=function(t,e,i,r){const s=t.length,a=new Int32Array(s);for(let u=0;u<s;u++)a[u]=t[u]<=r?1:0;for(let u=1;u<i-1;u++)a[u*e]=a[u*e+e-1]=0;for(let u=0;u<e;u++)a[u]=a[e*i-1-u]=0;let o=1,c;const l=[];for(let u=1;u<i-1;u++){c=1;for(let d=1;d<e-1;d++){const f=u*e+d,p=a[f];if(p===0)continue;let g=u,m=d;if(p===1&&a[f-1]===0)o+=1,m-=1;else if(p>=1&&a[f+1]===0)o+=1,m+=1,p>1&&(c=p);else{p!==1&&(c=Math.abs(p));continue}const y=[d,u],v=m===d+1,w={isHole:v,points:y,id:o,parent:0};l.push(w);let x;for(const D of l)if(D.id===c){x=D;break}x?x.isHole?w.parent=v?x.parent:c:w.parent=v?c:x.parent:w.parent=v?c:0;const A=_(this,Re,tZ).call(this,a,e,u,d,g,m,0);if(A===-1){a[f]=-o,a[f]!==1&&(c=Math.abs(a[f]));continue}let S=h(this,nl)[2*A],C=h(this,nl)[2*A+1];const k=u+S,T=d+C;g=k,m=T;let R=u,F=d;for(;;){const D=_(this,Re,eZ).call(this,a,e,R,F,g,m,1);S=h(this,nl)[2*D],C=h(this,nl)[2*D+1];const U=R+S,j=F+C;y.push(j,U);const V=R*e+F;if(a[V+1]===0?a[V]=-o:a[V]===1&&(a[V]=o),U===u&&j===d&&R===k&&F===T){a[f]!==1&&(c=Math.abs(a[f]));break}else g=R,m=F,R=U,F=j}}}return l},OP=function(t,e,i,r){if(i-e<=4){for(let k=e;k<i-2;k+=2)r.push(t[k],t[k+1]);return}const s=t[e],a=t[e+1],o=t[i-4]-s,c=t[i-3]-a,l=Math.hypot(o,c),u=o/l,d=c/l,f=u*a-d*s,p=c/o,g=1/l,m=Math.atan(p),y=Math.cos(m),v=Math.sin(m),w=g*(Math.abs(y)+Math.abs(v)),x=g*(1-w+w**2),A=Math.max(Math.atan(Math.abs(v+y)*x),Math.atan(Math.abs(v-y)*x));let S=0,C=e;for(let k=e+2;k<i-2;k+=2){const T=Math.abs(f-u*t[k+1]+d*t[k]);T>S&&(C=k,S=T)}S>(l*A)**2?(_(this,Re,OP).call(this,t,e,C+2,r),_(this,Re,OP).call(this,t,C,i,r)):r.push(s,a)},nZ=function(t){const e=[],i=t.length;return _(this,Re,OP).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},iZ=function(t,e,i,r,s,a){const o=new Float32Array(a**2),c=-2*r**2,l=a>>1;for(let m=0;m<a;m++){const y=(m-l)**2;for(let v=0;v<a;v++)o[m*a+v]=Math.exp((y+(v-l)**2)/c)}const u=new Float32Array(256),d=-2*s**2;for(let m=0;m<256;m++)u[m]=Math.exp(m**2/d);const f=t.length,p=new Uint8Array(f),g=new Uint32Array(256);for(let m=0;m<i;m++)for(let y=0;y<e;y++){const v=m*e+y,w=t[v];let x=0,A=0;for(let C=0;C<a;C++){const k=m+C-l;if(!(k<0||k>=i))for(let T=0;T<a;T++){const R=y+T-l;if(R<0||R>=e)continue;const F=t[k*e+R],D=o[C*a+T]*u[Math.abs(F-w)];x+=F*D,A+=D}}const S=p[v]=Math.round(x/A);g[S]++}return[p,g]},rZ=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},s3=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let r=-1/0,s=1/0;for(let o=0,c=i.length;o<c;o++){const l=i[o]=t[o<<2];r=Math.max(r,l),s=Math.min(s,l)}const a=255/(r-s);for(let o=0,c=i.length;o<c;o++)i[o]=(i[o]-s)*a;return i},a3=function(t){let e,i=-1/0,r=-1/0;const s=t.findIndex(c=>c!==0);let a=s,o=s;for(e=s;e<256;e++){const c=t[e];c>i&&(e-a>r&&(r=e-a,o=e-1),i=c,a=e)}for(e=o-1;e>=0&&!(t[e]>t[e+1]);e--);return e},sZ=function(t){const e=t,{width:i,height:r}=t,{maxDim:s}=h(this,O0);let a=i,o=r;if(i>s||r>s){let f=i,p=r,g=Math.log2(Math.max(i,r)/s);const m=Math.floor(g);g=g===m?m-1:m;for(let v=0;v<g;v++){a=Math.ceil(f/2),o=Math.ceil(p/2);const w=new OffscreenCanvas(a,o);w.getContext("2d").drawImage(t,0,0,f,p,0,0,a,o),f=a,p=o,t!==e&&t.close(),t=w.transferToImageBitmap()}const y=Math.min(s/a,s/o);a=Math.round(a*y),o=Math.round(o*y)}const l=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});l.fillStyle="white",l.fillRect(0,0,a,o),l.filter="grayscale(1)",l.drawImage(t,0,0,t.width,t.height,0,0,a,o);const u=l.getImageData(0,0,a,o).data;return[_(this,Re,s3).call(this,u),a,o]},E(Qx,Re),E(Qx,O0,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),E(Qx,nl,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])),Qx),Tgt=class aZ extends GY{constructor(){super(),super.updateProperties({fill:fn._defaultLineColor,"stroke-width":0})}clone(){const t=new aZ;return t.updateAll(this),t}},Pgt=class oZ extends QY{constructor(t){super(t),super.updateProperties({stroke:fn._defaultLineColor,"stroke-width":1})}clone(){const t=new oZ(this._viewParameters);return t.updateAll(this),t}};var Df,wc,Ff,B0,Fr;let Rgt=(Fr=class extends XY{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});E(this,Df,!1);E(this,wc,null);E(this,Ff,null);E(this,B0,null);this._willKeepAspectRatio=!0,b(this,Ff,e.signatureData||null),b(this,wc,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){fn.initialize(e,i),this._defaultDrawingOptions=new Tgt,this._defaultDrawnSignatureOptions=new Pgt(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return Zt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!h(this,wc)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(h(this,Ff)){const{lines:s,mustSmooth:a,areContours:o,description:c,uuid:l,heightInPage:u}=h(this,Ff),{rawDims:{pageWidth:d,pageHeight:f},rotation:p}=this.parent.viewport,g=my.processDrawnLines({lines:s,pageWidth:d,pageHeight:f,rotation:p,innerMargin:Fr._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(g,u,c,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:h(this,wc)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){b(this,B0,e),this.addEditToolbar()}getUuid(){return h(this,B0)}get description(){return h(this,wc)}set description(e){b(this,wc,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:r,width:s,height:a}=h(this,Ff),o=Math.max(s,a),c=my.processDrawnLines({lines:{curves:e.map(l=>({points:l})),thickness:r,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,i,r,s){const{x:a,y:o}=this,{outline:c}=b(this,Ff,e);b(this,Df,c instanceof n3),this.description=r;let l;h(this,Df)?l=Fr.getDefaultDrawingOptions():(l=Fr._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:l});const[u,d]=this.parentDimensions,[,f]=this.pageDimensions;let p=i/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(u*this.width,d*this.height),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return my.process(e,i,r,s,Fr._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:r,pageHeight:s},rotation:a}=this.parent.viewport;return my.extractContoursFromText(e,i,r,s,a,Fr._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return my.processDrawnLines({lines:e,pageWidth:i,pageHeight:r,rotation:s,innerMargin:Fr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=Fr.getDefaultDrawingOptions():(this._drawingOptions=Fr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:r,rect:s}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":a}}=this,o={annotationType:Mt.SIGNATURE,isSignature:!0,areContours:h(this,Df),color:[0,0,0],thickness:h(this,Df)?0:a,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(o),e?(o.paths={lines:i,points:r},o.uuid=h(this,B0),o.isCopy=!0):o.lines=i,h(this,wc)&&(o.accessibilityData={type:"Figure",alt:h(this,wc)}),o}static deserializeDraw(e,i,r,s,a,o){return o.areContours?n3.deserialize(e,i,r,s,a,o):lT.deserialize(e,i,r,s,a,o)}static async deserialize(e,i,r){var a;const s=await super.deserialize(e,i,r);return b(s,Df,e.areContours),s.description=((a=e.accessibilityData)==null?void 0:a.alt)||"",b(s,B0,e.uuid),s}},Df=new WeakMap,wc=new WeakMap,Ff=new WeakMap,B0=new WeakMap,X(Fr,"_type","signature"),X(Fr,"_editorType",Mt.SIGNATURE),X(Fr,"_defaultDrawingOptions",null),Fr);var an,Ci,Mf,cu,Nf,kw,hu,z0,xc,ra,Tw,D2,ye,PS,RS,BP,zP,jP,o3,UP,lZ;let Dgt=(D2=class extends fn{constructor(e){super({...e,name:"stampEditor"});E(this,ye);E(this,an,null);E(this,Ci,null);E(this,Mf,null);E(this,cu,null);E(this,Nf,null);E(this,kw,"");E(this,hu,null);E(this,z0,!1);E(this,xc,null);E(this,ra,!1);E(this,Tw,!1);b(this,cu,e.bitmapUrl),b(this,Nf,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){fn.initialize(e,i)}static isHandlingMimeForPasting(e){return aO.includes(e)}static paste(e,i){i.pasteEditor({mode:Mt.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=e||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const l=c.output;return await this.setGuessedAltText(l),i&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}remove(){var e;h(this,Ci)&&(b(this,an,null),this._uiManager.imageManager.deleteId(h(this,Ci)),(e=h(this,hu))==null||e.remove(),b(this,hu,null),h(this,xc)&&(clearTimeout(h(this,xc)),b(this,xc,null))),super.remove()}rebuild(){if(!this.parent){h(this,Ci)&&_(this,ye,BP).call(this);return}super.rebuild(),this.div!==null&&(h(this,Ci)&&h(this,hu)===null&&_(this,ye,BP).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(h(this,Mf)||h(this,an)||h(this,cu)||h(this,Nf)||h(this,Ci)||h(this,z0))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),h(this,z0)||(h(this,an)?_(this,ye,zP).call(this):_(this,ye,BP).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:r,bitmap:s}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(b(this,Ci,r),s&&b(this,an,s),b(this,z0,!1),_(this,ye,zP).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;h(this,xc)!==null&&clearTimeout(h(this,xc)),b(this,xc,setTimeout(()=>{b(this,xc,null),_(this,ye,o3).call(this)},200))}copyCanvas(e,i,r=!1){var p;e||(e=224);const{width:s,height:a}=h(this,an),o=new wv;let c=h(this,an),l=s,u=a,d=null;if(i){if(s>i||a>i){const T=Math.min(i/s,i/a);l=Math.floor(s*T),u=Math.floor(a*T)}d=document.createElement("canvas");const g=d.width=Math.ceil(l*o.sx),m=d.height=Math.ceil(u*o.sy);h(this,ra)||(c=_(this,ye,jP).call(this,g,m));const y=d.getContext("2d");y.filter=this._uiManager.hcmFilter;let v="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(v="#8f8f9d",w="#42414d");const x=15,A=x*o.sx,S=x*o.sy,C=new OffscreenCanvas(A*2,S*2),k=C.getContext("2d");k.fillStyle=v,k.fillRect(0,0,A*2,S*2),k.fillStyle=w,k.fillRect(0,0,A,S),k.fillRect(A,S,A,S),y.fillStyle=y.createPattern(C,"repeat"),y.fillRect(0,0,g,m),y.drawImage(c,0,0,c.width,c.height,0,0,g,m)}let f=null;if(r){let g,m;if(o.symmetric&&c.width<e&&c.height<e)g=c.width,m=c.height;else if(c=h(this,an),s>e||a>e){const w=Math.min(e/s,e/a);g=Math.floor(s*w),m=Math.floor(a*w),h(this,ra)||(c=_(this,ye,jP).call(this,g,m))}const v=new OffscreenCanvas(g,m).getContext("2d",{willReadFrequently:!0});v.drawImage(c,0,0,c.width,c.height,0,0,g,m),f={width:g,height:m,data:v.getImageData(0,0,g,m).data}}return{canvas:d,width:l,height:u,imageData:f}}static async deserialize(e,i,r){var y;let s=null,a=!1;if(e instanceof yY){const{data:{rect:v,rotation:w,id:x,structParent:A,popupRef:S,contentsObj:C},container:k,parent:{page:{pageNumber:T}},canvas:R}=e;let F,D;R?(delete e.canvas,{id:F,bitmap:D}=r.imageManager.getFromCanvas(k.id,R),R.remove()):(a=!0,e._hasNoCanvas=!0);const U=((y=await i._structTree.getAriaAttributes(`${Cj}${x}`))==null?void 0:y.get("aria-label"))||"";s=e={annotationType:Mt.STAMP,bitmapId:F,bitmap:D,pageIndex:T-1,rect:v.slice(0),rotation:w,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:U},isSvg:!1,structParent:A,popupRef:S,comment:(C==null?void 0:C.str)||null}}const o=await super.deserialize(e,i,r),{rect:c,bitmap:l,bitmapUrl:u,bitmapId:d,isSvg:f,accessibilityData:p}=e;a?(r.addMissingCanvas(e.id,o),b(o,z0,!0)):d&&r.imageManager.isValidId(d)?(b(o,Ci,d),l&&b(o,an,l)):b(o,cu,u),b(o,ra,f);const[g,m]=o.pageDimensions;return o.width=(c[2]-c[0])/g,o.height=(c[3]-c[1])/m,p&&(o.altTextData=p),o._initialData=s,e.comment&&o.setCommentData(e.comment),b(o,Tw,!!s),o}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Mt.STAMP,bitmapId:h(this,Ci),pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,isSvg:h(this,ra),structTreeParentId:this._structTreeParentId};if(this.addComment(r),e)return r.bitmapUrl=_(this,ye,UP).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=_(this,ye,lZ).call(this,r);if(c.isSame)return null;c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,i===null)return r;i.stamps||(i.stamps=new Map);const o=h(this,ra)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(h(this,Ci)))i.stamps.set(h(this,Ci),{area:o,serialized:r}),r.bitmap=_(this,ye,UP).call(this,!1);else if(h(this,ra)){const c=i.stamps.get(h(this,Ci));o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=_(this,ye,UP).call(this,!1))}return r}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const i={rect:this.getPDFRect()};return this.hasEditedComment&&(i.popup=this.comment),e.updateEdited(i),null}},an=new WeakMap,Ci=new WeakMap,Mf=new WeakMap,cu=new WeakMap,Nf=new WeakMap,kw=new WeakMap,hu=new WeakMap,z0=new WeakMap,xc=new WeakMap,ra=new WeakMap,Tw=new WeakMap,ye=new WeakSet,PS=function(e,i=!1){if(!e){this.remove();return}b(this,an,e.bitmap),i||(b(this,Ci,e.id),b(this,ra,e.isSvg)),e.file&&b(this,kw,e.file.name),_(this,ye,zP).call(this)},RS=function(){if(b(this,Mf,null),this._uiManager.enableWaiting(!1),!!h(this,hu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,an)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,an)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},BP=function(){if(h(this,Ci)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,Ci)).then(r=>_(this,ye,PS).call(this,r,!0)).finally(()=>_(this,ye,RS).call(this));return}if(h(this,cu)){const r=h(this,cu);b(this,cu,null),this._uiManager.enableWaiting(!0),b(this,Mf,this._uiManager.imageManager.getFromUrl(r).then(s=>_(this,ye,PS).call(this,s)).finally(()=>_(this,ye,RS).call(this)));return}if(h(this,Nf)){const r=h(this,Nf);b(this,Nf,null),this._uiManager.enableWaiting(!0),b(this,Mf,this._uiManager.imageManager.getFromFile(r).then(s=>_(this,ye,PS).call(this,s)).finally(()=>_(this,ye,RS).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=aO.join(",");const i=this._uiManager._signal;b(this,Mf,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),_(this,ye,PS).call(this,s)}r()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>_(this,ye,RS).call(this))),e.click()},zP=function(){var d;const{div:e}=this;let{width:i,height:r}=h(this,an);const[s,a]=this.pageDimensions,o=.75;if(this.width)i=this.width*s,r=this.height*a;else if(i>o*s||r>o*a){const f=Math.min(o*s/i,o*a/r);i*=f,r*=f}const[c,l]=this.parentDimensions;this.setDims(i*c/s,r*l/a),this._uiManager.enableWaiting(!1);const u=b(this,hu,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=i/s,this.height=r/a,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),_(this,ye,o3).call(this),h(this,Tw)||(this.parent.addUndoableEditor(this),b(this,Tw,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,kw)&&this.div.setAttribute("aria-description",h(this,kw)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},jP=function(e,i){const{width:r,height:s}=h(this,an);let a=r,o=s,c=h(this,an);for(;a>2*e||o>2*i;){const l=a,u=o;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(a,o);d.getContext("2d").drawImage(c,0,0,l,u,0,0,a,o),c=d.transferToImageBitmap()}return c},o3=function(){const[e,i]=this.parentDimensions,{width:r,height:s}=this,a=new wv,o=Math.ceil(r*e*a.sx),c=Math.ceil(s*i*a.sy),l=h(this,hu);if(!l||l.width===o&&l.height===c)return;l.width=o,l.height=c;const u=h(this,ra)?h(this,an):_(this,ye,jP).call(this,o,c),d=l.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,o,c)},UP=function(e){if(e){if(h(this,ra)){const s=this._uiManager.imageManager.getSvgUrl(h(this,Ci));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=h(this,an),i.getContext("2d").drawImage(h(this,an),0,0),i.toDataURL()}if(h(this,ra)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Y1.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*Y1.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(h(this,an),0,0,h(this,an).width,h(this,an).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(h(this,an))},lZ=function(e){var o;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=e.pageIndex===i,a=(((o=e.accessibilityData)==null?void 0:o.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},X(D2,"_type","stamp"),X(D2,"_editorType",Mt.STAMP),D2);var j0,Pw,Sc,If,uu,sa,Lf,Rw,U0,il,du,ki,fu,Of,Dw,yt,Cs,Bf,cn,cZ,Jl,l3,c3,HP;let Fgt=(Cs=class{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:c,viewport:l,l10n:u}){E(this,cn);E(this,j0);E(this,Pw,!1);E(this,Sc,null);E(this,If,null);E(this,uu,null);E(this,sa,new Map);E(this,Lf,!1);E(this,Rw,!1);E(this,U0,!1);E(this,il,null);E(this,du,null);E(this,ki,null);E(this,fu,null);E(this,Of,null);E(this,Dw,-1);E(this,yt);const d=[...h(Cs,Bf).values()];if(!Cs._initialized){Cs._initialized=!0;for(const f of d)f.initialize(u,t)}t.registerEditorTypes(d),b(this,yt,t),this.pageIndex=e,this.div=i,b(this,j0,s),b(this,Sc,a),this.viewport=l,b(this,ki,c),this.drawLayer=o,this._structTree=r,h(this,yt).addLayer(this)}get isEmpty(){return h(this,sa).size===0}get isInvisible(){return this.isEmpty&&h(this,yt).getMode()===Mt.NONE}updateToolbar(t){h(this,yt).updateToolbar(t)}updateMode(t=h(this,yt).getMode()){switch(_(this,cn,HP).call(this),t){case Mt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Mt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Mt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of h(Cs,Bf).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,ki))==null?void 0:e.div)}setEditingState(t){h(this,yt).setEditingState(t)}addCommands(t){h(this,yt).addCommands(t)}cleanUndoStack(t){h(this,yt).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,Sc))==null||e.div.classList.toggle("disabled",!t)}async enable(){var i;b(this,U0,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(i=h(this,Of))==null||i.abort(),b(this,Of,null);const t=new Set;for(const r of h(this,sa).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(h(this,yt).removeChangedExistingAnnotation(r),t.add(r.annotationElementId));if(!h(this,Sc)){b(this,U0,!1);return}const e=h(this,Sc).getEditableAnnotations();for(const r of e){if(r.hide(),h(this,yt).isDeletedAnnotationElement(r.data.id)||t.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}b(this,U0,!1)}disable(){var r;if(b(this,Rw,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),h(this,ki)&&!h(this,Of)){b(this,Of,new AbortController);const s=h(this,yt).combinedSignal(h(this,Of));h(this,ki).div.addEventListener("pointerdown",a=>{const{clientX:c,clientY:l,timeStamp:u}=a,d=h(this,Dw);if(u-d>500){b(this,Dw,u);return}b(this,Dw,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const p=document.elementsFromPoint(c,l);if(f.toggle("getElements",!1),!this.div.contains(p[0]))return;let g;const m=new RegExp(`^${Xq}[0-9]+$`);for(const v of p)if(m.test(v.id)){g=v.id;break}if(!g)return;const y=h(this,sa).get(g);(y==null?void 0:y.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),y.dblclick())},{signal:s,capture:!0})}const t=new Map,e=new Map;for(const s of h(this,sa).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){t.set(s.annotationElementId,s);continue}else e.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(h(this,Sc)){const s=h(this,Sc).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(h(this,yt).isDeletedAnnotationElement(o)){a.updateEdited({deleted:!0});continue}let c=e.get(o);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=t.get(o),c&&(h(this,yt).addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}_(this,cn,HP).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of h(Cs,Bf).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,Rw,!1)}getEditableAnnotation(t){var e;return((e=h(this,Sc))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,yt).getActive()!==t&&h(this,yt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,ki))!=null&&t.div&&!h(this,fu)){b(this,fu,new AbortController);const e=h(this,yt).combinedSignal(h(this,fu));h(this,ki).div.addEventListener("pointerdown",_(this,cn,cZ).bind(this),{signal:e}),h(this,ki).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,ki))!=null&&t.div&&h(this,fu)&&(h(this,fu).abort(),b(this,fu,null),h(this,ki).div.classList.remove("highlighting"))}enableClick(){if(h(this,If))return;b(this,If,new AbortController);const t=h(this,yt).combinedSignal(h(this,If));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=h(this,If))==null||t.abort(),b(this,If,null)}attach(t){h(this,sa).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,yt).isDeletedAnnotationElement(e)&&h(this,yt).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,sa).delete(t.id),(e=h(this,j0))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,Rw)&&t.annotationElementId&&h(this,yt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,yt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,yt).addDeletedAnnotationElement(t.annotationElementId),fn.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,yt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!h(this,U0)),h(this,yt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,uu)&&(t._focusEventsAllowed=!1,b(this,uu,setTimeout(()=>{b(this,uu,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,yt)._signal}),e.focus())},0))),t._structTreeParentId=(i=h(this,j0))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return h(this,yt).getId()}combinedSignal(t){return h(this,yt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,cn,Jl))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await h(this,yt).updateMode(t.mode);const{offsetX:i,offsetY:r}=_(this,cn,c3).call(this),s=this.getNextId(),a=_(this,cn,l3).call(this,{parent:this,id:s,x:i,y:r,uiManager:h(this,yt),isCentered:!0,...e});a&&this.add(a)}async deserialize(t){var e;return await((e=h(Cs,Bf).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,yt)))||null}createAndAddNewEditor(t,e,i={}){const r=this.getNextId(),s=_(this,cn,l3).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:h(this,yt),isCentered:e,...i});return s&&this.add(s),s}addNewEditor(t={}){this.createAndAddNewEditor(_(this,cn,c3).call(this),!0,t)}setSelected(t){h(this,yt).setSelected(t)}toggleSelected(t){h(this,yt).toggleSelected(t)}unselect(t){h(this,yt).unselect(t)}pointerup(t){var r;const{isMac:e}=mr.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!h(this,Lf)||(b(this,Lf,!1),(r=h(this,cn,Jl))!=null&&r.isDrawer&&h(this,cn,Jl).supportMultipleDrawings))return;if(!h(this,Pw)){b(this,Pw,!0);return}const i=h(this,yt).getMode();if(i===Mt.STAMP||i===Mt.SIGNATURE){h(this,yt).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var r;if(h(this,yt).getMode()===Mt.HIGHLIGHT&&this.enableTextSelection(),h(this,Lf)){b(this,Lf,!1);return}const{isMac:e}=mr.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(b(this,Lf,!0),(r=h(this,cn,Jl))!=null&&r.isDrawer){this.startDrawingSession(t);return}const i=h(this,yt).getActive();b(this,Pw,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),h(this,il)){h(this,cn,Jl).startDrawing(this,h(this,yt),!1,t);return}h(this,yt).setCurrentDrawingSession(this),b(this,il,new AbortController);const e=h(this,yt).combinedSignal(h(this,il));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(b(this,du,null),this.commitOrRemove())},{signal:e}),h(this,cn,Jl).startDrawing(this,h(this,yt),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&b(this,du,e);return}h(this,du)&&setTimeout(()=>{var e;(e=h(this,du))==null||e.focus(),b(this,du,null)},0)}endDrawingSession(t=!1){return h(this,il)?(h(this,yt).setCurrentDrawingSession(null),h(this,il).abort(),b(this,il,null),b(this,du,null),h(this,cn,Jl).endDrawing(t)):null}findNewParent(t,e,i){const r=h(this,yt).findParent(e,i);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return h(this,il)?(this.endDrawingSession(),!0):!1}onScaleChanging(){h(this,il)&&h(this,cn,Jl).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=h(this,yt).getActive())==null?void 0:t.parent)===this&&(h(this,yt).commitOrRemove(),h(this,yt).setActiveEditor(null)),h(this,uu)&&(clearTimeout(h(this,uu)),b(this,uu,null));for(const i of h(this,sa).values())(e=h(this,j0))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,h(this,sa).clear(),h(this,yt).removeLayer(this)}render({viewport:t}){this.viewport=t,bv(this.div,t);for(const e of h(this,yt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,yt).commitOrRemove(),_(this,cn,HP).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,bv(this.div,{rotation:i}),e!==i)for(const r of h(this,sa).values())r.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,yt).viewParameters.realScale}},j0=new WeakMap,Pw=new WeakMap,Sc=new WeakMap,If=new WeakMap,uu=new WeakMap,sa=new WeakMap,Lf=new WeakMap,Rw=new WeakMap,U0=new WeakMap,il=new WeakMap,du=new WeakMap,ki=new WeakMap,fu=new WeakMap,Of=new WeakMap,Dw=new WeakMap,yt=new WeakMap,Bf=new WeakMap,cn=new WeakSet,cZ=function(t){h(this,yt).unselectAll();const{target:e}=t;if(e===h(this,ki).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&h(this,ki).div.contains(e)){const{isMac:i}=mr.platform;if(t.button!==0||t.ctrlKey&&i)return;h(this,yt).showAllEditors("highlight",!0,!0),h(this,ki).div.classList.add("free"),this.toggleDrawing(),aH.startHighlighting(this,h(this,yt).direction==="ltr",{target:h(this,ki).div,x:t.x,y:t.y}),h(this,ki).div.addEventListener("pointerup",()=>{h(this,ki).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,yt)._signal}),t.preventDefault()}},Jl=function(){return h(Cs,Bf).get(h(this,yt).getMode())},l3=function(t){const e=h(this,cn,Jl);return e?new e.prototype.constructor(t):null},c3=function(){const{x:t,y:e,width:i,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,t),a=Math.max(0,e),o=Math.min(window.innerWidth,t+i),c=Math.min(window.innerHeight,e+r),l=(s+o)/2-t,u=(a+c)/2-e,[d,f]=this.viewport.rotation%180===0?[l,u]:[u,l];return{offsetX:d,offsetY:f}},HP=function(){for(const t of h(this,sa).values())t.isEmpty()&&t.remove()},X(Cs,"_initialized",!1),E(Cs,Bf,new Map([Agt,kgt,Dgt,aH,Rgt].map(t=>[t._editorType,t]))),Cs);var rl,Xr,H0,_n,tC,HD,hZ,ih,h3,uZ,u3;let Mgt=(_n=class{constructor({pageIndex:t}){E(this,ih);E(this,rl,null);E(this,Xr,new Map);E(this,H0,new Map);this.pageIndex=t}setParent(t){if(!h(this,rl)){b(this,rl,t);return}if(h(this,rl)!==t){if(h(this,Xr).size>0)for(const e of h(this,Xr).values())e.remove(),t.append(e);b(this,rl,t)}}static get _svgFactory(){return Zt(this,"_svgFactory",new vD)}draw(t,e=!1,i=!1){const r=fe(_n,tC)._++,s=_(this,ih,h3).call(this),a=_n._svgFactory.createElement("defs");s.append(a);const o=_n._svgFactory.createElement("path");a.append(o);const c=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke"),e&&h(this,H0).set(r,o);const l=i?_(this,ih,uZ).call(this,a,c):null,u=_n._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${c}`),this.updateProperties(s,t),h(this,Xr).set(r,s),{id:r,clipPathId:`url(#${l})`}}drawOutline(t,e){const i=fe(_n,tC)._++,r=_(this,ih,h3).call(this),s=_n._svgFactory.createElement("defs");r.append(s);const a=_n._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let c;if(e){const d=_n._svgFactory.createElement("mask");s.append(d),c=`mask_p${this.pageIndex}_${i}`,d.setAttribute("id",c),d.setAttribute("maskUnits","objectBoundingBox");const f=_n._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=_n._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const l=_n._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),c&&l.setAttribute("mask",`url(#${c})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(r,t),h(this,Xr).set(i,r),i}finalizeDraw(t,e){h(this,H0).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var c;if(!e)return;const{root:i,bbox:r,rootClass:s,path:a}=e,o=typeof t=="number"?h(this,Xr).get(t):t;if(o){if(i&&_(this,ih,u3).call(this,o,i),r&&_(c=_n,HD,hZ).call(c,o,r),s){const{classList:l}=o;for(const[u,d]of Object.entries(s))l.toggle(u,d)}if(a){const u=o.firstChild.firstChild;_(this,ih,u3).call(this,u,a)}}}updateParent(t,e){if(e===this)return;const i=h(this,Xr).get(t);i&&(h(e,rl).append(i),h(this,Xr).delete(t),h(e,Xr).set(t,i))}remove(t){h(this,H0).delete(t),h(this,rl)!==null&&(h(this,Xr).get(t).remove(),h(this,Xr).delete(t))}destroy(){b(this,rl,null);for(const t of h(this,Xr).values())t.remove();h(this,Xr).clear(),h(this,H0).clear()}},rl=new WeakMap,Xr=new WeakMap,H0=new WeakMap,tC=new WeakMap,HD=new WeakSet,hZ=function(t,[e,i,r,s]){const{style:a}=t;a.top=`${100*i}%`,a.left=`${100*e}%`,a.width=`${100*r}%`,a.height=`${100*s}%`},ih=new WeakSet,h3=function(){const t=_n._svgFactory.create(1,1,!0);return h(this,rl).append(t),t.setAttribute("aria-hidden",!0),t},uZ=function(t,e){const i=_n._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=_n._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),r},u3=function(t,e){for(const[i,r]of Object.entries(e))r===null?t.removeAttribute(i):t.setAttribute(i,r)},E(_n,HD),E(_n,tC,0),_n);globalThis._pdfjsTestingUtils={HighlightOutliner:KO};globalThis.pdfjsLib={AbortException:Qp,AnnotationEditorLayer:Fgt,AnnotationEditorParamsType:le,AnnotationEditorType:Mt,AnnotationEditorUIManager:vE,AnnotationLayer:Sgt,AnnotationMode:Gd,AnnotationType:Gn,build:ngt,ColorPicker:nY,createValidAbsoluteUrl:qq,DOMSVGFactory:vD,DrawLayer:Mgt,FeatureTest:mr,fetchData:sT,getDocument:Uv,getFilenameFromUrl:Hft,getPdfFilenameFromUrl:Wft,getRGB:sM,getUuid:Zq,getXfaPageViewport:Gft,GlobalWorkerOptions:Kc,ImageKind:dP,InvalidPDFException:nO,isDataScheme:rM,isPdfFile:Pj,isValidExplicitDest:spt,MathClamp:Qr,noContextMenu:zo,normalizeUnicode:zft,OPS:mE,OutputScale:wv,PasswordResponses:Rft,PDFDataRangeTransport:$K,PDFDateString:rO,PDFWorker:IO,PermissionFlag:Pft,PixelsPerInch:Y1,RenderingCancelledException:Tj,ResponseException:pD,setLayerDimensions:bv,shadow:Zt,SignatureExtractor:my,stopEvent:qn,SupportedImageMimeTypes:aO,TextLayer:DO,TouchManager:mK,updateUrlHash:Kq,Util:mt,VerbosityLevel:eM,version:Mj,XfaLayer:rY};typeof window<"u"&&"Worker"in window&&(Kc.workerPort=new Worker(new URL("/assets/pdf.worker-YzoDWrsX.js",import.meta.url),{type:"module"}));function Ngt(){const[n,t]=I.useState("1-2"),[e,i]=I.useState([]),[r,s]=I.useState([]),[a,o]=I.useState(null),[c,l]=I.useState(!1),[u,d]=I.useState("smooth");I.useEffect(()=>{if(!a)return;(async()=>{const m=await a.arrayBuffer(),y=await Uv({data:m}).promise,v=[];for(let w=1;w<=y.numPages;w++){const x=await y.getPage(w),A=x.getViewport({scale:.2}),S=document.createElement("canvas"),C=S.getContext("2d");S.height=A.height,S.width=A.width,await x.render({canvasContext:C,viewport:A}).promise,v.push({pageNum:w,src:S.toDataURL()})}i(v)})()},[a]),I.useEffect(()=>{r.length>0&&t(r.sort((g,m)=>g-m).join(","))},[r]);const f=g=>{s(m=>m.includes(g)?m.filter(y=>y!==g):[...m,g])},p=async(g,m)=>{const y=g[0];o(y);const v=new FormData;if(v.append("file",y),c?v.append("mode","split-all"):v.append("pages",n),u==="quick"){const w=await fetch("https://quicktools-api.vercel.app/split",{method:"POST",body:v});if(!w.ok)throw new Error("Split failed");const x=await w.blob();return window.URL.createObjectURL(x)}return new Promise((w,x)=>{const A=new XMLHttpRequest;A.open("POST","https://quicktools-api.vercel.app/split",!0),A.upload.onprogress=S=>{if(S.lengthComputable){const C=Math.round(S.loaded/S.total*100);m(C)}},A.responseType="blob",A.onload=()=>{if(A.status===200){const S=window.URL.createObjectURL(A.response);w(S)}else x(new Error("Split failed"))},A.onerror=()=>x(new Error("Network error")),A.send(v)})};return P.jsxs("div",{className:"max-w-3xl mx-auto py-10",children:[P.jsx("h1",{className:"text-2xl font-bold mb-2",children:"✂️ Split PDF"}),P.jsxs("p",{className:"text-gray-600 mb-6",children:["Split your PDF by ",P.jsx("b",{children:"page range"}),", select from ",P.jsx("b",{children:"thumbnails"}),", or"," ",P.jsx("b",{children:"split every page into separate files"}),"."]}),P.jsxs("div",{className:"mb-6 flex gap-3",children:[P.jsx("button",{onClick:()=>d("quick"),className:`px-4 py-2 rounded-lg text-sm font-semibold ${u==="quick"?"bg-green-500 text-white":"bg-gray-200 text-gray-800"}`,children:"⚡ Quick Mode"}),P.jsx("button",{onClick:()=>d("smooth"),className:`px-4 py-2 rounded-lg text-sm font-semibold ${u==="smooth"?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"}`,children:"🎨 Smooth Mode"})]}),!c&&P.jsxs("div",{className:"mb-6",children:[P.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Page Range"}),P.jsx("input",{type:"text",value:n,onChange:g=>t(g.target.value),placeholder:"Example: 1-3,5,7-9",className:"w-full border px-3 py-2 rounded-lg text-sm"}),P.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter page numbers, use commas (,) or dashes (-) for ranges."})]}),!c&&e.length>0&&P.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:e.map(g=>P.jsxs("div",{onClick:()=>f(g.pageNum),className:`border rounded-lg cursor-pointer overflow-hidden ${r.includes(g.pageNum)?"ring-2 ring-blue-500":"hover:ring-1 hover:ring-gray-400"}`,children:[P.jsx("img",{src:g.src,alt:`Page ${g.pageNum}`,className:"w-full"}),P.jsxs("p",{className:"text-xs text-center py-1 bg-gray-100",children:["Page ",g.pageNum]})]},g.pageNum))}),P.jsxs("div",{className:"mb-6",children:[P.jsx("button",{onClick:()=>l(!c),className:`px-4 py-2 rounded-lg text-sm font-semibold ${c?"bg-red-500 text-white hover:bg-red-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:c?"Cancel Split All":"🔀 Split Every Page"}),c&&P.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Active mode: every page will be separated into individual PDF files (ZIP)."})]}),P.jsx(Ll,{title:"Split PDF",description:"Upload a PDF and choose how to split.",actionLabel:c?"Split All Pages":"Split Now",processFiles:p,multiple:!1,outputName:c?"split-pages.zip":"split.pdf"})]})}function Igt(){const[n,t]=I.useState(90),[e,i]=I.useState(null),[r,s]=I.useState([]),[a,o]=I.useState({});I.useEffect(()=>{if(!e)return;(async()=>{const d=await e.arrayBuffer(),f=await Uv({data:d}).promise,p=[];for(let g=1;g<=f.numPages;g++){const m=await f.getPage(g),y=m.getViewport({scale:.2}),v=document.createElement("canvas"),w=v.getContext("2d");v.height=y.height,v.width=y.width,await m.render({canvasContext:w,viewport:y}).promise,p.push({pageNum:g,src:v.toDataURL()})}s(p)})()},[e]);const c=u=>{o(d=>{const p=((d[u]||0)+90)%360;return{...d,[u]:p===0?n:p}})},l=async(u,d)=>{const f=u[0];i(f);const p=new FormData;p.append("file",f),p.append("globalAngle",n),p.append("pageAngles",JSON.stringify(a));const g=await fetch("https://quicktools-api.vercel.app/rotate",{method:"POST",body:p});if(!g.ok)throw new Error("Rotate failed");for(let y=0;y<=100;y+=25)await new Promise(v=>setTimeout(v,150)),d(y);const m=await g.blob();return window.URL.createObjectURL(m)};return P.jsxs("div",{className:"max-w-3xl mx-auto py-10",children:[P.jsx("h1",{className:"text-2xl font-bold mb-2",children:"🔄 Rotate PDF"}),P.jsx("p",{className:"text-gray-600 mb-6",children:"Rotate all pages to a global angle, or click individual thumbnails to rotate specific pages."}),P.jsxs("div",{className:"mb-6",children:[P.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Global Rotation Angle"}),P.jsxs("select",{value:n,onChange:u=>t(Number(u.target.value)),className:"w-full border px-3 py-2 rounded-lg text-sm",children:[P.jsx("option",{value:90,children:"90° Clockwise"}),P.jsx("option",{value:180,children:"180°"}),P.jsx("option",{value:270,children:"270° Counterclockwise"})]})]}),r.length>0&&P.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:r.map(u=>P.jsxs("div",{onClick:()=>c(u.pageNum),className:"border rounded-lg cursor-pointer overflow-hidden hover:ring-2 hover:ring-blue-400",children:[P.jsx("img",{src:u.src,alt:`Page ${u.pageNum}`,className:"w-full",style:{transform:`rotate(${a[u.pageNum]||0}deg)`,transition:"transform 0.3s"}}),P.jsxs("p",{className:"text-xs text-center py-1 bg-gray-100",children:["Page ",u.pageNum," –"," ",a[u.pageNum]||n,"°"]})]},u.pageNum))}),P.jsx(Ll,{title:"Rotate PDF",description:"Upload a PDF and rotate pages by global or per-page angles.",actionLabel:"Rotate Now",processFiles:l,multiple:!1,outputName:"rotated.pdf"})]})}function Lgt(){const[n,t]=I.useState(null),[e,i]=I.useState([]),[r,s]=I.useState([]),[a,o]=I.useState("deleted.pdf"),c=p=>{const g=p.target.files[0];g&&g.type==="application/pdf"&&(t(g),s([]))},l=p=>{p.preventDefault();const g=p.dataTransfer.files[0];g&&g.type==="application/pdf"&&(t(g),s([]))},u=p=>p.preventDefault();I.useEffect(()=>{if(!n)return;(async()=>{const g=await n.arrayBuffer(),m=await Uv({data:g}).promise,y=[];for(let v=1;v<=m.numPages;v++){const w=await m.getPage(v),x=w.getViewport({scale:.25}),A=document.createElement("canvas"),S=A.getContext("2d");A.height=x.height,A.width=x.width,await w.render({canvasContext:S,viewport:x}).promise,y.push({pageNum:v,src:A.toDataURL()})}i(y)})()},[n]);const d=p=>{s(g=>g.includes(p)?g.filter(m=>m!==p):[...g,p])},f=async(p,g)=>{if(!n)throw new Error("No file selected");const m=new FormData;m.append("file",n),m.append("deletePages",JSON.stringify(r));const y=await fetch("https://quicktools-api.vercel.app/delete",{method:"POST",body:m});if(!y.ok)throw new Error("Delete failed");for(let w=0;w<=100;w+=25)await new Promise(x=>setTimeout(x,150)),g(w);const v=await y.blob();return window.URL.createObjectURL(v)};return P.jsxs("div",{className:"p-6 max-w-3xl mx-auto bg-white rounded-2xl shadow-lg border border-red-200",children:[P.jsx("h1",{className:"text-2xl font-bold mb-2 text-red-600",children:"🗑️ Delete Pages"}),P.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Upload or drag & drop a PDF → ",P.jsx("b",{children:"Click thumbnails"})," to mark pages ❌ → Delete → Download."]}),P.jsx("input",{type:"file",accept:"application/pdf",onChange:c,className:"hidden",id:"fileInput"}),P.jsx("label",{htmlFor:"fileInput",className:"cursor-pointer inline-block px-4 py-2 mb-4 bg-red-500 text-white rounded-lg shadow hover:bg-red-600 transition",children:"📂 Choose PDF File"}),P.jsx("div",{onDrop:l,onDragOver:u,className:"border-2 border-dashed border-red-400 rounded-lg p-8 mb-6 text-center text-gray-600 hover:bg-red-50 transition",children:"🚀 Or Drag & Drop your PDF file here"}),e.length>0&&P.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:e.map(p=>P.jsxs("div",{onClick:()=>d(p.pageNum),className:`border rounded-lg cursor-pointer overflow-hidden ${r.includes(p.pageNum)?"ring-2 ring-red-500":"hover:ring-1 hover:ring-gray-400"}`,children:[P.jsx("img",{src:p.src,alt:`Page ${p.pageNum}`,className:"w-full"}),P.jsxs("p",{className:"text-xs text-center py-1 bg-gray-100",children:["Page ",p.pageNum," ",r.includes(p.pageNum)?"❌":""]})]},p.pageNum))}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"✏️ Output File Name"}),P.jsx("input",{type:"text",value:a,onChange:p=>o(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-red-200"})]}),P.jsx(Ll,{title:"",description:"",actionLabel:"🗑️ Delete Pages",processFiles:f,multiple:!1,outputName:a||"deleted.pdf",files:n?[n]:[]})]})}function Ogt({thumb:n,angle:t,onRotate:e,onDelete:i}){const{attributes:r,listeners:s,setNodeRef:a,transform:o,transition:c}=Gq({id:n.pageNum}),l={transform:K1.Transform.toString(o),transition:c};return P.jsxs("div",{ref:a,style:l,...r,...s,className:"border rounded-lg cursor-move overflow-hidden hover:ring-2 hover:ring-indigo-400 relative",children:[P.jsx("img",{src:n.src,alt:`Page ${n.pageNum}`,className:"w-full",style:{transform:`rotate(${t}deg)`,transition:"transform 0.3s"}}),P.jsxs("p",{className:"text-xs text-center py-1 bg-gray-100",children:["Page ",n.pageNum," – ",t,"°"]}),P.jsxs("div",{className:"absolute top-1 right-1 flex gap-1",children:[P.jsx("button",{onClick:u=>{u.stopPropagation(),e(n.pageNum)},className:"px-2 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600",children:"⟳"}),P.jsx("button",{onClick:u=>{u.stopPropagation(),i(n.pageNum)},className:"px-2 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600",children:"❌"})]})]})}function Bgt(){const[n,t]=I.useState(null),[e,i]=I.useState([]),[r,s]=I.useState({}),[a,o]=I.useState([]),[c,l]=I.useState([]),[u,d]=I.useState("organized-pages.pdf"),f=Aq(Sq(QF)),p=A=>{const S=A.target.files[0];S&&S.type==="application/pdf"&&(t(S),s({}),o([]))},g=A=>{A.preventDefault();const S=A.dataTransfer.files[0];S&&S.type==="application/pdf"&&(t(S),s({}),o([]))},m=A=>A.preventDefault();I.useEffect(()=>{if(!n)return;(async()=>{const S=await n.arrayBuffer(),C=await Uv({data:S}).promise,k=[];for(let T=1;T<=C.numPages;T++){const R=await C.getPage(T),F=R.getViewport({scale:.25}),D=document.createElement("canvas"),U=D.getContext("2d");D.height=F.height,D.width=F.width,await R.render({canvasContext:U,viewport:F}).promise,k.push({pageNum:T,src:D.toDataURL()})}i(k),l(k.map(T=>T.pageNum))})()},[n]);const y=A=>{s(S=>{const k=((S[A]||0)+90)%360;return{...S,[A]:k}})},v=A=>{o(S=>S.includes(A)?S.filter(C=>C!==A):[...S,A])},w=A=>{const{active:S,over:C}=A;if(C&&S.id!==C.id){const k=c.indexOf(S.id),T=c.indexOf(C.id);l(R=>tM(R,k,T))}},x=async(A,S)=>{if(!n)throw new Error("No file selected");const C=new FormData;C.append("file",n),C.append("pageOrder",JSON.stringify(c)),C.append("pagesDeleted",JSON.stringify(a)),C.append("pageAngles",JSON.stringify(r));const k=await fetch("https://quicktools-api.vercel.app/organize-pages",{method:"POST",body:C});if(!k.ok)throw new Error("Organize pages failed");for(let R=0;R<=100;R+=20)await new Promise(F=>setTimeout(F,150)),S(R);const T=await k.blob();return window.URL.createObjectURL(T)};return P.jsxs("div",{className:"p-6 max-w-4xl mx-auto bg-white rounded-2xl shadow-lg border border-indigo-200",children:[P.jsx("h1",{className:"text-2xl font-bold mb-2 text-indigo-600",children:"📑 Organize Pages"}),P.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Upload a PDF → ",P.jsx("b",{children:"Reorder pages"})," (drag & drop) → ",P.jsx("b",{children:"Rotate"})," ⟳ →",P.jsx("b",{children:" Delete"})," ❌ → Download organized PDF."]}),P.jsx("input",{type:"file",accept:"application/pdf",onChange:p,className:"hidden",id:"fileInput"}),P.jsx("label",{htmlFor:"fileInput",className:"cursor-pointer inline-block px-4 py-2 mb-4 bg-indigo-500 text-white rounded-lg shadow hover:bg-indigo-600 transition",children:"📂 Choose PDF File"}),P.jsx("div",{onDrop:g,onDragOver:m,className:"border-2 border-dashed border-indigo-400 rounded-lg p-8 mb-6 text-center text-gray-600 hover:bg-indigo-50 transition",children:"🚀 Or Drag & Drop your PDF file here"}),e.length>0&&P.jsx(Bq,{sensors:f,collisionDetection:Eq,onDragEnd:w,children:P.jsx(Wq,{items:c,strategy:jq,children:P.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:c.map(A=>{const S=e.find(C=>C.pageNum===A);return P.jsx(Ogt,{thumb:S,angle:r[A]||0,onRotate:y,onDelete:v},S.pageNum)})})})}),P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"✏️ Output File Name"}),P.jsx("input",{type:"text",value:u,onChange:A=>d(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-indigo-200"})]}),P.jsx(Ll,{title:"",description:"",actionLabel:"📑 Organize Pages",processFiles:x,multiple:!1,outputName:u||"organized-pages.pdf",files:n?[n]:[]})]})}const zgt=async(n,t)=>{t(20);const e=n[0];await new Promise(s=>setTimeout(s,1e3)),t(60);const i=await e.arrayBuffer(),r=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});return t(100),URL.createObjectURL(r)};function jgt(){return P.jsxs("div",{className:"p-6",children:[P.jsx("h1",{className:"text-2xl font-bold mb-4",children:"PDF ➝ Word Converter"}),P.jsxs("p",{className:"text-gray-600 mb-6",children:["Upload fail ",P.jsx("b",{children:"PDF"})," anda dan convert ke format ",P.jsx("b",{children:"Word (.docx)"}),"."]}),P.jsx(Ll,{title:"PDF to Word",description:"Convert your PDF to editable Word document",actionLabel:"Convert to Word",processFiles:zgt,multiple:!1,outputName:"converted.docx",accept:".pdf"})]})}const Ugt=async(n,t)=>{t(25);const e=n[0];await new Promise(s=>setTimeout(s,1e3)),t(70);const i=await e.arrayBuffer(),r=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});return t(100),URL.createObjectURL(r)};function Hgt(){return P.jsxs("div",{className:"p-6",children:[P.jsx("h1",{className:"text-2xl font-bold mb-4",children:"PDF ➝ Excel Converter"}),P.jsxs("p",{className:"text-gray-600 mb-6",children:["Upload fail ",P.jsx("b",{children:"PDF"})," anda dan extract jadual ke format ",P.jsx("b",{children:"Excel (.xlsx)"}),"."]}),P.jsx(Ll,{actionLabel:"Convert to Excel",processFiles:Ugt,multiple:!1,outputName:"converted.xlsx",accept:".pdf"})]})}const Wgt=async(n,t)=>{t(30);const e=n[0];await new Promise(s=>setTimeout(s,1e3)),t(75);const i=await e.arrayBuffer(),r=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.presentationml.presentation"});return t(100),URL.createObjectURL(r)};function Vgt(){return P.jsxs("div",{className:"p-6",children:[P.jsx("h1",{className:"text-2xl font-bold mb-4",children:"PDF ➝ PowerPoint Converter"}),P.jsxs("p",{className:"text-gray-600 mb-6",children:["Upload fail ",P.jsx("b",{children:"PDF"})," anda dan convert ke format ",P.jsx("b",{children:"PowerPoint (.pptx)"}),"."]}),P.jsx(Ll,{actionLabel:"Convert to PPT",processFiles:Wgt,multiple:!1,outputName:"converted.pptx",accept:".pdf"})]})}const Ggt=async(n,t)=>{t(40);const e=n[0];await new Promise(s=>setTimeout(s,1e3)),t(80);const i=await e.arrayBuffer(),r=new Blob([i],{type:"image/jpeg"});return t(100),URL.createObjectURL(r)};function Xgt(){return P.jsxs("div",{className:"p-6",children:[P.jsx("h1",{className:"text-2xl font-bold mb-4",children:"PDF ➝ Image Converter"}),P.jsxs("p",{className:"text-gray-600 mb-6",children:["Export setiap page dalam ",P.jsx("b",{children:"PDF"})," anda sebagai ",P.jsx("b",{children:"gambar (JPG/PNG)"}),"."]}),P.jsx(Ll,{actionLabel:"Convert to Image",processFiles:Ggt,multiple:!1,outputName:"converted.jpg",accept:".pdf"})]})}const qgt=async(n,t)=>{t(35),await new Promise(r=>setTimeout(r,1500)),t(85);const e=await Promise.all(n.map(r=>r.arrayBuffer())),i=new Blob(e,{type:"application/pdf"});return t(100),URL.createObjectURL(i)};function Kgt(){return P.jsxs("div",{className:"p-6",children:[P.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Image ➝ PDF Converter"}),P.jsxs("p",{className:"text-gray-600 mb-6",children:["Upload beberapa ",P.jsx("b",{children:"gambar"})," dan combine jadi satu ",P.jsx("b",{children:"fail PDF"}),"."]}),P.jsx(Ll,{actionLabel:"Convert to PDF",processFiles:qgt,multiple:!0,outputName:"converted.pdf",accept:".png,.jpg,.jpeg,image/*"})]})}const Ygt=async(n,t)=>{t(20);const e=n[0];await new Promise(s=>setTimeout(s,1e3)),t(60);const i=await e.arrayBuffer(),r=new Blob([i],{type:"application/pdf"});return t(100),URL.createObjectURL(r)};function Zgt(){return P.jsxs("div",{className:"p-6",children:[P.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Word ➝ PDF Converter"}),P.jsxs("p",{className:"text-gray-600 mb-6",children:["Upload dokumen ",P.jsx("b",{children:"Word (.docx / .doc)"})," dan convert ke format PDF."]}),P.jsx(Ll,{title:"Word to PDF",description:"Convert your Word document to PDF",actionLabel:"Convert to PDF",processFiles:Ygt,multiple:!1,outputName:"converted.pdf",accept:".docx,.doc"})]})}function Qgt(){const[n,t]=I.useState(null),[e,i]=I.useState(""),[r,s]=I.useState(null),a=c=>{t(c.target.files[0])},o=async()=>{if(!n||!e){alert("Please upload a PDF and enter a password.");return}const c=await n.arrayBuffer(),l=await Is.load(c);l.setTitle("Protected PDF"),l.setSubject(`Password required: ${e}`);const u=await l.save(),d=new Blob([u],{type:"application/pdf"});s(URL.createObjectURL(d))};return P.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:P.jsxs("div",{className:"w-full max-w-lg bg-white rounded-xl shadow p-8 text-center",children:[P.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Protect PDF"}),P.jsx("p",{className:"text-gray-500 mb-6",children:"Upload a PDF and set a password (demo, not full encryption)"}),P.jsx("input",{type:"file",accept:"application/pdf",onChange:a,className:"mb-4"}),P.jsx("input",{type:"password",placeholder:"Enter password",value:e,onChange:c=>i(c.target.value),className:"w-full border p-2 rounded mb-4"}),P.jsx("button",{onClick:o,className:"px-4 py-2 rounded bg-gray-800 text-white hover:bg-gray-900 transition",children:"Protect PDF"}),r&&P.jsxs("div",{className:"mt-6",children:[P.jsx("a",{href:r,download:"protected.pdf",className:"px-4 py-2 rounded bg-green-500 text-white hover:bg-green-600 transition",children:"Download Protected PDF"}),P.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["(Password set: ",P.jsx("b",{children:e})," — demo mode only)"]})]})]})})}function Jgt(){const[n,t]=I.useState(null),[e,i]=I.useState(null),r=a=>{t(a.target.files[0])},s=async()=>{if(!n){alert("Please upload a PDF file.");return}const a=await n.arrayBuffer(),o=await Is.load(a);o.setSubject("");const c=await o.save(),l=new Blob([c],{type:"application/pdf"});i(URL.createObjectURL(l))};return P.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:P.jsxs("div",{className:"w-full max-w-lg bg-white rounded-xl shadow p-8 text-center",children:[P.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Unlock PDF"}),P.jsx("p",{className:"text-gray-500 mb-6",children:"Upload a password-protected PDF to unlock (demo mode)"}),P.jsx("input",{type:"file",accept:"application/pdf",onChange:r,className:"mb-4"}),P.jsx("button",{onClick:s,className:"px-4 py-2 rounded bg-gray-700 text-white hover:bg-gray-800 transition",children:"Unlock PDF"}),e&&P.jsxs("div",{className:"mt-6",children:[P.jsx("a",{href:e,download:"unlocked.pdf",className:"px-4 py-2 rounded bg-green-500 text-white hover:bg-green-600 transition",children:"Download Unlocked PDF"}),P.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"(Note: This is a demo – real decryption needs backend)"})]})]})})}function d3(){return d3=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},d3.apply(null,arguments)}function $gt(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function t0t(n,t){if(n==null)return{};var e,i,r=$gt(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)e=s[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function f3(n){"@babel/helpers - typeof";return f3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f3(n)}function e0t(n,t,e){return Object.defineProperty(n,"prototype",{writable:!1}),n}function n0t(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function p3(n,t){return p3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},p3(n,t)}function i0t(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&p3(n,t)}function yD(n){return yD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yD(n)}function dZ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dZ=function(){return!!n})()}function r0t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function s0t(n,t){if(t&&(f3(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r0t(n)}function a0t(n){var t=dZ();return function(){var e,i=yD(n);if(t){var r=yD(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return s0t(this,e)}}var fZ={exports:{}},o0t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",l0t=o0t,c0t=l0t;function pZ(){}function gZ(){}gZ.resetWarningCache=pZ;var h0t=function(){function n(i,r,s,a,o,c){if(c!==c0t){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}n.isRequired=n;function t(){return n}var e={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:gZ,resetWarningCache:pZ};return e.PropTypes=e,e};fZ.exports=h0t();var Lj=fZ.exports;const js=hd(Lj);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function Sv(n,t,e){this.x=n,this.y=t,this.time=e||new Date().getTime()}Sv.prototype.velocityFrom=function(n){return this.time!==n.time?this.distanceTo(n)/(this.time-n.time):1};Sv.prototype.distanceTo=function(n){return Math.sqrt(Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2))};Sv.prototype.equals=function(n){return this.x===n.x&&this.y===n.y&&this.time===n.time};function Oj(n,t,e,i){this.startPoint=n,this.control1=t,this.control2=e,this.endPoint=i}Oj.prototype.length=function(){for(var n=10,t=0,e=void 0,i=void 0,r=0;r<=n;r+=1){var s=r/n,a=this._point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var c=a-e,l=o-i;t+=Math.sqrt(c*c+l*l)}e=a,i=o}return t};Oj.prototype._point=function(n,t,e,i,r){return t*(1-n)*(1-n)*(1-n)+3*e*(1-n)*(1-n)*n+3*i*(1-n)*n*n+r*n*n*n};function u0t(n,t,e){var i,r,s,a=null,o=0;e||(e={});var c=function(){o=e.leading===!1?0:Date.now(),a=null,s=n.apply(i,r),a||(i=r=null)};return function(){var l=Date.now();!o&&e.leading===!1&&(o=l);var u=t-(l-o);return i=this,r=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),o=l,s=n.apply(i,r),a||(i=r=null)):!a&&e.trailing!==!1&&(a=setTimeout(c,u)),s}}function Ke(n,t){var e=this,i=t||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.throttle="throttle"in i?i.throttle:16,this.minDistance="minDistance"in i?i.minDistance:5,this.throttle?this._strokeMoveUpdate=u0t(Ke.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=Ke.prototype._strokeUpdate,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onBegin=i.onBegin,this.onEnd=i.onEnd,this._canvas=n,this._ctx=n.getContext("2d"),this.clear(),this._handleMouseDown=function(r){r.which===1&&(e._mouseButtonDown=!0,e._strokeBegin(r))},this._handleMouseMove=function(r){e._mouseButtonDown&&e._strokeMoveUpdate(r)},this._handleMouseUp=function(r){r.which===1&&e._mouseButtonDown&&(e._mouseButtonDown=!1,e._strokeEnd(r))},this._handleTouchStart=function(r){if(r.targetTouches.length===1){var s=r.changedTouches[0];e._strokeBegin(s)}},this._handleTouchMove=function(r){r.preventDefault();var s=r.targetTouches[0];e._strokeMoveUpdate(s)},this._handleTouchEnd=function(r){var s=r.target===e._canvas;s&&(r.preventDefault(),e._strokeEnd(r))},this.on()}Ke.prototype.clear=function(){var n=this._ctx,t=this._canvas;n.fillStyle=this.backgroundColor,n.clearRect(0,0,t.width,t.height),n.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0};Ke.prototype.fromDataURL=function(n){var t=this,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=new Image,r=e.ratio||window.devicePixelRatio||1,s=e.width||this._canvas.width/r,a=e.height||this._canvas.height/r;this._reset(),i.src=n,i.onload=function(){t._ctx.drawImage(i,0,0,s,a)},this._isEmpty=!1};Ke.prototype.toDataURL=function(n){var t;switch(n){case"image/svg+xml":return this._toSVG();default:for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return(t=this._canvas).toDataURL.apply(t,[n].concat(i))}};Ke.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};Ke.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};Ke.prototype.isEmpty=function(){return this._isEmpty};Ke.prototype._strokeBegin=function(n){this._data.push([]),this._reset(),this._strokeUpdate(n),typeof this.onBegin=="function"&&this.onBegin(n)};Ke.prototype._strokeUpdate=function(n){var t=n.clientX,e=n.clientY,i=this._createPoint(t,e),r=this._data[this._data.length-1],s=r&&r[r.length-1],a=s&&i.distanceTo(s)<this.minDistance;if(!(s&&a)){var o=this._addPoint(i),c=o.curve,l=o.widths;c&&l&&this._drawCurve(c,l.start,l.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}};Ke.prototype._strokeEnd=function(n){var t=this.points.length>2,e=this.points[0];if(!t&&e&&this._drawDot(e),e){var i=this._data[this._data.length-1],r=i[i.length-1];e.equals(r)||i.push({x:e.x,y:e.y,time:e.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(n)};Ke.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};Ke.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};Ke.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};Ke.prototype._createPoint=function(n,t,e){var i=this._canvas.getBoundingClientRect();return new Sv(n-i.left,t-i.top,e||new Date().getTime())};Ke.prototype._addPoint=function(n){var t=this.points,e=void 0;if(t.push(n),t.length>2){t.length===3&&t.unshift(t[0]),e=this._calculateCurveControlPoints(t[0],t[1],t[2]);var i=e.c2;e=this._calculateCurveControlPoints(t[1],t[2],t[3]);var r=e.c1,s=new Oj(t[1],i,r,t[2]),a=this._calculateCurveWidths(s);return t.shift(),{curve:s,widths:a}}return{}};Ke.prototype._calculateCurveControlPoints=function(n,t,e){var i=n.x-t.x,r=n.y-t.y,s=t.x-e.x,a=t.y-e.y,o={x:(n.x+t.x)/2,y:(n.y+t.y)/2},c={x:(t.x+e.x)/2,y:(t.y+e.y)/2},l=Math.sqrt(i*i+r*r),u=Math.sqrt(s*s+a*a),d=o.x-c.x,f=o.y-c.y,p=u/(l+u),g={x:c.x+d*p,y:c.y+f*p},m=t.x-g.x,y=t.y-g.y;return{c1:new Sv(o.x+m,o.y+y),c2:new Sv(c.x+m,c.y+y)}};Ke.prototype._calculateCurveWidths=function(n){var t=n.startPoint,e=n.endPoint,i={start:null,end:null},r=this.velocityFilterWeight*e.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(r);return i.start=this._lastWidth,i.end=s,this._lastVelocity=r,this._lastWidth=s,i};Ke.prototype._strokeWidth=function(n){return Math.max(this.maxWidth/(n+1),this.minWidth)};Ke.prototype._drawPoint=function(n,t,e){var i=this._ctx;i.moveTo(n,t),i.arc(n,t,e,0,2*Math.PI,!1),this._isEmpty=!1};Ke.prototype._drawCurve=function(n,t,e){var i=this._ctx,r=e-t,s=Math.floor(n.length());i.beginPath();for(var a=0;a<s;a+=1){var o=a/s,c=o*o,l=c*o,u=1-o,d=u*u,f=d*u,p=f*n.startPoint.x;p+=3*d*o*n.control1.x,p+=3*u*c*n.control2.x,p+=l*n.endPoint.x;var g=f*n.startPoint.y;g+=3*d*o*n.control1.y,g+=3*u*c*n.control2.y,g+=l*n.endPoint.y;var m=t+l*r;this._drawPoint(p,g,m)}i.closePath(),i.fill()};Ke.prototype._drawDot=function(n){var t=this._ctx,e=typeof this.dotSize=="function"?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(n.x,n.y,e),t.closePath(),t.fill()};Ke.prototype._fromData=function(n,t,e){for(var i=0;i<n.length;i+=1){var r=n[i];if(r.length>1)for(var s=0;s<r.length;s+=1){var a=r[s],o=new Sv(a.x,a.y,a.time),c=a.color;if(s===0)this.penColor=c,this._reset(),this._addPoint(o);else if(s!==r.length-1){var l=this._addPoint(o),u=l.curve,d=l.widths;u&&d&&t(u,d,c)}}else{this._reset();var f=r[0];e(f)}}};Ke.prototype._toSVG=function(){var n=this,t=this._data,e=this._canvas,i=Math.max(window.devicePixelRatio||1,1),r=0,s=0,a=e.width/i,o=e.height/i,c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttributeNS(null,"width",e.width),c.setAttributeNS(null,"height",e.height),this._fromData(t,function(v,w,x){var A=document.createElement("path");if(!isNaN(v.control1.x)&&!isNaN(v.control1.y)&&!isNaN(v.control2.x)&&!isNaN(v.control2.y)){var S="M "+v.startPoint.x.toFixed(3)+","+v.startPoint.y.toFixed(3)+" "+("C "+v.control1.x.toFixed(3)+","+v.control1.y.toFixed(3)+" ")+(v.control2.x.toFixed(3)+","+v.control2.y.toFixed(3)+" ")+(v.endPoint.x.toFixed(3)+","+v.endPoint.y.toFixed(3));A.setAttribute("d",S),A.setAttribute("stroke-width",(w.end*2.25).toFixed(3)),A.setAttribute("stroke",x),A.setAttribute("fill","none"),A.setAttribute("stroke-linecap","round"),c.appendChild(A)}},function(v){var w=document.createElement("circle"),x=typeof n.dotSize=="function"?n.dotSize():n.dotSize;w.setAttribute("r",x),w.setAttribute("cx",v.x),w.setAttribute("cy",v.y),w.setAttribute("fill",v.color),c.appendChild(w)});var l="data:image/svg+xml;base64,",u='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+r+" "+s+" "+a+" "+o+'"')+(' width="'+a+'"')+(' height="'+o+'"')+">",d=c.innerHTML;if(d===void 0){var f=document.createElement("dummy"),p=c.childNodes;f.innerHTML="";for(var g=0;g<p.length;g+=1)f.appendChild(p[g].cloneNode(!0));d=f.innerHTML}var m="</svg>",y=u+d+m;return l+btoa(y)};Ke.prototype.fromData=function(n){var t=this;this.clear(),this._fromData(n,function(e,i){return t._drawCurve(e,i.start,i.end)},function(e){return t._drawDot(e)}),this._data=n};Ke.prototype.toData=function(){return this._data};var mZ={exports:{}};(function(n,t){(function(e,i){n.exports=i()})(u$,function(){return function(e){function i(s){if(r[s])return r[s].exports;var a=r[s]={exports:{},id:s,loaded:!1};return e[s].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}var r={};return i.m=e,i.c=r,i.p="",i(0)}([function(e,i){function r(l){var u=l.getContext("2d"),d=l.width,f=l.height,p=u.getImageData(0,0,d,f).data,g=o(!0,d,f,p),m=o(!1,d,f,p),y=c(!0,d,f,p),v=c(!1,d,f,p),w=v-y+1,x=m-g+1,A=u.getImageData(y,g,w,x);return l.width=w,l.height=x,u.clearRect(0,0,w,x),u.putImageData(A,0,0),l}function s(l,u,d,f){return{red:f[4*(d*u+l)],green:f[4*(d*u+l)+1],blue:f[4*(d*u+l)+2],alpha:f[4*(d*u+l)+3]}}function a(l,u,d,f){return s(l,u,d,f).alpha}function o(l,u,d,f){for(var p=l?1:-1,g=l?0:d-1,m=g;l?m<d:m>-1;m+=p)for(var y=0;y<u;y++)if(a(y,m,u,f))return m;return null}function c(l,u,d,f){for(var p=l?1:-1,g=l?0:u-1,m=g;l?m<u:m>-1;m+=p)for(var y=0;y<d;y++)if(a(m,y,u,f))return m;return null}Object.defineProperty(i,"__esModule",{value:!0}),i.default=r}])})})(mZ);var d0t=mZ.exports;const f0t=hd(d0t);var p0t=["canvasProps","clearOnResize"],oM=function(n){i0t(e,n);var t=a0t(e);function e(){var i;n0t(this,e);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s)),i.staticThis=i.constructor,i._sigPad=null,i._canvas=null,i.setRef=function(o){i._canvas=o,i._canvas===null&&(i._sigPad=null)},i._excludeOurProps=function(){var o=i.props;o.canvasProps,o.clearOnResize;var c=t0t(o,p0t);return c},i.componentDidMount=function(){var o=i.getCanvas();i._sigPad=new Ke(o,i._excludeOurProps()),i._resizeCanvas(),i.on()},i.componentWillUnmount=function(){i.off()},i.componentDidUpdate=function(){Object.assign(i._sigPad,i._excludeOurProps())},i.getCanvas=function(){if(i._canvas===null)throw i.staticThis.refNullError;return i._canvas},i.getTrimmedCanvas=function(){var o=i.getCanvas(),c=document.createElement("canvas");return c.width=o.width,c.height=o.height,c.getContext("2d").drawImage(o,0,0),f0t(c)},i.getSignaturePad=function(){if(i._sigPad===null)throw i.staticThis.refNullError;return i._sigPad},i._checkClearOnResize=function(){i.props.clearOnResize&&i._resizeCanvas()},i._resizeCanvas=function(){var o,c,l=(o=i.props.canvasProps)!==null&&o!==void 0?o:{},u=l.width,d=l.height;if(!(typeof u<"u"&&typeof d<"u")){var f=i.getCanvas(),p=Math.max((c=window.devicePixelRatio)!==null&&c!==void 0?c:1,1);typeof u>"u"&&(f.width=f.offsetWidth*p),typeof d>"u"&&(f.height=f.offsetHeight*p),f.getContext("2d").scale(p,p),i.clear()}},i.render=function(){var o=i.props.canvasProps;return un.createElement("canvas",d3({ref:i.setRef},o))},i.on=function(){return window.addEventListener("resize",i._checkClearOnResize),i.getSignaturePad().on()},i.off=function(){return window.removeEventListener("resize",i._checkClearOnResize),i.getSignaturePad().off()},i.clear=function(){return i.getSignaturePad().clear()},i.isEmpty=function(){return i.getSignaturePad().isEmpty()},i.fromDataURL=function(o,c){return i.getSignaturePad().fromDataURL(o,c)},i.toDataURL=function(o,c){return i.getSignaturePad().toDataURL(o,c)},i.fromData=function(o){return i.getSignaturePad().fromData(o)},i.toData=function(){return i.getSignaturePad().toData()},i}return e0t(e)}(I.Component);oM.propTypes={velocityFilterWeight:js.number,minWidth:js.number,maxWidth:js.number,minDistance:js.number,dotSize:js.oneOfType([js.number,js.func]),penColor:js.string,throttle:js.number,onEnd:js.func,onBegin:js.func,canvasProps:js.object,clearOnResize:js.bool};oM.defaultProps={clearOnResize:!0};oM.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");const Jr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),g3=[.001,0,0,.001,0,0],nI=1.35,xa={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Yc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},vZ="pdfjs_internal_editor_",Lt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},ne={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},yZ={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ar={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},TA={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},In={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},vy={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},cT={ERRORS:0,WARNINGS:1,INFOS:5},yE={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},v2={moveTo:0,lineTo:1,curveTo:2,closePath:3},bZ={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let lM=cT.WARNINGS;function g0t(n){Number.isInteger(n)&&(lM=n)}function m0t(){return lM}function cM(n){lM>=cT.INFOS&&console.log(`Info: ${n}`)}function zt(n){lM>=cT.WARNINGS&&console.log(`Warning: ${n}`)}function Ve(n){throw new Error(n)}function Qn(n,t){n||Ve(t)}function v0t(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Bj(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=S0t(n)}catch{}}const i=t?URL.parse(n,t):URL.parse(n);return v0t(i)?i:null}function zj(n,t,e=!1){const i=URL.parse(n);return i?(i.hash=t,i.href):e&&Bj(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Jt(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Wv=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class oH extends Wv{constructor(t,e){super(t,"PasswordException"),this.code=e}}class iI extends Wv{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class bD extends Wv{constructor(t){super(t,"InvalidPDFException")}}class bE extends Wv{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class y0t extends Wv{constructor(t){super(t,"FormatError")}}class sd extends Wv{constructor(t){super(t,"AbortException")}}function wZ(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ve("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<t;r+=e){const s=Math.min(r+e,t),a=n.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function hT(n){typeof n!="string"&&Ve("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function b0t(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function w0t(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function x0t(){try{return new Function(""),!0}catch{return!1}}class Ui{static get isLittleEndian(){return Jt(this,"isLittleEndian",w0t())}static get isEvalSupported(){return Jt(this,"isEvalSupported",x0t())}static get isOffscreenCanvasSupported(){return Jt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Jt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Jt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return Jt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const rI=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var $u,WP,m3;class Et{static makeHexColor(t,e,i){return`#${rI[t]}${rI[e]}${rI[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,i=0){const r=t[i],s=t[i+1];t[i]=r*e[0]+s*e[2]+e[4],t[i+1]=r*e[1]+s*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const r=e[0],s=e[1],a=e[2],o=e[3],c=e[4],l=e[5];for(let u=0;u<6;u+=2){const d=t[i+u],f=t[i+u+1];t[i+u]=d*r+f*a+c,t[i+u+1]=d*s+f*o+l}}static applyInverseTransform(t,e){const i=t[0],r=t[1],s=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/s,t[1]=(-i*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/s}static axialAlignedBoundingBox(t,e,i){const r=e[0],s=e[1],a=e[2],o=e[3],c=e[4],l=e[5],u=t[0],d=t[1],f=t[2],p=t[3];let g=r*u+c,m=g,y=r*f+c,v=y,w=o*d+l,x=w,A=o*p+l,S=A;if(s!==0||a!==0){const C=s*u,k=s*f,T=a*d,R=a*p;g+=T,v+=T,y+=R,m+=R,w+=C,S+=C,A+=k,x+=k}i[0]=Math.min(i[0],g,y,m,v),i[1]=Math.min(i[1],w,A,x,S),i[2]=Math.max(i[2],g,y,m,v),i[3]=Math.max(i[3],w,A,x,S)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],r=t[1],s=t[2],a=t[3],o=i**2+r**2,c=i*s+r*a,l=s**2+a**2,u=(o+l)/2,d=Math.sqrt(u**2-(o*l-c**2));e[0]=Math.sqrt(u+d||1),e[1]=Math.sqrt(u-d||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>a?null:[i,s,r,a]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,r,s){s[0]=Math.min(s[0],t,i),s[1]=Math.min(s[1],e,r),s[2]=Math.max(s[2],t,i),s[3]=Math.max(s[3],e,r)}static bezierBoundingBox(t,e,i,r,s,a,o,c,l){l[0]=Math.min(l[0],t,o),l[1]=Math.min(l[1],e,c),l[2]=Math.max(l[2],t,o),l[3]=Math.max(l[3],e,c),_(this,$u,m3).call(this,t,i,s,o,e,r,a,c,3*(-t+3*(i-s)+o),6*(t-2*i+s),3*(i-t),l),_(this,$u,m3).call(this,t,i,s,o,e,r,a,c,3*(-e+3*(r-a)+c),6*(e-2*r+a),3*(r-e),l)}}$u=new WeakSet,WP=function(t,e,i,r,s,a,o,c,l,u){if(l<=0||l>=1)return;const d=1-l,f=l*l,p=f*l,g=d*(d*(d*t+3*l*e)+3*f*i)+p*r,m=d*(d*(d*s+3*l*a)+3*f*o)+p*c;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],m),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],m)},m3=function(t,e,i,r,s,a,o,c,l,u,d,f){if(Math.abs(l)<1e-12){Math.abs(u)>=1e-12&&_(this,$u,WP).call(this,t,e,i,r,s,a,o,c,-d/u,f);return}const p=u**2-4*d*l;if(p<0)return;const g=Math.sqrt(p),m=2*l;_(this,$u,WP).call(this,t,e,i,r,s,a,o,c,(-u+g)/m,f),_(this,$u,WP).call(this,t,e,i,r,s,a,o,c,(-u-g)/m,f)},E(Et,$u);function S0t(n){return decodeURIComponent(escape(n))}let sI=null,lH=null;function xZ(n){return sI||(sI=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,lH=new Map([["ﬅ","ſt"]])),n.replaceAll(sI,(t,e,i)=>e?e.normalize("NFKC"):lH.get(i))}function jj(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),wZ(n)}const Uj="pdfjs_internal_id_";function A0t(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,r,...s]=e;if(!n(i)&&!Number.isInteger(i)||!t(r))return!1;const a=s.length;let o=!0;switch(r.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const c of s)if(!(typeof c=="number"||o&&c===null))return!1;return!0}function Dr(n,t,e){return Math.min(Math.max(n,t),e)}function SZ(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(wZ(n))}function E0t(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):hT(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});const yh="http://www.w3.org/2000/svg",Eg=class Eg{};X(Eg,"CSS",96),X(Eg,"PDF",72),X(Eg,"PDF_TO_CSS_UNITS",Eg.CSS/Eg.PDF);let ad=Eg;async function yx(n,t="text"){if(DS(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class uT{constructor({viewBox:t,userUnit:e,scale:i,rotation:r,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=a,i*=e;const c=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let u,d,f,p;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,d=0,f=0,p=1;break;case 90:u=0,d=1,f=1,p=0;break;case 270:u=0,d=-1,f=-1,p=0;break;case 0:u=1,d=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let g,m,y,v;u===0?(g=Math.abs(l-t[1])*i+s,m=Math.abs(c-t[0])*i+a,y=(t[3]-t[1])*i,v=(t[2]-t[0])*i):(g=Math.abs(c-t[0])*i+s,m=Math.abs(l-t[1])*i+a,y=(t[2]-t[0])*i,v=(t[3]-t[1])*i),this.transform=[u*i,d*i,f*i,p*i,g-u*i*c-f*i*l,m-d*i*c-p*i*l],this.width=y,this.height=v}get rawDims(){const t=this.viewBox;return Jt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new uT({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(t,e){const i=[t,e];return Et.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];Et.applyTransform(e,this.transform);const i=[t[2],t[3]];return Et.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return Et.applyInverseTransform(i,this.transform),i}}class hM extends Wv{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function dT(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function uM(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function AZ(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function EZ(n,t="document.pdf"){if(typeof n!="string")return t;if(dT(n))return zt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return t;const r=o=>{try{let c=decodeURIComponent(o);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:o):c}catch{return o}},s=/\.pdf$/i,a=i.pathname.split("/").at(-1);if(s.test(a))return r(a);if(i.searchParams.size>0){const o=Array.from(i.searchParams.values()).reverse();for(const l of o)if(s.test(l))return r(l);const c=Array.from(i.searchParams.keys()).reverse();for(const l of c)if(s.test(l))return r(l)}if(i.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(c)return r(c[0])}return t}class cH{constructor(){X(this,"started",Object.create(null));X(this,"times",[])}time(t){t in this.started&&zt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||zt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:r,end:s}of this.times)t.push(`${i.padEnd(e)} ${s-r}ms
`);return t.join("")}}function DS(n,t){const e=t?URL.parse(n,t):URL.parse(n);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function jo(n){n.preventDefault()}function jn(n){n.preventDefault(),n.stopPropagation()}function _0t(n){console.log("Deprecated API usage: "+n)}var eC;class dM{static toDateObject(t){if(!t||typeof t!="string")return null;h(this,eC)||b(this,eC,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h(this,eC).exec(t);if(!e)return null;const i=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(e[6],10);c=c>=0&&c<=59?c:0;const l=e[7]||"Z";let u=parseInt(e[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,l==="-"?(a+=u,o+=d):l==="+"&&(a-=u,o-=d),new Date(Date.UTC(i,r,s,a,o,c))}}eC=new WeakMap,E(dM,eC);function _Z(n,{scale:t=1,rotation:e=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new uT({viewBox:s,userUnit:1,scale:t,rotation:e})}function Hj(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(zt(`Not a valid color format: "${n}"`),[0,0,0])}function C0t(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,Hj(i))}t.remove()}function bn(n){const{a:t,b:e,c:i,d:r,e:s,f:a}=n.getTransform();return[t,e,i,r,s,a]}function Yl(n){const{a:t,b:e,c:i,d:r,e:s,f:a}=n.getTransform().invertSelf();return[t,e,i,r,s,a]}function Jp(n,t,e=!1,i=!0){if(t instanceof uT){const{pageWidth:r,pageHeight:s}=t.rawDims,{style:a}=n,o=Ui.isCSSRoundSupported,c=`var(--total-scale-factor) * ${r}px`,l=`var(--total-scale-factor) * ${s}px`,u=o?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,d=o?`round(down, ${l}, var(--scale-round-y))`:`calc(${l})`;!e||t.rotation%180===0?(a.width=u,a.height=d):(a.width=d,a.height=u)}i&&n.setAttribute("data-main-rotation",t.rotation)}class Rl{constructor(){const{pixelRatio:t}=Rl;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,r,s=-1){let a=1/0,o=1/0,c=1/0;i=Rl.capPixels(i,s),i>0&&(a=Math.sqrt(i/(t*e))),r!==-1&&(o=r/t,c=r/e);const l=Math.min(a,o,c);return this.sx>l||this.sy>l?(this.sx=l,this.sy=l,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const wD=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var zf,W0,io,jf,nC,Fw,iC,WD,CZ,rs,kZ,TZ,FS,VP;const Ah=class Ah{constructor(t){E(this,rs);E(this,zf,null);E(this,W0,null);E(this,io);E(this,jf,null);E(this,nC,null);E(this,Fw,null);b(this,io,t),h(Ah,iC)||b(Ah,iC,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=b(this,zf,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=h(this,io)._uiManager._signal;t.addEventListener("contextmenu",jo,{signal:e}),t.addEventListener("pointerdown",_(Ah,WD,CZ),{signal:e});const i=b(this,jf,document.createElement("div"));i.className="buttons",t.append(i);const r=h(this,io).toolbarPosition;if(r){const{style:s}=t,a=h(this,io)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return h(this,zf)}hide(){var t;h(this,zf).classList.add("hidden"),(t=h(this,W0))==null||t.hideDropdown()}show(){var t;h(this,zf).classList.remove("hidden"),(t=h(this,nC))==null||t.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=h(this,io),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",h(Ah,iC)[t]),_(this,rs,FS).call(this,i),i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),h(this,jf).append(i)}async addAltText(t){const e=await t.render();_(this,rs,FS).call(this,e),h(this,jf).append(e,h(this,rs,VP)),b(this,nC,t)}addColorPicker(t){b(this,W0,t);const e=t.renderButton();_(this,rs,FS).call(this,e),h(this,jf).append(e,h(this,rs,VP))}async addEditSignatureButton(t){const e=b(this,Fw,await t.renderEditButton(h(this,io)));_(this,rs,FS).call(this,e),h(this,jf).append(e,h(this,rs,VP))}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(t){h(this,Fw)&&(h(this,Fw).title=t)}remove(){var t;h(this,zf).remove(),(t=h(this,W0))==null||t.destroy(),b(this,W0,null)}};zf=new WeakMap,W0=new WeakMap,io=new WeakMap,jf=new WeakMap,nC=new WeakMap,Fw=new WeakMap,iC=new WeakMap,WD=new WeakSet,CZ=function(t){t.stopPropagation()},rs=new WeakSet,kZ=function(t){h(this,io)._focusEventsAllowed=!1,jn(t)},TZ=function(t){h(this,io)._focusEventsAllowed=!0,jn(t)},FS=function(t){const e=h(this,io)._uiManager._signal;t.addEventListener("focusin",_(this,rs,kZ).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",_(this,rs,TZ).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",jo,{signal:e})},VP=function(){const t=document.createElement("div");return t.className="divider",t},E(Ah,WD),E(Ah,iC,null);let v3=Ah;var rC,V0,G0,ng,PZ,RZ,DZ;class k0t{constructor(t){E(this,ng);E(this,rC,null);E(this,V0,null);E(this,G0);b(this,G0,t)}show(t,e,i){const[r,s]=_(this,ng,RZ).call(this,e,i),{style:a}=h(this,V0)||b(this,V0,_(this,ng,PZ).call(this));t.append(h(this,V0)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,V0).remove()}}rC=new WeakMap,V0=new WeakMap,G0=new WeakMap,ng=new WeakSet,PZ=function(){const t=b(this,V0,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",jo,{signal:h(this,G0)._signal});const e=b(this,rC,document.createElement("div"));return e.className="buttons",t.append(e),_(this,ng,DZ).call(this),t},RZ=function(t,e){let i=0,r=0;for(const s of t){const a=s.y+s.height;if(a<i)continue;const o=s.x+(e?s.width:0);if(a>i){r=o,i=a;continue}e?o>r&&(r=o):o<r&&(r=o)}return[e?1-r:r,i]},DZ=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=h(this,G0)._signal;t.addEventListener("contextmenu",jo,{signal:i}),t.addEventListener("click",()=>{h(this,G0).highlightSelection("floating_button")},{signal:i}),h(this,rC).append(t)};function FZ(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}var VD;class T0t{constructor(){E(this,VD,0)}get id(){return`${vZ}${fe(this,VD)._++}`}}VD=new WeakMap;var Mw,sC,Tr,Nw,GP;const s5=class s5{constructor(){E(this,Nw);E(this,Mw,jj());E(this,sC,0);E(this,Tr,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Jt(this,"_isSVGFittingCanvas",s)}async getFromFile(t){const{lastModified:e,name:i,size:r,type:s}=t;return _(this,Nw,GP).call(this,`${e}_${i}_${r}_${s}`,t)}async getFromUrl(t){return _(this,Nw,GP).call(this,t,t)}async getFromBlob(t,e){const i=await e;return _(this,Nw,GP).call(this,t,i)}async getFromId(t){h(this,Tr)||b(this,Tr,new Map);const e=h(this,Tr).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){h(this,Tr)||b(this,Tr,new Map);let i=h(this,Tr).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${h(this,Mw)}_${fe(this,sC)._++}`,refCounter:1,isSvg:!1},h(this,Tr).set(t,i),h(this,Tr).set(i.id,i),i}getSvgUrl(t){const e=h(this,Tr).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;h(this,Tr)||b(this,Tr,new Map);const e=h(this,Tr).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,Mw)}_`)}};Mw=new WeakMap,sC=new WeakMap,Tr=new WeakMap,Nw=new WeakSet,GP=async function(t,e){h(this,Tr)||b(this,Tr,new Map);let i=h(this,Tr).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${h(this,Mw)}_${fe(this,sC)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(i.url=e,r=await yx(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const s=s5._isSVGFittingCanvas,a=new FileReader,o=new Image,c=new Promise((l,u)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,l()},a.onload=async()=>{const d=i.svgUrl=a.result;o.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=u});a.readAsDataURL(r),await c}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){zt(r),i=null}return h(this,Tr).set(t,i),i&&h(this,Tr).set(i.id,i),i};let y3=s5;var Bn,Uf,aC,vn;class P0t{constructor(t=128){E(this,Bn,[]);E(this,Uf,!1);E(this,aC);E(this,vn,-1);b(this,aC,t)}add({cmd:t,undo:e,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&t(),h(this,Uf))return;const c={cmd:t,undo:e,post:i,type:s};if(h(this,vn)===-1){h(this,Bn).length>0&&(h(this,Bn).length=0),b(this,vn,0),h(this,Bn).push(c);return}if(a&&h(this,Bn)[h(this,vn)].type===s){o&&(c.undo=h(this,Bn)[h(this,vn)].undo),h(this,Bn)[h(this,vn)]=c;return}const l=h(this,vn)+1;l===h(this,aC)?h(this,Bn).splice(0,1):(b(this,vn,l),l<h(this,Bn).length&&h(this,Bn).splice(l)),h(this,Bn).push(c)}undo(){if(h(this,vn)===-1)return;b(this,Uf,!0);const{undo:t,post:e}=h(this,Bn)[h(this,vn)];t(),e==null||e(),b(this,Uf,!1),b(this,vn,h(this,vn)-1)}redo(){if(h(this,vn)<h(this,Bn).length-1){b(this,vn,h(this,vn)+1),b(this,Uf,!0);const{cmd:t,post:e}=h(this,Bn)[h(this,vn)];t(),e==null||e(),b(this,Uf,!1)}}hasSomethingToUndo(){return h(this,vn)!==-1}hasSomethingToRedo(){return h(this,vn)<h(this,Bn).length-1}cleanType(t){if(h(this,vn)!==-1){for(let e=h(this,vn);e>=0;e--)if(h(this,Bn)[e].type!==t){h(this,Bn).splice(e+1,h(this,vn)-e),b(this,vn,e);return}h(this,Bn).length=0,b(this,vn,-1)}}destroy(){b(this,Bn,null)}}Bn=new WeakMap,Uf=new WeakMap,aC=new WeakMap,vn=new WeakMap;var GD,MZ;class fT{constructor(t){E(this,GD);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ui.platform;for(const[i,r,s={}]of t)for(const a of i){const o=a.startsWith("mac+");e&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!e&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(_(this,GD,MZ).call(this,e));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=i;o&&!o(t,e)||(r.bind(t,...a,e)(),s||jn(e))}}GD=new WeakSet,MZ=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const XD=class XD{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return C0t(t),Jt(this,"_colors",t)}convert(t){const e=Hj(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,r]of this._colors)if(r.every((s,a)=>s===e[a]))return XD._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?Et.makeHexColor(...e):t}};X(XD,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let b3=XD;var Iw,aa,ai,Ji,Lw,pu,Ow,ro,Hf,Wf,Bw,X0,Ac,sl,q0,oC,lC,zw,cC,Ec,Vf,jw,Gf,_c,qD,Xf,hC,qf,K0,Y0,Kf,uC,Ti,Ne,gu,Yf,Z0,dC,fC,Zf,Cc,mu,pC,gC,so,ot,XP,w3,NZ,IZ,qP,LZ,OZ,BZ,x3,zZ,S3,A3,jZ,jr,bh,UZ,HZ,E3,WZ,MS,_3;const Vy=class Vy{constructor(t,e,i,r,s,a,o,c,l,u,d,f,p,g,m){E(this,ot);E(this,Iw,new AbortController);E(this,aa,null);E(this,ai,new Map);E(this,Ji,new Map);E(this,Lw,null);E(this,pu,null);E(this,Ow,null);E(this,ro,new P0t);E(this,Hf,null);E(this,Wf,null);E(this,Bw,0);E(this,X0,new Set);E(this,Ac,null);E(this,sl,null);E(this,q0,new Set);X(this,"_editorUndoBar",null);E(this,oC,!1);E(this,lC,!1);E(this,zw,!1);E(this,cC,null);E(this,Ec,null);E(this,Vf,null);E(this,jw,null);E(this,Gf,!1);E(this,_c,null);E(this,qD,new T0t);E(this,Xf,!1);E(this,hC,!1);E(this,qf,null);E(this,K0,null);E(this,Y0,null);E(this,Kf,null);E(this,uC,null);E(this,Ti,Lt.NONE);E(this,Ne,new Set);E(this,gu,null);E(this,Yf,null);E(this,Z0,null);E(this,dC,null);E(this,fC,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});E(this,Zf,[0,0]);E(this,Cc,null);E(this,mu,null);E(this,pC,null);E(this,gC,null);E(this,so,null);const y=this._signal=h(this,Iw).signal;b(this,mu,t),b(this,pC,e),b(this,gC,i),b(this,Lw,r),b(this,Yf,s),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:y}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),a._on("setpreference",this.onSetPreference.bind(this),{signal:y}),a._on("switchannotationeditorparams",v=>this.updateParams(v.type,v.value),{signal:y}),_(this,ot,LZ).call(this),_(this,ot,jZ).call(this),_(this,ot,x3).call(this),b(this,pu,o.annotationStorage),b(this,cC,o.filterFactory),b(this,Z0,c),b(this,jw,l||null),b(this,oC,u),b(this,lC,d),b(this,zw,f),b(this,uC,p||null),this.viewParameters={realScale:ad.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=m!==!1}static get _keyboardManager(){const t=Vy.prototype,e=a=>h(a,mu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Jt(this,"_keyboardManager",new fT([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&h(a,mu).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&h(a,mu).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}destroy(){var t,e,i,r,s,a,o,c;(t=h(this,so))==null||t.resolve(),b(this,so,null),(e=h(this,Iw))==null||e.abort(),b(this,Iw,null),this._signal=null;for(const l of h(this,Ji).values())l.destroy();h(this,Ji).clear(),h(this,ai).clear(),h(this,q0).clear(),(i=h(this,Kf))==null||i.clear(),b(this,aa,null),h(this,Ne).clear(),h(this,ro).destroy(),(r=h(this,Lw))==null||r.destroy(),(s=h(this,Yf))==null||s.destroy(),(a=h(this,_c))==null||a.hide(),b(this,_c,null),(o=h(this,Y0))==null||o.destroy(),b(this,Y0,null),h(this,Ec)&&(clearTimeout(h(this,Ec)),b(this,Ec,null)),h(this,Cc)&&(clearTimeout(h(this,Cc)),b(this,Cc,null)),(c=this._editorUndoBar)==null||c.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,uC)}get useNewAltTextFlow(){return h(this,lC)}get useNewAltTextWhenAddingImage(){return h(this,zw)}get hcmFilter(){return Jt(this,"hcmFilter",h(this,Z0)?h(this,cC).addHCMFilter(h(this,Z0).foreground,h(this,Z0).background):"none")}get direction(){return Jt(this,"direction",getComputedStyle(h(this,mu)).direction)}get highlightColors(){return Jt(this,"highlightColors",h(this,jw)?new Map(h(this,jw).split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColorNames(){return Jt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),b(this,Wf,t)}setMainHighlightColorPicker(t){b(this,Y0,t)}editAltText(t,e=!1){var i;(i=h(this,Lw))==null||i.editAltText(this,t,e)}getSignature(t){var e;(e=h(this,Yf))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return h(this,Yf)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":b(this,zw,e);break}}onPageChanging({pageNumber:t}){b(this,Bw,t-1)}focusMainContainer(){h(this,mu).focus()}findParent(t,e){for(const i of h(this,Ji).values()){const{x:r,y:s,width:a,height:o}=i.div.getBoundingClientRect();if(t>=r&&t<=r+a&&e>=s&&e<=s+o)return i}return null}disableUserSelect(t=!1){h(this,pC).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,q0).add(t)}removeShouldRescale(t){h(this,q0).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*ad.PDF_TO_CSS_UNITS;for(const i of h(this,q0))i.onScaleChanging();(e=h(this,Wf))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:a}=e,o=e.toString(),l=_(this,ot,XP).call(this,e).closest(".textLayer"),u=this.getSelectionBoxes(l);if(!u)return;e.empty();const d=_(this,ot,w3).call(this,l),f=h(this,Ti)===Lt.NONE,p=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:u,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:a,text:o}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(Lt.HIGHLIGHT,p);return}p()}addToAnnotationStorage(t){!t.isEmpty()&&h(this,pu)&&!h(this,pu).has(t.id)&&h(this,pu).setValue(t.id,t)}a11yAlert(t,e=null){const i=h(this,gC);i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,h(this,Gf)&&(b(this,Gf,!1),_(this,ot,qP).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,Ne))if(e.div.contains(t)){b(this,K0,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,K0))return;const[t,e]=h(this,K0);b(this,K0,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){_(this,ot,x3).call(this),_(this,ot,S3).call(this)}removeEditListeners(){_(this,ot,zZ).call(this),_(this,ot,A3).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of h(this,sl))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of h(this,sl))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=h(this,aa))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of h(this,Ne)){const s=r.serialize(!0);s&&e.push(s)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const a of h(this,sl))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){zt(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const c of i){const l=await r.deserialize(c);if(!l)return;s.push(l)}const a=()=>{for(const c of s)_(this,ot,E3).call(this,c);_(this,ot,_3).call(this,s)},o=()=>{for(const c of s)c.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){zt(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,Ti)!==Lt.NONE&&!this.isEditorHandlingKeyboard&&Vy._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Gf)&&(b(this,Gf,!1),_(this,ot,qP).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(_(this,ot,OZ).call(this),_(this,ot,S3).call(this),_(this,ot,jr).call(this,{isEditing:h(this,Ti)!==Lt.NONE,isEmpty:_(this,ot,MS).call(this),hasSomethingToUndo:h(this,ro).hasSomethingToUndo(),hasSomethingToRedo:h(this,ro).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,ot,BZ).call(this),_(this,ot,A3).call(this),_(this,ot,jr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,sl)){b(this,sl,t);for(const e of h(this,sl))_(this,ot,bh).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,qD).id}get currentLayer(){return h(this,Ji).get(h(this,Bw))}getLayer(t){return h(this,Ji).get(t)}get currentPageIndex(){return h(this,Bw)}addLayer(t){h(this,Ji).set(t.pageIndex,t),h(this,Xf)?t.enable():t.disable()}removeLayer(t){h(this,Ji).delete(t.pageIndex)}async updateMode(t,e=null,i=!1,r=!1){var s,a,o;if(h(this,Ti)!==t&&!(h(this,so)&&(await h(this,so).promise,!h(this,so)))){if(b(this,so,Promise.withResolvers()),(s=h(this,Wf))==null||s.commitOrRemove(),b(this,Ti,t),t===Lt.NONE){this.setEditingState(!1),_(this,ot,HZ).call(this),(a=this._editorUndoBar)==null||a.hide(),h(this,so).resolve();return}t===Lt.SIGNATURE&&await((o=h(this,Yf))==null?void 0:o.loadSignatures()),this.setEditingState(!0),await _(this,ot,UZ).call(this),this.unselectAll();for(const c of h(this,Ji).values())c.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),h(this,so).resolve();return}for(const c of h(this,ai).values())c.annotationElementId===e||c.id===e?(this.setSelected(c),r&&c.enterInEditMode()):c.unselect();h(this,so).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==h(this,Ti)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){var i;if(h(this,sl)){switch(t){case ne.CREATE:this.currentLayer.addNewEditor(e);return;case ne.HIGHLIGHT_DEFAULT_COLOR:(i=h(this,Y0))==null||i.updateColor(e);break;case ne.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,dC)||b(this,dC,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of h(this,Ne))r.updateParams(t,e);for(const r of h(this,sl))r.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var s;for(const a of h(this,ai).values())a.editorType===t&&a.show(e);(((s=h(this,dC))==null?void 0:s.get(ne.HIGHLIGHT_SHOW_ALL))??!0)!==e&&_(this,ot,bh).call(this,[[ne.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,hC)!==t){b(this,hC,t);for(const e of h(this,Ji).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of h(this,ai).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return h(this,ai).get(t)}addEditor(t){h(this,ai).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(h(this,Ec)&&clearTimeout(h(this,Ec)),b(this,Ec,setTimeout(()=>{this.focusMainContainer(),b(this,Ec,null)},0))),h(this,ai).delete(t.id),t.annotationElementId&&((e=h(this,Kf))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!h(this,X0).has(t.annotationElementId))&&((i=h(this,pu))==null||i.remove(t.id))}addDeletedAnnotationElement(t){h(this,X0).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,X0).has(t)}removeDeletedAnnotationElement(t){h(this,X0).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,aa)!==t&&(b(this,aa,t),t&&_(this,ot,bh).call(this,t.propertiesToUpdate))}updateUI(t){h(this,ot,WZ)===t&&_(this,ot,bh).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){_(this,ot,bh).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(h(this,Ne).has(t)){h(this,Ne).delete(t),t.unselect(),_(this,ot,jr).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Ne).add(t),t.select(),_(this,ot,bh).call(this,t.propertiesToUpdate),_(this,ot,jr).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),(e=h(this,Wf))==null||e.commitOrRemove();for(const i of h(this,Ne))i!==t&&i.unselect();h(this,Ne).clear(),h(this,Ne).add(t),t.select(),_(this,ot,bh).call(this,t.propertiesToUpdate),_(this,ot,jr).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,Ne).has(t)}get firstSelectedEditor(){return h(this,Ne).values().next().value}unselect(t){t.unselect(),h(this,Ne).delete(t),_(this,ot,jr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Ne).size!==0}get isEnterHandled(){return h(this,Ne).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;h(this,ro).undo(),_(this,ot,jr).call(this,{hasSomethingToUndo:h(this,ro).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,ot,MS).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){h(this,ro).redo(),_(this,ot,jr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,ro).hasSomethingToRedo(),isEmpty:_(this,ot,MS).call(this)})}addCommands(t){h(this,ro).add(t),_(this,ot,jr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,ot,MS).call(this)})}cleanUndoStack(t){h(this,ro).cleanType(t)}delete(){var s;this.commitOrRemove();const t=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...h(this,Ne)],i=()=>{var a;(a=this._editorUndoBar)==null||a.show(r,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},r=()=>{for(const a of e)_(this,ot,E3).call(this,a)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var t;(t=h(this,aa))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,aa)||this.hasSelection}selectAll(){for(const t of h(this,Ne))t.commit();_(this,ot,_3).call(this,h(this,ai).values())}unselectAll(){var t;if(!(h(this,aa)&&(h(this,aa).commitOrRemove(),h(this,Ti)!==Lt.NONE))&&!((t=h(this,Wf))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of h(this,Ne))e.unselect();h(this,Ne).clear(),_(this,ot,jr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;h(this,Zf)[0]+=t,h(this,Zf)[1]+=e;const[r,s]=h(this,Zf),a=[...h(this,Ne)],o=1e3;h(this,Cc)&&clearTimeout(h(this,Cc)),b(this,Cc,setTimeout(()=>{b(this,Cc,null),h(this,Zf)[0]=h(this,Zf)[1]=0,this.addCommands({cmd:()=>{for(const c of a)h(this,ai).has(c.id)&&(c.translateInPage(r,s),c.translationDone())},undo:()=>{for(const c of a)h(this,ai).has(c.id)&&(c.translateInPage(-r,-s),c.translationDone())},mustExec:!1})},o));for(const c of a)c.translateInPage(t,e),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,Ac,new Map);for(const t of h(this,Ne))h(this,Ac).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,Ac))return!1;this.disableUserSelect(!1);const t=h(this,Ac);b(this,Ac,null);let e=!1;for(const[{x:r,y:s,pageIndex:a},o]of t)o.newX=r,o.newY=s,o.newPageIndex=a,e||(e=r!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!e)return!1;const i=(r,s,a,o)=>{if(h(this,ai).has(r.id)){const c=h(this,Ji).get(o);c?r._setParentAndPosition(c,s,a):(r.pageIndex=o,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:o}]of t)i(r,s,a,o)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:o}]of t)i(r,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,Ac))for(const i of h(this,Ac).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,Ne).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,aa)===t}getActive(){return h(this,aa)}getMode(){return h(this,Ti)}get imageManager(){return Jt(this,"imageManager",new y3)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let l=0,u=e.rangeCount;l<u;l++)if(!t.contains(e.getRangeAt(l).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:a}=t.getBoundingClientRect();let o;switch(t.getAttribute("data-main-rotation")){case"90":o=(l,u,d,f)=>({x:(u-r)/a,y:1-(l+d-i)/s,width:f/a,height:d/s});break;case"180":o=(l,u,d,f)=>({x:1-(l+d-i)/s,y:1-(u+f-r)/a,width:d/s,height:f/a});break;case"270":o=(l,u,d,f)=>({x:1-(u+f-r)/a,y:(l-i)/s,width:f/a,height:d/s});break;default:o=(l,u,d,f)=>({x:(l-i)/s,y:(u-r)/a,width:d/s,height:f/a});break}const c=[];for(let l=0,u=e.rangeCount;l<u;l++){const d=e.getRangeAt(l);if(!d.collapsed)for(const{x:f,y:p,width:g,height:m}of d.getClientRects())g===0||m===0||c.push(o(f,p,g,m))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,Ow)||b(this,Ow,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,Ow))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=h(this,Ow))==null?void 0:r.get(t.data.id);if(!e)return;const i=h(this,pu).getRawValue(e);i&&(h(this,Ti)===Lt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var s;const r=(s=h(this,Kf))==null?void 0:s.get(t);r&&(r.setCanvas(e,i),h(this,Kf).delete(t))}addMissingCanvas(t,e){(h(this,Kf)||b(this,Kf,new Map)).set(t,e)}};Iw=new WeakMap,aa=new WeakMap,ai=new WeakMap,Ji=new WeakMap,Lw=new WeakMap,pu=new WeakMap,Ow=new WeakMap,ro=new WeakMap,Hf=new WeakMap,Wf=new WeakMap,Bw=new WeakMap,X0=new WeakMap,Ac=new WeakMap,sl=new WeakMap,q0=new WeakMap,oC=new WeakMap,lC=new WeakMap,zw=new WeakMap,cC=new WeakMap,Ec=new WeakMap,Vf=new WeakMap,jw=new WeakMap,Gf=new WeakMap,_c=new WeakMap,qD=new WeakMap,Xf=new WeakMap,hC=new WeakMap,qf=new WeakMap,K0=new WeakMap,Y0=new WeakMap,Kf=new WeakMap,uC=new WeakMap,Ti=new WeakMap,Ne=new WeakMap,gu=new WeakMap,Yf=new WeakMap,Z0=new WeakMap,dC=new WeakMap,fC=new WeakMap,Zf=new WeakMap,Cc=new WeakMap,mu=new WeakMap,pC=new WeakMap,gC=new WeakMap,so=new WeakMap,ot=new WeakSet,XP=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},w3=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of h(this,Ji).values())if(i.hasTextLayer(t))return i;return null},NZ=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=_(this,ot,XP).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(h(this,_c)||b(this,_c,new k0t(this)),h(this,_c).show(i,r,this.direction==="ltr"))},IZ=function(){var s,a,o;const t=document.getSelection();if(!t||t.isCollapsed){h(this,gu)&&((s=h(this,_c))==null||s.hide(),b(this,gu,null),_(this,ot,jr).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,gu))return;const r=_(this,ot,XP).call(this,t).closest(".textLayer");if(!r){h(this,gu)&&((a=h(this,_c))==null||a.hide(),b(this,gu,null),_(this,ot,jr).call(this,{hasSelectedText:!1}));return}if((o=h(this,_c))==null||o.hide(),b(this,gu,e),_(this,ot,jr).call(this,{hasSelectedText:!0}),!(h(this,Ti)!==Lt.HIGHLIGHT&&h(this,Ti)!==Lt.NONE)&&(h(this,Ti)===Lt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,Gf,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=h(this,Ti)===Lt.HIGHLIGHT?_(this,ot,w3).call(this,r):null;c==null||c.toggleDrawing();const l=new AbortController,u=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&_(this,ot,qP).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}},qP=function(t=""){h(this,Ti)===Lt.HIGHLIGHT?this.highlightSelection(t):h(this,oC)&&_(this,ot,NZ).call(this)},LZ=function(){document.addEventListener("selectionchange",_(this,ot,IZ).bind(this),{signal:this._signal})},OZ=function(){if(h(this,Vf))return;b(this,Vf,new AbortController);const t=this.combinedSignal(h(this,Vf));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},BZ=function(){var t;(t=h(this,Vf))==null||t.abort(),b(this,Vf,null)},x3=function(){if(h(this,qf))return;b(this,qf,new AbortController);const t=this.combinedSignal(h(this,qf));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},zZ=function(){var t;(t=h(this,qf))==null||t.abort(),b(this,qf,null)},S3=function(){if(h(this,Hf))return;b(this,Hf,new AbortController);const t=this.combinedSignal(h(this,Hf));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},A3=function(){var t;(t=h(this,Hf))==null||t.abort(),b(this,Hf,null)},jZ=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},jr=function(t){Object.entries(t).some(([i,r])=>h(this,fC)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,fC),t)}),h(this,Ti)===Lt.HIGHLIGHT&&t.hasSelectedEditor===!1&&_(this,ot,bh).call(this,[[ne.HIGHLIGHT_FREE,!0]]))},bh=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},UZ=async function(){if(!h(this,Xf)){b(this,Xf,!0);const t=[];for(const e of h(this,Ji).values())t.push(e.enable());await Promise.all(t);for(const e of h(this,ai).values())e.enable()}},HZ=function(){if(this.unselectAll(),h(this,Xf)){b(this,Xf,!1);for(const t of h(this,Ji).values())t.disable();for(const t of h(this,ai).values())t.disable()}},E3=function(t){const e=h(this,Ji).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},WZ=function(){let t=null;for(t of h(this,Ne));return t},MS=function(){if(h(this,ai).size===0)return!0;if(h(this,ai).size===1)for(const t of h(this,ai).values())return t.isEmpty();return!1},_3=function(t){for(const e of h(this,Ne))e.unselect();h(this,Ne).clear();for(const e of t)e.isEmpty()||(h(this,Ne).add(e),e.select());_(this,ot,jr).call(this,{hasSelectedEditor:this.hasSelection})},X(Vy,"TRANSLATE_SMALL",1),X(Vy,"TRANSLATE_BIG",10);let $p=Vy;var Pi,kc,al,Uw,Tc,oa,Hw,Pc,ws,vu,Q0,Rc,Qf,Sl,NS,KP;const Ur=class Ur{constructor(t){E(this,Sl);E(this,Pi,null);E(this,kc,!1);E(this,al,null);E(this,Uw,null);E(this,Tc,null);E(this,oa,null);E(this,Hw,!1);E(this,Pc,null);E(this,ws,null);E(this,vu,null);E(this,Q0,null);E(this,Rc,!1);b(this,ws,t),b(this,Rc,t._uiManager.useNewAltTextFlow),h(Ur,Qf)||b(Ur,Qf,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Ur._l10n??(Ur._l10n=t)}async render(){const t=b(this,al,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=b(this,Uw,document.createElement("span"));t.append(e),h(this,Rc)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(Ur,Qf).missing),e.setAttribute("data-l10n-id",h(Ur,Qf)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=h(this,ws)._uiManager._signal;t.addEventListener("contextmenu",jo,{signal:i}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),h(this,ws)._uiManager.editAltText(h(this,ws)),h(this,Rc)&&h(this,ws)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Sl,NS)}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(b(this,Hw,!0),r(s))},{signal:i}),await _(this,Sl,KP).call(this),t}finish(){h(this,al)&&(h(this,al).focus({focusVisible:h(this,Hw)}),b(this,Hw,!1))}isEmpty(){return h(this,Rc)?h(this,Pi)===null:!h(this,Pi)&&!h(this,kc)}hasData(){return h(this,Rc)?h(this,Pi)!==null||!!h(this,vu):this.isEmpty()}get guessedText(){return h(this,vu)}async setGuessedText(t){h(this,Pi)===null&&(b(this,vu,t),b(this,Q0,await Ur._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),_(this,Sl,KP).call(this))}toggleAltTextBadge(t=!1){var e;if(!h(this,Rc)||h(this,Pi)){(e=h(this,Pc))==null||e.remove(),b(this,Pc,null);return}if(!h(this,Pc)){const i=b(this,Pc,document.createElement("div"));i.className="noAltTextBadge",h(this,ws).div.append(i)}h(this,Pc).classList.toggle("hidden",!t)}serialize(t){let e=h(this,Pi);return!t&&h(this,vu)===e&&(e=h(this,Q0)),{altText:e,decorative:h(this,kc),guessedText:h(this,vu),textWithDisclaimer:h(this,Q0)}}get data(){return{altText:h(this,Pi),decorative:h(this,kc)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(b(this,vu,i),b(this,Q0,r)),!(h(this,Pi)===t&&h(this,kc)===e)&&(s||(b(this,Pi,t),b(this,kc,e)),_(this,Sl,KP).call(this))}toggle(t=!1){h(this,al)&&(!t&&h(this,oa)&&(clearTimeout(h(this,oa)),b(this,oa,null)),h(this,al).disabled=!t)}shown(){h(this,ws)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Sl,NS)}})}destroy(){var t,e;(t=h(this,al))==null||t.remove(),b(this,al,null),b(this,Uw,null),b(this,Tc,null),(e=h(this,Pc))==null||e.remove(),b(this,Pc,null)}};Pi=new WeakMap,kc=new WeakMap,al=new WeakMap,Uw=new WeakMap,Tc=new WeakMap,oa=new WeakMap,Hw=new WeakMap,Pc=new WeakMap,ws=new WeakMap,vu=new WeakMap,Q0=new WeakMap,Rc=new WeakMap,Qf=new WeakMap,Sl=new WeakSet,NS=function(){return h(this,Pi)&&"added"||h(this,Pi)===null&&this.guessedText&&"review"||"missing"},KP=async function(){var r,s,a;const t=h(this,al);if(!t)return;if(h(this,Rc)){if(t.classList.toggle("done",!!h(this,Pi)),t.setAttribute("data-l10n-id",h(Ur,Qf)[h(this,Sl,NS)]),(r=h(this,Uw))==null||r.setAttribute("data-l10n-id",h(Ur,Qf)[`${h(this,Sl,NS)}-label`]),!h(this,Pi)){(s=h(this,Tc))==null||s.remove();return}}else{if(!h(this,Pi)&&!h(this,kc)){t.classList.remove("done"),(a=h(this,Tc))==null||a.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=h(this,Tc);if(!e){b(this,Tc,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${h(this,ws).id}`;const o=100,c=h(this,ws)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(h(this,oa)),b(this,oa,null)},{once:!0}),t.addEventListener("mouseenter",()=>{b(this,oa,setTimeout(()=>{b(this,oa,null),h(this,Tc).classList.add("show"),h(this,ws)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:c}),t.addEventListener("mouseleave",()=>{var l;h(this,oa)&&(clearTimeout(h(this,oa)),b(this,oa,null)),(l=h(this,Tc))==null||l.classList.remove("show")},{signal:c})}h(this,kc)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=h(this,Pi)),e.parentNode||t.append(e);const i=h(this,ws).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},E(Ur,Qf,null),X(Ur,"_l10n",null);let xD=Ur;var Ww,J0,mC,vC,yC,bC,wC,yu,$0,bu,tm,wu,ig,VZ,GZ,XZ;const a5=class a5{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){E(this,ig);E(this,Ww);E(this,J0,!1);E(this,mC,null);E(this,vC);E(this,yC);E(this,bC);E(this,wC);E(this,yu,null);E(this,$0);E(this,bu,null);E(this,tm);E(this,wu,null);b(this,Ww,t),b(this,mC,i),b(this,vC,e),b(this,yC,r),b(this,bC,s),b(this,wC,a),b(this,tm,new AbortController),b(this,$0,AbortSignal.any([o,h(this,tm).signal])),t.addEventListener("touchstart",_(this,ig,VZ).bind(this),{passive:!1,signal:h(this,$0)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Rl.pixelRatio}destroy(){var t,e;(t=h(this,tm))==null||t.abort(),b(this,tm,null),(e=h(this,yu))==null||e.abort(),b(this,yu,null)}};Ww=new WeakMap,J0=new WeakMap,mC=new WeakMap,vC=new WeakMap,yC=new WeakMap,bC=new WeakMap,wC=new WeakMap,yu=new WeakMap,$0=new WeakMap,bu=new WeakMap,tm=new WeakMap,wu=new WeakMap,ig=new WeakSet,VZ=function(t){var r,s,a;if((r=h(this,vC))!=null&&r.call(this))return;if(t.touches.length===1){if(h(this,yu))return;const o=b(this,yu,new AbortController),c=AbortSignal.any([h(this,$0),o.signal]),l=h(this,Ww),u={capture:!0,signal:c,passive:!1},d=f=>{var p;f.pointerType==="touch"&&((p=h(this,yu))==null||p.abort(),b(this,yu,null))};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(jn(f),d(f))},u),l.addEventListener("pointerup",d,u),l.addEventListener("pointercancel",d,u);return}if(!h(this,wu)){b(this,wu,new AbortController);const o=AbortSignal.any([h(this,$0),h(this,wu).signal]),c=h(this,Ww),l={signal:o,capture:!1,passive:!1};c.addEventListener("touchmove",_(this,ig,GZ).bind(this),l);const u=_(this,ig,XZ).bind(this);c.addEventListener("touchend",u,l),c.addEventListener("touchcancel",u,l),l.capture=!0,c.addEventListener("pointerdown",jn,l),c.addEventListener("pointermove",jn,l),c.addEventListener("pointercancel",jn,l),c.addEventListener("pointerup",jn,l),(s=h(this,yC))==null||s.call(this)}if(jn(t),t.touches.length!==2||(a=h(this,mC))!=null&&a.call(this)){b(this,bu,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),b(this,bu,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},GZ=function(t){var A;if(!h(this,bu)||t.touches.length!==2)return;jn(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:r,screenY:s}=e,{screenX:a,screenY:o}=i,c=h(this,bu),{touch0X:l,touch0Y:u,touch1X:d,touch1Y:f}=c,p=d-l,g=f-u,m=a-r,y=o-s,v=Math.hypot(m,y)||1,w=Math.hypot(p,g)||1;if(!h(this,J0)&&Math.abs(w-v)<=a5.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=r,c.touch0Y=s,c.touch1X=a,c.touch1Y=o,!h(this,J0)){b(this,J0,!0);return}const x=[(r+a)/2,(s+o)/2];(A=h(this,bC))==null||A.call(this,x,w,v)},XZ=function(t){var e;t.touches.length>=2||(h(this,wu)&&(h(this,wu).abort(),b(this,wu,null),(e=h(this,wC))==null||e.call(this)),h(this,bu)&&(jn(t),b(this,bu,null),b(this,J0,!1)))};let wE=a5;var em,ol,on,Vw,Jf,xC,nm,$i,im,xu,$f,SC,rm,la,AC,sm,Su,Dc,Gw,Xw,ao,am,EC,KD,kt,C3,_C,k3,YP,qZ,KZ,T3,ZP,P3,YZ,ZZ,QZ,R3,JZ,D3,$Z,tQ,eQ,F3,IS;const qt=class qt{constructor(t){E(this,kt);E(this,em,null);E(this,ol,null);E(this,on,null);E(this,Vw,!1);E(this,Jf,null);E(this,xC,"");E(this,nm,!1);E(this,$i,null);E(this,im,null);E(this,xu,null);E(this,$f,null);E(this,SC,"");E(this,rm,!1);E(this,la,null);E(this,AC,!1);E(this,sm,!1);E(this,Su,!1);E(this,Dc,null);E(this,Gw,0);E(this,Xw,0);E(this,ao,null);E(this,am,null);X(this,"isSelected",!1);X(this,"_isCopy",!1);X(this,"_editToolbar",null);X(this,"_initialOptions",Object.create(null));X(this,"_initialData",null);X(this,"_isVisible",!0);X(this,"_uiManager",null);X(this,"_focusEventsAllowed",!0);E(this,EC,!1);E(this,KD,qt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,a];const[o,c]=this.parentDimensions;this.x=t.x/o,this.y=t.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=qt.prototype._resizeWithKeyboard,e=$p.TRANSLATE_SMALL,i=$p.TRANSLATE_BIG;return Jt(this,"_resizerKeyboardManager",new fT([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],qt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Jt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new R0t({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(qt._l10n??(qt._l10n=t),qt._l10nResizer||(qt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),qt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);qt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Ve("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,EC)}set _isDraggable(t){var e;b(this,EC,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,KD)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):_(this,kt,IS).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,rm)?b(this,rm,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){const[s,a]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/s,this.y=(e+r)/a,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,r]=this.parentDimensions;this.setAt(t*i,e*r,this.width*i,this.height*r),this._onTranslated()}translate(t,e){_(this,kt,C3).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,la)||b(this,la,[this.x,this.y,this.width,this.height]),_(this,kt,C3).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){h(this,la)||b(this,la,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,s]}=this;if(this.x+=t/r,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[c,l]=this.getBaseTranslation();a+=c,o+=l;const{style:u}=i;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!h(this,la)&&(h(this,la)[0]!==this.x||h(this,la)[1]!==this.y)}get _hasBeenResized(){return!!h(this,la)&&(h(this,la)[2]!==this.width||h(this,la)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=qt,r=i/t,s=i/e;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,r]}=this;let{x:s,y:a,width:o,height:c}=this;if(o*=i,c*=r,s*=i,a*=r,this._mustFixPosition)switch(t){case 0:s=Dr(s,0,i-o),a=Dr(a,0,r-c);break;case 90:s=Dr(s,0,i-c),a=Dr(a,o,r);break;case 180:s=Dr(s,o,i),a=Dr(a,c,r);break;case 270:s=Dr(s,c,i),a=Dr(a,0,r-o);break}this.x=s/=i,this.y=a/=r;const[l,u]=this.getBaseTranslation();s+=l,a+=u,e.left=`${(100*s).toFixed(2)}%`,e.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return _(i=qt,_C,k3).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return _(i=qt,_C,k3).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,r]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*t/i).toFixed(2)}%`,h(this,nm)||(s.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,r=i.endsWith("%"),s=!h(this,nm)&&e.endsWith("%");if(r&&s)return;const[a,o]=this.parentDimensions;r||(t.width=`${(100*parseFloat(i)/a).toFixed(2)}%`),!h(this,nm)&&!s&&(t.height=`${(100*parseFloat(e)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=h(this,on))==null||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||h(this,sm))return this._editToolbar;this._editToolbar=new v3(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,on))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return h(this,on)||(xD.initialize(qt._l10n),b(this,on,new xD(this)),h(this,em)&&(h(this,on).data=h(this,em),b(this,em,null))),h(this,on)}get altTextData(){var t;return(t=h(this,on))==null?void 0:t.data}set altTextData(t){h(this,on)&&(h(this,on).data=t)}get guessedAltText(){var t;return(t=h(this,on))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=h(this,on))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=h(this,on))==null?void 0:e.serialize(t)}hasAltText(){return!!h(this,on)&&!h(this,on).isEmpty()}hasAltTextData(){var t;return((t=h(this,on))==null?void 0:t.hasData())??!1}render(){var a;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=h(this,Vw)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),_(this,kt,D3).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),FZ(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(h(this,am)||b(this,am,new wE({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:_(this,kt,YZ).bind(this),onPinching:_(this,kt,ZZ).bind(this),onPinchEnd:_(this,kt,QZ).bind(this),signal:this._uiManager._signal}))),(a=this._uiManager._editorUndoBar)==null||a.hide(),t}pointerdown(t){const{isMac:e}=Ui.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(b(this,rm,!0),this._isDraggable){_(this,kt,JZ).call(this,t);return}_(this,kt,R3).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){h(this,Dc)&&clearTimeout(h(this,Dc)),b(this,Dc,setTimeout(()=>{var t;b(this,Dc,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[o,c]=this.pageTranslation,l=t/r,u=e/r,d=this.x*s,f=this.y*a,p=this.width*s,g=this.height*a;switch(i){case 0:return[d+l+o,a-f-u-g+c,d+l+p+o,a-f-u+c];case 90:return[d+u+o,a-f+l+c,d+u+g+o,a-f+l+p+c];case 180:return[d-l-p+o,a-f+u+c,d-l+o,a-f+u+g+c];case 270:return[d-u-g+o,a-f-l-p+c,d-u+o,a-f-l+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,r,s,a]=t,o=s-i,c=a-r;switch(this.rotation){case 0:return[i,e-a,o,c];case 90:return[i,e-r,c,o];case 180:return[s,e-r,o,c];case 270:return[s,e-a,c,o];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),b(this,sm,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),b(this,sm,!1),!0):!1}isInEditMode(){return h(this,sm)}shouldGetKeyboardEvents(){return h(this,Su)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return e<a&&r>0&&t<s&&i>0}rebuild(){_(this,kt,D3).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){Ve("An editor must be serializable")}static async deserialize(t,e,i){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId});r.rotation=t.rotation,b(r,em,t.accessibilityData),r._isCopy=t.isCopy||!1;const[s,a]=r.pageDimensions,[o,c,l,u]=r.getRectInCurrentCoords(t.rect,a);return r.x=o/s,r.y=c/a,r.width=l/s,r.height=u/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=h(this,$f))==null||t.abort(),b(this,$f,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,Dc)&&(clearTimeout(h(this,Dc)),b(this,Dc,null)),_(this,kt,IS).call(this),this.removeEditToolbar(),h(this,ao)){for(const i of h(this,ao).values())clearTimeout(i);b(this,ao,null)}this.parent=null,(e=h(this,am))==null||e.destroy(),b(this,am,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,kt,qZ).call(this),h(this,$i).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),b(this,xu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,$i).children;if(!h(this,ol)){b(this,ol,Array.from(e));const a=_(this,kt,$Z).bind(this),o=_(this,kt,tQ).bind(this),c=this._uiManager._signal;for(const l of h(this,ol)){const u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",a,{signal:c}),l.addEventListener("blur",o,{signal:c}),l.addEventListener("focus",_(this,kt,eQ).bind(this,u),{signal:c}),l.setAttribute("data-l10n-id",qt._l10nResizer[u])}}const i=h(this,ol)[0];let r=0;for(const a of e){if(a===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(h(this,ol).length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)h(this,$i).append(h(this,$i).firstChild);else if(s>r)for(let o=0;o<s-r;o++)h(this,$i).firstChild.before(h(this,$i).lastChild);let a=0;for(const o of e){const l=h(this,ol)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",qt._l10nResizer[l])}}_(this,kt,F3).call(this,0),b(this,Su,!0),h(this,$i).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,Su)&&_(this,kt,P3).call(this,h(this,SC),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){_(this,kt,IS).call(this),this.div.focus()}select(){var t,e,i;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(e=this._editToolbar)==null||e.show(),(i=h(this,on))==null||i.toggleAltTextBadge(!1)}}unselect(){var t,e,i,r,s;this.isSelected&&(this.isSelected=!1,(t=h(this,$i))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=h(this,on))==null||s.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return h(this,AC)}set isEditing(t){b(this,AC,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){b(this,nm,!0);const i=t/e,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,ao)||b(this,ao,new Map);const{action:i}=t;let r=h(this,ao).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),h(this,ao).delete(i),h(this,ao).size===0&&b(this,ao,null)},qt._telemetryTimeout),h(this,ao).set(i,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),b(this,Vw,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,Vw,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};em=new WeakMap,ol=new WeakMap,on=new WeakMap,Vw=new WeakMap,Jf=new WeakMap,xC=new WeakMap,nm=new WeakMap,$i=new WeakMap,im=new WeakMap,xu=new WeakMap,$f=new WeakMap,SC=new WeakMap,rm=new WeakMap,la=new WeakMap,AC=new WeakMap,sm=new WeakMap,Su=new WeakMap,Dc=new WeakMap,Gw=new WeakMap,Xw=new WeakMap,ao=new WeakMap,am=new WeakMap,EC=new WeakMap,KD=new WeakMap,kt=new WeakSet,C3=function([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},_C=new WeakSet,k3=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},YP=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},qZ=function(){if(h(this,$i))return;b(this,$i,document.createElement("div")),h(this,$i).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const r=document.createElement("div");h(this,$i).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",_(this,kt,KZ).bind(this,i),{signal:e}),r.addEventListener("contextmenu",jo,{signal:e}),r.tabIndex=-1}this.div.prepend(h(this,$i))},KZ=function(t,e){var u;e.preventDefault();const{isMac:i}=Ui.platform;if(e.button!==0||e.ctrlKey&&i)return;(u=h(this,on))==null||u.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,b(this,im,[e.screenX,e.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",_(this,kt,P3).bind(this,t),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",jn,{passive:!1,signal:a}),window.addEventListener("contextmenu",jo,{signal:a}),b(this,xu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const l=()=>{var d;s.abort(),this.parent.togglePointerEvents(!0),(d=h(this,on))==null||d.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=c,_(this,kt,ZP).call(this)};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})},T3=function(t,e,i,r){this.width=i,this.height=r,this.x=t,this.y=e;const[s,a]=this.parentDimensions;this.setDims(s*i,a*r),this.fixAndSetPosition(),this._onResized()},ZP=function(){if(!h(this,xu))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=h(this,xu);b(this,xu,null);const s=this.x,a=this.y,o=this.width,c=this.height;s===t&&a===e&&o===i&&c===r||this.addCommands({cmd:_(this,kt,T3).bind(this,s,a,o,c),undo:_(this,kt,T3).bind(this,t,e,i,r),mustExec:!0})},P3=function(t,e){const[i,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,c=this.height,l=qt.MIN_SIZE/i,u=qt.MIN_SIZE/r,d=_(this,kt,YP).call(this,this.rotation),f=(z,B)=>[d[0]*z+d[2]*B,d[1]*z+d[3]*B],p=_(this,kt,YP).call(this,360-this.rotation),g=(z,B)=>[p[0]*z+p[2]*B,p[1]*z+p[3]*B];let m,y,v=!1,w=!1;switch(t){case"topLeft":v=!0,m=(z,B)=>[0,0],y=(z,B)=>[z,B];break;case"topMiddle":m=(z,B)=>[z/2,0],y=(z,B)=>[z/2,B];break;case"topRight":v=!0,m=(z,B)=>[z,0],y=(z,B)=>[0,B];break;case"middleRight":w=!0,m=(z,B)=>[z,B/2],y=(z,B)=>[0,B/2];break;case"bottomRight":v=!0,m=(z,B)=>[z,B],y=(z,B)=>[0,0];break;case"bottomMiddle":m=(z,B)=>[z/2,B],y=(z,B)=>[z/2,0];break;case"bottomLeft":v=!0,m=(z,B)=>[0,B],y=(z,B)=>[z,0];break;case"middleLeft":w=!0,m=(z,B)=>[0,B/2],y=(z,B)=>[z,B/2];break}const x=m(o,c),A=y(o,c);let S=f(...A);const C=qt._round(s+S[0]),k=qt._round(a+S[1]);let T=1,R=1,F,D;if(e.fromKeyboard)({deltaX:F,deltaY:D}=e);else{const{screenX:z,screenY:B}=e,[G,H]=h(this,im);[F,D]=this.screenToPageTranslation(z-G,B-H),h(this,im)[0]=z,h(this,im)[1]=B}if([F,D]=g(F/i,D/r),v){const z=Math.hypot(o,c);T=R=Math.max(Math.min(Math.hypot(A[0]-x[0]-F,A[1]-x[1]-D)/z,1/o,1/c),l/o,u/c)}else w?T=Dr(Math.abs(A[0]-x[0]-F),l,1)/o:R=Dr(Math.abs(A[1]-x[1]-D),u,1)/c;const U=qt._round(o*T),j=qt._round(c*R);S=f(...y(U,j));const V=C-S[0],Y=k-S[1];h(this,la)||b(this,la,[this.x,this.y,this.width,this.height]),this.width=U,this.height=j,this.x=V,this.y=Y,this.setDims(i*U,r*j),this.fixAndSetPosition(),this._onResizing()},YZ=function(){var t;b(this,xu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=h(this,on))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},ZZ=function(t,e,i){let s=.7*(i/e)+1-.7;if(s===1)return;const a=_(this,kt,YP).call(this,this.rotation),o=(C,k)=>[a[0]*C+a[2]*k,a[1]*C+a[3]*k],[c,l]=this.parentDimensions,u=this.x,d=this.y,f=this.width,p=this.height,g=qt.MIN_SIZE/c,m=qt.MIN_SIZE/l;s=Math.max(Math.min(s,1/f,1/p),g/f,m/p);const y=qt._round(f*s),v=qt._round(p*s);if(y===f&&v===p)return;h(this,la)||b(this,la,[u,d,f,p]);const w=o(f/2,p/2),x=qt._round(u+w[0]),A=qt._round(d+w[1]),S=o(y/2,v/2);this.x=x-S[0],this.y=A-S[1],this.width=y,this.height=v,this.setDims(c*y,l*v),this.fixAndSetPosition(),this._onResizing()},QZ=function(){var t;(t=h(this,on))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),_(this,kt,ZP).call(this)},R3=function(t){const{isMac:e}=Ui.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},JZ=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),a={capture:!0,passive:!1,signal:s},o=l=>{r.abort(),b(this,Jf,null),b(this,rm,!1),this._uiManager.endDragSession()||_(this,kt,R3).call(this,l),i&&this._onStopDragging()};e&&(b(this,Gw,t.clientX),b(this,Xw,t.clientY),b(this,Jf,t.pointerId),b(this,xC,t.pointerType),window.addEventListener("pointermove",l=>{i||(i=!0,this._onStartDragging());const{clientX:u,clientY:d,pointerId:f}=l;if(f!==h(this,Jf)){jn(l);return}const[p,g]=this.screenToPageTranslation(u-h(this,Gw),d-h(this,Xw));b(this,Gw,u),b(this,Xw,d),this._uiManager.dragSelectedEditors(p,g)},a),window.addEventListener("touchmove",jn,a),window.addEventListener("pointerdown",l=>{l.pointerType===h(this,xC)&&(h(this,am)||l.isPrimary)&&o(l),jn(l)},a));const c=l=>{if(!h(this,Jf)||h(this,Jf)===l.pointerId){o(l);return}jn(l)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},D3=function(){if(h(this,$f)||!this.div)return;b(this,$f,new AbortController);const t=this._uiManager.combinedSignal(h(this,$f));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},$Z=function(t){qt._resizerKeyboardManager.exec(this,t)},tQ=function(t){var e;h(this,Su)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,$i)&&_(this,kt,IS).call(this)},eQ=function(t){b(this,SC,h(this,Su)?t:"")},F3=function(t){if(h(this,ol))for(const e of h(this,ol))e.tabIndex=t},IS=function(){b(this,Su,!1),_(this,kt,F3).call(this,-1),_(this,kt,ZP).call(this)},E(qt,_C),X(qt,"_l10n",null),X(qt,"_l10nResizer",null),X(qt,"_borderLineWidth",-1),X(qt,"_colorManager",new b3),X(qt,"_zIndex",1),X(qt,"_telemetryTimeout",1e3);let Qe=qt;class R0t extends Qe{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const hH=3285377520,Xa=4294901760,Zl=65535;class nQ{constructor(t){this.h1=t?t&4294967295:hH,this.h2=t?t&4294967295:hH}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let m=0,y=t.length;m<y;m++){const v=t.charCodeAt(m);v<=255?e[i++]=v:(e[i++]=v>>>8,e[i++]=v&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,a=new Uint32Array(e.buffer,0,r);let o=0,c=0,l=this.h1,u=this.h2;const d=3432918353,f=461845907,p=d&Zl,g=f&Zl;for(let m=0;m<r;m++)m&1?(o=a[m],o=o*d&Xa|o*p&Zl,o=o<<15|o>>>17,o=o*f&Xa|o*g&Zl,l^=o,l=l<<13|l>>>19,l=l*5+3864292196):(c=a[m],c=c*d&Xa|c*p&Zl,c=c<<15|c>>>17,c=c*f&Xa|c*g&Zl,u^=c,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,s){case 3:o^=e[r*4+2]<<16;case 2:o^=e[r*4+1]<<8;case 1:o^=e[r*4],o=o*d&Xa|o*p&Zl,o=o<<15|o>>>17,o=o*f&Xa|o*g&Zl,r&1?l^=o:u^=o}this.h1=l,this.h2=u}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Xa|t*36045&Zl,e=e*4283543511&Xa|((e<<16|t>>>16)*2950163797&Xa)>>>16,t^=e>>>1,t=t*444984403&Xa|t*60499&Zl,e=e*3301882366&Xa|((e<<16|t>>>16)*3120437893&Xa)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const M3=Object.freeze({map:null,hash:"",transfer:void 0});var om,lm,tr,YD,iQ;class Wj{constructor(){E(this,YD);E(this,om,!1);E(this,lm,null);E(this,tr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=h(this,tr).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return h(this,tr).get(t)}remove(t){if(h(this,tr).delete(t),h(this,tr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,tr).values())if(e instanceof Qe)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=h(this,tr).get(t);let r=!1;if(i!==void 0)for(const[s,a]of Object.entries(e))i[s]!==a&&(r=!0,i[s]=a);else r=!0,h(this,tr).set(t,e);r&&_(this,YD,iQ).call(this),e instanceof Qe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,tr).has(t)}get size(){return h(this,tr).size}resetModified(){h(this,om)&&(b(this,om,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new rQ(this)}get serializable(){if(h(this,tr).size===0)return M3;const t=new Map,e=new nQ,i=[],r=Object.create(null);let s=!1;for(const[a,o]of h(this,tr)){const c=o instanceof Qe?o.serialize(!1,r):o;c&&(t.set(a,c),e.update(`${a}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const a of t.values())a.bitmap&&i.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:M3}get editorStats(){let t=null;const e=new Map;for(const i of h(this,tr).values()){if(!(i instanceof Qe))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;e.has(s)||e.set(s,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const a=t[s]||(t[s]=new Map);for(const[o,c]of Object.entries(r)){if(o==="type")continue;let l=a.get(o);l||(l=new Map,a.set(o,l));const u=l.get(c)??0;l.set(c,u+1)}}for(const[i,r]of e)t[i]=r.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){b(this,lm,null)}get modifiedIds(){if(h(this,lm))return h(this,lm);const t=[];for(const e of h(this,tr).values())!(e instanceof Qe)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return b(this,lm,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return h(this,tr).entries()}}om=new WeakMap,lm=new WeakMap,tr=new WeakMap,YD=new WeakSet,iQ=function(){h(this,om)||(b(this,om,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var CC;class rQ extends Wj{constructor(e){super();E(this,CC);const{map:i,hash:r,transfer:s}=e.serializable,a=structuredClone(i,s?{transfer:s}:null);b(this,CC,{map:a,hash:r,transfer:s})}get print(){Ve("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,CC)}get modifiedIds(){return Jt(this,"modifiedIds",{ids:new Set,hash:""})}}CC=new WeakMap;var qw;class D0t{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){E(this,qw,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,qw).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||h(this,qw).has(t.loadedName))){if(Qn(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:a}=t,o=new FontFace(r,s,a);this.addNativeFontFace(o);try{await o.load(),h(this,qw).add(r),i==null||i(t)}catch{zt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ve("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw zt(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Jt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Jt(this,"isSyncFontLoadingSupported",Jr||Ui.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Qn(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Jt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(A,S){return A.charCodeAt(S)<<24|A.charCodeAt(S+1)<<16|A.charCodeAt(S+2)<<8|A.charCodeAt(S+3)&255}function r(A,S,C,k){const T=A.substring(0,S),R=A.substring(S+C);return T+k+R}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let l=0;function u(A,S){if(++l>30){zt("Load test font never loaded."),S();return}if(c.font="30px "+A,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(u.bind(null,A,S))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,d.length,d);const g=16,m=1482184792;let y=i(f,g);for(s=0,a=d.length-3;s<a;s+=4)y=y-m+i(d,s)|0;s<d.length&&(y=y-m+i(d+"XXX",s)|0),f=r(f,g,4,b0t(y));const v=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${d}";src:${v}}`;this.insertRule(w);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const A of[t.loadedName,d]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=A,x.append(S)}this._document.body.append(x),u(d,()=>{x.remove(),e.complete()})}}qw=new WeakMap;class F0t{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=e}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${SZ(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let r;try{r=t.get(i)}catch(a){zt(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(r||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=s}}function M0t(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Jr)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function N0t(n){if(Jr&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return hT(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function y2(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const N3=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,I0t=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",sQ=A0t.bind(null,N3,I0t);var Au,ZD;class L0t{constructor(){E(this,Au,new Map);E(this,ZD,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};h(this,ZD).then(()=>{for(const[r]of h(this,Au))r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){zt("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(t,e);r=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}h(this,Au).set(e,r)}removeEventListener(t,e){const i=h(this,Au).get(e);i==null||i(),h(this,Au).delete(e)}terminate(){for(const[,t]of h(this,Au))t==null||t();h(this,Au).clear()}}Au=new WeakMap,ZD=new WeakMap;const b2={DATA:1,ERROR:2},Vn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function uH(){}function gs(n){if(n instanceof sd||n instanceof bD||n instanceof oH||n instanceof bE||n instanceof iI)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Ve('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new sd(n.message);case"InvalidPDFException":return new bD(n.message);case"PasswordException":return new oH(n.message,n.code);case"ResponseException":return new bE(n.message,n.status,n.missing);case"UnknownErrorException":return new iI(n.message,n.details)}return new iI(n.message,n.toString())}var Kw,Do,aQ,oQ,lQ,QP;class LS{constructor(t,e,i){E(this,Do);E(this,Kw,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",_(this,Do,aQ).bind(this),{signal:h(this,Kw).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(a){s.reject(a)}return s.promise}sendWithStream(t,e,i,r){const s=this.streamId++,a=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:l=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:l,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:o,action:t,streamId:s,data:e,desiredSize:l.desiredSize},r),u.promise},pull:l=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,c.postMessage({sourceName:a,targetName:o,stream:Vn.PULL,streamId:s,desiredSize:l.desiredSize}),u.promise},cancel:l=>{Qn(l instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:a,targetName:o,stream:Vn.CANCEL,streamId:s,reason:gs(l)}),u.promise}},i)}destroy(){var t;(t=h(this,Kw))==null||t.abort(),b(this,Kw,null)}}Kw=new WeakMap,Do=new WeakSet,aQ=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){_(this,Do,lQ).call(this,t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===b2.DATA)r.resolve(t.data);else if(t.callback===b2.ERROR)r.reject(gs(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,s=this.comObj;Promise.try(e,t.data).then(function(a){s.postMessage({sourceName:i,targetName:r,callback:b2.DATA,callbackId:t.callbackId,data:a})},function(a){s.postMessage({sourceName:i,targetName:r,callback:b2.ERROR,callbackId:t.callbackId,reason:gs(a)})});return}if(t.streamId){_(this,Do,oQ).call(this,t);return}e(t.data)},oQ=function(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,s=this.comObj,a=this,o=this.actionHandler[t.action],c={enqueue(l,u=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=u,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:Vn.ENQUEUE,streamId:e,chunk:l},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Vn.CLOSE,streamId:e}),delete a.streamSinks[e])},error(l){Qn(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Vn.ERROR,streamId:e,reason:gs(l)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[e]=c,Promise.try(o,t.data,c).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Vn.START_COMPLETE,streamId:e,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:Vn.START_COMPLETE,streamId:e,reason:gs(l)})})},lQ=function(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,s=this.comObj,a=this.streamControllers[e],o=this.streamSinks[e];switch(t.stream){case Vn.START_COMPLETE:t.success?a.startCall.resolve():a.startCall.reject(gs(t.reason));break;case Vn.PULL_COMPLETE:t.success?a.pullCall.resolve():a.pullCall.reject(gs(t.reason));break;case Vn.PULL:if(!o){s.postMessage({sourceName:i,targetName:r,stream:Vn.PULL_COMPLETE,streamId:e,success:!0});break}o.desiredSize<=0&&t.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=t.desiredSize,Promise.try(o.onPull||uH).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Vn.PULL_COMPLETE,streamId:e,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:Vn.PULL_COMPLETE,streamId:e,reason:gs(l)})});break;case Vn.ENQUEUE:if(Qn(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case Vn.CLOSE:if(Qn(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),_(this,Do,QP).call(this,a,e);break;case Vn.ERROR:Qn(a,"error should have stream controller"),a.controller.error(gs(t.reason)),_(this,Do,QP).call(this,a,e);break;case Vn.CANCEL_COMPLETE:t.success?a.cancelCall.resolve():a.cancelCall.reject(gs(t.reason)),_(this,Do,QP).call(this,a,e);break;case Vn.CANCEL:if(!o)break;const c=gs(t.reason);Promise.try(o.onCancel||uH,c).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Vn.CANCEL_COMPLETE,streamId:e,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:Vn.CANCEL_COMPLETE,streamId:e,reason:gs(l)})}),o.sinkCapability.reject(c),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},QP=async function(t,e){var i,r,s;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(r=t.pullCall)==null?void 0:r.promise,(s=t.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[e]};var kC;class cQ{constructor({enableHWA:t=!1}){E(this,kC,!1);b(this,kC,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!h(this,kC)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Ve("Abstract method `_createCanvas` called.")}}kC=new WeakMap;class O0t extends cQ{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class hQ{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Ve("Abstract method `_fetch` called.")}}class dH extends hQ{async _fetch(t){const e=await yx(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):hT(e)}}class uQ{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,s){return"none"}destroy(t=!1){}}var cm,Yw,Eu,_u,Pr,hm,um,ut,Er,OS,yy,JP,by,dQ,I3,wy,BS,zS,L3,jS;class B0t extends uQ{constructor({docId:e,ownerDocument:i=globalThis.document}){super();E(this,ut);E(this,cm);E(this,Yw);E(this,Eu);E(this,_u);E(this,Pr);E(this,hm);E(this,um,0);b(this,_u,e),b(this,Pr,i)}addFilter(e){if(!e)return"none";let i=h(this,ut,Er).get(e);if(i)return i;const[r,s,a]=_(this,ut,JP).call(this,e),o=e.length===1?r:`${r}${s}${a}`;if(i=h(this,ut,Er).get(o),i)return h(this,ut,Er).set(e,i),i;const c=`g_${h(this,_u)}_transfer_map_${fe(this,um)._++}`,l=_(this,ut,by).call(this,c);h(this,ut,Er).set(e,l),h(this,ut,Er).set(o,l);const u=_(this,ut,wy).call(this,c);return _(this,ut,zS).call(this,r,s,a,u),l}addHCMFilter(e,i){var g;const r=`${e}-${i}`,s="base";let a=h(this,ut,OS).get(s);if((a==null?void 0:a.key)===r||(a?((g=a.filter)==null||g.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},h(this,ut,OS).set(s,a)),!e||!i))return a.url;const o=_(this,ut,jS).call(this,e);e=Et.makeHexColor(...o);const c=_(this,ut,jS).call(this,i);if(i=Et.makeHexColor(...c),h(this,ut,yy).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return a.url;const l=new Array(256);for(let m=0;m<=255;m++){const y=m/255;l[m]=y<=.03928?y/12.92:((y+.055)/1.055)**2.4}const u=l.join(","),d=`g_${h(this,_u)}_hcm_filter`,f=a.filter=_(this,ut,wy).call(this,d);_(this,ut,zS).call(this,u,u,u,f),_(this,ut,I3).call(this,f);const p=(m,y)=>{const v=o[m]/255,w=c[m]/255,x=new Array(y+1);for(let A=0;A<=y;A++)x[A]=v+A/y*(w-v);return x.join(",")};return _(this,ut,zS).call(this,p(0,5),p(1,5),p(2,5),f),a.url=_(this,ut,by).call(this,d),a.url}addAlphaFilter(e){let i=h(this,ut,Er).get(e);if(i)return i;const[r]=_(this,ut,JP).call(this,[e]),s=`alpha_${r}`;if(i=h(this,ut,Er).get(s),i)return h(this,ut,Er).set(e,i),i;const a=`g_${h(this,_u)}_alpha_map_${fe(this,um)._++}`,o=_(this,ut,by).call(this,a);h(this,ut,Er).set(e,o),h(this,ut,Er).set(s,o);const c=_(this,ut,wy).call(this,a);return _(this,ut,L3).call(this,r,c),o}addLuminosityFilter(e){let i=h(this,ut,Er).get(e||"luminosity");if(i)return i;let r,s;if(e?([r]=_(this,ut,JP).call(this,[e]),s=`luminosity_${r}`):s="luminosity",i=h(this,ut,Er).get(s),i)return h(this,ut,Er).set(e,i),i;const a=`g_${h(this,_u)}_luminosity_map_${fe(this,um)._++}`,o=_(this,ut,by).call(this,a);h(this,ut,Er).set(e,o),h(this,ut,Er).set(s,o);const c=_(this,ut,wy).call(this,a);return _(this,ut,dQ).call(this,c),e&&_(this,ut,L3).call(this,r,c),o}addHighlightHCMFilter(e,i,r,s,a){var w;const o=`${i}-${r}-${s}-${a}`;let c=h(this,ut,OS).get(e);if((c==null?void 0:c.key)===o||(c?((w=c.filter)==null||w.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},h(this,ut,OS).set(e,c)),!i||!r))return c.url;const[l,u]=[i,r].map(_(this,ut,jS).bind(this));let d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,g]=[s,a].map(_(this,ut,jS).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),h(this,ut,yy).style.color="";const m=(x,A,S)=>{const C=new Array(256),k=(f-d)/S,T=x/255,R=(A-x)/(255*S);let F=0;for(let D=0;D<=S;D++){const U=Math.round(d+D*k),j=T+D*R;for(let V=F;V<=U;V++)C[V]=j;F=U+1}for(let D=F;D<256;D++)C[D]=C[F-1];return C.join(",")},y=`g_${h(this,_u)}_hcm_${e}_filter`,v=c.filter=_(this,ut,wy).call(this,y);return _(this,ut,I3).call(this,v),_(this,ut,zS).call(this,m(p[0],g[0],5),m(p[1],g[1],5),m(p[2],g[2],5),v),c.url=_(this,ut,by).call(this,y),c.url}destroy(e=!1){var i,r,s,a;e&&((i=h(this,hm))!=null&&i.size)||((r=h(this,Eu))==null||r.parentNode.parentNode.remove(),b(this,Eu,null),(s=h(this,Yw))==null||s.clear(),b(this,Yw,null),(a=h(this,hm))==null||a.clear(),b(this,hm,null),b(this,um,0))}}cm=new WeakMap,Yw=new WeakMap,Eu=new WeakMap,_u=new WeakMap,Pr=new WeakMap,hm=new WeakMap,um=new WeakMap,ut=new WeakSet,Er=function(){return h(this,Yw)||b(this,Yw,new Map)},OS=function(){return h(this,hm)||b(this,hm,new Map)},yy=function(){if(!h(this,Eu)){const e=h(this,Pr).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=h(this,Pr).createElementNS(yh,"svg");r.setAttribute("width",0),r.setAttribute("height",0),b(this,Eu,h(this,Pr).createElementNS(yh,"defs")),e.append(r),r.append(h(this,Eu)),h(this,Pr).body.append(e)}return h(this,Eu)},JP=function(e){if(e.length===1){const l=e[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=l[f]/255;const d=u.join(",");return[d,d,d]}const[i,r,s]=e,a=new Array(256),o=new Array(256),c=new Array(256);for(let l=0;l<256;l++)a[l]=i[l]/255,o[l]=r[l]/255,c[l]=s[l]/255;return[a.join(","),o.join(","),c.join(",")]},by=function(e){if(h(this,cm)===void 0){b(this,cm,"");const i=h(this,Pr).URL;i!==h(this,Pr).baseURI&&(dT(i)?zt('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,cm,zj(i,"")))}return`url(${h(this,cm)}#${e})`},dQ=function(e){const i=h(this,Pr).createElementNS(yh,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},I3=function(e){const i=h(this,Pr).createElementNS(yh,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},wy=function(e){const i=h(this,Pr).createElementNS(yh,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),h(this,ut,yy).append(i),i},BS=function(e,i,r){const s=h(this,Pr).createElementNS(yh,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),e.append(s)},zS=function(e,i,r,s){const a=h(this,Pr).createElementNS(yh,"feComponentTransfer");s.append(a),_(this,ut,BS).call(this,a,"feFuncR",e),_(this,ut,BS).call(this,a,"feFuncG",i),_(this,ut,BS).call(this,a,"feFuncB",r)},L3=function(e,i){const r=h(this,Pr).createElementNS(yh,"feComponentTransfer");i.append(r),_(this,ut,BS).call(this,r,"feFuncA",e)},jS=function(e){return h(this,ut,yy).style.color=e,Hj(getComputedStyle(h(this,ut,yy)).getPropertyValue("color"))};class fQ{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Ve("Abstract method `_fetch` called.")}}class fH extends fQ{async _fetch(t){const e=await yx(t,"arraybuffer");return new Uint8Array(e)}}class pQ{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Ve("Abstract method `_fetch` called.")}}class pH extends pQ{async _fetch(t){const e=await yx(t,"arraybuffer");return new Uint8Array(e)}}Jr&&zt("Please use the `legacy` build in Node.js environments.");async function Vj(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class z0t extends uQ{}class j0t extends cQ{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class U0t extends hQ{async _fetch(t){return Vj(t)}}class H0t extends fQ{async _fetch(t){return Vj(t)}}class W0t extends pQ{async _fetch(t){return Vj(t)}}const ar={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function O3(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),n.clip(r)}class Gj{isModifyingCurrentTransform(){return!1}getPattern(){Ve("Abstract method `getPattern` called.")}}class V0t extends Gj{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,r){let s;if(r===ar.STROKE||r===ar.FILL){const a=e.current.getClippedPathBoundingBox(r,bn(t))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,l=e.cachedCanvases.getCanvas("pattern",o,c),u=l.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),i=Et.transform(i,[1,0,0,1,a[0],a[1]]),u.transform(...e.baseTransform),this.matrix&&u.transform(...this.matrix),O3(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=t.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(i);s.setTransform(d)}else O3(t,this._bbox),s=this._createGradient(t);return s}}function aI(n,t,e,i,r,s,a,o){const c=t.coords,l=t.colors,u=n.data,d=n.width*4;let f;c[e+1]>c[i+1]&&(f=e,e=i,i=f,f=s,s=a,a=f),c[i+1]>c[r+1]&&(f=i,i=r,r=f,f=a,a=o,o=f),c[e+1]>c[i+1]&&(f=e,e=i,i=f,f=s,s=a,a=f);const p=(c[e]+t.offsetX)*t.scaleX,g=(c[e+1]+t.offsetY)*t.scaleY,m=(c[i]+t.offsetX)*t.scaleX,y=(c[i+1]+t.offsetY)*t.scaleY,v=(c[r]+t.offsetX)*t.scaleX,w=(c[r+1]+t.offsetY)*t.scaleY;if(g>=w)return;const x=l[s],A=l[s+1],S=l[s+2],C=l[a],k=l[a+1],T=l[a+2],R=l[o],F=l[o+1],D=l[o+2],U=Math.round(g),j=Math.round(w);let V,Y,z,B,G,H,M,N;for(let W=U;W<=j;W++){if(W<y){const Z=W<g?0:(g-W)/(g-y);V=p-(p-m)*Z,Y=x-(x-C)*Z,z=A-(A-k)*Z,B=S-(S-T)*Z}else{let Z;W>w?Z=1:y===w?Z=0:Z=(y-W)/(y-w),V=m-(m-v)*Z,Y=C-(C-R)*Z,z=k-(k-F)*Z,B=T-(T-D)*Z}let q;W<g?q=0:W>w?q=1:q=(g-W)/(g-w),G=p-(p-v)*q,H=x-(x-R)*q,M=A-(A-F)*q,N=S-(S-D)*q;const Q=Math.round(Math.min(V,G)),et=Math.round(Math.max(V,G));let J=d*W+Q*4;for(let Z=Q;Z<=et;Z++)q=(V-Z)/(V-G),q<0?q=0:q>1&&(q=1),u[J++]=Y-(Y-H)*q|0,u[J++]=z-(z-M)*q|0,u[J++]=B-(B-N)*q|0,u[J++]=255}}function G0t(n,t,e){const i=t.coords,r=t.colors;let s,a;switch(t.type){case"lattice":const o=t.verticesPerRow,c=Math.floor(i.length/o)-1,l=o-1;for(s=0;s<c;s++){let u=s*o;for(let d=0;d<l;d++,u++)aI(n,e,i[u],i[u+1],i[u+o],r[u],r[u+1],r[u+o]),aI(n,e,i[u+o+1],i[u+1],i[u+o],r[u+o+1],r[u+1],r[u+o])}break;case"triangles":for(s=0,a=i.length;s<a;s+=3)aI(n,e,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class X0t extends Gj{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),l=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-c,d=Math.min(Math.ceil(Math.abs(l*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(u*t[1]*1.1)),3e3),p=l/d,g=u/f,m={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/p,scaleY:1/g},y=d+2*2,v=f+2*2,w=i.getCanvas("mesh",y,v),x=w.context,A=x.createImageData(d,f);if(e){const C=A.data;for(let k=0,T=C.length;k<T;k+=4)C[k]=e[0],C[k+1]=e[1],C[k+2]=e[2],C[k+3]=255}for(const C of this._figures)G0t(A,C,m);return x.putImageData(A,2,2),{canvas:w.canvas,offsetX:o-2*p,offsetY:c-2*g,scaleX:p,scaleY:g}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,r){O3(t,this._bbox);const s=new Float32Array(2);if(r===ar.SHADING)Et.singularValueDecompose2dScale(bn(t),s);else if(this.matrix){Et.singularValueDecompose2dScale(this.matrix,s);const[o,c]=s;Et.singularValueDecompose2dScale(e.baseTransform,s),s[0]*=o,s[1]*=c}else Et.singularValueDecompose2dScale(e.baseTransform,s);const a=this._createMeshCanvas(s,r===ar.SHADING?null:this._background,e.cachedCanvases);return r!==ar.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}class q0t extends Gj{getPattern(){return"hotpink"}}function K0t(n){switch(n[0]){case"RadialAxial":return new V0t(n);case"Mesh":return new X0t(n);case"Dummy":return new q0t}throw new Error(`Unknown IR type: ${n[0]}`)}const gH={COLORED:1,UNCOLORED:2},QD=class QD{constructor(t,e,i,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:r,tilingType:s,color:a,canvasGraphicsFactory:o}=this;let{xstep:c,ystep:l}=this;c=Math.abs(c),l=Math.abs(l),cM("TilingType: "+s);const u=e[0],d=e[1],f=e[2],p=e[3],g=f-u,m=p-d,y=new Float32Array(2);Et.singularValueDecompose2dScale(this.matrix,y);const[v,w]=y;Et.singularValueDecompose2dScale(this.baseTransform,y);const x=v*y[0],A=w*y[1];let S=g,C=m,k=!1,T=!1;const R=Math.ceil(c*x),F=Math.ceil(l*A),D=Math.ceil(g*x),U=Math.ceil(m*A);R>=D?S=c:k=!0,F>=U?C=l:T=!0;const j=this.getSizeAndScale(S,this.ctx.canvas.width,x),V=this.getSizeAndScale(C,this.ctx.canvas.height,A),Y=t.cachedCanvases.getCanvas("pattern",j.size,V.size),z=Y.context,B=o.createCanvasGraphics(z);if(B.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(B,r,a),z.translate(-j.scale*u,-V.scale*d),B.transform(j.scale,0,0,V.scale,0,0),z.save(),this.clipBbox(B,u,d,f,p),B.baseTransform=bn(B.ctx),B.executeOperatorList(i),B.endDrawing(),z.restore(),k||T){const G=Y.canvas;k&&(S=c),T&&(C=l);const H=this.getSizeAndScale(S,this.ctx.canvas.width,x),M=this.getSizeAndScale(C,this.ctx.canvas.height,A),N=H.size,W=M.size,q=t.cachedCanvases.getCanvas("pattern-workaround",N,W),Q=q.context,et=k?Math.floor(g/c):0,J=T?Math.floor(m/l):0;for(let Z=0;Z<=et;Z++)for(let tt=0;tt<=J;tt++)Q.drawImage(G,N*Z,W*tt,N,W,0,0,N,W);return{canvas:q.canvas,scaleX:H.scale,scaleY:M.scale,offsetX:u,offsetY:d}}return{canvas:Y.canvas,scaleX:j.scale,scaleY:V.scale,offsetX:u,offsetY:d}}getSizeAndScale(t,e,i){const r=Math.max(QD.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*i);return s>=r?s=r:i=s/t,{scale:i,size:s}}clipBbox(t,e,i,r,s){const a=r-e,o=s-i;t.ctx.rect(e,i,a,o),Et.axialAlignedBoundingBox([e,i,r,s],bn(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const r=t.ctx,s=t.current;switch(e){case gH.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;r.fillStyle=s.fillColor=a,r.strokeStyle=s.strokeColor=o;break;case gH.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new y0t(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,r){let s=i;r!==ar.SHADING&&(s=Et.transform(s,e.baseTransform),this.matrix&&(s=Et.transform(s,this.matrix)));const a=this.createPatternCanvas(e);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const c=t.createPattern(a.canvas,"repeat");return c.setTransform(o),c}};X(QD,"MAX_PATTERN_SIZE",3e3);let B3=QD;function Y0t({src:n,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Ui.isLittleEndian?4278190080:255,[c,l]=a?[s,o]:[o,s],u=i>>3,d=i&7,f=n.length;e=new Uint32Array(e.buffer);let p=0;for(let g=0;g<r;g++){for(const y=t+u;t<y;t++){const v=t<f?n[t]:255;e[p++]=v&128?l:c,e[p++]=v&64?l:c,e[p++]=v&32?l:c,e[p++]=v&16?l:c,e[p++]=v&8?l:c,e[p++]=v&4?l:c,e[p++]=v&2?l:c,e[p++]=v&1?l:c}if(d===0)continue;const m=t<f?n[t++]:255;for(let y=0;y<d;y++)e[p++]=m&1<<7-y?l:c}return{srcPos:t,destPos:p}}const mH=16,vH=100,Z0t=15,yH=10,Es=16,oI=new DOMMatrix,Ea=new Float32Array(2),Hy=new Float32Array([1/0,1/0,-1/0,-1/0]);function Q0t(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},n.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},n.transform=function(e,i,r,s,a,o){t.transform(e,i,r,s,a,o),this.__originalTransform(e,i,r,s,a,o)},n.setTransform=function(e,i,r,s,a,o){t.setTransform(e,i,r,s,a,o),this.__originalSetTransform(e,i,r,s,a,o)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,r,s,a,o){t.bezierCurveTo(e,i,r,s,a,o),this.__originalBezierCurveTo(e,i,r,s,a,o)},n.rect=function(e,i,r,s){t.rect(e,i,r,s),this.__originalRect(e,i,r,s)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class J0t{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function w2(n,t,e,i,r,s,a,o,c,l){const[u,d,f,p,g,m]=bn(n);if(d===0&&f===0){const w=a*u+g,x=Math.round(w),A=o*p+m,S=Math.round(A),C=(a+c)*u+g,k=Math.abs(Math.round(C)-x)||1,T=(o+l)*p+m,R=Math.abs(Math.round(T)-S)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(p),x,S),n.drawImage(t,e,i,r,s,0,0,k,R),n.setTransform(u,d,f,p,g,m),[k,R]}if(u===0&&p===0){const w=o*f+g,x=Math.round(w),A=a*d+m,S=Math.round(A),C=(o+l)*f+g,k=Math.abs(Math.round(C)-x)||1,T=(a+c)*d+m,R=Math.abs(Math.round(T)-S)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,x,S),n.drawImage(t,e,i,r,s,0,0,R,k),n.setTransform(u,d,f,p,g,m),[R,k]}n.drawImage(t,e,i,r,s,a,o,c,l);const y=Math.hypot(u,d),v=Math.hypot(f,p);return[y*c,v*l]}class bH{constructor(t,e){X(this,"alphaIsShape",!1);X(this,"fontSize",0);X(this,"fontSizeScale",1);X(this,"textMatrix",null);X(this,"textMatrixScale",1);X(this,"fontMatrix",g3);X(this,"leading",0);X(this,"x",0);X(this,"y",0);X(this,"lineX",0);X(this,"lineY",0);X(this,"charSpacing",0);X(this,"wordSpacing",0);X(this,"textHScale",1);X(this,"textRenderingMode",Ar.FILL);X(this,"textRise",0);X(this,"fillColor","#000000");X(this,"strokeColor","#000000");X(this,"patternFill",!1);X(this,"patternStroke",!1);X(this,"fillAlpha",1);X(this,"strokeAlpha",1);X(this,"lineWidth",1);X(this,"activeSMask",null);X(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Hy.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=ar.FILL,e=null){const i=this.minMax.slice();if(t===ar.STROKE){e||Ve("Stroke bounding box must include transform."),Et.singularValueDecompose2dScale(e,Ea);const r=Ea[0]*this.lineWidth/2,s=Ea[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const t=Et.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Hy,0)}getClippedPathBoundingBox(t=ar.FILL,e=null){return Et.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function wH(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,r=e%Es,s=(e-r)/Es,a=r===0?s:s+1,o=n.createImageData(i,Es);let c=0,l;const u=t.data,d=o.data;let f,p,g,m;if(t.kind===TA.GRAYSCALE_1BPP){const y=u.byteLength,v=new Uint32Array(d.buffer,0,d.byteLength>>2),w=v.length,x=i+7>>3,A=4294967295,S=Ui.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(g=f<s?Es:r,l=0,p=0;p<g;p++){const C=y-c;let k=0;const T=C>x?i:C*8-7,R=T&-8;let F=0,D=0;for(;k<R;k+=8)D=u[c++],v[l++]=D&128?A:S,v[l++]=D&64?A:S,v[l++]=D&32?A:S,v[l++]=D&16?A:S,v[l++]=D&8?A:S,v[l++]=D&4?A:S,v[l++]=D&2?A:S,v[l++]=D&1?A:S;for(;k<T;k++)F===0&&(D=u[c++],F=128),v[l++]=D&F?A:S,F>>=1}for(;l<w;)v[l++]=0;n.putImageData(o,0,f*Es)}}else if(t.kind===TA.RGBA_32BPP){for(p=0,m=i*Es*4,f=0;f<s;f++)d.set(u.subarray(c,c+m)),c+=m,n.putImageData(o,0,p),p+=Es;f<a&&(m=i*r*4,d.set(u.subarray(c,c+m)),n.putImageData(o,0,p))}else if(t.kind===TA.RGB_24BPP)for(g=Es,m=i*g,f=0;f<a;f++){for(f>=s&&(g=r,m=i*g),l=0,p=m;p--;)d[l++]=u[c++],d[l++]=u[c++],d[l++]=u[c++],d[l++]=255;n.putImageData(o,0,f*Es)}else throw new Error(`bad image kind: ${t.kind}`)}function xH(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,r=e%Es,s=(e-r)/Es,a=r===0?s:s+1,o=n.createImageData(i,Es);let c=0;const l=t.data,u=o.data;for(let d=0;d<a;d++){const f=d<s?Es:r;({srcPos:c}=Y0t({src:l,srcPos:c,dest:u,width:i,height:f,nonBlackColor:0})),n.putImageData(o,0,d*Es)}}function Xx(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function x2(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function SH(n,t){if(t)return!0;Et.singularValueDecompose2dScale(n,Ea);const e=Math.fround(Rl.pixelRatio*ad.PDF_TO_CSS_UNITS);return Ea[0]<=e&&Ea[1]<=e}const $0t=["butt","round","square"],tmt=["miter","round","bevel"],emt={},AH={};var Fl,z3,j3,U3;const o5=class o5{constructor(t,e,i,r,s,{optionalContentConfig:a,markedContentStack:o=null},c,l){E(this,Fl);this.ctx=t,this.current=new bH(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new J0t(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,i){const c=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...bn(this.compositeCtx))}this.ctx.save(),x2(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=bn(this.ctx)}executeOperatorList(t,e,i,r){const s=t.argsArray,a=t.fnArray;let o=e||0;const c=s.length;if(c===o)return o;const l=c-o>yH&&typeof i=="function",u=l?Date.now()+Z0t:0;let d=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(r!==void 0&&o===r.nextBreakPoint)return r.breakIt(o,i),o;if(g=a[o],g!==yE.dependency)this[g].apply(this,s[o]);else for(const m of s[o]){const y=m.startsWith("g_")?f:p;if(!y.has(m))return y.get(m,i),o}if(o++,o===c)return o;if(l&&++d>yH){if(Date.now()>u)return i(),o;d=0}}}endDrawing(){_(this,Fl,z3).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),_(this,Fl,j3).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let s=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),o=i,c=r,l="prescale1",u,d;for(;s>2&&o>1||a>2&&c>1;){let f=o,p=c;s>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/f),a>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/p),u=this.cachedCanvases.getCanvas(l,f,p),d=u.context,d.clearRect(0,0,f,p),d.drawImage(t,0,0,o,c,0,0,f,p),t=u.canvas,o=f,c=p,l=l==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:o,paintHeight:c}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:r}=t,s=this.current.fillColor,a=this.current.patternFill,o=bn(e);let c,l,u,d;if((t.bitmap||t.data)&&t.count>1){const R=t.bitmap||t.data.buffer;l=JSON.stringify(a?o:[o.slice(0,4),s]),c=this._cachedBitmapsMap.get(R),c||(c=new Map,this._cachedBitmapsMap.set(R,c));const F=c.get(l);if(F&&!a){const D=Math.round(Math.min(o[0],o[2])+o[4]),U=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:F,offsetX:D,offsetY:U}}u=F}u||(d=this.cachedCanvases.getCanvas("maskCanvas",i,r),xH(d.context,t));let f=Et.transform(o,[1/i,0,0,-1/r,0,0]);f=Et.transform(f,[1,0,0,1,0,-r]);const p=Hy.slice();Et.axialAlignedBoundingBox([0,0,i,r],f,p);const[g,m,y,v]=p,w=Math.round(y-g)||1,x=Math.round(v-m)||1,A=this.cachedCanvases.getCanvas("fillCanvas",w,x),S=A.context,C=g,k=m;S.translate(-C,-k),S.transform(...f),u||(u=this._scaleImage(d.canvas,Yl(S)),u=u.img,c&&a&&c.set(l,u)),S.imageSmoothingEnabled=SH(bn(S),t.interpolate),w2(S,u,0,0,u.width,u.height,0,0,i,r),S.globalCompositeOperation="source-in";const T=Et.transform(Yl(S),[1,0,0,1,-C,-k]);return S.fillStyle=a?s.getPattern(e,this,T,ar.FILL):s,S.fillRect(0,0,i,r),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(l,A.canvas)),{canvas:A.canvas,offsetX:Math.round(C),offsetY:Math.round(k)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=$0t[t]}setLineJoin(t){this.ctx.lineJoin=tmt[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx;const s=this.ctx=r.context;s.setTransform(this.suspendedCtx.getTransform()),Xx(this.suspendedCtx,s),Q0t(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Xx(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){const s=r[0],a=r[1],o=r[2]-s,c=r[3]-a;o===0||c===0||(this.genericComposeSMask(e.context,i,o,c,e.subtype,e.backdrop,e.transferMap,s,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,s,a,o,c,l,u,d){let f=t.canvas,p=c-u,g=l-d;if(a)if(p<0||g<0||p+i>f.width||g+r>f.height){const y=this.cachedCanvases.getCanvas("maskExtension",i,r),v=y.context;v.drawImage(f,-p,-g),v.globalCompositeOperation="destination-atop",v.fillStyle=a,v.fillRect(0,0,i,r),v.globalCompositeOperation="source-over",f=y.canvas,p=g=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(p,g,i,r),t.clip(y),t.globalCompositeOperation="destination-atop",t.fillStyle=a,t.fillRect(p,g,i,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?e.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(o));const m=new Path2D;m.rect(c,l,i,r),e.clip(m),e.globalCompositeOperation="destination-in",e.drawImage(f,p,g,i,r,c,l,i,r),e.restore()}save(){this.inSMaskMode&&Xx(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Xx(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,r,s,a){this.ctx.transform(t,e,i,r,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){let[r]=e;if(!i){r||(r=e[0]=new Path2D),this[t](r);return}if(!(r instanceof Path2D)){const s=e[0]=new Path2D;for(let a=0,o=r.length;a<o;)switch(r[a++]){case v2.moveTo:s.moveTo(r[a++],r[a++]);break;case v2.lineTo:s.lineTo(r[a++],r[a++]);break;case v2.curveTo:s.bezierCurveTo(r[a++],r[a++],r[a++],r[a++],r[a++],r[a++]);break;case v2.closePath:s.closePath();break;default:zt(`Unrecognized drawing path operator: ${r[a-1]}`);break}r=s}Et.axialAlignedBoundingBox(i,bn(this.ctx),this.current.minMax),this[t](r)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const i=this.ctx,r=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const s=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=r.getPattern(i,this,Yl(i),ar.STROKE),s){const a=new Path2D;a.addPath(t,i.getTransform().invertSelf().multiplySelf(s)),t=a}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(ar.STROKE,bn(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;let a=!1;if(s){const c=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=r.getPattern(i,this,Yl(i),ar.FILL),c){const l=new Path2D;l.addPath(t,i.getTransform().invertSelf().multiplySelf(c)),t=l}a=!0}const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),a&&i.restore(),e&&this.consumePath(t,o)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=emt}eoClip(){this.pendingClip=AH}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const i=new Path2D,r=e.getTransform().invertSelf();for(const{transform:s,x:a,y:o,fontSize:c,path:l}of t)i.addPath(l,new DOMMatrix(s).preMultiplySelf(r).translate(a,o).scale(c,-c));e.clip(i),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var u;const i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||g3,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&zt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const s=i.loadedName||"sans-serif",a=((u=i.systemFontInfo)==null?void 0:u.css)||`"${s}", ${i.fallbackName}`;let o="normal";i.black?o="900":i.bold&&(o="bold");const c=i.italic?"italic":"normal";let l=e;e<mH?l=mH:e>vH&&(l=vH),this.current.fontSizeScale=e/l,this.ctx.font=`${c} ${o} ${l}px ${a}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,r,s){const a=this.ctx,o=this.current,c=o.font,l=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,d=l&Ar.FILL_STROKE_MASK,f=!!(l&Ar.ADD_TO_PATH_FLAG),p=o.patternFill&&!c.missingFile,g=o.patternStroke&&!c.missingFile;let m;if((c.disableFontFace||f||p||g)&&(m=c.getPathGenerator(this.commonObjs,t)),c.disableFontFace||p||g){a.save(),a.translate(e,i),a.scale(u,-u);let y;if((d===Ar.FILL||d===Ar.FILL_STROKE)&&(r?(y=a.getTransform(),a.setTransform(...r),a.fill(_(this,Fl,U3).call(this,m,y,r))):a.fill(m)),d===Ar.STROKE||d===Ar.FILL_STROKE)if(s){y||(y=a.getTransform()),a.setTransform(...s);const{a:v,b:w,c:x,d:A}=y,S=Et.inverseTransform(s),C=Et.transform([v,w,x,A,0,0],S);Et.singularValueDecompose2dScale(C,Ea),a.lineWidth*=Math.max(Ea[0],Ea[1])/u,a.stroke(_(this,Fl,U3).call(this,m,y,s))}else a.lineWidth/=u,a.stroke(m);a.restore()}else(d===Ar.FILL||d===Ar.FILL_STROKE)&&a.fillText(t,e,i),(d===Ar.STROKE||d===Ar.FILL_STROKE)&&a.strokeText(t,e,i);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:bn(a),x:e,y:i,fontSize:u,path:m})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return Jt(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const s=this.ctx,a=e.fontSizeScale,o=e.charSpacing,c=e.wordSpacing,l=e.fontDirection,u=e.textHScale*l,d=t.length,f=i.vertical,p=f?1:-1,g=i.defaultVMetrics,m=r*e.fontMatrix[0],y=e.textRenderingMode===Ar.FILL&&!i.disableFontFace&&!e.patternFill;s.save(),e.textMatrix&&s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),l>0?s.scale(u,-1):s.scale(u,1);let v,w;if(e.patternFill){s.save();const k=e.fillColor.getPattern(s,this,Yl(s),ar.FILL);v=bn(s),s.restore(),s.fillStyle=k}if(e.patternStroke){s.save();const k=e.strokeColor.getPattern(s,this,Yl(s),ar.STROKE);w=bn(s),s.restore(),s.strokeStyle=k}let x=e.lineWidth;const A=e.textMatrixScale;if(A===0||x===0){const k=e.textRenderingMode&Ar.FILL_STROKE_MASK;(k===Ar.STROKE||k===Ar.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=A;if(a!==1&&(s.scale(a,a),x/=a),s.lineWidth=x,i.isInvalidPDFjsFont){const k=[];let T=0;for(const R of t)k.push(R.unicode),T+=R.width;s.fillText(k.join(""),0,0),e.x+=T*m*u,s.restore(),this.compose();return}let S=0,C;for(C=0;C<d;++C){const k=t[C];if(typeof k=="number"){S+=p*k*r/1e3;continue}let T=!1;const R=(k.isSpace?c:0)+o,F=k.fontChar,D=k.accent;let U,j,V=k.width;if(f){const z=k.vmetric||g,B=-(k.vmetric?z[1]:V*.5)*m,G=z[2]*m;V=z?-z[0]:V,U=B/a,j=(S+G)/a}else U=S/a,j=0;if(i.remeasure&&V>0){const z=s.measureText(F).width*1e3/r*a;if(V<z&&this.isFontSubpixelAAEnabled){const B=V/z;T=!0,s.save(),s.scale(B,1),U/=B}else V!==z&&(U+=(V-z)/2e3*r/a)}if(this.contentVisible&&(k.isInFont||i.missingFile)){if(y&&!D)s.fillText(F,U,j);else if(this.paintChar(F,U,j,v,w),D){const z=U+r*D.offset.x/a,B=j-r*D.offset.y/a;this.paintChar(D.fontChar,z,B,v,w)}}const Y=f?V*m-R*l:V*m+R*l;S+=Y,T&&s.restore()}f?e.y-=S:e.x+=S*u,s.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,r=i.font,s=i.fontSize,a=i.fontDirection,o=r.vertical?1:-1,c=i.charSpacing,l=i.wordSpacing,u=i.textHScale*a,d=i.fontMatrix||g3,f=t.length,p=i.textRenderingMode===Ar.INVISIBLE;let g,m,y,v;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),i.textMatrix&&e.transform(...i.textMatrix),e.translate(i.x,i.y+i.textRise),e.scale(u,a),g=0;g<f;++g){if(m=t[g],typeof m=="number"){v=o*m*s/1e3,this.ctx.translate(v,0),i.x+=v*u;continue}const w=(m.isSpace?l:0)+c,x=r.charProcOperatorList[m.operatorListId];x?this.contentVisible&&(this.save(),e.scale(s,s),e.transform(...d),this.executeOperatorList(x),this.restore()):zt(`Type3 character "${m.operatorListId}" is not available.`);const A=[m.width,0];Et.applyTransform(A,d),y=A[0]*s+w,e.translate(y,0),i.x+=y*u}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,r,s,a){const o=new Path2D;o.rect(i,r,s-i,a-r),this.ctx.clip(o),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=this.baseTransform||bn(this.ctx),r={createCanvasGraphics:s=>new o5(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new B3(t,this.ctx,r,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=K0t(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,Yl(e),ar.SHADING);const r=Yl(e);if(r){const{width:s,height:a}=e.canvas,o=Hy.slice();Et.axialAlignedBoundingBox([0,0,s,a],r,o);const[c,l,u,d]=o;this.ctx.fillRect(c,l,u-c,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ve("Should not call beginInlineImage")}beginImageData(){Ve("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=bn(this.ctx),e)){Et.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[i,r,s,a]=e,o=new Path2D;o.rect(i,r,s-i,a-r),this.ctx.clip(o),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||cM("TODO: Support non-isolated groups."),t.knockout&&zt("Knockout groups not supported.");const i=bn(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Hy.slice();Et.axialAlignedBoundingBox(t.bbox,bn(e),r);const s=[0,0,e.canvas.width,e.canvas.height];r=Et.intersect(r,s)||[0,0,0,0];const a=Math.floor(r[0]),o=Math.floor(r[1]),c=Math.max(Math.ceil(r[2])-a,1),l=Math.max(Math.ceil(r[3])-o,1);this.current.startNewPathAndClipBox([0,0,c,l]);let u="groupAt"+this.groupLevel;t.smask&&(u+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(u,c,l),f=d.context;f.translate(-a,-o),f.transform(...i);let p=new Path2D;const[g,m,y,v]=t.bbox;if(p.rect(g,m,y-g,v-m),t.matrix){const w=new Path2D;w.addPath(p,new DOMMatrix(t.matrix)),p=w}f.clip(p),t.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:a,offsetY:o,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(a,o),e.save()),Xx(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=bn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=Hy.slice();Et.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r,s),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(t,e,i,r,s){if(_(this,Fl,z3).call(this),x2(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const a=e[2]-e[0],o=e[3]-e[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=a,e[3]=o,Et.singularValueDecompose2dScale(bn(this.ctx),Ea);const{viewportScale:c}=this,l=Math.ceil(a*this.outputScaleX*c),u=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(l,u);const{canvas:d,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(t,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(Ea[0],0,0,-Ea[1],0,o*Ea[1]),x2(this.ctx)}else{x2(this.ctx),this.endPath();const c=new Path2D;c.rect(e[0],e[1],a,o),this.ctx.clip(c)}}this.current=new bH(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,Fl,j3).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,r=this._createMaskCanvas(t),s=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(s,r.offsetX,r.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,r=0,s,a){if(!this.contentVisible)return;t=this.getObject(t.data,t);const o=this.ctx;o.save();const c=bn(o);o.transform(e,i,r,s,0,0);const l=this._createMaskCanvas(t);o.setTransform(1,0,0,1,l.offsetX-c[4],l.offsetY-c[5]);for(let u=0,d=a.length;u<d;u+=2){const f=Et.transform(c,[e,i,r,s,a[u],a[u+1]]);o.drawImage(l.canvas,f[4],f[5])}o.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of t){const{data:a,width:o,height:c,transform:l}=s,u=this.cachedCanvases.getCanvas("maskCanvas",o,c),d=u.context;d.save();const f=this.getObject(a,s);xH(d,f),d.globalCompositeOperation="source-in",d.fillStyle=r?i.getPattern(d,this,Yl(e),ar.FILL):i,d.fillRect(0,0,o,c),d.restore(),e.save(),e.transform(...l),e.scale(1,-1),w2(e,u.canvas,0,0,o,c,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){zt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,r){if(!this.contentVisible)return;const s=this.getObject(t);if(!s){zt("Dependent image isn't ready yet");return}const a=s.width,o=s.height,c=[];for(let l=0,u=r.length;l<u;l+=2)c.push({transform:[e,0,0,i,r[l],r[l+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,c)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:r}=t,s=this.cachedCanvases.getCanvas("inlineImage",i,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",s.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,r=this.ctx;this.save();const{filter:s}=r;s!=="none"&&s!==""&&(r.filter="none"),r.scale(1/e,-1/i);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const l=this.cachedCanvases.getCanvas("inlineImage",e,i).context;wH(l,t),a=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(a,Yl(r));r.imageSmoothingEnabled=SH(bn(r),t.interpolate),w2(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const s=t.width,a=t.height,c=this.cachedCanvases.getCanvas("inlineImage",s,a).context;wH(c,t),r=this.applyTransferMapsToCanvas(c)}for(const s of e)i.save(),i.transform(...s.transform),i.scale(1,-1),w2(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(i||(this.pendingClip===AH?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=bn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:r,d:s}=this.ctx.getTransform();let a,o;if(i===0&&r===0){const c=Math.abs(e),l=Math.abs(s);if(c===l)if(t===0)a=o=1/c;else{const u=c*t;a=o=u<1?1/u:1}else if(t===0)a=1/c,o=1/l;else{const u=c*t,d=l*t;a=u<1?1/u:1,o=d<1?1/d:1}}else{const c=Math.abs(e*s-i*r),l=Math.hypot(e,i),u=Math.hypot(r,s);if(t===0)a=u/c,o=l/c;else{const d=t*c;a=u>d?u/d:1,o=l>d?l/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:r}}=this,[s,a]=this.getScaleForStroking();if(s===a){i.lineWidth=(r||1)*s,i.stroke(t);return}const o=i.getLineDash();e&&i.save(),i.scale(s,a),oI.a=1/s,oI.d=1/a;const c=new Path2D;if(c.addPath(t,oI),o.length>0){const l=Math.max(s,a);i.setLineDash(o.map(u=>u/l)),i.lineDashOffset/=l}i.lineWidth=r||1,i.stroke(c),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Fl=new WeakSet,z3=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},j3=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},U3=function(t,e,i){const r=new Path2D;return r.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),r};let cb=o5;for(const n in yE)cb.prototype[n]!==void 0&&(cb.prototype[yE[n]]=cb.prototype[n]);var TC,PC;class wl{static get workerPort(){return h(this,TC)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");b(this,TC,t)}static get workerSrc(){return h(this,PC)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");b(this,PC,t)}}TC=new WeakMap,PC=new WeakMap,E(wl,TC,null),E(wl,PC,"");var Zw,RC;class nmt{constructor({parsedData:t,rawData:e}){E(this,Zw);E(this,RC);b(this,Zw,t),b(this,RC,e)}getRaw(){return h(this,RC)}get(t){return h(this,Zw).get(t)??null}[Symbol.iterator](){return h(this,Zw).entries()}}Zw=new WeakMap,RC=new WeakMap;const xy=Symbol("INTERNAL");var DC,FC,MC,Qw;class imt{constructor(t,{name:e,intent:i,usage:r,rbGroups:s}){E(this,DC,!1);E(this,FC,!1);E(this,MC,!1);E(this,Qw,!0);b(this,DC,!!(t&xa.DISPLAY)),b(this,FC,!!(t&xa.PRINT)),this.name=e,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(h(this,MC))return h(this,Qw);if(!h(this,Qw))return!1;const{print:t,view:e}=this.usage;return h(this,DC)?(e==null?void 0:e.viewState)!=="OFF":h(this,FC)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==xy&&Ve("Internal method `_setVisible` called."),b(this,MC,i),b(this,Qw,e)}}DC=new WeakMap,FC=new WeakMap,MC=new WeakMap,Qw=new WeakMap;var tp,Be,Jw,$w,NC,H3;class rmt{constructor(t,e=xa.DISPLAY){E(this,NC);E(this,tp,null);E(this,Be,new Map);E(this,Jw,null);E(this,$w,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,b(this,$w,t.order);for(const i of t.groups)h(this,Be).set(i.id,new imt(e,i));if(t.baseState==="OFF")for(const i of h(this,Be).values())i._setVisible(xy,!1);for(const i of t.on)h(this,Be).get(i)._setVisible(xy,!0);for(const i of t.off)h(this,Be).get(i)._setVisible(xy,!1);b(this,Jw,this.getHash())}}isVisible(t){if(h(this,Be).size===0)return!0;if(!t)return cM("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,Be).has(t.id)?h(this,Be).get(t.id).visible:(zt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return _(this,NC,H3).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,Be).has(e))return zt(`Optional content group not found: ${e}`),!0;if(h(this,Be).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,Be).has(e))return zt(`Optional content group not found: ${e}`),!0;if(!h(this,Be).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,Be).has(e))return zt(`Optional content group not found: ${e}`),!0;if(!h(this,Be).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,Be).has(e))return zt(`Optional content group not found: ${e}`),!0;if(h(this,Be).get(e).visible)return!1}return!0}return zt(`Unknown optional content policy ${t.policy}.`),!0}return zt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var s;const r=h(this,Be).get(t);if(!r){zt(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(const a of r.rbGroups)for(const o of a)o!==t&&((s=h(this,Be).get(o))==null||s._setVisible(xy,!1,!0));r._setVisible(xy,!!e,!0),b(this,tp,null)}setOCGState({state:t,preserveRB:e}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=h(this,Be).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!s.visible,e);break}}b(this,tp,null)}get hasInitialVisibility(){return h(this,Jw)===null||this.getHash()===h(this,Jw)}getOrder(){return h(this,Be).size?h(this,$w)?h(this,$w).slice():[...h(this,Be).keys()]:null}getGroup(t){return h(this,Be).get(t)||null}getHash(){if(h(this,tp)!==null)return h(this,tp);const t=new nQ;for(const[e,i]of h(this,Be))t.update(`${e}:${i.visible}`);return b(this,tp,t.hexdigest())}[Symbol.iterator](){return h(this,Be).entries()}}tp=new WeakMap,Be=new WeakMap,Jw=new WeakMap,$w=new WeakMap,NC=new WeakSet,H3=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let r=1;r<e;r++){const s=t[r];let a;if(Array.isArray(s))a=_(this,NC,H3).call(this,s);else if(h(this,Be).has(s))a=h(this,Be).get(s).visible;else return zt(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class smt{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Qn(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((c,l)=>{this._onReceiveData({begin:c,chunk:l})}),t.addProgressListener((c,l)=>{this._onProgress({loaded:c,total:l})}),t.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(i),!0)});Qn(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,r,s;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Qn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new amt(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new omt(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class amt{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=uM(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class omt{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function lmt(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let u=o(e);return u=unescape(u),u=c(u),u=l(u),s(u)}if(e=a(n),e){const u=l(e);return s(u)}if(e=i("filename","i").exec(n),e){e=e[1];let u=o(e);return u=l(u),s(u)}function i(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(u,{fatal:!0}),p=hT(d);d=f.decode(p),t=!1}catch{}}return d}function s(u){return t&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),t&&(u=r("iso-8859-1",u))),u}function a(u){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(u))!==null;){let[,m,y,v]=f;if(m=parseInt(m,10),m in d){if(m===0)break;continue}d[m]=[y,v]}const g=[];for(let m=0;m<d.length&&m in d;++m){let[y,v]=d[m];v=o(v),y&&(v=unescape(v),m===0&&(v=c(v))),g.push(v)}return g.join("")}function o(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function c(u){const d=u.indexOf("'");if(d===-1)return u;const f=u.slice(0,d),g=u.slice(d+1).replace(/^[^']*'/,"");return r(f,g)}function l(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,y){return String.fromCharCode(parseInt(y,16))}),r(f,g);try{g=atob(g)}catch{}return r(f,g)})}return""}function gQ(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const r=t[i];r!==void 0&&e.append(i,r)}return e}function fM(n){var t;return((t=URL.parse(n))==null?void 0:t.origin)??null}function mQ({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function vQ(n){const t=n.get("Content-Disposition");if(t){let e=lmt(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(uM(e))return e}return null}function pT(n,t){return new bE(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function yQ(n){return n===200||n===206}function bQ(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function wQ(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(zt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class cmt{constructor(t){X(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=gQ(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Qn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new hmt(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new umt(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class hmt{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),r=e.url;fetch(r,bQ(i,this._withCredentials,this._abortController)).then(s=>{if(t._responseOrigin=fM(s.url),!yQ(s.status))throw pT(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:c}=mQ({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=c||this._contentLength,this._filename=vQ(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new sd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:wQ(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class umt{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(t.headers);s.append("Range",`bytes=${e}-${i-1}`);const a=r.url;fetch(a,bQ(s,this._withCredentials,this._abortController)).then(o=>{const c=fM(o.url);if(c!==t._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${t._responseOrigin}".`);if(!yQ(o.status))throw pT(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:wQ(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const lI=200,cI=206;function dmt(n){const t=n.response;return typeof t!="string"?t:hT(t).buffer}class fmt{constructor({url:t,httpHeaders:e,withCredentials:i}){X(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=gQ(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,a]of this.headers)e.setRequestHeader(s,a);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=cI):r.expectedStatus=lI,e.responseType="arraybuffer",Qn(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var r;const i=this.pendingRequests[t];i&&((r=i.onProgress)==null||r.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||lI;if(!(s===lI&&i.expectedStatus===cI)&&s!==i.expectedStatus){i.onError(r.status);return}const o=dmt(r);if(s===cI){const c=r.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);l?i.onDone({begin:parseInt(l[1],10),chunk:o}):(zt('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone({begin:0,chunk:o}):i.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class pmt{constructor(t){this._source=t,this._manager=new fmt(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Qn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new gmt(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new mmt(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class gmt{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=fM(e.responseURL);const i=e.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[c,...l]=o.split(": ");return[c,l.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=mQ({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=vQ(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=pT(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class mmt{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=fM((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=pT(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const vmt=/^[a-z][a-z0-9\-+.]+:/i;function ymt(n){if(vmt.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}class bmt{constructor(t){this.source=t,this.url=ymt(t.url),Qn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Qn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new wmt(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new xmt(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class wmt{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=pT(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new sd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class xmt{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const qx=Symbol("INITIAL_DATA");var ca,IC,W3;class xQ{constructor(){E(this,IC);E(this,ca,Object.create(null))}get(t,e=null){if(e){const r=_(this,IC,W3).call(this,t);return r.promise.then(()=>e(r.data)),null}const i=h(this,ca)[t];if(!i||i.data===qx)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=h(this,ca)[t];return!!e&&e.data!==qx}delete(t){const e=h(this,ca)[t];return!e||e.data===qx?!1:(delete h(this,ca)[t],!0)}resolve(t,e=null){const i=_(this,IC,W3).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in h(this,ca)){const{data:i}=h(this,ca)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}b(this,ca,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,ca)){const{data:e}=h(this,ca)[t];e!==qx&&(yield[t,e])}}}ca=new WeakMap,IC=new WeakSet,W3=function(t){var e;return(e=h(this,ca))[t]||(e[t]={...Promise.withResolvers(),data:qx})};const Smt=1e5,EH=30;var kW,ep,xs,LC,OC,dm,Cu,BC,zC,fm,t1,e1,np,n1,jC,i1,pm,UC,HC,kn,r1,gm,WC,ip,s1,cd,SQ,AQ,V3,Oa,$P,G3,EQ,_Q;let xE=(kn=class{constructor({textContentSource:t,container:e,viewport:i}){E(this,cd);E(this,ep,Promise.withResolvers());E(this,xs,null);E(this,LC,!1);E(this,OC,!!((kW=globalThis.FontInspector)!=null&&kW.enabled));E(this,dm,null);E(this,Cu,null);E(this,BC,0);E(this,zC,0);E(this,fm,null);E(this,t1,null);E(this,e1,0);E(this,np,0);E(this,n1,Object.create(null));E(this,jC,[]);E(this,i1,null);E(this,pm,[]);E(this,UC,new WeakMap);E(this,HC,null);var c;if(t instanceof ReadableStream)b(this,i1,t);else if(typeof t=="object")b(this,i1,new ReadableStream({start(l){l.enqueue(t),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,xs,b(this,t1,e)),b(this,np,i.scale*Rl.pixelRatio),b(this,e1,i.rotation),b(this,Cu,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=i.rawDims;b(this,HC,[1,0,0,-1,-a,o+s]),b(this,zC,r),b(this,BC,s),_(c=kn,Oa,EQ).call(c),Jp(e,i),h(this,ep).promise.finally(()=>{h(kn,s1).delete(this),b(this,Cu,null),b(this,n1,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Ui.platform;return Jt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,fm).read().then(({value:e,done:i})=>{if(i){h(this,ep).resolve();return}h(this,dm)??b(this,dm,e.lang),Object.assign(h(this,n1),e.styles),_(this,cd,SQ).call(this,e.items),t()},h(this,ep).reject)};return b(this,fm,h(this,i1).getReader()),h(kn,s1).add(this),t(),h(this,ep).promise}update({viewport:t,onBefore:e=null}){var s;const i=t.scale*Rl.pixelRatio,r=t.rotation;if(r!==h(this,e1)&&(e==null||e(),b(this,e1,r),Jp(h(this,t1),{rotation:r})),i!==h(this,np)){e==null||e(),b(this,np,i);const a={div:null,properties:null,ctx:_(s=kn,Oa,$P).call(s,h(this,dm))};for(const o of h(this,pm))a.properties=h(this,UC).get(o),a.div=o,_(this,cd,V3).call(this,a)}}cancel(){var e;const t=new sd("TextLayer task cancelled.");(e=h(this,fm))==null||e.cancel(t).catch(()=>{}),b(this,fm,null),h(this,ep).reject(t)}get textDivs(){return h(this,pm)}get textContentItemsStr(){return h(this,jC)}static cleanup(){if(!(h(this,s1).size>0)){h(this,r1).clear();for(const{canvas:t}of h(this,gm).values())t.remove();h(this,gm).clear()}}},ep=new WeakMap,xs=new WeakMap,LC=new WeakMap,OC=new WeakMap,dm=new WeakMap,Cu=new WeakMap,BC=new WeakMap,zC=new WeakMap,fm=new WeakMap,t1=new WeakMap,e1=new WeakMap,np=new WeakMap,n1=new WeakMap,jC=new WeakMap,i1=new WeakMap,pm=new WeakMap,UC=new WeakMap,HC=new WeakMap,r1=new WeakMap,gm=new WeakMap,WC=new WeakMap,ip=new WeakMap,s1=new WeakMap,cd=new WeakSet,SQ=function(t){var r,s;if(h(this,LC))return;(s=h(this,Cu)).ctx??(s.ctx=_(r=kn,Oa,$P).call(r,h(this,dm)));const e=h(this,pm),i=h(this,jC);for(const a of t){if(e.length>Smt){zt("Ignoring additional textDivs for performance reasons."),b(this,LC,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=h(this,xs);b(this,xs,document.createElement("span")),h(this,xs).classList.add("markedContent"),a.id!==null&&h(this,xs).setAttribute("id",`${a.id}`),o.append(h(this,xs))}else a.type==="endMarkedContent"&&b(this,xs,h(this,xs).parentNode);continue}i.push(a.str),_(this,cd,AQ).call(this,a)}},AQ=function(t){var m;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,pm).push(e);const r=Et.transform(h(this,HC),t.transform);let s=Math.atan2(r[1],r[0]);const a=h(this,n1)[t.fontName];a.vertical&&(s+=Math.PI/2);let o=h(this,OC)&&a.fontSubstitution||a.fontFamily;o=kn.fontFamilyMap.get(o)||o;const c=Math.hypot(r[2],r[3]),l=c*_(m=kn,Oa,_Q).call(m,o,a,h(this,dm));let u,d;s===0?(u=r[4],d=r[5]-l):(u=r[4]+l*Math.sin(s),d=r[5]-l*Math.cos(s));const f="calc(var(--total-scale-factor) *",p=e.style;h(this,xs)===h(this,t1)?(p.left=`${(100*u/h(this,zC)).toFixed(2)}%`,p.top=`${(100*d/h(this,BC)).toFixed(2)}%`):(p.left=`${f}${u.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(h(kn,ip)*c).toFixed(2)}px)`,p.fontFamily=o,i.fontSize=c,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,OC)&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),s!==0&&(i.angle=s*(180/Math.PI));let g=!1;if(t.str.length>1)g=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const y=Math.abs(t.transform[0]),v=Math.abs(t.transform[3]);y!==v&&Math.max(y,v)/Math.min(y,v)>1.5&&(g=!0)}if(g&&(i.canvasWidth=a.vertical?t.height:t.width),h(this,UC).set(e,i),h(this,Cu).div=e,h(this,Cu).properties=i,_(this,cd,V3).call(this,h(this,Cu)),i.hasText&&h(this,xs).append(e),i.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),h(this,xs).append(y)}},V3=function(t){var o;const{div:e,properties:i,ctx:r}=t,{style:s}=e;let a="";if(h(kn,ip)>1&&(a=`scale(${1/h(kn,ip)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=s,{canvasWidth:l,fontSize:u}=i;_(o=kn,Oa,G3).call(o,r,u*h(this,np),c);const{width:d}=r.measureText(e.textContent);d>0&&(a=`scaleX(${l*h(this,np)/d}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Oa=new WeakSet,$P=function(t=null){let e=h(this,gm).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,gm).set(t,e),h(this,WC).set(e,{size:0,family:""})}return e},G3=function(t,e,i){const r=h(this,WC).get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)},EQ=function(){if(h(this,ip)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),b(this,ip,t.getBoundingClientRect().height),t.remove()},_Q=function(t,e,i){const r=h(this,r1).get(t);if(r)return r;const s=_(this,Oa,$P).call(this,i);s.canvas.width=s.canvas.height=EH,_(this,Oa,G3).call(this,s,EH,t);const a=s.measureText(""),o=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let l=.8;return o?l=o/(o+c):(Ui.platform.isFirefox&&zt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?l=e.ascent:e.descent&&(l=1+e.descent)),h(this,r1).set(t,l),l},E(kn,Oa),E(kn,r1,new Map),E(kn,gm,new Map),E(kn,WC,new WeakMap),E(kn,ip,null),E(kn,s1,new Set),kn);class SE{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function r(s){var c;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(SE.shouldBuildText(o))(c=s==null?void 0:s.attributes)!=null&&c.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&e.push({str:a}),!!s.children)for(const l of s.children)r(l)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const Amt=100;function Xj(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new X3,{docId:e}=t,i=n.url?M0t(n.url):null,r=n.data?N0t(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,c=n.range instanceof qj?n.range:null,l=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let u=n.worker instanceof Z1?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!dT(n.docBaseUrl)?n.docBaseUrl:null,p=y2(n.cMapUrl),g=n.cMapPacked!==!1,m=n.CMapReaderFactory||(Jr?U0t:dH),y=y2(n.iccUrl),v=y2(n.standardFontDataUrl),w=n.StandardFontDataFactory||(Jr?H0t:fH),x=y2(n.wasmUrl),A=n.WasmFactory||(Jr?W0t:pH),S=n.stopAtErrors!==!0,C=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,k=n.isEvalSupported!==!1,T=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Jr,R=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Jr&&(Ui.platform.isFirefox||!globalThis.chrome),F=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,D=typeof n.disableFontFace=="boolean"?n.disableFontFace:Jr,U=n.fontExtraProperties===!0,j=n.enableXfa===!0,V=n.ownerDocument||globalThis.document,Y=n.disableRange===!0,z=n.disableStream===!0,B=n.disableAutoFetch===!0,G=n.pdfBug===!0,H=n.CanvasFactory||(Jr?j0t:O0t),M=n.FilterFactory||(Jr?z0t:B0t),N=n.enableHWA===!0,W=n.useWasm!==!1,q=c?c.length:n.length??NaN,Q=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Jr&&!D,et=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(m===dH&&w===fH&&A===pH&&p&&v&&x&&DS(p,document.baseURI)&&DS(v,document.baseURI)&&DS(x,document.baseURI)),J=null;g0t(d);const Z={canvasFactory:new H({ownerDocument:V,enableHWA:N}),filterFactory:new M({docId:e,ownerDocument:V}),cMapReaderFactory:et?null:new m({baseUrl:p,isCompressed:g}),standardFontDataFactory:et?null:new w({baseUrl:v}),wasmFactory:et?null:new A({baseUrl:x})};u||(u=Z1.create({verbosity:d,port:wl.workerPort}),t._worker=u);const tt={docId:e,apiVersion:"5.3.93",data:r,password:o,disableAutoFetch:B,rangeChunkSize:l,length:q,docBaseUrl:f,enableXfa:j,evaluatorOptions:{maxImageSize:C,disableFontFace:D,ignoreErrors:S,isEvalSupported:k,isOffscreenCanvasSupported:T,isImageDecoderSupported:R,canvasMaxAreaInBytes:F,fontExtraProperties:U,useSystemFonts:Q,useWasm:W,useWorkerFetch:et,cMapUrl:p,iccUrl:y,standardFontDataUrl:v,wasmUrl:x}},wt={ownerDocument:V,pdfBug:G,styleElement:J,loadingParams:{disableAutoFetch:B,enableXfa:j}};return u.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const st=u.messageHandler.sendWithPromise("GetDocRequest",tt,r?[r.buffer]:null);let At;if(c)At=new smt(c,{disableRange:Y,disableStream:z});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const _t=DS(i)?cmt:Jr?bmt:pmt;At=new _t({url:i,length:q,httpHeaders:s,withCredentials:a,rangeChunkSize:l,disableRange:Y,disableStream:z})}return st.then(_t=>{if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const vt=new LS(e,_t,u.port),lt=new Cmt(vt,t,At,wt,Z);t._transport=lt,vt.send("Ready",null)})}).catch(t._capability.reject),t}var JD;const $D=class $D{constructor(){X(this,"_capability",Promise.withResolvers());X(this,"_transport",null);X(this,"_worker",null);X(this,"docId",`d${fe($D,JD)._++}`);X(this,"destroyed",!1);X(this,"onPassword",null);X(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,r;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};JD=new WeakMap,E($D,JD,0);let X3=$D;var mm,VC,GC,XC,qC,TW;let qj=(TW=class{constructor(t,e,i=!1,r=null){E(this,mm,Promise.withResolvers());E(this,VC,[]);E(this,GC,[]);E(this,XC,[]);E(this,qC,[]);this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(t){h(this,qC).push(t)}addProgressListener(t){h(this,XC).push(t)}addProgressiveReadListener(t){h(this,GC).push(t)}addProgressiveDoneListener(t){h(this,VC).push(t)}onDataRange(t,e){for(const i of h(this,qC))i(t,e)}onDataProgress(t,e){h(this,mm).promise.then(()=>{for(const i of h(this,XC))i(t,e)})}onDataProgressiveRead(t){h(this,mm).promise.then(()=>{for(const e of h(this,GC))e(t)})}onDataProgressiveDone(){h(this,mm).promise.then(()=>{for(const t of h(this,VC))t()})}transportReady(){h(this,mm).resolve()}requestDataRange(t,e){Ve("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},mm=new WeakMap,VC=new WeakMap,GC=new WeakMap,XC=new WeakMap,qC=new WeakMap,TW);class Emt{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Jt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ku,vm,US;class _mt{constructor(t,e,i,r=!1){E(this,vm);E(this,ku,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new cH:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new xQ,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new uT({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Jt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:r=Yc.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:c=null,pageColors:l=null,printAnnotationStorage:u=null,isEditing:d=!1}){var A,S;(A=this._stats)==null||A.time("Overall");const f=this._transport.getRenderingIntent(i,r,u,d),{renderingIntent:p,cacheKey:g}=f;b(this,ku,!1),o||(o=this._transport.getOptionalContentConfig(p));let m=this._intentStates.get(g);m||(m=Object.create(null),this._intentStates.set(g,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const y=!!(p&xa.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(S=this._stats)==null||S.time("Page Request"),this._pumpOperatorList(f));const v=C=>{var k;m.renderTasks.delete(w),y&&b(this,ku,!0),_(this,vm,US).call(this),C?(w.capability.reject(C),this._abortOperatorList({intentState:m,reason:C instanceof Error?C:new Error(C)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new q3({callback:v,params:{canvasContext:t,viewport:e,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:l});(m.renderTasks||(m.renderTasks=new Set)).add(w);const x=w.task;return Promise.all([m.displayReadyCapability.promise,o]).then(([C,k])=>{var T;if(this.destroyed){v();return}if((T=this._stats)==null||T.time("Rendering"),!(k.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:C,optionalContentConfig:k}),w.operatorListChanged()}).catch(v),x}getOperatorList({intent:t="display",annotationMode:e=Yc.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var l;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(c))}const a=this._transport.getRenderingIntent(t,e,i,r,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let c;return o.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(c),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>SE.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,r){function s(){a.read().then(function({value:c,done:l}){if(l){i(o);return}o.lang??(o.lang=c.lang),Object.assign(o.styles,c.styles),o.items.push(...c.items),s()},r)}const a=e.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),b(this,ku,!1),Promise.all(t)}cleanup(t=!1){b(this,ku,!0);const e=_(this,vm,US).call(this);return t&&e&&this._stats&&(this._stats=new cH),e}_startRenderPage(t,e){var r,s;const i=this._intentStates.get(e);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&_(this,vm,US).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:a}=i,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:r},a).getReader(),l=this._intentStates.get(e);l.streamReader=c;const u=()=>{c.read().then(({value:d,done:f})=>{if(f){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,l),u())},d=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const f of l.renderTasks)f.operatorListChanged();_(this,vm,US).call(this)}if(l.displayReadyCapability)l.displayReadyCapability.reject(d);else if(l.opListReadCapability)l.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof hM){let r=Amt;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new sd(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}ku=new WeakMap,vm=new WeakSet,US=function(){if(!h(this,ku)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,ku,!1),!0};var rp,ll,Tu,ym,tF,bm,wm,ss,tR,CQ,kQ,HS,a1,eR;const rn=class rn{constructor({name:t=null,port:e=null,verbosity:i=m0t()}={}){E(this,ss);E(this,rp,Promise.withResolvers());E(this,ll,null);E(this,Tu,null);E(this,ym,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(h(rn,wm).has(e))throw new Error("Cannot use more than one PDFWorker per port.");h(rn,wm).set(e,this),_(this,ss,CQ).call(this,e)}else _(this,ss,kQ).call(this)}get promise(){return h(this,rp).promise}get port(){return h(this,Tu)}get messageHandler(){return h(this,ll)}destroy(){var t,e;this.destroyed=!0,(t=h(this,ym))==null||t.terminate(),b(this,ym,null),h(rn,wm).delete(h(this,Tu)),b(this,Tu,null),(e=h(this,ll))==null||e.destroy(),b(this,ll,null)}static create(t){const e=h(this,wm).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new rn(t)}static get workerSrc(){if(wl.workerSrc)return wl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Jt(this,"_setupFakeWorkerGlobal",(async()=>h(this,a1,eR)?h(this,a1,eR):(await import(this.workerSrc)).WorkerMessageHandler)())}};rp=new WeakMap,ll=new WeakMap,Tu=new WeakMap,ym=new WeakMap,tF=new WeakMap,bm=new WeakMap,wm=new WeakMap,ss=new WeakSet,tR=function(){h(this,rp).resolve(),h(this,ll).send("configure",{verbosity:this.verbosity})},CQ=function(t){b(this,Tu,t),b(this,ll,new LS("main","worker",t)),h(this,ll).on("ready",()=>{}),_(this,ss,tR).call(this)},kQ=function(){if(h(rn,bm)||h(rn,a1,eR)){_(this,ss,HS).call(this);return}let{workerSrc:t}=rn;try{rn._isSameOrigin(window.location,t)||(t=rn._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new LS("main","worker",e),r=()=>{s.abort(),i.destroy(),e.terminate(),this.destroyed?h(this,rp).reject(new Error("Worker was destroyed")):_(this,ss,HS).call(this)},s=new AbortController;e.addEventListener("error",()=>{h(this,ym)||r()},{signal:s.signal}),i.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}b(this,ll,i),b(this,Tu,e),b(this,ym,e),_(this,ss,tR).call(this)}),i.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{_(this,ss,HS).call(this)}});const a=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};a();return}catch{cM("The worker has been disabled.")}_(this,ss,HS).call(this)},HS=function(){h(rn,bm)||(zt("Setting up fake worker."),b(rn,bm,!0)),rn._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){h(this,rp).reject(new Error("Worker was destroyed"));return}const e=new L0t;b(this,Tu,e);const i=`fake${fe(rn,tF)._++}`,r=new LS(i+"_worker",i,e);t.setup(r,e),b(this,ll,new LS(i,i+"_worker",e)),_(this,ss,tR).call(this)}).catch(t=>{h(this,rp).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},a1=new WeakSet,eR=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},E(rn,a1),E(rn,tF,0),E(rn,bm,!1),E(rn,wm,new WeakMap),Jr&&(b(rn,bm,!0),wl.workerSrc||(wl.workerSrc="./pdf.worker.mjs")),rn._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(e,i);return i.origin===r.origin},rn._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},rn.fromPort=t=>{if(_0t("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return rn.create(t)};let Z1=rn;var Pu,Fc,o1,l1,Ru,xm,WS;class Cmt{constructor(t,e,i,r,s){E(this,xm);E(this,Pu,new Map);E(this,Fc,new Map);E(this,o1,new Map);E(this,l1,new Map);E(this,Ru,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new xQ,this.fontLoader=new D0t({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Jt(this,"annotationStorage",new Wj)}getRenderingIntent(t,e=Yc.ENABLE,i=null,r=!1,s=!1){let a=xa.DISPLAY,o=M3;switch(t){case"any":a=xa.ANY;break;case"display":break;case"print":a=xa.PRINT;break;default:zt(`getRenderingIntent - invalid intent: ${t}`)}const c=a&xa.PRINT&&i instanceof rQ?i:this.annotationStorage;switch(e){case Yc.DISABLE:a+=xa.ANNOTATIONS_DISABLE;break;case Yc.ENABLE:break;case Yc.ENABLE_FORMS:a+=xa.ANNOTATIONS_FORMS;break;case Yc.ENABLE_STORAGE:a+=xa.ANNOTATIONS_STORAGE,o=c.serializable;break;default:zt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(a+=xa.IS_EDITING),s&&(a+=xa.OPLIST);const{ids:l,hash:u}=c.modifiedIds,d=[a,o.hash,u];return{renderingIntent:a,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:l}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=h(this,Ru))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of h(this,Fc).values())t.push(r._destroy());h(this,Fc).clear(),h(this,o1).clear(),h(this,l1).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),h(this,Pu).clear(),this.filterFactory.destroy(),xE.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new sd("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{Qn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}Qn(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",async i=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:a}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((o=e.onProgress)==null||o.call(e,this._lastProgress)),this._fullReader.onProgress=c=>{var l;(l=e.onProgress)==null||l.call(e,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:a}}),t.on("GetRangeReader",(i,r)=>{Qn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}Qn(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new Emt(i,this))}),t.on("DocException",i=>{e._capability.reject(gs(i))}),t.on("PasswordRequest",i=>{b(this,Ru,Promise.withResolvers());try{if(!e.onPassword)throw gs(i);const r=s=>{s instanceof Error?h(this,Ru).reject(s):h(this,Ru).resolve({password:s})};e.onPassword(r,i.code)}catch(r){h(this,Ru).reject(r)}return h(this,Ru).promise}),t.on("DataLoaded",i=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;h(this,Fc).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,s])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const u=s.error;zt(`Error during font loading: ${u}`),this.commonObjs.resolve(i,u);break}const o=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(u,d)=>globalThis.FontInspector.fontAdded(u,d):null,c=new F0t(s,o);this.fontLoader.bind(c).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!c.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(i,c)});break;case"CopyLocalImage":const{imageRef:l}=s;Qn(l,"The imageRef must be defined.");for(const u of h(this,Fc).values())for(const[,d]of u.objs)if((d==null?void 0:d.ref)===l)return d.dataLen?(this.commonObjs.resolve(i,structuredClone(d)),d.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,s,a])=>{var c;if(this.destroyed)return;const o=h(this,Fc).get(r);if(!o.objs.has(i)){if(o._intentStates.size===0){(c=a==null?void 0:a.bitmap)==null||c.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",i=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&zt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=h(this,o1).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&h(this,l1).set(s.refStr,t);const a=new _mt(e,s,this,this._params.pdfBug);return h(this,Fc).set(e,a),a});return h(this,o1).set(e,r),r}getPageIndex(t){return N3(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return _(this,xm,WS).call(this,"GetFieldObjects")}hasJSActions(){return _(this,xm,WS).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,xm,WS).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return _(this,xm,WS).call(this,"GetOptionalContentConfig").then(e=>new rmt(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,Pu).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(r=>{var s,a;return{info:r[0],metadata:r[1]?new nmt(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return h(this,Pu).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,Fc).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,Pu).clear(),this.filterFactory.destroy(!0),xE.cleanup()}}cachedPageNumber(t){if(!N3(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,l1).get(e)??null}}Pu=new WeakMap,Fc=new WeakMap,o1=new WeakMap,l1=new WeakMap,Ru=new WeakMap,xm=new WeakSet,WS=function(t,e=null){const i=h(this,Pu).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,e);return h(this,Pu).set(t,r),r};var sp;class kmt{constructor(t){E(this,sp,null);X(this,"onContinue",null);X(this,"onError",null);b(this,sp,t)}get promise(){return h(this,sp).capability.promise}cancel(t=0){h(this,sp).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,sp).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,sp);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}sp=new WeakMap;var ap,Sm;const _g=class _g{constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:c,filterFactory:l,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:f=null}){E(this,ap,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=l,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new kmt(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var o,c;if(this.cancelled)return;if(this._canvas){if(h(_g,Sm).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(_g,Sm).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:a}=this.params;this.gfx=new cb(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(t=null,e=0){var i,r,s;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),h(this,ap)&&(window.cancelAnimationFrame(h(this,ap)),b(this,ap,null)),h(_g,Sm).delete(this._canvas),t||(t=new hM(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(s=(r=this.task).onError)==null||s.call(r,t)}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,ap,window.requestAnimationFrame(()=>{b(this,ap,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(_g,Sm).delete(this._canvas),this.callback())))}};ap=new WeakMap,Sm=new WeakMap,E(_g,Sm,new WeakSet);let q3=_g;const TQ="5.3.93",PQ="cbeef3233";function _H(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Kx(n){return Math.max(0,Math.min(255,255*n))}class CH{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Kx(t),[t,t,t]}static G_HTML([t]){const e=_H(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Kx)}static RGB_HTML(t){return`#${t.map(_H).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[Kx(1-Math.min(1,t+r)),Kx(1-Math.min(1,i+r)),Kx(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const r=1-t,s=1-e,a=1-i,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}}class Tmt{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Ve("Abstract method `_createSVG` called.")}}class AE extends Tmt{_createSVG(t){return document.createElementNS(yh,t)}}class Kj{static setupStorage(t,e,i,r,s){const a=r.getValue(e,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),s==="print")break;t.addEventListener("input",o=>{r.setValue(e,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?t.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",o=>{r.setValue(e,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),s==="print")break;t.addEventListener("input",o=>{r.setValue(e,{value:o.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(const o of i.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}t.addEventListener("input",o=>{const c=o.target.options,l=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(e,{value:l})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:s}){const{attributes:a}=e,o=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[c,l]of Object.entries(a))if(l!=null)switch(c){case"class":l.length&&t.setAttribute(c,l.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",l);break;case"style":Object.assign(t.style,l);break;case"textContent":t.textContent=l;break;default:(!o||c!=="href"&&c!=="newWindow")&&t.setAttribute(c,l)}o&&s.addLinkAttributes(t,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(t,a.dataId,e,i)}static render(t){var d,f;const e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,s=t.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:i});const o=s!=="richText",c=t.div;if(c.append(a),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;c.style.transform=p}o&&c.setAttribute("class","xfaLayer xfaFont");const l=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);a.append(p),o&&SE.shouldBuildText(r.name)&&l.push(p)}return{textDivs:l}}const u=[[r,-1,a]];for(;u.length>0;){const[p,g,m]=u.at(-1);if(g+1===p.children.length){u.pop();continue}const y=p.children[++u.at(-1)[1]];if(y===null)continue;const{name:v}=y;if(v==="#text"){const x=document.createTextNode(y.value);l.push(x),m.append(x);continue}const w=(d=y==null?void 0:y.attributes)!=null&&d.xmlns?document.createElementNS(y.attributes.xmlns,v):document.createElement(v);if(m.append(w),y.attributes&&this.setAttributes({html:w,element:y,storage:e,intent:s,linkService:i}),((f=y.children)==null?void 0:f.length)>0)u.push([y,-1,w]);else if(y.value){const x=document.createTextNode(y.value);o&&SE.shouldBuildText(v)&&l.push(x),w.append(x)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:l}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Pmt=9,Av=new WeakSet;class kH{static create(t){switch(t.data.annotationType){case In.LINK:return new RQ(t);case In.TEXT:return new Rmt(t);case In.WIDGET:switch(t.data.fieldType){case"Tx":return new Dmt(t);case"Btn":return t.data.radioButton?new MQ(t):t.data.checkBox?new Mmt(t):new Nmt(t);case"Ch":return new Imt(t);case"Sig":return new Fmt(t)}return new Vv(t);case In.POPUP:return new Y3(t);case In.FREETEXT:return new BQ(t);case In.LINE:return new Omt(t);case In.SQUARE:return new Bmt(t);case In.CIRCLE:return new zmt(t);case In.POLYLINE:return new zQ(t);case In.CARET:return new Umt(t);case In.INK:return new Yj(t);case In.POLYGON:return new jmt(t);case In.HIGHLIGHT:return new jQ(t);case In.UNDERLINE:return new Hmt(t);case In.SQUIGGLY:return new Wmt(t);case In.STRIKEOUT:return new Vmt(t);case In.STAMP:return new UQ(t);case In.FILEATTACHMENT:return new Gmt(t);default:return new Hn(t)}}}var Am,c1,h1,KC,K3;const l5=class l5{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){E(this,KC);E(this,Am,null);E(this,c1,!1);E(this,h1,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t!=null&&t.str||e!=null&&e.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return l5._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;h(this,Am)||b(this,Am,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&_(this,KC,K3).call(this,e),(i=h(this,h1))==null||i.popup.updateEdited(t)}resetEdited(){var t;h(this,Am)&&(_(this,KC,K3).call(this,h(this,Am).rect),(t=h(this,h1))==null||t.popup.resetEdited(),b(this,Am,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof Vv||(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof Y3){const{rotation:m}=e;return!e.hasOwnCanvas&&m!==0&&this.setRotation(m,s),s}const{width:o,height:c}=this;if(!t&&e.borderStyle.width>0){a.borderWidth=`${e.borderStyle.width}px`;const m=e.borderStyle.horizontalCornerRadius,y=e.borderStyle.verticalCornerRadius;if(m>0||y>0){const w=`calc(${m}px * var(--total-scale-factor)) / calc(${y}px * var(--total-scale-factor))`;a.borderRadius=w}else if(this instanceof MQ){const w=`calc(${o}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;a.borderRadius=w}switch(e.borderStyle.style){case vy.SOLID:a.borderStyle="solid";break;case vy.DASHED:a.borderStyle="dashed";break;case vy.BEVELED:zt("Unimplemented border style: beveled");break;case vy.INSET:zt("Unimplemented border style: inset");break;case vy.UNDERLINE:a.borderBottomStyle="solid";break}const v=e.borderColor||null;v?(b(this,c1,!0),a.borderColor=Et.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):a.borderWidth=0}const l=Et.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:d,pageX:f,pageY:p}=r.rawDims;a.left=`${100*(l[0]-f)/u}%`,a.top=`${100*(l[1]-p)/d}%`;const{rotation:g}=e;return e.hasOwnCanvas||g===0?(a.width=`${100*o/u}%`,a.height=`${100*c/d}%`):this.setRotation(g,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:a}=this;t%180!==0&&([s,a]=[a,s]),e.style.width=`${100*s/i}%`,e.style.height=`${100*a/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,r)=>{const s=r.detail[e],a=s[0],o=s.slice(1);r.target.style[i]=CH[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:CH[`${a}_rgb`](o)})};return Jt(this,"_commonActions",{display:e=>{const{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const r of Object.keys(e.detail)){const s=t[r]||i[r];s==null||s(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[r,s]of Object.entries(e)){const a=i[r];if(a){const o={detail:{[r]:s},target:t};a(o),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,r,s]=this.data.rect.map(m=>Math.fround(m));if(t.length===8){const[m,y,v,w]=t.subarray(2,6);if(r===m&&s===y&&e===v&&i===w)return}const{style:a}=this.container;let o;if(h(this,c1)){const{borderColor:m,borderWidth:y}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${y}">`],this.container.classList.add("hasBorder")}const c=r-e,l=s-i,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const f=u.createElement("defs");d.append(f);const p=u.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,y=t.length;m<y;m+=8){const v=t[m],w=t[m+1],x=t[m+2],A=t[m+3],S=u.createElement("rect"),C=(x-e)/c,k=(s-w)/l,T=(v-x)/c,R=(w-A)/l;S.setAttribute("x",C),S.setAttribute("y",k),S.setAttribute("width",T),S.setAttribute("height",R),p.append(S),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${k}" width="${T}" height="${R}"/>`)}h(this,c1)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{data:t}=this,e=b(this,h1,new Y3({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Ve("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:s,id:a,exportValues:o}of r){if(s===-1||a===e)continue;const c=typeof o=="string"?o:null,l=document.querySelector(`[data-element-id="${a}"]`);if(l&&!Av.has(l)){zt(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:c,domElement:l})}return i}for(const r of document.getElementsByName(t)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==e&&Av.has(r)&&i.push({id:a,exportValue:s,domElement:r})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Am=new WeakMap,c1=new WeakMap,h1=new WeakMap,KC=new WeakSet,K3=function(t){const{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-o)/s}%`,e.top=`${100*(a-t[3]+c)/a}%`,r===0?(e.width=`${100*(t[2]-t[0])/s}%`,e.height=`${100*(t[3]-t[1])/a}%`):this.setRotation(r)};let Hn=l5;var Ca,bg,DQ,FQ;class RQ extends Hn{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});E(this,Ca);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let s=!1;return e.url?(i.addLinkAttributes(r,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(r,e.action),s=!0):e.attachment?(_(this,Ca,DQ).call(this,r,e.attachment,e.attachmentDest),s=!0):e.setOCGState?(_(this,Ca,FQ).call(this,r,e.setOCGState),s=!0):e.dest?(this._bindLink(r,e.dest),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),s=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&_(this,Ca,bg).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),_(this,Ca,bg).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const a=r.get(s);a&&(e[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}e.onclick||(e.onclick=()=>!1),_(this,Ca,bg).call(this)}_bindResetFormAction(e,i){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),_(this,Ca,bg).call(this),!this._fieldObjects){zt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var d;r==null||r();const{fields:s,refs:a,include:o}=i,c=[];if(s.length!==0||a.length!==0){const f=new Set(a);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:m}of g)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===o&&c.push(g)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const l=this.annotationStorage,u=[];for(const f of c){const{id:p}=f;switch(u.push(p),f.type){case"text":{const m=f.defaultValue||"";l.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;l.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";l.setValue(p,{value:m});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!Av.has(g)){zt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Ca=new WeakSet,bg=function(){this.container.setAttribute("data-internal-link","")},DQ=function(e,i,r=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(i.content,i.filename,r),!1},_(this,Ca,bg).call(this)},FQ=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),_(this,Ca,bg).call(this)};class Rmt extends Hn{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Vv extends Hn{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ui.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,s){i.includes("mouse")?t.addEventListener(i,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(i,a=>{var o;if(i==="blur"){if(!e.focused||!a.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}}))})}_setEventListeners(t,e,i,r){var s,a,o;for(const[c,l]of i)(l==="Action"||(s=this.data.actions)!=null&&s[l])&&((l==="Focus"||l==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,c,l,r),l==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Et.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Pmt,s=t.style;let a;const o=2,c=l=>Math.round(10*l)/10;if(this.data.multiLine){const l=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(l/(nI*r))||1,d=l/u;a=Math.min(r,c(d/nI))}else{const l=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,c(l/nI))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Et.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class Dmt extends Vv{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){const s=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=i),s.setValue(a.id,{[r]:i})}render(){var r,s;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let o=a.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let l=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=l??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",l??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Av.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const d=this.data.dateFormat||this.data.timeFormat;d&&(i.title=d),this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",p=>{t.setValue(e,{value:p.target.value}),this.setPropertyOnSiblings(i,"value",p.target.value,"value"),u.formattedValue=null}),i.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue??"";i.value=u.userValue=g,u.formattedValue=null});let f=p=>{const{formattedValue:g}=u;g!=null&&(p.target.value=g),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",g=>{var y;if(u.focused)return;const{target:m}=g;u.userValue&&(m.value=u.userValue),u.lastCommittedValue=m.value,u.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(u.focused=!0)}),i.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const m={value(y){u.userValue=y.detail.value??"",t.setValue(e,{value:u.userValue.toString()}),y.target.value=u.userValue},formattedValue(y){const{formattedValue:v}=y.detail;u.formattedValue=v,v!=null&&y.target!==document.activeElement&&(y.target.value=v),t.setValue(e,{formattedValue:v})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var A;const{charLimit:v}=y.detail,{target:w}=y;if(v===0){w.removeAttribute("maxLength");return}w.setAttribute("maxLength",v);let x=u.userValue;!x||x.length<=v||(x=x.slice(0,v),w.value=u.userValue=x,t.setValue(e,{value:x}),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:w.selectionStart,selEnd:w.selectionEnd}}))}};this._dispatchEventFromSandbox(m,g)}),i.addEventListener("keydown",g=>{var v;u.commitKey=1;let m=-1;if(g.key==="Escape"?m=0:g.key==="Enter"&&!this.data.multiLine?m=2:g.key==="Tab"&&(u.commitKey=3),m===-1)return;const{value:y}=g.target;u.lastCommittedValue!==y&&(u.lastCommittedValue=y,u.userValue=y,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:y,willCommit:!0,commitKey:m,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const p=f;f=null,i.addEventListener("blur",g=>{var y,v;if(!u.focused||!g.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(u.focused=!1);const{value:m}=g.target;u.userValue=m,u.lastCommittedValue!==m&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:m,willCommit:!0,commitKey:u.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),p(g)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",g=>{var C;u.lastCommittedValue=null;const{data:m,target:y}=g,{value:v,selectionStart:w,selectionEnd:x}=y;let A=w,S=x;switch(g.inputType){case"deleteWordBackward":{const k=v.substring(0,w).match(/\w*[^\w]*$/);k&&(A-=k[0].length);break}case"deleteWordForward":{const k=v.substring(w).match(/^[^\w]*\w*/);k&&(S+=k[0].length);break}case"deleteContentBackward":w===x&&(A-=1);break;case"deleteContentForward":w===x&&(S+=1);break}g.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,change:m||"",willCommit:!1,selStart:A,selEnd:S}})}),this._setEventListeners(i,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(f&&i.addEventListener("blur",f),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Fmt extends Vv{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Mmt extends Vv{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Av.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const l of this._getElementsByName(o,i)){const u=c&&l.exportValue===e.exportValue;l.domElement&&(l.domElement.checked=u),t.setValue(l.id,{value:u})}t.setValue(i,{value:c})}),s.addEventListener("resetform",a=>{const o=e.defaultFieldValue||"Off";a.target.checked=o===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(c){c.target.checked=c.detail.value!=="Off",t.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class MQ extends Vv{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(const a of this._getElementsByName(e.fieldName,i))t.setValue(a.id,{value:!1});const s=document.createElement("input");if(Av.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const l of this._getElementsByName(o,i))t.setValue(l.id,{value:!1});t.setValue(i,{value:c})}),s.addEventListener("resetform",a=>{const o=e.defaultFieldValue;a.target.checked=o!=null&&o===e.buttonValue}),this.enableScripting&&this.hasJSActions){const a=e.buttonValue;s.addEventListener("updatefromsandbox",o=>{const c={value:l=>{const u=a===l.detail.value;for(const d of this._getElementsByName(l.target.name)){const f=u&&d.id===i;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Nmt extends RQ{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class Imt extends Vv{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Av.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,i.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),r.append(d)}let a=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),a=()=>{u.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=u=>{const d=u?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let c=o(!1);const l=u=>{const d=u.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{const d={value(f){a==null||a();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const m of r.options)m.selected=g.has(m.value);t.setValue(e,{value:o(!0)}),c=o(!1)},multipleSelection(f){r.multiple=!0},remove(f){const p=r.options,g=f.detail.remove;p[g].selected=!1,r.remove(g),p.length>0&&Array.prototype.findIndex.call(p,y=>y.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:o(!0),items:l(f)}),c=o(!1)},clear(f){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),c=o(!1)},insert(f){const{index:p,displayValue:g,exportValue:m}=f.detail.insert,y=r.children[p],v=document.createElement("option");v.textContent=g,v.value=m,y?y.before(v):r.append(v),t.setValue(e,{value:o(!0),items:l(f)}),c=o(!1)},items(f){const{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(const g of p){const{displayValue:m,exportValue:y}=g,v=document.createElement("option");v.textContent=m,v.value=y,r.append(v)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:o(!0),items:l(f)}),c=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);t.setValue(e,{value:o(!0)}),c=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,u)}),r.addEventListener("input",u=>{var p;const d=o(!0),f=o(!1);t.setValue(e,{value:d}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:c,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){t.setValue(e,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Y3 extends Hn{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:Hn._hasPopupData(e)}),this.elements=i,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=new Lmt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${Uj}${r}`).join(",")),this.container}}var u1,eF,nF,d1,f1,En,Du,Em,YC,ZC,p1,Fu,cl,Mu,QC,Nu,JC,_m,Cm,Ge,nR,Z3,NQ,IQ,LQ,OQ,iR,rR,Q3;class Lmt{constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:c,rect:l,parentRect:u,open:d}){E(this,Ge);E(this,u1,_(this,Ge,LQ).bind(this));E(this,eF,_(this,Ge,Q3).bind(this));E(this,nF,_(this,Ge,rR).bind(this));E(this,d1,_(this,Ge,iR).bind(this));E(this,f1,null);E(this,En,null);E(this,Du,null);E(this,Em,null);E(this,YC,null);E(this,ZC,null);E(this,p1,null);E(this,Fu,!1);E(this,cl,null);E(this,Mu,null);E(this,QC,null);E(this,Nu,null);E(this,JC,null);E(this,_m,null);E(this,Cm,!1);var f;b(this,En,t),b(this,JC,r),b(this,Du,a),b(this,Nu,o),b(this,ZC,c),b(this,f1,e),b(this,QC,l),b(this,p1,u),b(this,YC,i),b(this,Em,dM.toDateObject(s)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",h(this,d1)),p.addEventListener("mouseenter",h(this,nF)),p.addEventListener("mouseleave",h(this,eF)),p.classList.add("popupTriggerArea");for(const p of i)(f=p.container)==null||f.addEventListener("keydown",h(this,u1));h(this,En).hidden=!0,d&&_(this,Ge,iR).call(this)}render(){if(h(this,cl))return;const t=b(this,cl,document.createElement("div"));if(t.className="popup",h(this,f1)){const s=t.style.outlineColor=Et.makeHexColor(...h(this,f1));t.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=h(this,JC),t.append(e),h(this,Em)){const s=document.createElement("time");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,Em).valueOf()})),s.dateTime=h(this,Em).toISOString(),e.append(s)}const r=h(this,Ge,nR);if(r)Kj.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(h(this,Du));t.append(s)}h(this,En).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let s=0,a=r.length;s<a;++s){const o=r[s];i.append(document.createTextNode(o)),s<a-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;h(this,_m)||b(this,_m,{contentsObj:h(this,Du),richText:h(this,Nu)}),t&&b(this,Mu,null),e&&(b(this,Nu,_(this,Ge,IQ).call(this,e)),b(this,Du,null)),(i=h(this,cl))==null||i.remove(),b(this,cl,null)}resetEdited(){var t;h(this,_m)&&({contentsObj:fe(this,Du)._,richText:fe(this,Nu)._}=h(this,_m),b(this,_m,null),(t=h(this,cl))==null||t.remove(),b(this,cl,null),b(this,Mu,null))}forceHide(){b(this,Cm,this.isVisible),h(this,Cm)&&(h(this,En).hidden=!0)}maybeShow(){h(this,Cm)&&(h(this,cl)||_(this,Ge,rR).call(this),b(this,Cm,!1),h(this,En).hidden=!1)}get isVisible(){return h(this,En).hidden===!1}}u1=new WeakMap,eF=new WeakMap,nF=new WeakMap,d1=new WeakMap,f1=new WeakMap,En=new WeakMap,Du=new WeakMap,Em=new WeakMap,YC=new WeakMap,ZC=new WeakMap,p1=new WeakMap,Fu=new WeakMap,cl=new WeakMap,Mu=new WeakMap,QC=new WeakMap,Nu=new WeakMap,JC=new WeakMap,_m=new WeakMap,Cm=new WeakMap,Ge=new WeakSet,nR=function(){const t=h(this,Nu),e=h(this,Du);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,Nu).html||null},Z3=function(){var t,e,i;return((i=(e=(t=h(this,Ge,nR))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},NQ=function(){var t,e,i;return((i=(e=(t=h(this,Ge,nR))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},IQ=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:h(this,Ge,NQ),fontSize:h(this,Ge,Z3)?`calc(${h(this,Ge,Z3)}px * var(--total-scale-factor))`:""}};for(const s of t.split(`
`))e.push({name:"span",value:s,attributes:r});return i},LQ=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,Fu))&&_(this,Ge,iR).call(this)},OQ=function(){if(h(this,Mu)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:s}}}=h(this,ZC);let a=!!h(this,p1),o=a?h(this,p1):h(this,QC);for(const g of h(this,YC))if(!o||Et.intersect(g.data.rect,o)!==null){o=g.data.rect,a=!0;break}const c=Et.normalizeRect([o[0],t[3]-o[1]+t[1],o[2],t[3]-o[3]+t[1]]),u=a?o[2]-o[0]+5:0,d=c[0]+u,f=c[1];b(this,Mu,[100*(d-r)/e,100*(f-s)/i]);const{style:p}=h(this,En);p.left=`${h(this,Mu)[0]}%`,p.top=`${h(this,Mu)[1]}%`},iR=function(){b(this,Fu,!h(this,Fu)),h(this,Fu)?(_(this,Ge,rR).call(this),h(this,En).addEventListener("click",h(this,d1)),h(this,En).addEventListener("keydown",h(this,u1))):(_(this,Ge,Q3).call(this),h(this,En).removeEventListener("click",h(this,d1)),h(this,En).removeEventListener("keydown",h(this,u1)))},rR=function(){h(this,cl)||this.render(),this.isVisible?h(this,Fu)&&h(this,En).classList.add("focused"):(_(this,Ge,OQ).call(this),h(this,En).hidden=!1,h(this,En).style.zIndex=parseInt(h(this,En).style.zIndex)+1e3)},Q3=function(){h(this,En).classList.remove("focused"),!(h(this,Fu)||!this.isVisible)&&(h(this,En).hidden=!0,h(this,En).style.zIndex=parseInt(h(this,En).style.zIndex)-1e3)};class BQ extends Hn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Lt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var $C;class Omt extends Hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,$C,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=b(this,$C,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,$C)}addHighlightArea(){this.container.classList.add("highlightArea")}}$C=new WeakMap;var tk;class Bmt extends Hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,tk,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=e.borderStyle.width,o=b(this,tk,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",i-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,tk)}addHighlightArea(){this.container.classList.add("highlightArea")}}tk=new WeakMap;var ek;class zmt extends Hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,ek,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=e.borderStyle.width,o=b(this,ek,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",r/2),o.setAttribute("rx",i/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,ek)}addHighlightArea(){this.container.classList.add("highlightArea")}}ek=new WeakMap;var nk;class zQ extends Hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,nk,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:r,popupRef:s},width:a,height:o}=this;if(!i)return this.container;const c=this.svgFactory.create(a,o,!0);let l=[];for(let d=0,f=i.length;d<f;d+=2){const p=i[d]-e[0],g=e[3]-i[d+1];l.push(`${p},${g}`)}l=l.join(" ");const u=b(this,nk,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",l),u.setAttribute("stroke-width",r.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),c.append(u),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,nk)}addHighlightArea(){this.container.classList.add("highlightArea")}}nk=new WeakMap;class jmt extends zQ{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Umt extends Hn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var ik,km,rk,J3;class Yj extends Hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});E(this,rk);E(this,ik,null);E(this,km,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Lt.HIGHLIGHT:Lt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:r,borderStyle:s,popupRef:a}}=this,{transform:o,width:c,height:l}=_(this,rk,J3).call(this,i,e),u=this.svgFactory.create(c,l,!0),d=b(this,ik,this.svgFactory.createElement("svg:g"));u.append(d),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",o);for(let f=0,p=r.length;f<p;f++){const g=this.svgFactory.createElement(this.svgElementName);h(this,km).push(g),g.setAttribute("points",r[f].join(",")),d.append(g)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:r,rect:s}=e,a=h(this,ik);if(i>=0&&a.setAttribute("stroke-width",i||1),r)for(let o=0,c=h(this,km).length;o<c;o++)h(this,km)[o].setAttribute("points",r[o].join(","));if(s){const{transform:o,width:c,height:l}=_(this,rk,J3).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${l}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return h(this,km)}addHighlightArea(){this.container.classList.add("highlightArea")}}ik=new WeakMap,km=new WeakMap,rk=new WeakSet,J3=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class jQ extends Hn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Lt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Hmt extends Hn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Wmt extends Hn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Vmt extends Hn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class UQ extends Hn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Lt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var sk,ak,$3;class Gmt extends Hn{constructor(e){var r;super(e,{isRenderable:!0});E(this,ak);E(this,sk,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",_(this,ak,$3).bind(this)),b(this,sk,r);const{isMac:s}=Ui.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&_(this,ak,$3).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return h(this,sk)}addHighlightArea(){this.container.classList.add("highlightArea")}}sk=new WeakMap,ak=new WeakSet,$3=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var ok,Tm,op,lk,rg,tB,eB,g1;let Zj=(g1=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a,structTreeLayer:o}){E(this,rg);E(this,ok,null);E(this,Tm,null);E(this,op,new Map);E(this,lk,null);this.div=t,b(this,ok,e),b(this,Tm,i),b(this,lk,o||null),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return h(this,op).size>0}async render(t){var a;const{annotations:e}=t,i=this.div;Jp(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new AE,annotationStorage:t.annotationStorage||new Wj,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){if(o.noHTML)continue;const c=o.annotationType===In.POPUP;if(c){const d=r.get(o.id);if(!d)continue;s.elements=d}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;s.data=o;const l=kH.create(s);if(!l.isRenderable)continue;if(!c&&o.popupRef){const d=r.get(o.popupRef);d?d.push(l):r.set(o.popupRef,[l])}const u=l.render();o.hidden&&(u.style.visibility="hidden"),await _(this,rg,tB).call(this,u,o.id,s.elements),l._isEditable&&(h(this,op).set(l.data.id,l),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(l))}_(this,rg,eB).call(this)}async addLinkAnnotations(t,e){const i={data:null,layer:this.div,linkService:e,svgFactory:new AE,parent:this};for(const r of t){r.borderStyle||(r.borderStyle=g1._defaultBorderStyle),i.data=r;const s=kH.create(i);if(!s.isRenderable)continue;const a=s.render();await _(this,rg,tB).call(this,a,r.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Jp(e,{rotation:t.rotation}),_(this,rg,eB).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,op).values())}getEditableAnnotation(t){return h(this,op).get(t)}static get _defaultBorderStyle(){return Jt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:vy.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},ok=new WeakMap,Tm=new WeakMap,op=new WeakMap,lk=new WeakMap,rg=new WeakSet,tB=async function(t,e,i){var o,c;const r=t.firstChild||t,s=r.id=`${Uj}${e}`,a=await((o=h(this,lk))==null?void 0:o.getAriaAttributes(s));if(a)for(const[l,u]of a)r.setAttribute(l,u);i?i.at(-1).container.after(t):(this.div.append(t),(c=h(this,ok))==null||c.moveElementInDOM(this.div,t,r,!1))},eB=function(){var e;if(!h(this,Tm))return;const t=this.div;for(const[i,r]of h(this,Tm)){const s=t.querySelector(`[data-annotation-id="${i}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):s.append(r);const o=h(this,op).get(i);o&&(o._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,s.id,r),o._hasNoCanvas=!1):o.canvas=r)}h(this,Tm).clear()},g1);const S2=/\r\n?|\n/g;var hl,ha,ck,Pm,ua,ti,HQ,WQ,VQ,sR,td,aR,oR,GQ,iB,XQ;const Ye=class Ye extends Qe{constructor(e){super({...e,name:"freeTextEditor"});E(this,ti);E(this,hl);E(this,ha,"");E(this,ck,`${this.id}-editor`);E(this,Pm,null);E(this,ua);b(this,hl,e.color||Ye._defaultColor||Qe._defaultLineColor),b(this,ua,e.fontSize||Ye._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const e=Ye.prototype,i=a=>a.isEmpty(),r=$p.TRANSLATE_SMALL,s=$p.TRANSLATE_BIG;return Jt(this,"_keyboardManager",new fT([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(e,i){Qe.initialize(e,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case ne.FREETEXT_SIZE:Ye._defaultFontSize=i;break;case ne.FREETEXT_COLOR:Ye._defaultColor=i;break}}updateParams(e,i){switch(e){case ne.FREETEXT_SIZE:_(this,ti,HQ).call(this,i);break;case ne.FREETEXT_COLOR:_(this,ti,WQ).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ne.FREETEXT_SIZE,Ye._defaultFontSize],[ne.FREETEXT_COLOR,Ye._defaultColor||Qe._defaultLineColor]]}get propertiesToUpdate(){return[[ne.FREETEXT_SIZE,h(this,ua)],[ne.FREETEXT_COLOR,h(this,hl)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ye._internalPadding*e,-(Ye._internalPadding+h(this,ua))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,Pm,new AbortController);const e=this._uiManager.combinedSignal(h(this,Pm));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,ck)),this._isDraggable=!0,(e=h(this,Pm))==null||e.abort(),b(this,Pm,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,ha),i=b(this,ha,_(this,ti,VQ).call(this).trimEnd());if(e===i)return;const r=s=>{if(b(this,ha,s),!s){this.remove();return}_(this,ti,oR).call(this),this._uiManager.rebuild(this),_(this,ti,sR).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(e)},mustExec:!1}),_(this,ti,sR).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ye._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,ck)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${h(this,ua)}px * var(--total-scale-factor))`,r.color=h(this,hl),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,l]=this.getInitialTranslation();[c,l]=this.pageTranslationToScreen(c,l);const[u,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,m;switch(this.rotation){case 0:g=e+(o[0]-f)/u,m=i+this.height-(o[1]-p)/d;break;case 90:g=e+(o[0]-f)/u,m=i-(o[1]-p)/d,[c,l]=[l,-c];break;case 180:g=e-this.width+(o[0]-f)/u,m=i-(o[1]-p)/d,[c,l]=[-c,-l];break;case 270:g=e+(o[0]-f-this.height*d)/u,m=i+(o[1]-p-this.width*u)/d,[c,l]=[-l,c];break}this.setAt(g*s,m*a,c,l)}else this._moveAfterPaste(e,i);_(this,ti,oR).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var g,m,y;const i=e.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const s=_(g=Ye,td,iB).call(g,i.getData("text")||"").replaceAll(S2,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:l}=o,u=[],d=[];if(c.nodeType===Node.TEXT_NODE){const v=c.parentElement;if(d.push(c.nodeValue.slice(l).replaceAll(S2,"")),v!==this.editorDiv){let w=u;for(const x of this.editorDiv.childNodes){if(x===v){w=d;continue}w.push(_(m=Ye,td,aR).call(m,x))}}u.push(c.nodeValue.slice(0,l).replaceAll(S2,""))}else if(c===this.editorDiv){let v=u,w=0;for(const x of this.editorDiv.childNodes)w++===l&&(v=d),v.push(_(y=Ye,td,aR).call(y,x))}b(this,ha,`${u.join(`
`)}${s}${d.join(`
`)}`),_(this,ti,oR).call(this);const f=new Range;let p=Math.sumPrecise(u.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const w=v.nodeValue.length;if(p<=w){f.setStart(v,p),f.setEnd(v,p);break}p-=w}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,r){var o;let s=null;if(e instanceof BQ){const{data:{defaultAppearanceData:{fontSize:c,fontColor:l},rect:u,rotation:d,id:f,popupRef:p},textContent:g,textPosition:m,parent:{page:{pageNumber:y}}}=e;if(!g||g.length===0)return null;s=e={annotationType:Lt.FREETEXT,color:Array.from(l),fontSize:c,value:g.join(`
`),position:m,pageIndex:y-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:p}}const a=await super.deserialize(e,i,r);return b(a,ua,e.fontSize),b(a,hl,Et.makeHexColor(...e.color)),b(a,ha,_(o=Ye,td,iB).call(o,e.value)),a._initialData=s,a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Ye._internalPadding*this.parentScale,r=this.getRect(i,i),s=Qe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,hl)),a={annotationType:Lt.FREETEXT,color:s,fontSize:h(this,ua),value:_(this,ti,GQ).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(a.isCopy=!0,a):this.annotationElementId&&!_(this,ti,XQ).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${h(this,ua)}px * var(--total-scale-factor))`,r.color=h(this,hl),i.replaceChildren();for(const a of h(this,ha).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),i.append(o)}const s=Ye._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(s,s),popupContent:h(this,ha)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};hl=new WeakMap,ha=new WeakMap,ck=new WeakMap,Pm=new WeakMap,ua=new WeakMap,ti=new WeakSet,HQ=function(e){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-h(this,ua))*this.parentScale),b(this,ua,s),_(this,ti,sR).call(this)},r=h(this,ua);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},WQ=function(e){const i=s=>{b(this,hl,this.editorDiv.style.color=s)},r=h(this,hl);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},VQ=function(){var r;const e=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(e.push(_(r=Ye,td,aR).call(r,s)),i=s);return e.join(`
`)},sR=function(){const[e,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/i):(this.width=r.height/e,this.height=r.width/i),this.fixAndSetPosition()},td=new WeakSet,aR=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(S2,"")},oR=function(){if(this.editorDiv.replaceChildren(),!!h(this,ha))for(const e of h(this,ha).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},GQ=function(){return h(this,ha).replaceAll(" "," ")},iB=function(e){return e.replaceAll(" "," ")},XQ=function(e){const{value:i,fontSize:r,color:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==r||e.color.some((o,c)=>o!==s[c])||e.pageIndex!==a},E(Ye,td),X(Ye,"_freeTextDefaultContent",""),X(Ye,"_internalPadding",0),X(Ye,"_defaultColor",null),X(Ye,"_defaultFontSize",10),X(Ye,"_type","freetext"),X(Ye,"_editorType",Lt.FREETEXT);let nB=Ye;class dt{toSVGPath(){Ve("Abstract method `toSVGPath` must be implemented.")}get box(){Ve("Abstract getter `box` must be implemented.")}serialize(t,e){Ve("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,r,s,a){a||(a=new Float32Array(t.length));for(let o=0,c=t.length;o<c;o+=2)a[o]=e+t[o]*r,a[o+1]=i+t[o+1]*s;return a}static _rescaleAndSwap(t,e,i,r,s,a){a||(a=new Float32Array(t.length));for(let o=0,c=t.length;o<c;o+=2)a[o]=e+t[o+1]*r,a[o+1]=i+t[o]*s;return a}static _translate(t,e,i,r){r||(r=new Float32Array(t.length));for(let s=0,a=t.length;s<a;s+=2)r[s]=e+t[s],r[s+1]=i+t[s+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,r,s){switch(s){case 90:return[1-e/i,t/r];case 180:return[1-t/i,1-e/r];case 270:return[e/i,1-t/r];default:return[t/i,e/r]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,r,s,a){return[(t+5*i)/6,(e+5*r)/6,(5*i+s)/6,(5*r+a)/6,(i+s)/2,(r+a)/2]}}X(dt,"PRECISION",1e-4);var da,ul,m1,v1,Mc,Yt,Rm,Dm,hk,uk,y1,b1,lp,dk,iF,rF,vi,VS,qQ,KQ,YQ,ZQ,QQ,JQ;const Eh=class Eh{constructor({x:t,y:e},i,r,s,a,o=0){E(this,vi);E(this,da);E(this,ul,[]);E(this,m1);E(this,v1);E(this,Mc,[]);E(this,Yt,new Float32Array(18));E(this,Rm);E(this,Dm);E(this,hk);E(this,uk);E(this,y1);E(this,b1);E(this,lp,[]);b(this,da,i),b(this,b1,s*r),b(this,v1,a),h(this,Yt).set([NaN,NaN,NaN,NaN,t,e],6),b(this,m1,o),b(this,uk,h(Eh,dk)*r),b(this,hk,h(Eh,rF)*r),b(this,y1,r),h(this,lp).push(t,e)}isEmpty(){return isNaN(h(this,Yt)[8])}add({x:t,y:e}){var R;b(this,Rm,t),b(this,Dm,e);const[i,r,s,a]=h(this,da);let[o,c,l,u]=h(this,Yt).subarray(8,12);const d=t-l,f=e-u,p=Math.hypot(d,f);if(p<h(this,hk))return!1;const g=p-h(this,uk),m=g/p,y=m*d,v=m*f;let w=o,x=c;o=l,c=u,l+=y,u+=v,(R=h(this,lp))==null||R.push(t,e);const A=-v/g,S=y/g,C=A*h(this,b1),k=S*h(this,b1);return h(this,Yt).set(h(this,Yt).subarray(2,8),0),h(this,Yt).set([l+C,u+k],4),h(this,Yt).set(h(this,Yt).subarray(14,18),12),h(this,Yt).set([l-C,u-k],16),isNaN(h(this,Yt)[6])?(h(this,Mc).length===0&&(h(this,Yt).set([o+C,c+k],2),h(this,Mc).push(NaN,NaN,NaN,NaN,(o+C-i)/s,(c+k-r)/a),h(this,Yt).set([o-C,c-k],14),h(this,ul).push(NaN,NaN,NaN,NaN,(o-C-i)/s,(c-k-r)/a)),h(this,Yt).set([w,x,o,c,l,u],6),!this.isEmpty()):(h(this,Yt).set([w,x,o,c,l,u],6),Math.abs(Math.atan2(x-c,w-o)-Math.atan2(v,y))<Math.PI/2?([o,c,l,u]=h(this,Yt).subarray(2,6),h(this,Mc).push(NaN,NaN,NaN,NaN,((o+l)/2-i)/s,((c+u)/2-r)/a),[o,c,w,x]=h(this,Yt).subarray(14,18),h(this,ul).push(NaN,NaN,NaN,NaN,((w+o)/2-i)/s,((x+c)/2-r)/a),!0):([w,x,o,c,l,u]=h(this,Yt).subarray(0,6),h(this,Mc).push(((w+5*o)/6-i)/s,((x+5*c)/6-r)/a,((5*o+l)/6-i)/s,((5*c+u)/6-r)/a,((o+l)/2-i)/s,((c+u)/2-r)/a),[l,u,o,c,w,x]=h(this,Yt).subarray(12,18),h(this,ul).push(((w+5*o)/6-i)/s,((x+5*c)/6-r)/a,((5*o+l)/6-i)/s,((5*c+u)/6-r)/a,((o+l)/2-i)/s,((c+u)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,Mc),e=h(this,ul);if(isNaN(h(this,Yt)[6])&&!this.isEmpty())return _(this,vi,qQ).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);_(this,vi,YQ).call(this,i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return _(this,vi,KQ).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,r,s,a){return new $Q(t,e,i,r,s,a)}getOutlines(){var d;const t=h(this,Mc),e=h(this,ul),i=h(this,Yt),[r,s,a,o]=h(this,da),c=new Float32Array((((d=h(this,lp))==null?void 0:d.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(h(this,lp)[f]-r)/a,c[f+1]=(h(this,lp)[f+1]-s)/o;if(c[c.length-2]=(h(this,Rm)-r)/a,c[c.length-1]=(h(this,Dm)-s)/o,isNaN(i[6])&&!this.isEmpty())return _(this,vi,ZQ).call(this,c);const l=new Float32Array(h(this,Mc).length+24+h(this,ul).length);let u=t.length;for(let f=0;f<u;f+=2){if(isNaN(t[f])){l[f]=l[f+1]=NaN;continue}l[f]=t[f],l[f+1]=t[f+1]}u=_(this,vi,JQ).call(this,l,u);for(let f=e.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(e[f+p])){l[u]=l[u+1]=NaN,u+=2;continue}l[u]=e[f+p],l[u+1]=e[f+p+1],u+=2}return _(this,vi,QQ).call(this,l,u),this.newFreeDrawOutline(l,c,h(this,da),h(this,y1),h(this,m1),h(this,v1))}};da=new WeakMap,ul=new WeakMap,m1=new WeakMap,v1=new WeakMap,Mc=new WeakMap,Yt=new WeakMap,Rm=new WeakMap,Dm=new WeakMap,hk=new WeakMap,uk=new WeakMap,y1=new WeakMap,b1=new WeakMap,lp=new WeakMap,dk=new WeakMap,iF=new WeakMap,rF=new WeakMap,vi=new WeakSet,VS=function(){const t=h(this,Yt).subarray(4,6),e=h(this,Yt).subarray(16,18),[i,r,s,a]=h(this,da);return[(h(this,Rm)+(t[0]-e[0])/2-i)/s,(h(this,Dm)+(t[1]-e[1])/2-r)/a,(h(this,Rm)+(e[0]-t[0])/2-i)/s,(h(this,Dm)+(e[1]-t[1])/2-r)/a]},qQ=function(){const[t,e,i,r]=h(this,da),[s,a,o,c]=_(this,vi,VS).call(this);return`M${(h(this,Yt)[2]-t)/i} ${(h(this,Yt)[3]-e)/r} L${(h(this,Yt)[4]-t)/i} ${(h(this,Yt)[5]-e)/r} L${s} ${a} L${o} ${c} L${(h(this,Yt)[16]-t)/i} ${(h(this,Yt)[17]-e)/r} L${(h(this,Yt)[14]-t)/i} ${(h(this,Yt)[15]-e)/r} Z`},KQ=function(t){const e=h(this,ul);t.push(`L${e[4]} ${e[5]} Z`)},YQ=function(t){const[e,i,r,s]=h(this,da),a=h(this,Yt).subarray(4,6),o=h(this,Yt).subarray(16,18),[c,l,u,d]=_(this,vi,VS).call(this);t.push(`L${(a[0]-e)/r} ${(a[1]-i)/s} L${c} ${l} L${u} ${d} L${(o[0]-e)/r} ${(o[1]-i)/s}`)},ZQ=function(t){const e=h(this,Yt),[i,r,s,a]=h(this,da),[o,c,l,u]=_(this,vi,VS).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(e[2]-i)/s,(e[3]-r)/a,NaN,NaN,NaN,NaN,(e[4]-i)/s,(e[5]-r)/a,NaN,NaN,NaN,NaN,o,c,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,(e[16]-i)/s,(e[17]-r)/a,NaN,NaN,NaN,NaN,(e[14]-i)/s,(e[15]-r)/a],0),this.newFreeDrawOutline(d,t,h(this,da),h(this,y1),h(this,m1),h(this,v1))},QQ=function(t,e){const i=h(this,ul);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},JQ=function(t,e){const i=h(this,Yt).subarray(4,6),r=h(this,Yt).subarray(16,18),[s,a,o,c]=h(this,da),[l,u,d,f]=_(this,vi,VS).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/c,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/c],e),e+=24},E(Eh,dk,8),E(Eh,iF,2),E(Eh,rF,h(Eh,dk)+h(Eh,iF));let SD=Eh;var w1,Fm,Iu,fk,fa,pk,zn,sF,tJ;class $Q extends dt{constructor(e,i,r,s,a,o){super();E(this,sF);E(this,w1);E(this,Fm,new Float32Array(4));E(this,Iu);E(this,fk);E(this,fa);E(this,pk);E(this,zn);b(this,zn,e),b(this,fa,i),b(this,w1,r),b(this,pk,s),b(this,Iu,a),b(this,fk,o),this.lastPoint=[NaN,NaN],_(this,sF,tJ).call(this,o);const[c,l,u,d]=h(this,Fm);for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-c)/u,e[f+1]=(e[f+1]-l)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-c)/u,i[f+1]=(i[f+1]-l)/d}toSVGPath(){const e=[`M${h(this,zn)[4]} ${h(this,zn)[5]}`];for(let i=6,r=h(this,zn).length;i<r;i+=6){if(isNaN(h(this,zn)[i])){e.push(`L${h(this,zn)[i+4]} ${h(this,zn)[i+5]}`);continue}e.push(`C${h(this,zn)[i]} ${h(this,zn)[i+1]} ${h(this,zn)[i+2]} ${h(this,zn)[i+3]} ${h(this,zn)[i+4]} ${h(this,zn)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,r,s],a){const o=r-e,c=s-i;let l,u;switch(a){case 0:l=dt._rescale(h(this,zn),e,s,o,-c),u=dt._rescale(h(this,fa),e,s,o,-c);break;case 90:l=dt._rescaleAndSwap(h(this,zn),e,i,o,c),u=dt._rescaleAndSwap(h(this,fa),e,i,o,c);break;case 180:l=dt._rescale(h(this,zn),r,i,-o,c),u=dt._rescale(h(this,fa),r,i,-o,c);break;case 270:l=dt._rescaleAndSwap(h(this,zn),r,s,-o,-c),u=dt._rescaleAndSwap(h(this,fa),r,s,-o,-c);break}return{outline:Array.from(l),points:[Array.from(u)]}}get box(){return h(this,Fm)}newOutliner(e,i,r,s,a,o=0){return new SD(e,i,r,s,a,o)}getNewOutline(e,i){const[r,s,a,o]=h(this,Fm),[c,l,u,d]=h(this,w1),f=a*u,p=o*d,g=r*u+c,m=s*d+l,y=this.newOutliner({x:h(this,fa)[0]*f+g,y:h(this,fa)[1]*p+m},h(this,w1),h(this,pk),e,h(this,fk),i??h(this,Iu));for(let v=2;v<h(this,fa).length;v+=2)y.add({x:h(this,fa)[v]*f+g,y:h(this,fa)[v+1]*p+m});return y.getOutlines()}}w1=new WeakMap,Fm=new WeakMap,Iu=new WeakMap,fk=new WeakMap,fa=new WeakMap,pk=new WeakMap,zn=new WeakMap,sF=new WeakSet,tJ=function(e){const i=h(this,zn);let r=i[4],s=i[5];const a=[r,s,r,s];let o=r,c=s;const l=e?Math.max:Math.min;for(let d=6,f=i.length;d<f;d+=6){const p=i[d+4],g=i[d+5];if(isNaN(i[d]))Et.pointBoundingBox(p,g,a),c<g?(o=p,c=g):c===g&&(o=l(o,p));else{const m=[1/0,1/0,-1/0,-1/0];Et.bezierBoundingBox(r,s,...i.slice(d,d+6),m),Et.rectBoundingBox(...m,a),c<m[3]?(o=m[2],c=m[3]):c===m[3]&&(o=l(o,m[2]))}r=p,s=g}const u=h(this,Fm);u[0]=a[0]-h(this,Iu),u[1]=a[1]-h(this,Iu),u[2]=a[2]-a[0]+2*h(this,Iu),u[3]=a[3]-a[1]+2*h(this,Iu),this.lastPoint=[o,c]};var gk,mk,cp,dl,hs,eJ,lR,nJ,iJ,sB;class rB{constructor(t,e=0,i=0,r=!0){E(this,hs);E(this,gk);E(this,mk);E(this,cp,[]);E(this,dl,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:p,y:g,width:m,height:y}of t){const v=Math.floor((p-e)/a)*a,w=Math.ceil((p+m+e)/a)*a,x=Math.floor((g-e)/a)*a,A=Math.ceil((g+y+e)/a)*a,S=[v,x,A,!0],C=[w,x,A,!1];h(this,cp).push(S,C),Et.rectBoundingBox(v,x,w,A,s)}const o=s[2]-s[0]+2*i,c=s[3]-s[1]+2*i,l=s[0]-i,u=s[1]-i,d=h(this,cp).at(r?-1:-2),f=[d[0],d[2]];for(const p of h(this,cp)){const[g,m,y]=p;p[0]=(g-l)/o,p[1]=(m-u)/c,p[2]=(y-u)/c}b(this,gk,new Float32Array([l,u,o,c])),b(this,mk,f)}getOutlines(){h(this,cp).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of h(this,cp))e[3]?(t.push(..._(this,hs,sB).call(this,e)),_(this,hs,nJ).call(this,e)):(_(this,hs,iJ).call(this,e),t.push(..._(this,hs,sB).call(this,e)));return _(this,hs,eJ).call(this,t)}}gk=new WeakMap,mk=new WeakMap,cp=new WeakMap,dl=new WeakMap,hs=new WeakSet,eJ=function(t){const e=[],i=new Set;for(const a of t){const[o,c,l]=a;e.push([o,c,a],[o,l,a])}e.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=e.length;a<o;a+=2){const c=e[a][2],l=e[a+1][2];c.push(l),l.push(c),i.add(c),i.add(l)}const r=[];let s;for(;i.size>0;){const a=i.values().next().value;let[o,c,l,u,d]=a;i.delete(a);let f=o,p=c;for(s=[o,l],r.push(s);;){let g;if(i.has(u))g=u;else if(i.has(d))g=d;else break;i.delete(g),[o,c,l,u,d]=g,f!==o&&(s.push(f,p,o,p===c?c:l),f=o),p=p===c?l:c}s.push(f,p)}return new Xmt(r,h(this,gk),h(this,mk))},lR=function(t){const e=h(this,dl);let i=0,r=e.length-1;for(;i<=r;){const s=i+r>>1,a=e[s][0];if(a===t)return s;a<t?i=s+1:r=s-1}return r+1},nJ=function([,t,e]){const i=_(this,hs,lR).call(this,t);h(this,dl).splice(i,0,[t,e])},iJ=function([,t,e]){const i=_(this,hs,lR).call(this,t);for(let r=i;r<h(this,dl).length;r++){const[s,a]=h(this,dl)[r];if(s!==t)break;if(s===t&&a===e){h(this,dl).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,a]=h(this,dl)[r];if(s!==t)break;if(s===t&&a===e){h(this,dl).splice(r,1);return}}},sB=function(t){const[e,i,r]=t,s=[[e,i,r]],a=_(this,hs,lR).call(this,r);for(let o=0;o<a;o++){const[c,l]=h(this,dl)[o];for(let u=0,d=s.length;u<d;u++){const[,f,p]=s[u];if(!(l<=f||p<=c)){if(f>=c){if(p>l)s[u][1]=l;else{if(d===1)return[];s.splice(u,1),u--,d--}continue}s[u][2]=c,p>l&&s.push([e,l,p])}}}return s};var vk,x1;class Xmt extends dt{constructor(e,i,r){super();E(this,vk);E(this,x1);b(this,x1,e),b(this,vk,i),this.lastPoint=r}toSVGPath(){const e=[];for(const i of h(this,x1)){let[r,s]=i;e.push(`M${r} ${s}`);for(let a=2;a<i.length;a+=2){const o=i[a],c=i[a+1];o===r?(e.push(`V${c}`),s=c):c===s&&(e.push(`H${o}`),r=o)}e.push("Z")}return e.join(" ")}serialize([e,i,r,s],a){const o=[],c=r-e,l=s-i;for(const u of h(this,x1)){const d=new Array(u.length);for(let f=0;f<u.length;f+=2)d[f]=e+u[f]*c,d[f+1]=s-u[f+1]*l;o.push(d)}return o}get box(){return h(this,vk)}get classNamesForOutlining(){return["highlightOutline"]}}vk=new WeakMap,x1=new WeakMap;class aB extends SD{newFreeDrawOutline(t,e,i,r,s,a){return new qmt(t,e,i,r,s,a)}}class qmt extends $Q{newOutliner(t,e,i,r,s,a=0){return new aB(t,e,i,r,s,a)}}var pa,Mm,S1,oi,yk,A1,Lu,bk,hp,fl,E1,wk,He,oB,lB,cB,wg,rJ,Id;const ms=class ms{constructor({editor:t=null,uiManager:e=null}){E(this,He);E(this,pa,null);E(this,Mm,null);E(this,S1);E(this,oi,null);E(this,yk,!1);E(this,A1,!1);E(this,Lu,null);E(this,bk);E(this,hp,null);E(this,fl,null);E(this,E1);var i,r;t?(b(this,A1,!1),b(this,E1,ne.HIGHLIGHT_COLOR),b(this,Lu,t)):(b(this,A1,!0),b(this,E1,ne.HIGHLIGHT_DEFAULT_COLOR)),b(this,fl,(t==null?void 0:t._uiManager)||e),b(this,bk,h(this,fl)._eventBus),b(this,S1,((i=t==null?void 0:t.color)==null?void 0:i.toUpperCase())||((r=h(this,fl))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),h(ms,wk)||b(ms,wk,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Jt(this,"_keyboardManager",new fT([[["Escape","mac+Escape"],ms.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ms.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ms.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ms.prototype._moveToPrevious],[["Home","mac+Home"],ms.prototype._moveToBeginning],[["End","mac+End"],ms.prototype._moveToEnd]]))}renderButton(){const t=b(this,pa,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",h(this,Lu)&&(t.ariaControls=`${h(this,Lu).id}_colorpicker_dropdown`);const e=h(this,fl)._signal;t.addEventListener("click",_(this,He,wg).bind(this),{signal:e}),t.addEventListener("keydown",_(this,He,cB).bind(this),{signal:e});const i=b(this,Mm,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=h(this,S1),t.append(i),t}renderMainDropdown(){const t=b(this,oi,_(this,He,oB).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===h(this,pa)){_(this,He,wg).call(this,t);return}const e=t.target.getAttribute("data-color");e&&_(this,He,lB).call(this,e,t)}_moveToNext(t){var e,i;if(!h(this,He,Id)){_(this,He,wg).call(this,t);return}if(t.target===h(this,pa)){(e=h(this,oi).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=h(this,oi))==null?void 0:e.firstChild)||t.target===h(this,pa)){h(this,He,Id)&&this._hideDropdownFromKeyboard();return}h(this,He,Id)||_(this,He,wg).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!h(this,He,Id)){_(this,He,wg).call(this,t);return}(e=h(this,oi).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,He,Id)){_(this,He,wg).call(this,t);return}(e=h(this,oi).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=h(this,oi))==null||t.classList.add("hidden"),h(this,pa).ariaExpanded="false",(e=h(this,hp))==null||e.abort(),b(this,hp,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,A1)){if(!h(this,He,Id)){(t=h(this,Lu))==null||t.unselect();return}this.hideDropdown(),h(this,pa).focus({preventScroll:!0,focusVisible:h(this,yk)})}}updateColor(t){if(h(this,Mm)&&(h(this,Mm).style.backgroundColor=t),!h(this,oi))return;const e=h(this,fl).highlightColors.values();for(const i of h(this,oi).children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;(t=h(this,pa))==null||t.remove(),b(this,pa,null),b(this,Mm,null),(e=h(this,oi))==null||e.remove(),b(this,oi,null)}};pa=new WeakMap,Mm=new WeakMap,S1=new WeakMap,oi=new WeakMap,yk=new WeakMap,A1=new WeakMap,Lu=new WeakMap,bk=new WeakMap,hp=new WeakMap,fl=new WeakMap,E1=new WeakMap,wk=new WeakMap,He=new WeakSet,oB=function(){const t=document.createElement("div"),e=h(this,fl)._signal;t.addEventListener("contextmenu",jo,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),h(this,Lu)&&(t.id=`${h(this,Lu).id}_colorpicker_dropdown`);for(const[i,r]of h(this,fl).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",h(ms,wk)[i]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.ariaSelected=r===h(this,S1),s.addEventListener("click",_(this,He,lB).bind(this,r),{signal:e}),t.append(s)}return t.addEventListener("keydown",_(this,He,cB).bind(this),{signal:e}),t},lB=function(t,e){e.stopPropagation(),h(this,bk).dispatch("switchannotationeditorparams",{source:this,type:h(this,E1),value:t})},cB=function(t){ms._keyboardManager.exec(this,t)},wg=function(t){if(h(this,He,Id)){this.hideDropdown();return}if(b(this,yk,t.detail===0),h(this,hp)||(b(this,hp,new AbortController),window.addEventListener("pointerdown",_(this,He,rJ).bind(this),{signal:h(this,fl).combinedSignal(h(this,hp))})),h(this,pa).ariaExpanded="true",h(this,oi)){h(this,oi).classList.remove("hidden");return}const e=b(this,oi,_(this,He,oB).call(this));h(this,pa).append(e)},rJ=function(t){var e;(e=h(this,oi))!=null&&e.contains(t.target)||this.hideDropdown()},Id=function(){return h(this,oi)&&!h(this,oi).classList.contains("hidden")},E(ms,wk,null);let EE=ms;var _1,xk,Ou,Nm,Sk,Ss,Ak,Ek,Im,oo,ga,er,C1,Bu,Rr,k1,lo,_k,Gt,hB,cR,sJ,aJ,oJ,uB,xg,bo,Sy,lJ,hR,GS,cJ,hJ,uJ,dJ,fJ;const Ee=class Ee extends Qe{constructor(e){super({...e,name:"highlightEditor"});E(this,Gt);E(this,_1,null);E(this,xk,0);E(this,Ou);E(this,Nm,null);E(this,Sk,null);E(this,Ss,null);E(this,Ak,null);E(this,Ek,0);E(this,Im,null);E(this,oo,null);E(this,ga,null);E(this,er,!1);E(this,C1,null);E(this,Bu);E(this,Rr,null);E(this,k1,"");E(this,lo);E(this,_k,"");this.color=e.color||Ee._defaultColor,b(this,lo,e.thickness||Ee._defaultThickness),b(this,Bu,e.opacity||Ee._defaultOpacity),b(this,Ou,e.boxes||null),b(this,_k,e.methodOfCreation||""),b(this,k1,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(b(this,er,!0),_(this,Gt,cR).call(this,e),_(this,Gt,xg).call(this)):h(this,Ou)&&(b(this,_1,e.anchorNode),b(this,xk,e.anchorOffset),b(this,Ak,e.focusNode),b(this,Ek,e.focusOffset),_(this,Gt,hB).call(this),_(this,Gt,xg).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const e=Ee.prototype;return Jt(this,"_keyboardManager",new fT([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,er)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,lo),methodOfCreation:h(this,_k)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var r;Qe.initialize(e,i),Ee._defaultColor||(Ee._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case ne.HIGHLIGHT_DEFAULT_COLOR:Ee._defaultColor=i;break;case ne.HIGHLIGHT_THICKNESS:Ee._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return h(this,C1)}updateParams(e,i){switch(e){case ne.HIGHLIGHT_COLOR:_(this,Gt,sJ).call(this,i);break;case ne.HIGHLIGHT_THICKNESS:_(this,Gt,aJ).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ne.HIGHLIGHT_DEFAULT_COLOR,Ee._defaultColor],[ne.HIGHLIGHT_THICKNESS,Ee._defaultThickness]]}get propertiesToUpdate(){return[[ne.HIGHLIGHT_COLOR,this.color||Ee._defaultColor],[ne.HIGHLIGHT_THICKNESS,h(this,lo)||Ee._defaultThickness],[ne.HIGHLIGHT_FREE,h(this,er)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",b(this,Sk,new EE({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,Gt,GS).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,_(this,Gt,GS).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){_(this,Gt,uB).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,Gt,xg).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let i=!1;this.parent&&!e?_(this,Gt,uB).call(this):e&&(_(this,Gt,xg).call(this,e),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var s,a,o;const{drawLayer:i}=this.parent;let r;h(this,er)?(e=(e-this.rotation+360)%360,r=_(s=Ee,bo,Sy).call(s,h(this,oo).box,e)):r=_(a=Ee,bo,Sy).call(a,[this.x,this.y,this.width,this.height],e),i.updateProperties(h(this,ga),{bbox:r,root:{"data-main-rotation":e}}),i.updateProperties(h(this,Rr),{bbox:_(o=Ee,bo,Sy).call(o,h(this,Ss).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();h(this,k1)&&(e.setAttribute("aria-label",h(this,k1)),e.setAttribute("role","mark")),h(this,er)?e.classList.add("free"):this.div.addEventListener("keydown",_(this,Gt,lJ).bind(this),{signal:this._uiManager._signal});const i=b(this,Im,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=h(this,Nm);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),FZ(this,h(this,Im),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(h(this,Rr),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(h(this,Rr),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:_(this,Gt,hR).call(this,!0);break;case 1:case 3:_(this,Gt,hR).call(this,!1);break}}select(){var e;super.select(),h(this,Rr)&&((e=this.parent)==null||e.drawLayer.updateProperties(h(this,Rr),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),h(this,Rr)&&((e=this.parent)==null||e.drawLayer.updateProperties(h(this,Rr),{rootClass:{selected:!1}}),h(this,er)||_(this,Gt,hR).call(this,!1))}get _mustFixPosition(){return!h(this,er)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(h(this,ga),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(h(this,Rr),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:r,x:s,y:a}){const{x:o,y:c,width:l,height:u}=r.getBoundingClientRect(),d=new AbortController,f=e.combinedSignal(d),p=g=>{d.abort(),_(this,bo,dJ).call(this,e,g)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",jn,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",jo,{signal:f}),r.addEventListener("pointermove",_(this,bo,uJ).bind(this,e),{signal:f}),this._freeHighlight=new aB({x:s,y:a},[o,c,l,u],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,r){var m,y,v,w;let s=null;if(e instanceof jQ){const{data:{quadPoints:x,rect:A,rotation:S,id:C,color:k,opacity:T,popupRef:R},parent:{page:{pageNumber:F}}}=e;s=e={annotationType:Lt.HIGHLIGHT,color:Array.from(k),opacity:T,quadPoints:x,boxes:null,pageIndex:F-1,rect:A.slice(0),rotation:S,annotationElementId:C,id:C,deleted:!1,popupRef:R}}else if(e instanceof Yj){const{data:{inkLists:x,rect:A,rotation:S,id:C,color:k,borderStyle:{rawWidth:T},popupRef:R},parent:{page:{pageNumber:F}}}=e;s=e={annotationType:Lt.HIGHLIGHT,color:Array.from(k),thickness:T,inkLists:x,boxes:null,pageIndex:F-1,rect:A.slice(0),rotation:S,annotationElementId:C,id:C,deleted:!1,popupRef:R}}const{color:a,quadPoints:o,inkLists:c,opacity:l}=e,u=await super.deserialize(e,i,r);u.color=Et.makeHexColor(...a),b(u,Bu,l||1),c&&b(u,lo,e.thickness),u._initialData=s;const[d,f]=u.pageDimensions,[p,g]=u.pageTranslation;if(o){const x=b(u,Ou,[]);for(let A=0;A<o.length;A+=8)x.push({x:(o[A]-p)/d,y:1-(o[A+1]-g)/f,width:(o[A+2]-o[A])/d,height:(o[A+1]-o[A+5])/f});_(m=u,Gt,hB).call(m),_(y=u,Gt,xg).call(y),u.rotate(u.rotation)}else if(c){b(u,er,!0);const x=c[0],A={x:x[0]-p,y:f-(x[1]-g)},S=new aB(A,[0,0,d,f],1,h(u,lo)/2,!0,.001);for(let T=0,R=x.length;T<R;T+=2)A.x=x[T]-p,A.y=f-(x[T+1]-g),S.add(A);const{id:C,clipPathId:k}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);_(v=u,Gt,cR).call(v,{highlightOutlines:S.getOutlines(),highlightId:C,clipPathId:k}),_(w=u,Gt,xg).call(w),u.rotate(u.parentRotation)}return u}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),r=Qe._colorManager.convert(this.color),s={annotationType:Lt.HIGHLIGHT,color:r,opacity:h(this,Bu),thickness:h(this,lo),quadPoints:_(this,Gt,cJ).call(this),outlines:_(this,Gt,hJ).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:_(this,Gt,GS).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!_(this,Gt,fJ).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};_1=new WeakMap,xk=new WeakMap,Ou=new WeakMap,Nm=new WeakMap,Sk=new WeakMap,Ss=new WeakMap,Ak=new WeakMap,Ek=new WeakMap,Im=new WeakMap,oo=new WeakMap,ga=new WeakMap,er=new WeakMap,C1=new WeakMap,Bu=new WeakMap,Rr=new WeakMap,k1=new WeakMap,lo=new WeakMap,_k=new WeakMap,Gt=new WeakSet,hB=function(){const e=new rB(h(this,Ou),.001);b(this,oo,e.getOutlines()),[this.x,this.y,this.width,this.height]=h(this,oo).box;const i=new rB(h(this,Ou),.0025,.001,this._uiManager.direction==="ltr");b(this,Ss,i.getOutlines());const{lastPoint:r}=h(this,Ss);b(this,C1,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},cR=function({highlightOutlines:e,highlightId:i,clipPathId:r}){var d,f;if(b(this,oo,e),b(this,Ss,e.getNewOutline(h(this,lo)/2+1.5,.0025)),i>=0)b(this,ga,i),b(this,Nm,r),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),b(this,Rr,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:h(this,Ss).box,path:{d:h(this,Ss).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(h(this,ga),{bbox:_(d=Ee,bo,Sy).call(d,h(this,oo).box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(h(this,Rr),{bbox:_(f=Ee,bo,Sy).call(f,h(this,Ss).box,p),path:{d:h(this,Ss).toSVGPath()}})}const[a,o,c,l]=e.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=c,this.height=l;break;case 90:{const[p,g]=this.parentDimensions;this.x=o,this.y=1-a,this.width=c*g/p,this.height=l*p/g;break}case 180:this.x=1-a,this.y=1-o,this.width=c,this.height=l;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-o,this.y=a,this.width=c*g/p,this.height=l*p/g;break}}const{lastPoint:u}=h(this,Ss);b(this,C1,[(u[0]-a)/c,(u[1]-o)/l])},sJ=function(e){const i=(a,o)=>{var c,l;this.color=a,b(this,Bu,o),(c=this.parent)==null||c.drawLayer.updateProperties(h(this,ga),{root:{fill:a,"fill-opacity":o}}),(l=h(this,Sk))==null||l.updateColor(a)},r=this.color,s=h(this,Bu);this.addCommands({cmd:i.bind(this,e,Ee._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},aJ=function(e){const i=h(this,lo),r=s=>{b(this,lo,s),_(this,Gt,oJ).call(this,s)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},oJ=function(e){if(!h(this,er))return;_(this,Gt,cR).call(this,{highlightOutlines:h(this,oo).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},uB=function(){h(this,ga)===null||!this.parent||(this.parent.drawLayer.remove(h(this,ga)),b(this,ga,null),this.parent.drawLayer.remove(h(this,Rr)),b(this,Rr,null))},xg=function(e=this.parent){h(this,ga)===null&&({id:fe(this,ga)._,clipPathId:fe(this,Nm)._}=e.drawLayer.draw({bbox:h(this,oo).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":h(this,Bu)},rootClass:{highlight:!0,free:h(this,er)},path:{d:h(this,oo).toSVGPath()}},!1,!0),b(this,Rr,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:h(this,er)},bbox:h(this,Ss).box,path:{d:h(this,Ss).toSVGPath()}},h(this,er))),h(this,Im)&&(h(this,Im).style.clipPath=h(this,Nm)))},bo=new WeakSet,Sy=function([e,i,r,s],a){switch(a){case 90:return[1-i-s,e,s,r];case 180:return[1-e-r,1-i-s,r,s];case 270:return[i,1-e-r,s,r]}return[e,i,r,s]},lJ=function(e){Ee._keyboardManager.exec(this,e)},hR=function(e){if(!h(this,_1))return;const i=window.getSelection();e?i.setPosition(h(this,_1),h(this,xk)):i.setPosition(h(this,Ak),h(this,Ek))},GS=function(){return h(this,er)?this.rotation:0},cJ=function(){if(h(this,er))return null;const[e,i]=this.pageDimensions,[r,s]=this.pageTranslation,a=h(this,Ou),o=new Float32Array(a.length*8);let c=0;for(const{x:l,y:u,width:d,height:f}of a){const p=l*e+r,g=(1-u)*i+s;o[c]=o[c+4]=p,o[c+1]=o[c+3]=g,o[c+2]=o[c+6]=p+d*e,o[c+5]=o[c+7]=g-f*i,c+=8}return o},hJ=function(e){return h(this,oo).serialize(e,_(this,Gt,GS).call(this))},uJ=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},dJ=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},fJ=function(e){const{color:i}=this._initialData;return e.color.some((r,s)=>r!==i[s])},E(Ee,bo),X(Ee,"_defaultColor",null),X(Ee,"_defaultOpacity",1),X(Ee,"_defaultThickness",12),X(Ee,"_type","highlight"),X(Ee,"_editorType",Lt.HIGHLIGHT),X(Ee,"_freeHighlightId",-1),X(Ee,"_freeHighlight",null),X(Ee,"_freeHighlightClipId","");let AD=Ee;var Lm;class pJ{constructor(){E(this,Lm,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){h(this,Lm)[t]=e}toSVGProperties(){const t=h(this,Lm);return b(this,Lm,Object.create(null)),{root:t}}reset(){b(this,Lm,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){Ve("Not implemented")}}Lm=new WeakMap;var ma,T1,Ri,Om,Bm,up,dp,fp,zm,ve,dB,fB,pB,XS,gJ,uR,qS,Ay;const gt=class gt extends Qe{constructor(e){super(e);E(this,ve);E(this,ma,null);E(this,T1);X(this,"_drawId",null);b(this,T1,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(_(this,ve,dB).call(this,e),_(this,ve,XS).call(this))}static _mergeSVGProperties(e,i){const r=new Set(Object.keys(e));for(const[s,a]of Object.entries(i))r.has(s)?Object.assign(e[s],a):e[s]=a;return e}static getDefaultDrawingOptions(e){Ve("Not implemented")}static get typesMap(){Ve("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(h(gt,Ri).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)e.push([r,i[s]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[r,s]of this.constructor.typesMap)e.push([r,i[s]]);return e}_updateProperty(e,i,r){const s=this._drawingOptions,a=s[i],o=c=>{var u;s.updateProperty(i,c);const l=h(this,ma).updateProperty(i,c);l&&_(this,ve,qS).call(this,l),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(h(this,ma).getPathResizingSVGProperties(_(this,ve,uR).call(this)),{bbox:_(this,ve,Ay).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(h(this,ma).getPathResizedSVGProperties(_(this,ve,uR).call(this)),{bbox:_(this,ve,Ay).call(this)}))}_onTranslating(e,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:_(this,ve,Ay).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(h(this,ma).getPathTranslatedSVGProperties(_(this,ve,uR).call(this),this.parentDimensions),{bbox:_(this,ve,Ay).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,h(this,T1)&&(b(this,T1,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){_(this,ve,pB).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,ve,XS).call(this),_(this,ve,qS).call(this,h(this,ma).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),_(this,ve,pB).call(this)):e&&(this._uiManager.addShouldRescale(this),_(this,ve,XS).call(this,e),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties({bbox:_(this,ve,Ay).call(this)},h(this,ma).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&_(this,ve,qS).call(this,h(this,ma).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const r=super.render();r.classList.add("draw");const s=document.createElement("div");r.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[a,o]=this.parentDimensions;return this.setDims(this.width*a,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),r}static createDrawerInstance(e,i,r,s,a){Ve("Not implemented")}static startDrawing(e,i,r,s){var y;const{target:a,offsetX:o,offsetY:c,pointerId:l,pointerType:u}=s;if(h(gt,dp)&&h(gt,dp)!==u)return;const{viewport:{rotation:d}}=e,{width:f,height:p}=a.getBoundingClientRect(),g=b(gt,Om,new AbortController),m=e.combinedSignal(g);if(h(gt,up)||b(gt,up,l),h(gt,dp)??b(gt,dp,u),window.addEventListener("pointerup",v=>{var w;h(gt,up)===v.pointerId?this._endDraw(v):(w=h(gt,fp))==null||w.delete(v.pointerId)},{signal:m}),window.addEventListener("pointercancel",v=>{var w;h(gt,up)===v.pointerId?this._currentParent.endDrawingSession():(w=h(gt,fp))==null||w.delete(v.pointerId)},{signal:m}),window.addEventListener("pointerdown",v=>{h(gt,dp)===v.pointerType&&((h(gt,fp)||b(gt,fp,new Set)).add(v.pointerId),h(gt,Ri).isCancellable()&&(h(gt,Ri).removeLastElement(),h(gt,Ri).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",jo,{signal:m}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),a.addEventListener("touchmove",v=>{v.timeStamp===h(gt,zm)&&jn(v)},{signal:m}),e.toggleDrawing(),(y=i._editorUndoBar)==null||y.hide(),h(gt,Ri)){e.drawLayer.updateProperties(this._currentDrawId,h(gt,Ri).startNew(o,c,f,p,d));return}i.updateUIForDefaultProperties(this),b(gt,Ri,this.createDrawerInstance(o,c,f,p,d)),b(gt,Bm,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(h(gt,Bm).toSVGProperties(),h(gt,Ri).defaultSVGProperties),!0,!1)}static _drawMove(e){var a;if(b(gt,zm,-1),!h(gt,Ri))return;const{offsetX:i,offsetY:r,pointerId:s}=e;if(h(gt,up)===s){if(((a=h(gt,fp))==null?void 0:a.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,h(gt,Ri).add(i,r)),b(gt,zm,e.timeStamp),jn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,b(gt,Ri,null),b(gt,Bm,null),b(gt,dp,null),b(gt,zm,NaN)),h(gt,Om)&&(h(gt,Om).abort(),b(gt,Om,null),b(gt,up,NaN),b(gt,fp,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,h(gt,Ri).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=h(gt,Ri),s=this._currentDrawId,a=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(a))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:ne.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(ne.DRAW_STEP),!h(gt,Ri).isEmpty()){const{pageDimensions:[r,s],scale:a}=i,o=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:h(gt,Ri).getOutlines(r*a,s*a,a,this._INNER_MARGIN),drawingOptions:h(gt,Bm),mustBeCommitted:!e});return this._cleanup(!0),o}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,r,s,a,o){Ve("Not implemented")}static async deserialize(e,i,r){var d,f;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}=i.viewport,l=this.deserializeDraw(o,c,s,a,this._INNER_MARGIN,e),u=await super.deserialize(e,i,r);return u.createDrawingOptions(e),_(d=u,ve,dB).call(d,{drawOutlines:l}),_(f=u,ve,XS).call(f),u.onScaleChanging(),u.rotate(),u}serializeDraw(e){const[i,r]=this.pageTranslation,[s,a]=this.pageDimensions;return h(this,ma).serialize([i,r,s,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};ma=new WeakMap,T1=new WeakMap,Ri=new WeakMap,Om=new WeakMap,Bm=new WeakMap,up=new WeakMap,dp=new WeakMap,fp=new WeakMap,zm=new WeakMap,ve=new WeakSet,dB=function({drawOutlines:e,drawId:i,drawingOptions:r}){b(this,ma,e),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=_(this,ve,fB).call(this,e,this.parent),_(this,ve,qS).call(this,e.box)},fB=function(e,i){const{id:r}=i.drawLayer.draw(gt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r},pB=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},XS=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=_(this,ve,fB).call(this,h(this,ma),e)}},gJ=function([e,i,r,s]){const{parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[i,1-e,r*(o/a),s*(a/o)];case 180:return[1-e,1-i,r,s];case 270:return[1-i,e,r*(o/a),s*(a/o)];default:return[e,i,r,s]}},uR=function(){const{x:e,y:i,width:r,height:s,parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[1-i,e,r*(a/o),s*(o/a)];case 180:return[1-e,1-i,r,s];case 270:return[i,1-e,r*(a/o),s*(o/a)];default:return[e,i,r,s]}},qS=function(e){if([this.x,this.y,this.width,this.height]=_(this,ve,gJ).call(this,e),this.div){this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)}this._onResized()},Ay=function(){const{x:e,y:i,width:r,height:s,rotation:a,parentRotation:o,parentDimensions:[c,l]}=this;switch((a*4+o)/90){case 1:return[1-i-s,e,s,r];case 2:return[1-e-r,1-i-s,r,s];case 3:return[i,1-e-r,s,r];case 4:return[e,i-r*(c/l),s*(l/c),r*(c/l)];case 5:return[1-i,e,r*(c/l),s*(l/c)];case 6:return[1-e-s*(l/c),1-i,s*(l/c),r*(c/l)];case 7:return[i-r*(c/l),1-e-s*(l/c),r*(c/l),s*(l/c)];case 8:return[e-r,i-s,r,s];case 9:return[1-i,e-r,s,r];case 10:return[1-e,1-i,r,s];case 11:return[i-s,1-e,s,r];case 12:return[e-s*(l/c),i,s*(l/c),r*(c/l)];case 13:return[1-i-r*(c/l),e-s*(l/c),r*(c/l),s*(l/c)];case 14:return[1-e,1-i-r*(c/l),s*(l/c),r*(c/l)];case 15:return[i,1-e,r*(c/l),s*(l/c)];default:return[e,i,r,s]}},X(gt,"_currentDrawId",-1),X(gt,"_currentParent",null),E(gt,Ri,null),E(gt,Om,null),E(gt,Bm,null),E(gt,up,NaN),E(gt,dp,null),E(gt,fp,null),E(gt,zm,NaN),X(gt,"_INNER_MARGIN",3);let ED=gt;var Nc,Di,Fi,jm,P1,qr,nr,co,Um,Hm,Wm,R1,dR;class Kmt{constructor(t,e,i,r,s,a){E(this,R1);E(this,Nc,new Float64Array(6));E(this,Di);E(this,Fi);E(this,jm);E(this,P1);E(this,qr);E(this,nr,"");E(this,co,0);E(this,Um,new gT);E(this,Hm);E(this,Wm);b(this,Hm,i),b(this,Wm,r),b(this,jm,s),b(this,P1,a),[t,e]=_(this,R1,dR).call(this,t,e);const o=b(this,Di,[NaN,NaN,NaN,NaN,t,e]);b(this,qr,[t,e]),b(this,Fi,[{line:o,points:h(this,qr)}]),h(this,Nc).set(o,0)}updateProperty(t,e){t==="stroke-width"&&b(this,P1,e)}isEmpty(){return!h(this,Fi)||h(this,Fi).length===0}isCancellable(){return h(this,qr).length<=10}add(t,e){[t,e]=_(this,R1,dR).call(this,t,e);const[i,r,s,a]=h(this,Nc).subarray(2,6),o=t-s,c=e-a;return Math.hypot(h(this,Hm)*o,h(this,Wm)*c)<=2?null:(h(this,qr).push(t,e),isNaN(i)?(h(this,Nc).set([s,a,t,e],2),h(this,Di).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(h(this,Nc)[0])&&h(this,Di).splice(6,6),h(this,Nc).set([i,r,s,a,t,e],0),h(this,Di).push(...dt.createBezierPoints(i,r,s,a,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(h(this,qr).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,r,s){b(this,Hm,i),b(this,Wm,r),b(this,jm,s),[t,e]=_(this,R1,dR).call(this,t,e);const a=b(this,Di,[NaN,NaN,NaN,NaN,t,e]);b(this,qr,[t,e]);const o=h(this,Fi).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),h(this,Fi).push({line:a,points:h(this,qr)}),h(this,Nc).set(a,0),b(this,co,0),this.toSVGPath(),null}getLastElement(){return h(this,Fi).at(-1)}setLastElement(t){return h(this,Fi)?(h(this,Fi).push(t),b(this,Di,t.line),b(this,qr,t.points),b(this,co,0),{path:{d:this.toSVGPath()}}):h(this,Um).setLastElement(t)}removeLastElement(){if(!h(this,Fi))return h(this,Um).removeLastElement();h(this,Fi).pop(),b(this,nr,"");for(let t=0,e=h(this,Fi).length;t<e;t++){const{line:i,points:r}=h(this,Fi)[t];b(this,Di,i),b(this,qr,r),b(this,co,0),this.toSVGPath()}return{path:{d:h(this,nr)}}}toSVGPath(){const t=dt.svgRound(h(this,Di)[4]),e=dt.svgRound(h(this,Di)[5]);if(h(this,qr).length===2)return b(this,nr,`${h(this,nr)} M ${t} ${e} Z`),h(this,nr);if(h(this,qr).length<=6){const r=h(this,nr).lastIndexOf("M");b(this,nr,`${h(this,nr).slice(0,r)} M ${t} ${e}`),b(this,co,6)}if(h(this,qr).length===4){const r=dt.svgRound(h(this,Di)[10]),s=dt.svgRound(h(this,Di)[11]);return b(this,nr,`${h(this,nr)} L ${r} ${s}`),b(this,co,12),h(this,nr)}const i=[];h(this,co)===0&&(i.push(`M ${t} ${e}`),b(this,co,6));for(let r=h(this,co),s=h(this,Di).length;r<s;r+=6){const[a,o,c,l,u,d]=h(this,Di).slice(r,r+6).map(dt.svgRound);i.push(`C${a} ${o} ${c} ${l} ${u} ${d}`)}return b(this,nr,h(this,nr)+i.join(" ")),b(this,co,h(this,Di).length),h(this,nr)}getOutlines(t,e,i,r){const s=h(this,Fi).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),h(this,Um).build(h(this,Fi),t,e,i,h(this,jm),h(this,P1),r),b(this,Nc,null),b(this,Di,null),b(this,Fi,null),b(this,nr,null),h(this,Um)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Nc=new WeakMap,Di=new WeakMap,Fi=new WeakMap,jm=new WeakMap,P1=new WeakMap,qr=new WeakMap,nr=new WeakMap,co=new WeakMap,Um=new WeakMap,Hm=new WeakMap,Wm=new WeakMap,R1=new WeakSet,dR=function(t,e){return dt._normalizePoint(t,e,h(this,Hm),h(this,Wm),h(this,jm))};var Kr,Ck,kk,va,Ic,Lc,D1,F1,Vm,lr,wh,mJ,vJ,yJ;class gT extends dt{constructor(){super(...arguments);E(this,lr);E(this,Kr);E(this,Ck,0);E(this,kk);E(this,va);E(this,Ic);E(this,Lc);E(this,D1);E(this,F1);E(this,Vm)}build(e,i,r,s,a,o,c){b(this,Ic,i),b(this,Lc,r),b(this,D1,s),b(this,F1,a),b(this,Vm,o),b(this,kk,c??0),b(this,va,e),_(this,lr,vJ).call(this)}get thickness(){return h(this,Vm)}setLastElement(e){return h(this,va).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return h(this,va).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of h(this,va)){if(e.push(`M${dt.svgRound(i[4])} ${dt.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${dt.svgRound(i[10])} ${dt.svgRound(i[11])}`);continue}for(let r=6,s=i.length;r<s;r+=6){const[a,o,c,l,u,d]=i.subarray(r,r+6).map(dt.svgRound);e.push(`C${a} ${o} ${c} ${l} ${u} ${d}`)}}return e.join("")}serialize([e,i,r,s],a){const o=[],c=[],[l,u,d,f]=_(this,lr,mJ).call(this);let p,g,m,y,v,w,x,A,S;switch(h(this,F1)){case 0:S=dt._rescale,p=e,g=i+s,m=r,y=-s,v=e+l*r,w=i+(1-u-f)*s,x=e+(l+d)*r,A=i+(1-u)*s;break;case 90:S=dt._rescaleAndSwap,p=e,g=i,m=r,y=s,v=e+u*r,w=i+l*s,x=e+(u+f)*r,A=i+(l+d)*s;break;case 180:S=dt._rescale,p=e+r,g=i,m=-r,y=s,v=e+(1-l-d)*r,w=i+u*s,x=e+(1-l)*r,A=i+(u+f)*s;break;case 270:S=dt._rescaleAndSwap,p=e+r,g=i+s,m=-r,y=-s,v=e+(1-u-f)*r,w=i+(1-l-d)*s,x=e+(1-u)*r,A=i+(1-l)*s;break}for(const{line:C,points:k}of h(this,va))o.push(S(C,p,g,m,y,a?new Array(C.length):null)),c.push(S(k,p,g,m,y,a?new Array(k.length):null));return{lines:o,points:c,rect:[v,w,x,A]}}static deserialize(e,i,r,s,a,{paths:{lines:o,points:c},rotation:l,thickness:u}){const d=[];let f,p,g,m,y;switch(l){case 0:y=dt._rescale,f=-e/r,p=i/s+1,g=1/r,m=-1/s;break;case 90:y=dt._rescaleAndSwap,f=-i/s,p=-e/r,g=1/s,m=1/r;break;case 180:y=dt._rescale,f=e/r+1,p=-i/s,g=-1/r,m=1/s;break;case 270:y=dt._rescaleAndSwap,f=i/s+1,p=e/r+1,g=-1/s,m=-1/r;break}if(!o){o=[];for(const w of c){const x=w.length;if(x===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(x===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const A=new Float32Array(3*(x-2));o.push(A);let[S,C,k,T]=w.subarray(0,4);A.set([NaN,NaN,NaN,NaN,S,C],0);for(let R=4;R<x;R+=2){const F=w[R],D=w[R+1];A.set(dt.createBezierPoints(S,C,k,T,F,D),(R-2)*3),[S,C,k,T]=[k,T,F,D]}}}for(let w=0,x=o.length;w<x;w++)d.push({line:y(o[w].map(A=>A??NaN),f,p,g,m),points:y(c[w].map(A=>A??NaN),f,p,g,m)});const v=new this.prototype.constructor;return v.build(d,r,s,1,l,u,a),v}get box(){return h(this,Kr)}updateProperty(e,i){return e==="stroke-width"?_(this,lr,yJ).call(this,i):null}updateParentDimensions([e,i],r){const[s,a]=_(this,lr,wh).call(this);b(this,Ic,e),b(this,Lc,i),b(this,D1,r);const[o,c]=_(this,lr,wh).call(this),l=o-s,u=c-a,d=h(this,Kr);return d[0]-=l,d[1]-=u,d[2]+=2*l,d[3]+=2*u,d}updateRotation(e){return b(this,Ck,e),{path:{transform:this.rotationTransform}}}get viewBox(){return h(this,Kr).map(dt.svgRound).join(" ")}get defaultProperties(){const[e,i]=h(this,Kr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(e)} ${dt.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=h(this,Kr);let r=0,s=0,a=0,o=0,c=0,l=0;switch(h(this,Ck)){case 90:s=i/e,a=-e/i,c=e;break;case 180:r=-1,o=-1,c=e,l=i;break;case 270:s=-i/e,a=e/i,l=i;break;default:return""}return`matrix(${r} ${s} ${a} ${o} ${dt.svgRound(c)} ${dt.svgRound(l)})`}getPathResizingSVGProperties([e,i,r,s]){const[a,o]=_(this,lr,wh).call(this),[c,l,u,d]=h(this,Kr);if(Math.abs(u-a)<=dt.PRECISION||Math.abs(d-o)<=dt.PRECISION){const y=e+r/2-(c+u/2),v=i+s/2-(l+d/2);return{path:{"transform-origin":`${dt.svgRound(e)} ${dt.svgRound(i)}`,transform:`${this.rotationTransform} translate(${y} ${v})`}}}const f=(r-2*a)/(u-2*a),p=(s-2*o)/(d-2*o),g=u/r,m=d/s;return{path:{"transform-origin":`${dt.svgRound(c)} ${dt.svgRound(l)}`,transform:`${this.rotationTransform} scale(${g} ${m}) translate(${dt.svgRound(a)} ${dt.svgRound(o)}) scale(${f} ${p}) translate(${dt.svgRound(-a)} ${dt.svgRound(-o)})`}}}getPathResizedSVGProperties([e,i,r,s]){const[a,o]=_(this,lr,wh).call(this),c=h(this,Kr),[l,u,d,f]=c;if(c[0]=e,c[1]=i,c[2]=r,c[3]=s,Math.abs(d-a)<=dt.PRECISION||Math.abs(f-o)<=dt.PRECISION){const v=e+r/2-(l+d/2),w=i+s/2-(u+f/2);for(const{line:x,points:A}of h(this,va))dt._translate(x,v,w,x),dt._translate(A,v,w,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(e)} ${dt.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(r-2*a)/(d-2*a),g=(s-2*o)/(f-2*o),m=-p*(l+a)+e+a,y=-g*(u+o)+i+o;if(p!==1||g!==1||m!==0||y!==0)for(const{line:v,points:w}of h(this,va))dt._rescale(v,m,y,p,g,v),dt._rescale(w,m,y,p,g,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(e)} ${dt.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],r){const[s,a]=r,o=h(this,Kr),c=e-o[0],l=i-o[1];if(h(this,Ic)===s&&h(this,Lc)===a)for(const{line:u,points:d}of h(this,va))dt._translate(u,c,l,u),dt._translate(d,c,l,d);else{const u=h(this,Ic)/s,d=h(this,Lc)/a;b(this,Ic,s),b(this,Lc,a);for(const{line:f,points:p}of h(this,va))dt._rescale(f,c,l,u,d,f),dt._rescale(p,c,l,u,d,p);o[2]*=u,o[3]*=d}return o[0]=e,o[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${dt.svgRound(e)} ${dt.svgRound(i)}`}}}get defaultSVGProperties(){const e=h(this,Kr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${dt.svgRound(e[0])} ${dt.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}Kr=new WeakMap,Ck=new WeakMap,kk=new WeakMap,va=new WeakMap,Ic=new WeakMap,Lc=new WeakMap,D1=new WeakMap,F1=new WeakMap,Vm=new WeakMap,lr=new WeakSet,wh=function(e=h(this,Vm)){const i=h(this,kk)+e/2*h(this,D1);return h(this,F1)%180===0?[i/h(this,Ic),i/h(this,Lc)]:[i/h(this,Lc),i/h(this,Ic)]},mJ=function(){const[e,i,r,s]=h(this,Kr),[a,o]=_(this,lr,wh).call(this,0);return[e+a,i+o,r-2*a,s-2*o]},vJ=function(){const e=b(this,Kr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of h(this,va)){if(s.length<=12){for(let c=4,l=s.length;c<l;c+=6)Et.pointBoundingBox(s[c],s[c+1],e);continue}let a=s[4],o=s[5];for(let c=6,l=s.length;c<l;c+=6){const[u,d,f,p,g,m]=s.subarray(c,c+6);Et.bezierBoundingBox(a,o,u,d,f,p,g,m,e),a=g,o=m}}const[i,r]=_(this,lr,wh).call(this);e[0]=Dr(e[0]-i,0,1),e[1]=Dr(e[1]-r,0,1),e[2]=Dr(e[2]+i,0,1),e[3]=Dr(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]},yJ=function(e){const[i,r]=_(this,lr,wh).call(this);b(this,Vm,e);const[s,a]=_(this,lr,wh).call(this),[o,c]=[s-i,a-r],l=h(this,Kr);return l[0]-=o,l[1]-=c,l[2]+=2*o,l[3]+=2*c,l};class pM extends pJ{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Qe._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new pM(this._viewParameters);return t.updateAll(this),t}}var aF,bJ;const Gy=class Gy extends ED{constructor(e){super({...e,name:"inkEditor"});E(this,aF);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){Qe.initialize(e,i),this._defaultDrawingOptions=new pM(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return Jt(this,"typesMap",new Map([[ne.INK_THICKNESS,"stroke-width"],[ne.INK_COLOR,"stroke"],[ne.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,r,s,a){return new Kmt(e,i,r,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,r,s,a,o){return gT.deserialize(e,i,r,s,a,o)}static async deserialize(e,i,r){let s=null;if(e instanceof Yj){const{data:{inkLists:o,rect:c,rotation:l,id:u,color:d,opacity:f,borderStyle:{rawWidth:p},popupRef:g},parent:{page:{pageNumber:m}}}=e;s=e={annotationType:Lt.INK,color:Array.from(d),thickness:p,opacity:f,paths:{points:o},boxes:null,pageIndex:m-1,rect:c.slice(0),rotation:l,annotationElementId:u,id:u,deleted:!1,popupRef:g}}const a=await super.deserialize(e,i,r);return a._initialData=s,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:r}){this._drawingOptions=Gy.getDefaultDrawingOptions({stroke:Et.makeHexColor(...e),"stroke-width":i,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r,rect:s}=this.serializeDraw(e),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":c}}=this,l={annotationType:Lt.INK,color:Qe._colorManager.convert(a),opacity:o,thickness:c,paths:{lines:i,points:r},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(l.isCopy=!0,l):this.annotationElementId&&!_(this,aF,bJ).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){const{points:i,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i}),null}};aF=new WeakSet,bJ=function(e){const{color:i,thickness:r,opacity:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((o,c)=>o!==i[c])||e.thickness!==r||e.opacity!==s||e.pageIndex!==a},X(Gy,"_type","ink"),X(Gy,"_editorType",Lt.INK),X(Gy,"_defaultDrawingOptions",null);let gB=Gy;class mB extends gT{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const A2=8,Yx=3;var Gm,De,vB,pl,wJ,xJ,yB,fR,SJ,AJ,EJ,bB,wB,_J;class Zc{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:r},s,a,o,c){let l=new OffscreenCanvas(1,1),u=l.getContext("2d",{alpha:!1});const d=200,f=u.font=`${i} ${r} ${d}px ${e}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:g,actualBoundingBoxAscent:m,actualBoundingBoxDescent:y,fontBoundingBoxAscent:v,fontBoundingBoxDescent:w,width:x}=u.measureText(t),A=1.5,S=Math.ceil(Math.max(Math.abs(p)+Math.abs(g)||0,x)*A),C=Math.ceil(Math.max(Math.abs(m)+Math.abs(y)||d,Math.abs(v)+Math.abs(w)||d)*A);l=new OffscreenCanvas(S,C),u=l.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=f,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,S,C),u.fillStyle="black",u.fillText(t,S*(A-1)/2,C*(3-A)/2);const k=_(this,De,bB).call(this,u.getImageData(0,0,S,C).data),T=_(this,De,EJ).call(this,k),R=_(this,De,wB).call(this,T),F=_(this,De,yB).call(this,k,S,C,R);return this.processDrawnLines({lines:{curves:F,width:S,height:C},pageWidth:s,pageHeight:a,rotation:o,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(t,e,i,r,s){const[a,o,c]=_(this,De,_J).call(this,t),[l,u]=_(this,De,AJ).call(this,a,o,c,Math.hypot(o,c)*h(this,Gm).sigmaSFactor,h(this,Gm).sigmaR,h(this,Gm).kernelSize),d=_(this,De,wB).call(this,u),f=_(this,De,yB).call(this,l,o,c,d);return this.processDrawnLines({lines:{curves:f,width:o,height:c},pageWidth:e,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:a,areContours:o}){r%180!==0&&([e,i]=[i,e]);const{curves:c,width:l,height:u}=t,d=t.thickness??0,f=[],p=Math.min(e/l,i/u),g=p/e,m=p/i,y=[];for(const{points:w}of c){const x=a?_(this,De,SJ).call(this,w):w;if(!x)continue;y.push(x);const A=x.length,S=new Float32Array(A),C=new Float32Array(3*(A===2?2:A-2));if(f.push({line:C,points:S}),A===2){S[0]=x[0]*g,S[1]=x[1]*m,C.set([NaN,NaN,NaN,NaN,S[0],S[1]],0);continue}let[k,T,R,F]=x;k*=g,T*=m,R*=g,F*=m,S.set([k,T,R,F],0),C.set([NaN,NaN,NaN,NaN,k,T],0);for(let D=4;D<A;D+=2){const U=S[D]=x[D]*g,j=S[D+1]=x[D+1]*m;C.set(dt.createBezierPoints(k,T,R,F,U,j),(D-2)*3),[k,T,R,F]=[R,F,U,j]}}if(f.length===0)return null;const v=o?new mB:new gT;return v.build(f,e,i,1,r,o?0:d,s),{outline:v,newCurves:y,areContours:o,thickness:d,width:l,height:u}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:r,height:s}){let a=1/0,o=-1/0,c=0;for(const x of t){c+=x.length;for(let A=2,S=x.length;A<S;A++){const C=x[A]-x[A-2];a=Math.min(a,C),o=Math.max(o,C)}}let l;a>=-128&&o<=127?l=Int8Array:a>=-32768&&o<=32767?l=Int16Array:l=Int32Array;const u=t.length,d=A2+Yx*u,f=new Uint32Array(d);let p=0;f[p++]=d*Uint32Array.BYTES_PER_ELEMENT+(c-2*u)*l.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=r,f[p++]=s,f[p++]=e?0:1,f[p++]=Math.max(0,Math.floor(i??0)),f[p++]=u,f[p++]=l.BYTES_PER_ELEMENT;for(const x of t)f[p++]=x.length-2,f[p++]=x[0],f[p++]=x[1];const g=new CompressionStream("deflate-raw"),m=g.writable.getWriter();await m.ready,m.write(f);const y=l.prototype.constructor;for(const x of t){const A=new y(x.length-2);for(let S=2,C=x.length;S<C;S++)A[S-2]=x[S]-x[S-2];m.write(A)}m.close();const v=await new Response(g.readable).arrayBuffer(),w=new Uint8Array(v);return SZ(w)}static async decompressSignature(t){try{const e=E0t(t),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(e).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const x of i)a||(a=new Uint8Array(new Uint32Array(x.buffer,0,4)[0])),a.set(x,o),o+=x.length;const c=new Uint32Array(a.buffer,0,a.length>>2),l=c[1];if(l!==0)throw new Error(`Invalid version: ${l}`);const u=c[2],d=c[3],f=c[4]===0,p=c[5],g=c[6],m=c[7],y=[],v=(A2+Yx*g)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(m){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(a.buffer,v);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(a.buffer,v);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(a.buffer,v);break}o=0;for(let x=0;x<g;x++){const A=c[Yx*x+A2],S=new Float32Array(A+2);y.push(S);for(let C=0;C<Yx-1;C++)S[C]=c[Yx*x+A2+C+1];for(let C=0;C<A;C++)S[C+2]=S[C]+w[o++]}return{areContours:f,thickness:p,outlines:y,width:u,height:d}}catch(e){return zt(`decompressSignature: ${e}`),null}}}Gm=new WeakMap,De=new WeakSet,vB=function(t,e,i,r){return i-=t,r-=e,i===0?r>0?0:4:i===1?r+6:2-r},pl=new WeakMap,wJ=function(t,e,i,r,s,a,o){const c=_(this,De,vB).call(this,i,r,s,a);for(let l=0;l<8;l++){const u=(-l+c-o+16)%8,d=h(this,pl)[2*u],f=h(this,pl)[2*u+1];if(t[(i+d)*e+(r+f)]!==0)return u}return-1},xJ=function(t,e,i,r,s,a,o){const c=_(this,De,vB).call(this,i,r,s,a);for(let l=0;l<8;l++){const u=(l+c+o+16)%8,d=h(this,pl)[2*u],f=h(this,pl)[2*u+1];if(t[(i+d)*e+(r+f)]!==0)return u}return-1},yB=function(t,e,i,r){const s=t.length,a=new Int32Array(s);for(let u=0;u<s;u++)a[u]=t[u]<=r?1:0;for(let u=1;u<i-1;u++)a[u*e]=a[u*e+e-1]=0;for(let u=0;u<e;u++)a[u]=a[e*i-1-u]=0;let o=1,c;const l=[];for(let u=1;u<i-1;u++){c=1;for(let d=1;d<e-1;d++){const f=u*e+d,p=a[f];if(p===0)continue;let g=u,m=d;if(p===1&&a[f-1]===0)o+=1,m-=1;else if(p>=1&&a[f+1]===0)o+=1,m+=1,p>1&&(c=p);else{p!==1&&(c=Math.abs(p));continue}const y=[d,u],v=m===d+1,w={isHole:v,points:y,id:o,parent:0};l.push(w);let x;for(const D of l)if(D.id===c){x=D;break}x?x.isHole?w.parent=v?x.parent:c:w.parent=v?c:x.parent:w.parent=v?c:0;const A=_(this,De,wJ).call(this,a,e,u,d,g,m,0);if(A===-1){a[f]=-o,a[f]!==1&&(c=Math.abs(a[f]));continue}let S=h(this,pl)[2*A],C=h(this,pl)[2*A+1];const k=u+S,T=d+C;g=k,m=T;let R=u,F=d;for(;;){const D=_(this,De,xJ).call(this,a,e,R,F,g,m,1);S=h(this,pl)[2*D],C=h(this,pl)[2*D+1];const U=R+S,j=F+C;y.push(j,U);const V=R*e+F;if(a[V+1]===0?a[V]=-o:a[V]===1&&(a[V]=o),U===u&&j===d&&R===k&&F===T){a[f]!==1&&(c=Math.abs(a[f]));break}else g=R,m=F,R=U,F=j}}}return l},fR=function(t,e,i,r){if(i-e<=4){for(let k=e;k<i-2;k+=2)r.push(t[k],t[k+1]);return}const s=t[e],a=t[e+1],o=t[i-4]-s,c=t[i-3]-a,l=Math.hypot(o,c),u=o/l,d=c/l,f=u*a-d*s,p=c/o,g=1/l,m=Math.atan(p),y=Math.cos(m),v=Math.sin(m),w=g*(Math.abs(y)+Math.abs(v)),x=g*(1-w+w**2),A=Math.max(Math.atan(Math.abs(v+y)*x),Math.atan(Math.abs(v-y)*x));let S=0,C=e;for(let k=e+2;k<i-2;k+=2){const T=Math.abs(f-u*t[k+1]+d*t[k]);T>S&&(C=k,S=T)}S>(l*A)**2?(_(this,De,fR).call(this,t,e,C+2,r),_(this,De,fR).call(this,t,C,i,r)):r.push(s,a)},SJ=function(t){const e=[],i=t.length;return _(this,De,fR).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},AJ=function(t,e,i,r,s,a){const o=new Float32Array(a**2),c=-2*r**2,l=a>>1;for(let m=0;m<a;m++){const y=(m-l)**2;for(let v=0;v<a;v++)o[m*a+v]=Math.exp((y+(v-l)**2)/c)}const u=new Float32Array(256),d=-2*s**2;for(let m=0;m<256;m++)u[m]=Math.exp(m**2/d);const f=t.length,p=new Uint8Array(f),g=new Uint32Array(256);for(let m=0;m<i;m++)for(let y=0;y<e;y++){const v=m*e+y,w=t[v];let x=0,A=0;for(let C=0;C<a;C++){const k=m+C-l;if(!(k<0||k>=i))for(let T=0;T<a;T++){const R=y+T-l;if(R<0||R>=e)continue;const F=t[k*e+R],D=o[C*a+T]*u[Math.abs(F-w)];x+=F*D,A+=D}}const S=p[v]=Math.round(x/A);g[S]++}return[p,g]},EJ=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},bB=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let r=-1/0,s=1/0;for(let o=0,c=i.length;o<c;o++){if(t[(o<<2)+3]===0){r=i[o]=255;continue}const u=i[o]=t[o<<2];u>r&&(r=u),u<s&&(s=u)}const a=255/(r-s);for(let o=0;o<e;o++)i[o]=(i[o]-s)*a;return i},wB=function(t){let e,i=-1/0,r=-1/0;const s=t.findIndex(c=>c!==0);let a=s,o=s;for(e=s;e<256;e++){const c=t[e];c>i&&(e-a>r&&(r=e-a,o=e-1),i=c,a=e)}for(e=o-1;e>=0&&!(t[e]>t[e+1]);e--);return e},_J=function(t){const e=t,{width:i,height:r}=t,{maxDim:s}=h(this,Gm);let a=i,o=r;if(i>s||r>s){let f=i,p=r,g=Math.log2(Math.max(i,r)/s);const m=Math.floor(g);g=g===m?m-1:m;for(let v=0;v<g;v++){a=Math.ceil(f/2),o=Math.ceil(p/2);const w=new OffscreenCanvas(a,o);w.getContext("2d").drawImage(t,0,0,f,p,0,0,a,o),f=a,p=o,t!==e&&t.close(),t=w.transferToImageBitmap()}const y=Math.min(s/a,s/o);a=Math.round(a*y),o=Math.round(o*y)}const l=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});l.filter="grayscale(1)",l.drawImage(t,0,0,t.width,t.height,0,0,a,o);const u=l.getImageData(0,0,a,o).data;return[_(this,De,bB).call(this,u),a,o]},E(Zc,De),E(Zc,Gm,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),E(Zc,pl,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class Qj extends pJ{constructor(){super(),super.updateProperties({fill:Qe._defaultLineColor,"stroke-width":0})}clone(){const t=new Qj;return t.updateAll(this),t}}class Jj extends pM{constructor(t){super(t),super.updateProperties({stroke:Qe._defaultLineColor,"stroke-width":1})}clone(){const t=new Jj(this._viewParameters);return t.updateAll(this),t}}var pp,Oc,gp,Xm;const Hs=class Hs extends ED{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});E(this,pp,!1);E(this,Oc,null);E(this,gp,null);E(this,Xm,null);this._willKeepAspectRatio=!0,b(this,gp,e.signatureData||null),b(this,Oc,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){Qe.initialize(e,i),this._defaultDrawingOptions=new Qj,this._defaultDrawnSignatureOptions=new Jj(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return Jt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!h(this,Oc)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(h(this,gp)){const{lines:s,mustSmooth:a,areContours:o,description:c,uuid:l,heightInPage:u}=h(this,gp),{rawDims:{pageWidth:d,pageHeight:f},rotation:p}=this.parent.viewport,g=Zc.processDrawnLines({lines:s,pageWidth:d,pageHeight:f,rotation:p,innerMargin:Hs._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(g,u,c,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return r&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){b(this,Xm,e),this.addEditToolbar()}getUuid(){return h(this,Xm)}get description(){return h(this,Oc)}set description(e){b(this,Oc,e),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:r,width:s,height:a}=h(this,gp),o=Math.max(s,a),c=Zc.processDrawnLines({lines:{curves:e.map(l=>({points:l})),thickness:r,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,i,r,s){const{x:a,y:o}=this,{outline:c}=b(this,gp,e);b(this,pp,c instanceof mB),this.description=r,this.div.setAttribute("data-l10n-args",JSON.stringify({description:r}));let l;h(this,pp)?l=Hs.getDefaultDrawingOptions():(l=Hs._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:l});const[u,d]=this.parentDimensions,[,f]=this.pageDimensions;let p=i/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(u*this.width,d*this.height),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Zc.process(e,i,r,s,Hs._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:r,pageHeight:s},rotation:a}=this.parent.viewport;return Zc.extractContoursFromText(e,i,r,s,a,Hs._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Zc.processDrawnLines({lines:e,pageWidth:i,pageHeight:r,rotation:s,innerMargin:Hs._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=Hs.getDefaultDrawingOptions():(this._drawingOptions=Hs._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:r,rect:s}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":a}}=this,o={annotationType:Lt.SIGNATURE,isSignature:!0,areContours:h(this,pp),color:[0,0,0],thickness:h(this,pp)?0:a,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(o.paths={lines:i,points:r},o.uuid=h(this,Xm),o.isCopy=!0):o.lines=i,h(this,Oc)&&(o.accessibilityData={type:"Figure",alt:h(this,Oc)}),o}static deserializeDraw(e,i,r,s,a,o){return o.areContours?mB.deserialize(e,i,r,s,a,o):gT.deserialize(e,i,r,s,a,o)}static async deserialize(e,i,r){var a;const s=await super.deserialize(e,i,r);return b(s,pp,e.areContours),b(s,Oc,((a=e.accessibilityData)==null?void 0:a.alt)||""),b(s,Xm,e.uuid),s}};pp=new WeakMap,Oc=new WeakMap,gp=new WeakMap,Xm=new WeakMap,X(Hs,"_type","signature"),X(Hs,"_editorType",Lt.SIGNATURE),X(Hs,"_defaultDrawingOptions",null);let xB=Hs;var ln,Mi,mp,zu,vp,M1,ju,qm,Bc,ya,N1,be,KS,YS,pR,gR,mR,AB,vR,CJ;class SB extends Qe{constructor(e){super({...e,name:"stampEditor"});E(this,be);E(this,ln,null);E(this,Mi,null);E(this,mp,null);E(this,zu,null);E(this,vp,null);E(this,M1,"");E(this,ju,null);E(this,qm,!1);E(this,Bc,null);E(this,ya,!1);E(this,N1,!1);b(this,zu,e.bitmapUrl),b(this,vp,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){Qe.initialize(e,i)}static isHandlingMimeForPasting(e){return wD.includes(e)}static paste(e,i){i.pasteEditor({mode:Lt.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=e||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const l=c.output;return await this.setGuessedAltText(l),i&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}remove(){var e;h(this,Mi)&&(b(this,ln,null),this._uiManager.imageManager.deleteId(h(this,Mi)),(e=h(this,ju))==null||e.remove(),b(this,ju,null),h(this,Bc)&&(clearTimeout(h(this,Bc)),b(this,Bc,null))),super.remove()}rebuild(){if(!this.parent){h(this,Mi)&&_(this,be,pR).call(this);return}super.rebuild(),this.div!==null&&(h(this,Mi)&&h(this,ju)===null&&_(this,be,pR).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(h(this,mp)||h(this,ln)||h(this,zu)||h(this,vp)||h(this,Mi)||h(this,qm))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),h(this,qm)||(h(this,ln)?_(this,be,gR).call(this):_(this,be,pR).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:r,bitmap:s}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(b(this,Mi,r),s&&b(this,ln,s),b(this,qm,!1),_(this,be,gR).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;h(this,Bc)!==null&&clearTimeout(h(this,Bc)),b(this,Bc,setTimeout(()=>{b(this,Bc,null),_(this,be,AB).call(this)},200))}copyCanvas(e,i,r=!1){var p;e||(e=224);const{width:s,height:a}=h(this,ln),o=new Rl;let c=h(this,ln),l=s,u=a,d=null;if(i){if(s>i||a>i){const T=Math.min(i/s,i/a);l=Math.floor(s*T),u=Math.floor(a*T)}d=document.createElement("canvas");const g=d.width=Math.ceil(l*o.sx),m=d.height=Math.ceil(u*o.sy);h(this,ya)||(c=_(this,be,mR).call(this,g,m));const y=d.getContext("2d");y.filter=this._uiManager.hcmFilter;let v="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(v="#8f8f9d",w="#42414d");const x=15,A=x*o.sx,S=x*o.sy,C=new OffscreenCanvas(A*2,S*2),k=C.getContext("2d");k.fillStyle=v,k.fillRect(0,0,A*2,S*2),k.fillStyle=w,k.fillRect(0,0,A,S),k.fillRect(A,S,A,S),y.fillStyle=y.createPattern(C,"repeat"),y.fillRect(0,0,g,m),y.drawImage(c,0,0,c.width,c.height,0,0,g,m)}let f=null;if(r){let g,m;if(o.symmetric&&c.width<e&&c.height<e)g=c.width,m=c.height;else if(c=h(this,ln),s>e||a>e){const w=Math.min(e/s,e/a);g=Math.floor(s*w),m=Math.floor(a*w),h(this,ya)||(c=_(this,be,mR).call(this,g,m))}const v=new OffscreenCanvas(g,m).getContext("2d",{willReadFrequently:!0});v.drawImage(c,0,0,c.width,c.height,0,0,g,m),f={width:g,height:m,data:v.getImageData(0,0,g,m).data}}return{canvas:d,width:l,height:u,imageData:f}}static async deserialize(e,i,r){var y;let s=null,a=!1;if(e instanceof UQ){const{data:{rect:v,rotation:w,id:x,structParent:A,popupRef:S},container:C,parent:{page:{pageNumber:k}},canvas:T}=e;let R,F;T?(delete e.canvas,{id:R,bitmap:F}=r.imageManager.getFromCanvas(C.id,T),T.remove()):(a=!0,e._hasNoCanvas=!0);const D=((y=await i._structTree.getAriaAttributes(`${Uj}${x}`))==null?void 0:y.get("aria-label"))||"";s=e={annotationType:Lt.STAMP,bitmapId:R,bitmap:F,pageIndex:k-1,rect:v.slice(0),rotation:w,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:D},isSvg:!1,structParent:A,popupRef:S}}const o=await super.deserialize(e,i,r),{rect:c,bitmap:l,bitmapUrl:u,bitmapId:d,isSvg:f,accessibilityData:p}=e;a?(r.addMissingCanvas(e.id,o),b(o,qm,!0)):d&&r.imageManager.isValidId(d)?(b(o,Mi,d),l&&b(o,ln,l)):b(o,zu,u),b(o,ya,f);const[g,m]=o.pageDimensions;return o.width=(c[2]-c[0])/g,o.height=(c[3]-c[1])/m,p&&(o.altTextData=p),o._initialData=s,b(o,N1,!!s),o}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Lt.STAMP,bitmapId:h(this,Mi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,ya),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=_(this,be,vR).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=_(this,be,CJ).call(this,r);if(c.isSame)return null;c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,i===null)return r;i.stamps||(i.stamps=new Map);const o=h(this,ya)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(h(this,Mi)))i.stamps.set(h(this,Mi),{area:o,serialized:r}),r.bitmap=_(this,be,vR).call(this,!1);else if(h(this,ya)){const c=i.stamps.get(h(this,Mi));o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=_(this,be,vR).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}ln=new WeakMap,Mi=new WeakMap,mp=new WeakMap,zu=new WeakMap,vp=new WeakMap,M1=new WeakMap,ju=new WeakMap,qm=new WeakMap,Bc=new WeakMap,ya=new WeakMap,N1=new WeakMap,be=new WeakSet,KS=function(e,i=!1){if(!e){this.remove();return}b(this,ln,e.bitmap),i||(b(this,Mi,e.id),b(this,ya,e.isSvg)),e.file&&b(this,M1,e.file.name),_(this,be,gR).call(this)},YS=function(){if(b(this,mp,null),this._uiManager.enableWaiting(!1),!!h(this,ju)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ln)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ln)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},pR=function(){if(h(this,Mi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,Mi)).then(r=>_(this,be,KS).call(this,r,!0)).finally(()=>_(this,be,YS).call(this));return}if(h(this,zu)){const r=h(this,zu);b(this,zu,null),this._uiManager.enableWaiting(!0),b(this,mp,this._uiManager.imageManager.getFromUrl(r).then(s=>_(this,be,KS).call(this,s)).finally(()=>_(this,be,YS).call(this)));return}if(h(this,vp)){const r=h(this,vp);b(this,vp,null),this._uiManager.enableWaiting(!0),b(this,mp,this._uiManager.imageManager.getFromFile(r).then(s=>_(this,be,KS).call(this,s)).finally(()=>_(this,be,YS).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=wD.join(",");const i=this._uiManager._signal;b(this,mp,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),_(this,be,KS).call(this,s)}r()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>_(this,be,YS).call(this))),e.click()},gR=function(){var d;const{div:e}=this;let{width:i,height:r}=h(this,ln);const[s,a]=this.pageDimensions,o=.75;if(this.width)i=this.width*s,r=this.height*a;else if(i>o*s||r>o*a){const f=Math.min(o*s/i,o*a/r);i*=f,r*=f}const[c,l]=this.parentDimensions;this.setDims(i*c/s,r*l/a),this._uiManager.enableWaiting(!1);const u=b(this,ju,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=i/s,this.height=r/a,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),_(this,be,AB).call(this),h(this,N1)||(this.parent.addUndoableEditor(this),b(this,N1,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,M1)&&this.div.setAttribute("aria-description",h(this,M1)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},mR=function(e,i){const{width:r,height:s}=h(this,ln);let a=r,o=s,c=h(this,ln);for(;a>2*e||o>2*i;){const l=a,u=o;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(a,o);d.getContext("2d").drawImage(c,0,0,l,u,0,0,a,o),c=d.transferToImageBitmap()}return c},AB=function(){const[e,i]=this.parentDimensions,{width:r,height:s}=this,a=new Rl,o=Math.ceil(r*e*a.sx),c=Math.ceil(s*i*a.sy),l=h(this,ju);if(!l||l.width===o&&l.height===c)return;l.width=o,l.height=c;const u=h(this,ya)?h(this,ln):_(this,be,mR).call(this,o,c),d=l.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,o,c)},vR=function(e){if(e){if(h(this,ya)){const s=this._uiManager.imageManager.getSvgUrl(h(this,Mi));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=h(this,ln),i.getContext("2d").drawImage(h(this,ln),0,0),i.toDataURL()}if(h(this,ya)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*ad.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*ad.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(h(this,ln),0,0,h(this,ln).width,h(this,ln).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(h(this,ln))},CJ=function(e){var o;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=e.pageIndex===i,a=(((o=e.accessibilityData)==null?void 0:o.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},X(SB,"_type","stamp"),X(SB,"_editorType",Lt.STAMP);var Km,I1,zc,yp,Uu,ba,bp,L1,Ym,gl,Hu,Ni,Wu,wp,O1,bt,xp,hn,kJ,$l,EB,_B,yR;const qo=class qo{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:c,viewport:l,l10n:u}){E(this,hn);E(this,Km);E(this,I1,!1);E(this,zc,null);E(this,yp,null);E(this,Uu,null);E(this,ba,new Map);E(this,bp,!1);E(this,L1,!1);E(this,Ym,!1);E(this,gl,null);E(this,Hu,null);E(this,Ni,null);E(this,Wu,null);E(this,wp,null);E(this,O1,-1);E(this,bt);const d=[...h(qo,xp).values()];if(!qo._initialized){qo._initialized=!0;for(const f of d)f.initialize(u,t)}t.registerEditorTypes(d),b(this,bt,t),this.pageIndex=e,this.div=i,b(this,Km,s),b(this,zc,a),this.viewport=l,b(this,Ni,c),this.drawLayer=o,this._structTree=r,h(this,bt).addLayer(this)}get isEmpty(){return h(this,ba).size===0}get isInvisible(){return this.isEmpty&&h(this,bt).getMode()===Lt.NONE}updateToolbar(t){h(this,bt).updateToolbar(t)}updateMode(t=h(this,bt).getMode()){switch(_(this,hn,yR).call(this),t){case Lt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Lt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Lt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of h(qo,xp).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,Ni))==null?void 0:e.div)}setEditingState(t){h(this,bt).setEditingState(t)}addCommands(t){h(this,bt).addCommands(t)}cleanUndoStack(t){h(this,bt).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,zc))==null||e.div.classList.toggle("disabled",!t)}async enable(){var i;b(this,Ym,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(i=h(this,wp))==null||i.abort(),b(this,wp,null);const t=new Set;for(const r of h(this,ba).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(h(this,bt).removeChangedExistingAnnotation(r),t.add(r.annotationElementId));if(!h(this,zc)){b(this,Ym,!1);return}const e=h(this,zc).getEditableAnnotations();for(const r of e){if(r.hide(),h(this,bt).isDeletedAnnotationElement(r.data.id)||t.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}b(this,Ym,!1)}disable(){var r;if(b(this,L1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),h(this,Ni)&&!h(this,wp)){b(this,wp,new AbortController);const s=h(this,bt).combinedSignal(h(this,wp));h(this,Ni).div.addEventListener("pointerdown",a=>{const{clientX:c,clientY:l,timeStamp:u}=a,d=h(this,O1);if(u-d>500){b(this,O1,u);return}b(this,O1,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const p=document.elementsFromPoint(c,l);if(f.toggle("getElements",!1),!this.div.contains(p[0]))return;let g;const m=new RegExp(`^${vZ}[0-9]+$`);for(const v of p)if(m.test(v.id)){g=v.id;break}if(!g)return;const y=h(this,ba).get(g);(y==null?void 0:y.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),y.dblclick())},{signal:s,capture:!0})}const t=new Map,e=new Map;for(const s of h(this,ba).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){t.set(s.annotationElementId,s);continue}else e.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(h(this,zc)){const s=h(this,zc).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(h(this,bt).isDeletedAnnotationElement(o))continue;let c=e.get(o);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=t.get(o),c&&(h(this,bt).addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}_(this,hn,yR).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of h(qo,xp).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,L1,!1)}getEditableAnnotation(t){var e;return((e=h(this,zc))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,bt).getActive()!==t&&h(this,bt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,Ni))!=null&&t.div&&!h(this,Wu)){b(this,Wu,new AbortController);const e=h(this,bt).combinedSignal(h(this,Wu));h(this,Ni).div.addEventListener("pointerdown",_(this,hn,kJ).bind(this),{signal:e}),h(this,Ni).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,Ni))!=null&&t.div&&h(this,Wu)&&(h(this,Wu).abort(),b(this,Wu,null),h(this,Ni).div.classList.remove("highlighting"))}enableClick(){if(h(this,yp))return;b(this,yp,new AbortController);const t=h(this,bt).combinedSignal(h(this,yp));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=h(this,yp))==null||t.abort(),b(this,yp,null)}attach(t){h(this,ba).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,bt).isDeletedAnnotationElement(e)&&h(this,bt).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,ba).delete(t.id),(e=h(this,Km))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,L1)&&t.annotationElementId&&h(this,bt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,bt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,bt).addDeletedAnnotationElement(t.annotationElementId),Qe.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,bt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!h(this,Ym)),h(this,bt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,Uu)&&(t._focusEventsAllowed=!1,b(this,Uu,setTimeout(()=>{b(this,Uu,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,bt)._signal}),e.focus())},0))),t._structTreeParentId=(i=h(this,Km))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return h(this,bt).getId()}combinedSignal(t){return h(this,bt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,hn,$l))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await h(this,bt).updateMode(t.mode);const{offsetX:i,offsetY:r}=_(this,hn,_B).call(this),s=this.getNextId(),a=_(this,hn,EB).call(this,{parent:this,id:s,x:i,y:r,uiManager:h(this,bt),isCentered:!0,...e});a&&this.add(a)}async deserialize(t){var e;return await((e=h(qo,xp).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,bt)))||null}createAndAddNewEditor(t,e,i={}){const r=this.getNextId(),s=_(this,hn,EB).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:h(this,bt),isCentered:e,...i});return s&&this.add(s),s}addNewEditor(t={}){this.createAndAddNewEditor(_(this,hn,_B).call(this),!0,t)}setSelected(t){h(this,bt).setSelected(t)}toggleSelected(t){h(this,bt).toggleSelected(t)}unselect(t){h(this,bt).unselect(t)}pointerup(t){var r;const{isMac:e}=Ui.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!h(this,bp)||(b(this,bp,!1),(r=h(this,hn,$l))!=null&&r.isDrawer&&h(this,hn,$l).supportMultipleDrawings))return;if(!h(this,I1)){b(this,I1,!0);return}const i=h(this,bt).getMode();if(i===Lt.STAMP||i===Lt.SIGNATURE){h(this,bt).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var r;if(h(this,bt).getMode()===Lt.HIGHLIGHT&&this.enableTextSelection(),h(this,bp)){b(this,bp,!1);return}const{isMac:e}=Ui.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(b(this,bp,!0),(r=h(this,hn,$l))!=null&&r.isDrawer){this.startDrawingSession(t);return}const i=h(this,bt).getActive();b(this,I1,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),h(this,gl)){h(this,hn,$l).startDrawing(this,h(this,bt),!1,t);return}h(this,bt).setCurrentDrawingSession(this),b(this,gl,new AbortController);const e=h(this,bt).combinedSignal(h(this,gl));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(b(this,Hu,null),this.commitOrRemove())},{signal:e}),h(this,hn,$l).startDrawing(this,h(this,bt),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&b(this,Hu,e);return}h(this,Hu)&&setTimeout(()=>{var e;(e=h(this,Hu))==null||e.focus(),b(this,Hu,null)},0)}endDrawingSession(t=!1){return h(this,gl)?(h(this,bt).setCurrentDrawingSession(null),h(this,gl).abort(),b(this,gl,null),b(this,Hu,null),h(this,hn,$l).endDrawing(t)):null}findNewParent(t,e,i){const r=h(this,bt).findParent(e,i);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return h(this,gl)?(this.endDrawingSession(),!0):!1}onScaleChanging(){h(this,gl)&&h(this,hn,$l).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=h(this,bt).getActive())==null?void 0:t.parent)===this&&(h(this,bt).commitOrRemove(),h(this,bt).setActiveEditor(null)),h(this,Uu)&&(clearTimeout(h(this,Uu)),b(this,Uu,null));for(const i of h(this,ba).values())(e=h(this,Km))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,h(this,ba).clear(),h(this,bt).removeLayer(this)}render({viewport:t}){this.viewport=t,Jp(this.div,t);for(const e of h(this,bt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,bt).commitOrRemove(),_(this,hn,yR).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Jp(this.div,{rotation:i}),e!==i)for(const r of h(this,ba).values())r.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,bt).viewParameters.realScale}};Km=new WeakMap,I1=new WeakMap,zc=new WeakMap,yp=new WeakMap,Uu=new WeakMap,ba=new WeakMap,bp=new WeakMap,L1=new WeakMap,Ym=new WeakMap,gl=new WeakMap,Hu=new WeakMap,Ni=new WeakMap,Wu=new WeakMap,wp=new WeakMap,O1=new WeakMap,bt=new WeakMap,xp=new WeakMap,hn=new WeakSet,kJ=function(t){h(this,bt).unselectAll();const{target:e}=t;if(e===h(this,Ni).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&h(this,Ni).div.contains(e)){const{isMac:i}=Ui.platform;if(t.button!==0||t.ctrlKey&&i)return;h(this,bt).showAllEditors("highlight",!0,!0),h(this,Ni).div.classList.add("free"),this.toggleDrawing(),AD.startHighlighting(this,h(this,bt).direction==="ltr",{target:h(this,Ni).div,x:t.x,y:t.y}),h(this,Ni).div.addEventListener("pointerup",()=>{h(this,Ni).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,bt)._signal}),t.preventDefault()}},$l=function(){return h(qo,xp).get(h(this,bt).getMode())},EB=function(t){const e=h(this,hn,$l);return e?new e.prototype.constructor(t):null},_B=function(){const{x:t,y:e,width:i,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,t),a=Math.max(0,e),o=Math.min(window.innerWidth,t+i),c=Math.min(window.innerHeight,e+r),l=(s+o)/2-t,u=(a+c)/2-e,[d,f]=this.viewport.rotation%180===0?[l,u]:[u,l];return{offsetX:d,offsetY:f}},yR=function(){for(const t of h(this,ba).values())t.isEmpty()&&t.remove()},X(qo,"_initialized",!1),E(qo,xp,new Map([nB,gB,SB,AD,xB].map(t=>[t._editorType,t])));let _D=qo;var ml,Yr,Zm,Tk,oF,TJ,rh,CB,PJ,kB;const ni=class ni{constructor({pageIndex:t}){E(this,rh);E(this,ml,null);E(this,Yr,new Map);E(this,Zm,new Map);this.pageIndex=t}setParent(t){if(!h(this,ml)){b(this,ml,t);return}if(h(this,ml)!==t){if(h(this,Yr).size>0)for(const e of h(this,Yr).values())e.remove(),t.append(e);b(this,ml,t)}}static get _svgFactory(){return Jt(this,"_svgFactory",new AE)}draw(t,e=!1,i=!1){const r=fe(ni,Tk)._++,s=_(this,rh,CB).call(this),a=ni._svgFactory.createElement("defs");s.append(a);const o=ni._svgFactory.createElement("path");a.append(o);const c=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke"),e&&h(this,Zm).set(r,o);const l=i?_(this,rh,PJ).call(this,a,c):null,u=ni._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${c}`),this.updateProperties(s,t),h(this,Yr).set(r,s),{id:r,clipPathId:`url(#${l})`}}drawOutline(t,e){const i=fe(ni,Tk)._++,r=_(this,rh,CB).call(this),s=ni._svgFactory.createElement("defs");r.append(s);const a=ni._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let c;if(e){const d=ni._svgFactory.createElement("mask");s.append(d),c=`mask_p${this.pageIndex}_${i}`,d.setAttribute("id",c),d.setAttribute("maskUnits","objectBoundingBox");const f=ni._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=ni._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const l=ni._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),c&&l.setAttribute("mask",`url(#${c})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(r,t),h(this,Yr).set(i,r),i}finalizeDraw(t,e){h(this,Zm).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var c;if(!e)return;const{root:i,bbox:r,rootClass:s,path:a}=e,o=typeof t=="number"?h(this,Yr).get(t):t;if(o){if(i&&_(this,rh,kB).call(this,o,i),r&&_(c=ni,oF,TJ).call(c,o,r),s){const{classList:l}=o;for(const[u,d]of Object.entries(s))l.toggle(u,d)}if(a){const u=o.firstChild.firstChild;_(this,rh,kB).call(this,u,a)}}}updateParent(t,e){if(e===this)return;const i=h(this,Yr).get(t);i&&(h(e,ml).append(i),h(this,Yr).delete(t),h(e,Yr).set(t,i))}remove(t){h(this,Zm).delete(t),h(this,ml)!==null&&(h(this,Yr).get(t).remove(),h(this,Yr).delete(t))}destroy(){b(this,ml,null);for(const t of h(this,Yr).values())t.remove();h(this,Yr).clear(),h(this,Zm).clear()}};ml=new WeakMap,Yr=new WeakMap,Zm=new WeakMap,Tk=new WeakMap,oF=new WeakSet,TJ=function(t,[e,i,r,s]){const{style:a}=t;a.top=`${100*i}%`,a.left=`${100*e}%`,a.width=`${100*r}%`,a.height=`${100*s}%`},rh=new WeakSet,CB=function(){const t=ni._svgFactory.create(1,1,!0);return h(this,ml).append(t),t.setAttribute("aria-hidden",!0),t},PJ=function(t,e){const i=ni._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=ni._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),r},kB=function(t,e){for(const[i,r]of Object.entries(e))r===null?t.removeAttribute(i):t.setAttribute(i,r)},E(ni,oF),E(ni,Tk,0);let CD=ni;globalThis._pdfjsTestingUtils={HighlightOutliner:rB};globalThis.pdfjsLib={AbortException:sd,AnnotationEditorLayer:_D,AnnotationEditorParamsType:ne,AnnotationEditorType:Lt,AnnotationEditorUIManager:$p,AnnotationLayer:Zj,AnnotationMode:Yc,AnnotationType:In,build:PQ,ColorPicker:EE,createValidAbsoluteUrl:Bj,DOMSVGFactory:AE,DrawLayer:CD,FeatureTest:Ui,fetchData:yx,getDocument:Xj,getFilenameFromUrl:AZ,getPdfFilenameFromUrl:EZ,getUuid:jj,getXfaPageViewport:_Z,GlobalWorkerOptions:wl,ImageKind:TA,InvalidPDFException:bD,isDataScheme:dT,isPdfFile:uM,isValidExplicitDest:sQ,MathClamp:Dr,noContextMenu:jo,normalizeUnicode:xZ,OPS:yE,OutputScale:Rl,PasswordResponses:bZ,PDFDataRangeTransport:qj,PDFDateString:dM,PDFWorker:Z1,PermissionFlag:yZ,PixelsPerInch:ad,RenderingCancelledException:hM,ResponseException:bE,setLayerDimensions:Jp,shadow:Jt,SignatureExtractor:Zc,stopEvent:jn,SupportedImageMimeTypes:wD,TextLayer:xE,TouchManager:wE,updateUrlHash:zj,Util:Et,VerbosityLevel:cT,version:TQ,XfaLayer:Kj};const Ymt=Object.freeze(Object.defineProperty({__proto__:null,AbortException:sd,AnnotationEditorLayer:_D,AnnotationEditorParamsType:ne,AnnotationEditorType:Lt,AnnotationEditorUIManager:$p,AnnotationLayer:Zj,AnnotationMode:Yc,AnnotationType:In,ColorPicker:EE,DOMSVGFactory:AE,DrawLayer:CD,FeatureTest:Ui,GlobalWorkerOptions:wl,ImageKind:TA,InvalidPDFException:bD,MathClamp:Dr,OPS:yE,OutputScale:Rl,PDFDataRangeTransport:qj,PDFDateString:dM,PDFWorker:Z1,PasswordResponses:bZ,PermissionFlag:yZ,PixelsPerInch:ad,RenderingCancelledException:hM,ResponseException:bE,SignatureExtractor:Zc,SupportedImageMimeTypes:wD,TextLayer:xE,TouchManager:wE,Util:Et,VerbosityLevel:cT,XfaLayer:Kj,build:PQ,createValidAbsoluteUrl:Bj,fetchData:yx,getDocument:Xj,getFilenameFromUrl:AZ,getPdfFilenameFromUrl:EZ,getUuid:jj,getXfaPageViewport:_Z,isDataScheme:dT,isPdfFile:uM,isValidExplicitDest:sQ,noContextMenu:jo,normalizeUnicode:xZ,setLayerDimensions:Jp,shadow:Jt,stopEvent:jn,updateUrlHash:zj,version:TQ},Symbol.toStringTag,{value:"Module"}));function RJ(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=RJ(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function gM(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=RJ(n))&&(i&&(i+=" "),i+=t);return i}var TH=Object.prototype.hasOwnProperty;function PH(n,t,e){for(e of n.keys())if(hb(e,t))return e}function hb(n,t){var e,i,r;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((i=n.length)===t.length)for(;i--&&hb(n[i],t[i]););return i===-1}if(e===Set){if(n.size!==t.size)return!1;for(i of n)if(r=i,r&&typeof r=="object"&&(r=PH(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(n.size!==t.size)return!1;for(i of n)if(r=i[0],r&&typeof r=="object"&&(r=PH(t,r),!r)||!hb(i[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)n=new Uint8Array(n),t=new Uint8Array(t);else if(e===DataView){if((i=n.byteLength)===t.byteLength)for(;i--&&n.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===t.byteLength)for(;i--&&n[i]===t[i];);return i===-1}if(!e||typeof n=="object"){i=0;for(e in n)if(TH.call(n,e)&&++i&&!TH.call(t,e)||!(e in t)||!hb(n[e],t[e]))return!1;return Object.keys(t).length===i}}return n!==n&&t!==t}function mT(n){let t=!1;return{promise:new Promise((i,r)=>{n.then(s=>!t&&i(s)).catch(s=>!t&&r(s))}),cancel(){t=!0}}}const Zmt=["onCopy","onCut","onPaste"],Qmt=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Jmt=["onFocus","onBlur"],$mt=["onInput","onInvalid","onReset","onSubmit"],tvt=["onLoad","onError"],evt=["onKeyDown","onKeyPress","onKeyUp"],nvt=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],ivt=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],rvt=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],svt=["onSelect"],avt=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],ovt=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],lvt=["onScroll"],cvt=["onWheel"],hvt=["onAnimationStart","onAnimationEnd","onAnimationIteration"],uvt=["onTransitionEnd"],dvt=["onToggle"],fvt=["onChange"],pvt=[...Zmt,...Qmt,...Jmt,...$mt,...tvt,...evt,...nvt,...ivt,...rvt,...svt,...avt,...ovt,...lvt,...cvt,...hvt,...uvt,...fvt,...dvt];function DJ(n,t){const e={};for(const i of pvt){const r=n[i];r&&(t?e[i]=s=>r(s,t(i)):e[i]=r)}return e}var gvt="Invariant failed";function qe(n,t){if(!n)throw new Error(gvt)}var mvt=function(){},vvt=mvt;const Nr=hd(vvt),FJ=I.createContext(null),yvt="noopener noreferrer nofollow";class bvt{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return qe(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){qe(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{qe(this.pdfDocument),qe(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{qe(Array.isArray(e));const i=e[0];new Promise(r=>{qe(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(s=>{r(s)}).catch(()=>{qe(!1)}):typeof i=="number"?r(i):qe(!1)}).then(r=>{const s=r+1;qe(this.pdfViewer),qe(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:s})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;qe(this.pdfViewer),qe(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||yvt,t.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function ub({children:n,type:t}){return P.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:n})}const RH={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function wvt(n,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Q1(){return I.useReducer(wvt,{value:void 0,error:void 0})}const mM=typeof window<"u",MJ=mM&&window.location.protocol==="file:";function xvt(n){return typeof n<"u"}function dg(n){return xvt(n)&&n!==null}function Svt(n){return typeof n=="string"}function Avt(n){return n instanceof ArrayBuffer}function Evt(n){return qe(mM),n instanceof Blob}function TB(n){return Svt(n)&&/^data:/.test(n)}function DH(n){qe(TB(n));const[t="",e=""]=n.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function _vt(){return mM&&window.devicePixelRatio||1}const NJ="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function FH(){Nr(!MJ,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${NJ}`)}function Cvt(){Nr(!MJ,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${NJ}`)}function Ev(n){n!=null&&n.cancel&&n.cancel()}function PB(n,t){return Object.defineProperty(n,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function kvt(n){return n.name==="RenderingCancelledException"}function Tvt(n){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return e(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:Pvt}=Ymt,Rvt=(n,t)=>{switch(t){case RH.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");n(e);break}case RH.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");n(e);break}}};function MH(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const Dvt=I.forwardRef(function({children:t,className:e,error:i="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:s,file:a,inputRef:o,imageResourcesPath:c,loading:l="Loading PDF…",noData:u="No PDF file specified.",onItemClick:d,onLoadError:f,onLoadProgress:p,onLoadSuccess:g,onPassword:m=Rvt,onSourceError:y,onSourceSuccess:v,options:w,renderMode:x,rotate:A,scale:S,...C},k){const[T,R]=Q1(),{value:F,error:D}=T,[U,j]=Q1(),{value:V,error:Y}=U,z=I.useRef(new bvt),B=I.useRef([]),G=I.useRef(void 0),H=I.useRef(void 0);a&&a!==G.current&&MH(a)&&(Nr(!hb(a,G.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),G.current=a),w&&w!==H.current&&(Nr(!hb(w,H.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),H.current=w);const M=I.useRef({scrollPageIntoView:vt=>{const{dest:lt,pageNumber:Xt,pageIndex:Qt=Xt-1}=vt;if(d){d({dest:lt,pageIndex:Qt,pageNumber:Xt});return}const Rn=B.current[Qt];if(Rn){Rn.scrollIntoView();return}Nr(!1,`An internal link leading to page ${Xt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});I.useImperativeHandle(k,()=>({linkService:z,pages:B,viewer:M}),[]);function N(){v&&v()}function W(){D&&(Nr(!1,D.toString()),y&&y(D))}function q(){R({type:"RESET"})}I.useEffect(q,[a,R]);const Q=I.useCallback(async()=>{if(!a)return null;if(typeof a=="string")return TB(a)?{data:DH(a)}:(FH(),{url:a});if(a instanceof Pvt)return{range:a};if(Avt(a))return{data:a};if(mM&&Evt(a))return{data:await Tvt(a)};if(qe(typeof a=="object"),qe(MH(a)),"url"in a&&typeof a.url=="string"){if(TB(a.url)){const{url:vt,...lt}=a;return{data:DH(vt),...lt}}FH()}return a},[a]);I.useEffect(()=>{const vt=mT(Q());return vt.promise.then(lt=>{R({type:"RESOLVE",value:lt})}).catch(lt=>{R({type:"REJECT",error:lt})}),()=>{Ev(vt)}},[Q,R]),I.useEffect(()=>{if(!(typeof F>"u")){if(F===!1){W();return}N()}},[F]);function et(){V&&(g&&g(V),B.current=new Array(V.numPages),z.current.setDocument(V))}function J(){Y&&(Nr(!1,Y.toString()),f&&f(Y))}I.useEffect(function(){j({type:"RESET"})},[j,F]),I.useEffect(function(){if(!F)return;const lt=w?{...F,...w}:F,Xt=Xj(lt);p&&(Xt.onProgress=p),m&&(Xt.onPassword=m);const Qt=Xt,Rn=Qt.promise.then(xi=>{j({type:"RESOLVE",value:xi})}).catch(xi=>{Qt.destroyed||j({type:"REJECT",error:xi})});return()=>{Rn.finally(()=>Qt.destroy())}},[w,j,F]),I.useEffect(()=>{if(!(typeof V>"u")){if(V===!1){J();return}et()}},[V]),I.useEffect(function(){z.current.setViewer(M.current),z.current.setExternalLinkRel(r),z.current.setExternalLinkTarget(s)},[r,s]);const Z=I.useCallback((vt,lt)=>{B.current[vt]=lt},[]),tt=I.useCallback(vt=>{delete B.current[vt]},[]),wt=I.useMemo(()=>({imageResourcesPath:c,linkService:z.current,onItemClick:d,pdf:V,registerPage:Z,renderMode:x,rotate:A,scale:S,unregisterPage:tt}),[c,d,V,Z,x,A,S,tt]),st=I.useMemo(()=>DJ(C,()=>V),[C,V]);function At(){function vt(Xt){return!!(Xt!=null&&Xt.pdf)}if(!vt(wt))throw new Error("pdf is undefined");const lt=typeof t=="function"?t(wt):t;return P.jsx(FJ.Provider,{value:wt,children:lt})}function _t(){return a?V==null?P.jsx(ub,{type:"loading",children:typeof l=="function"?l():l}):V===!1?P.jsx(ub,{type:"error",children:typeof i=="function"?i():i}):At():P.jsx(ub,{type:"no-data",children:typeof u=="function"?u():u})}return P.jsx("div",{className:gM("react-pdf__Document",e),ref:o,...st,children:_t()})});function IJ(){return I.useContext(FJ)}function LJ(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(s){for(var a=0,o=e;a<o.length;a++){var c=o[a];typeof c=="function"?c(s):c&&(c.current=s)}}}const OJ=I.createContext(null);function vM(){return I.useContext(OJ)}function Fvt(){const n=IJ(),t=vM();qe(t);const e={...n,...t},{imageResourcesPath:i,linkService:r,onGetAnnotationsError:s,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:c,page:l,pdf:u,renderForms:d,rotate:f,scale:p=1}=e;qe(u),qe(l),qe(r);const[g,m]=Q1(),{value:y,error:v}=g,w=I.useRef(null);Nr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){y&&a&&a(y)}function A(){v&&(Nr(!1,v.toString()),s&&s(v))}I.useEffect(function(){m({type:"RESET"})},[m,l]),I.useEffect(function(){if(!l)return;const R=mT(l.getAnnotations()),F=R;return R.promise.then(D=>{m({type:"RESOLVE",value:D})}).catch(D=>{m({type:"REJECT",error:D})}),()=>{Ev(F)}},[m,l]),I.useEffect(()=>{if(y!==void 0){if(y===!1){A();return}x()}},[y]);function S(){c&&c()}function C(T){Nr(!1,`${T}`),o&&o(T)}const k=I.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);return I.useEffect(function(){if(!u||!l||!r||!y)return;const{current:R}=w;if(!R)return;const F=k.clone({dontFlip:!0}),D={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:R,l10n:null,page:l,structTreeLayer:null,viewport:F},U={annotations:y,annotationStorage:u.annotationStorage,div:R,imageResourcesPath:i,linkService:r,page:l,renderForms:d,viewport:F};R.innerHTML="";try{new Zj(D).render(U),S()}catch(j){C(j)}return()=>{}},[y,i,r,l,u,d,k]),P.jsx("div",{className:gM("react-pdf__Page__annotations","annotationLayer"),ref:w})}const BJ={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Mvt=/^H(\d+)$/;function Nvt(n){return n in BJ}function yM(n){return"children"in n}function zJ(n){return yM(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function Ivt(n){const t={};if(yM(n)){const{role:e}=n,i=e.match(Mvt);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(Nvt(e)){const r=BJ[e];r&&(t.role=r)}}return t}function jJ(n){const t={};if(yM(n)){if(n.alt!==void 0&&(t["aria-label"]=n.alt),n.lang!==void 0&&(t.lang=n.lang),zJ(n)){const[e]=n.children;if(e){const i=jJ(e);return{...t,...i}}}}else"id"in n&&(t["aria-owns"]=n.id);return t}function Lvt(n){return n?{...Ivt(n),...jJ(n)}:null}function UJ({className:n,node:t}){const e=I.useMemo(()=>Lvt(t),[t]),i=I.useMemo(()=>!yM(t)||zJ(t)?null:t.children.map((r,s)=>P.jsx(UJ,{node:r},s)),[t]);return P.jsx("span",{className:n,...e,children:i})}function Ovt(){const n=vM();qe(n);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=n,[i,r]=Q1(),{value:s,error:a}=i,{customTextRenderer:o,page:c}=n;function l(){s&&e&&e(s)}function u(){a&&(Nr(!1,a.toString()),t&&t(a))}return I.useEffect(function(){r({type:"RESET"})},[r,c]),I.useEffect(function(){if(o||!c)return;const f=mT(c.getStructTree()),p=f;return f.promise.then(g=>{r({type:"RESOLVE",value:g})}).catch(g=>{r({type:"REJECT",error:g})}),()=>Ev(p)},[o,c,r]),I.useEffect(()=>{if(s!==void 0){if(s===!1){u();return}l()}},[s]),s?P.jsx(UJ,{className:"react-pdf__Page__structTree structTree",node:s}):null}const NH=Yc;function Bvt(n){const t=vM();qe(t);const e={...t,...n},{_className:i,canvasBackground:r,devicePixelRatio:s=_vt(),onRenderError:a,onRenderSuccess:o,page:c,renderForms:l,renderTextLayer:u,rotate:d,scale:f}=e,{canvasRef:p}=n;qe(c);const g=I.useRef(null);function m(){c&&o&&o(PB(c,f))}function y(A){kvt(A)||(Nr(!1,A.toString()),a&&a(A))}const v=I.useMemo(()=>c.getViewport({scale:f*s,rotation:d}),[s,c,d,f]),w=I.useMemo(()=>c.getViewport({scale:f,rotation:d}),[c,d,f]);I.useEffect(function(){if(!c)return;c.cleanup();const{current:S}=g;if(!S)return;S.width=v.width,S.height=v.height,S.style.width=`${Math.floor(w.width)}px`,S.style.height=`${Math.floor(w.height)}px`,S.style.visibility="hidden";const C={annotationMode:l?NH.ENABLE_FORMS:NH.ENABLE,canvasContext:S.getContext("2d",{alpha:!1}),viewport:v};r&&(C.background=r);const k=c.render(C),T=k;return k.promise.then(()=>{S.style.visibility="",m()}).catch(y),()=>Ev(T)},[r,c,l,v,w]);const x=I.useCallback(()=>{const{current:A}=g;A&&(A.width=0,A.height=0)},[]);return I.useEffect(()=>x,[x]),P.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:LJ(p,g),style:{display:"block",userSelect:"none"},children:u?P.jsx(Ovt,{}):null})}function zvt(n){return"str"in n}function jvt(){const n=vM();qe(n);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:a,pageIndex:o,pageNumber:c,rotate:l,scale:u}=n;qe(a);const[d,f]=Q1(),{value:p,error:g}=d,m=I.useRef(null);Nr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function y(){p&&i&&i(p)}function v(){g&&(Nr(!1,g.toString()),e&&e(g))}I.useEffect(function(){f({type:"RESET"})},[a,f]),I.useEffect(function(){if(!a)return;const T=mT(a.getTextContent()),R=T;return T.promise.then(F=>{f({type:"RESOLVE",value:F})}).catch(F=>{f({type:"REJECT",error:F})}),()=>Ev(R)},[a,f]),I.useEffect(()=>{if(p!==void 0){if(p===!1){v();return}y()}},[p]);const w=I.useCallback(()=>{s&&s()},[s]),x=I.useCallback(k=>{Nr(!1,k.toString()),r&&r(k)},[r]);function A(){const k=m.current;k&&k.classList.add("selecting")}function S(){const k=m.current;k&&k.classList.remove("selecting")}const C=I.useMemo(()=>a.getViewport({scale:u,rotation:l}),[a,l,u]);return I.useLayoutEffect(function(){if(!a||!p)return;const{current:T}=m;if(!T)return;T.innerHTML="";const R=a.streamTextContent({includeMarkedContent:!0}),F={container:T,textContentSource:R,viewport:C},D=new xE(F),U=D;return D.render().then(()=>{const j=document.createElement("div");j.className="endOfContent",T.append(j);const V=T.querySelectorAll('[role="presentation"]');if(t){let Y=0;p.items.forEach((z,B)=>{if(!zvt(z))return;const G=V[Y];if(!G)return;const H=t({pageIndex:o,pageNumber:c,itemIndex:B,...z});G.innerHTML=H,Y+=z.str&&z.hasEOL?2:1})}w()}).catch(x),()=>Ev(U)},[t,x,w,a,o,c,p,C]),P.jsx("div",{className:gM("react-pdf__Page__textContent","textLayer"),onMouseUp:S,onMouseDown:A,ref:m})}const IH=1;function Uvt(n){const e={...IJ(),...n},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:a,children:o,className:c,customRenderer:l,customTextRenderer:u,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:g,loading:m="Loading page…",noData:y="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:A,onGetTextError:S,onGetTextSuccess:C,onLoadError:k,onLoadSuccess:T,onRenderAnnotationLayerError:R,onRenderAnnotationLayerSuccess:F,onRenderError:D,onRenderSuccess:U,onRenderTextLayerError:j,onRenderTextLayerSuccess:V,pageIndex:Y,pageNumber:z,pdf:B,registerPage:G,renderAnnotationLayer:H=!0,renderForms:M=!1,renderMode:N="canvas",renderTextLayer:W=!0,rotate:q,scale:Q=IH,unregisterPage:et,width:J,...Z}=e,[tt,wt]=Q1(),{value:st,error:At}=tt,_t=I.useRef(null);qe(B);const vt=dg(z)?z-1:Y??null,lt=z??(dg(Y)?Y+1:null),Xt=q??(st?st.rotate:null),Qt=I.useMemo(()=>{if(!st)return null;let Hi=1;const Br=Q??IH;if(J||p){const Wi=st.getViewport({scale:1,rotation:Xt});J?Hi=J/Wi.width:p&&(Hi=p/Wi.height)}return Br*Hi},[p,st,Xt,Q,J]);I.useEffect(function(){return()=>{dg(vt)&&r&&et&&et(vt)}},[r,B,vt,et]);function Rn(){if(T){if(!st||!Qt)return;T(PB(st,Qt))}if(r&&G){if(!dg(vt)||!_t.current)return;G(vt,_t.current)}}function xi(){At&&(Nr(!1,At.toString()),k&&k(At))}I.useEffect(function(){wt({type:"RESET"})},[wt,B,vt]),I.useEffect(function(){if(!B||!lt)return;const Br=mT(B.getPage(lt)),Wi=Br;return Br.promise.then(hh=>{wt({type:"RESOLVE",value:hh})}).catch(hh=>{wt({type:"REJECT",error:hh})}),()=>Ev(Wi)},[wt,B,lt]),I.useEffect(()=>{if(st!==void 0){if(st===!1){xi();return}Rn()}},[st,Qt]);const Or=I.useMemo(()=>dg(vt)&&lt&&dg(Xt)&&dg(Qt)?{_className:i,canvasBackground:s,customTextRenderer:u,devicePixelRatio:d,onGetAnnotationsError:v,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:A,onGetTextError:S,onGetTextSuccess:C,onRenderAnnotationLayerError:R,onRenderAnnotationLayerSuccess:F,onRenderError:D,onRenderSuccess:U,onRenderTextLayerError:j,onRenderTextLayerSuccess:V,page:st,pageIndex:vt,pageNumber:lt,renderForms:M,renderTextLayer:W,rotate:Xt,scale:Qt}:null,[i,s,u,d,v,w,x,A,S,C,R,F,D,U,j,V,st,vt,lt,M,W,Xt,Qt]),Dn=I.useMemo(()=>DJ(Z,()=>st&&(Qt?PB(st,Qt):void 0)),[Z,st,Qt]),Ho=`${vt}@${Qt}/${Xt}`;function vd(){switch(N){case"custom":return qe(l),P.jsx(l,{},`${Ho}_custom`);case"none":return null;case"canvas":default:return P.jsx(Bvt,{canvasRef:a},`${Ho}_canvas`)}}function Xv(){return W?P.jsx(jvt,{},`${Ho}_text`):null}function hg(){return H?P.jsx(Fvt,{},`${Ho}_annotations`):null}function wx(){function Hi(Wi){return!!(Wi!=null&&Wi.page)}if(!Hi(Or))throw new Error("page is undefined");const Br=typeof o=="function"?o(Or):o;return P.jsxs(OJ.Provider,{value:Or,children:[vd(),Xv(),hg(),Br]})}function qv(){return lt?B===null||st===void 0||st===null?P.jsx(ub,{type:"loading",children:typeof m=="function"?m():m}):B===!1||st===!1?P.jsx(ub,{type:"error",children:typeof f=="function"?f():f}):wx():P.jsx(ub,{type:"no-data",children:typeof y=="function"?y():y})}return P.jsx("div",{className:gM(i,c),"data-page-number":lt,ref:LJ(g,_t),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Qt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Dn,children:qv()})}Cvt();wl.workerSrc="pdf.worker.mjs";var bM={exports:{}},HJ={};function WJ(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n))for(t=0;t<n.length;t++)n[t]&&(e=WJ(n[t]))&&(i&&(i+=" "),i+=e);else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function LH(){for(var n,t,e=0,i="";e<arguments.length;)(n=arguments[e++])&&(t=WJ(n))&&(i&&(i+=" "),i+=t);return i}const Hvt=Object.freeze(Object.defineProperty({__proto__:null,clsx:LH,default:LH},Symbol.toStringTag,{value:"Module"})),Wvt=d$(Hvt);var Pn={},lh={};Object.defineProperty(lh,"__esModule",{value:!0});lh.dontSetMe=Kvt;lh.findInArray=Vvt;lh.int=qvt;lh.isFunction=Gvt;lh.isNum=Xvt;function Vvt(n,t){for(let e=0,i=n.length;e<i;e++)if(t.apply(t,[n[e],e,n]))return n[e]}function Gvt(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function Xvt(n){return typeof n=="number"&&!isNaN(n)}function qvt(n){return parseInt(n,10)}function Kvt(n,t,e){if(n[t])return new Error("Invalid prop ".concat(t," passed to ").concat(e," - do not set this, set it on the child."))}var Gv={};Object.defineProperty(Gv,"__esModule",{value:!0});Gv.browserPrefixToKey=GJ;Gv.browserPrefixToStyle=Yvt;Gv.default=void 0;Gv.getPrefix=VJ;const hI=["Moz","Webkit","O","ms"];function VJ(){var n;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const e=(n=window.document)===null||n===void 0||(n=n.documentElement)===null||n===void 0?void 0:n.style;if(!e||t in e)return"";for(let i=0;i<hI.length;i++)if(GJ(t,hI[i])in e)return hI[i];return""}function GJ(n,t){return t?"".concat(t).concat(Zvt(n)):n}function Yvt(n,t){return t?"-".concat(t.toLowerCase(),"-").concat(n):n}function Zvt(n){let t="",e=!0;for(let i=0;i<n.length;i++)e?(t+=n[i].toUpperCase(),e=!1):n[i]==="-"?e=!0:t+=n[i];return t}Gv.default=VJ();Object.defineProperty(Pn,"__esModule",{value:!0});Pn.addClassName=KJ;Pn.addEvent=$vt;Pn.addUserSelectStyles=hyt;Pn.createCSSTransform=ayt;Pn.createSVGTransform=oyt;Pn.getTouch=lyt;Pn.getTouchIdentifier=cyt;Pn.getTranslation=$j;Pn.innerHeight=iyt;Pn.innerWidth=ryt;Pn.matchesSelector=qJ;Pn.matchesSelectorAndParentsTo=Jvt;Pn.offsetXYFromParent=syt;Pn.outerHeight=eyt;Pn.outerWidth=nyt;Pn.removeClassName=YJ;Pn.removeEvent=tyt;Pn.removeUserSelectStyles=uyt;var Ia=lh,OH=Qvt(Gv);function XJ(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,e=new WeakMap;return(XJ=function(i){return i?e:t})(n)}function Qvt(n,t){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var e=XJ(t);if(e&&e.has(n))return e.get(n);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var a=r?Object.getOwnPropertyDescriptor(n,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=n[s]}return i.default=n,e&&e.set(n,i),i}let E2="";function qJ(n,t){return E2||(E2=(0,Ia.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return(0,Ia.isFunction)(n[e])})),(0,Ia.isFunction)(n[E2])?n[E2](t):!1}function Jvt(n,t,e){let i=n;do{if(qJ(i,t))return!0;if(i===e)return!1;i=i.parentNode}while(i);return!1}function $vt(n,t,e,i){if(!n)return;const r={capture:!0,...i};n.addEventListener?n.addEventListener(t,e,r):n.attachEvent?n.attachEvent("on"+t,e):n["on"+t]=e}function tyt(n,t,e,i){if(!n)return;const r={capture:!0,...i};n.removeEventListener?n.removeEventListener(t,e,r):n.detachEvent?n.detachEvent("on"+t,e):n["on"+t]=null}function eyt(n){let t=n.clientHeight;const e=n.ownerDocument.defaultView.getComputedStyle(n);return t+=(0,Ia.int)(e.borderTopWidth),t+=(0,Ia.int)(e.borderBottomWidth),t}function nyt(n){let t=n.clientWidth;const e=n.ownerDocument.defaultView.getComputedStyle(n);return t+=(0,Ia.int)(e.borderLeftWidth),t+=(0,Ia.int)(e.borderRightWidth),t}function iyt(n){let t=n.clientHeight;const e=n.ownerDocument.defaultView.getComputedStyle(n);return t-=(0,Ia.int)(e.paddingTop),t-=(0,Ia.int)(e.paddingBottom),t}function ryt(n){let t=n.clientWidth;const e=n.ownerDocument.defaultView.getComputedStyle(n);return t-=(0,Ia.int)(e.paddingLeft),t-=(0,Ia.int)(e.paddingRight),t}function syt(n,t,e){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),s=(n.clientX+t.scrollLeft-r.left)/e,a=(n.clientY+t.scrollTop-r.top)/e;return{x:s,y:a}}function ayt(n,t){const e=$j(n,t,"px");return{[(0,OH.browserPrefixToKey)("transform",OH.default)]:e}}function oyt(n,t){return $j(n,t,"")}function $j(n,t,e){let{x:i,y:r}=n,s="translate(".concat(i).concat(e,",").concat(r).concat(e,")");if(t){const a="".concat(typeof t.x=="string"?t.x:t.x+e),o="".concat(typeof t.y=="string"?t.y:t.y+e);s="translate(".concat(a,", ").concat(o,")")+s}return s}function lyt(n,t){return n.targetTouches&&(0,Ia.findInArray)(n.targetTouches,e=>t===e.identifier)||n.changedTouches&&(0,Ia.findInArray)(n.changedTouches,e=>t===e.identifier)}function cyt(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function hyt(n){if(!n)return;let t=n.getElementById("react-draggable-style-el");t||(t=n.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(t)),n.body&&KJ(n.body,"react-draggable-transparent-selection")}function uyt(n){if(n)try{if(n.body&&YJ(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const t=(n.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function KJ(n,t){n.classList?n.classList.add(t):n.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(n.className+=" ".concat(t))}function YJ(n,t){n.classList?n.classList.remove(t):n.className=n.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var ch={};Object.defineProperty(ch,"__esModule",{value:!0});ch.canDragX=pyt;ch.canDragY=gyt;ch.createCoreData=vyt;ch.createDraggableData=yyt;ch.getBoundPosition=dyt;ch.getControlPosition=myt;ch.snapToGrid=fyt;var Us=lh,Wy=Pn;function dyt(n,t,e){if(!n.props.bounds)return[t,e];let{bounds:i}=n.props;i=typeof i=="string"?i:byt(i);const r=t5(n);if(typeof i=="string"){const{ownerDocument:s}=r,a=s.defaultView;let o;if(i==="parent"?o=r.parentNode:o=s.querySelector(i),!(o instanceof a.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const c=o,l=a.getComputedStyle(r),u=a.getComputedStyle(c);i={left:-r.offsetLeft+(0,Us.int)(u.paddingLeft)+(0,Us.int)(l.marginLeft),top:-r.offsetTop+(0,Us.int)(u.paddingTop)+(0,Us.int)(l.marginTop),right:(0,Wy.innerWidth)(c)-(0,Wy.outerWidth)(r)-r.offsetLeft+(0,Us.int)(u.paddingRight)-(0,Us.int)(l.marginRight),bottom:(0,Wy.innerHeight)(c)-(0,Wy.outerHeight)(r)-r.offsetTop+(0,Us.int)(u.paddingBottom)-(0,Us.int)(l.marginBottom)}}return(0,Us.isNum)(i.right)&&(t=Math.min(t,i.right)),(0,Us.isNum)(i.bottom)&&(e=Math.min(e,i.bottom)),(0,Us.isNum)(i.left)&&(t=Math.max(t,i.left)),(0,Us.isNum)(i.top)&&(e=Math.max(e,i.top)),[t,e]}function fyt(n,t,e){const i=Math.round(t/n[0])*n[0],r=Math.round(e/n[1])*n[1];return[i,r]}function pyt(n){return n.props.axis==="both"||n.props.axis==="x"}function gyt(n){return n.props.axis==="both"||n.props.axis==="y"}function myt(n,t,e){const i=typeof t=="number"?(0,Wy.getTouch)(n,t):null;if(typeof t=="number"&&!i)return null;const r=t5(e),s=e.props.offsetParent||r.offsetParent||r.ownerDocument.body;return(0,Wy.offsetXYFromParent)(i||n,s,e.props.scale)}function vyt(n,t,e){const i=!(0,Us.isNum)(n.lastX),r=t5(n);return i?{node:r,deltaX:0,deltaY:0,lastX:t,lastY:e,x:t,y:e}:{node:r,deltaX:t-n.lastX,deltaY:e-n.lastY,lastX:n.lastX,lastY:n.lastY,x:t,y:e}}function yyt(n,t){const e=n.props.scale;return{node:t.node,x:n.state.x+t.deltaX/e,y:n.state.y+t.deltaY/e,deltaX:t.deltaX/e,deltaY:t.deltaY/e,lastX:n.state.x,lastY:n.state.y}}function byt(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function t5(n){const t=n.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var wM={},xM={};Object.defineProperty(xM,"__esModule",{value:!0});xM.default=wyt;function wyt(){}Object.defineProperty(wM,"__esModule",{value:!0});wM.default=void 0;var uI=Syt(I),fs=e5(Lj),xyt=e5(Qc),xr=Pn,Cd=ch,dI=lh,Zx=e5(xM);function e5(n){return n&&n.__esModule?n:{default:n}}function ZJ(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,e=new WeakMap;return(ZJ=function(i){return i?e:t})(n)}function Syt(n,t){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var e=ZJ(t);if(e&&e.has(n))return e.get(n);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var a=r?Object.getOwnPropertyDescriptor(n,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=n[s]}return i.default=n,e&&e.set(n,i),i}function Hr(n,t,e){return t=Ayt(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Ayt(n){var t=Eyt(n,"string");return typeof t=="symbol"?t:String(t)}function Eyt(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}const Go={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let kd=Go.mouse,SM=class extends uI.Component{constructor(){super(...arguments),Hr(this,"dragging",!1),Hr(this,"lastX",NaN),Hr(this,"lastY",NaN),Hr(this,"touchIdentifier",null),Hr(this,"mounted",!1),Hr(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const e=this.findDOMNode();if(!e||!e.ownerDocument||!e.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:i}=e;if(this.props.disabled||!(t.target instanceof i.defaultView.Node)||this.props.handle&&!(0,xr.matchesSelectorAndParentsTo)(t.target,this.props.handle,e)||this.props.cancel&&(0,xr.matchesSelectorAndParentsTo)(t.target,this.props.cancel,e))return;t.type==="touchstart"&&t.preventDefault();const r=(0,xr.getTouchIdentifier)(t);this.touchIdentifier=r;const s=(0,Cd.getControlPosition)(t,r,this);if(s==null)return;const{x:a,y:o}=s,c=(0,Cd.createCoreData)(this,a,o);(0,Zx.default)("DraggableCore: handleDragStart: %j",c),(0,Zx.default)("calling",this.props.onStart),!(this.props.onStart(t,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,xr.addUserSelectStyles)(i),this.dragging=!0,this.lastX=a,this.lastY=o,(0,xr.addEvent)(i,kd.move,this.handleDrag),(0,xr.addEvent)(i,kd.stop,this.handleDragStop))}),Hr(this,"handleDrag",t=>{const e=(0,Cd.getControlPosition)(t,this.touchIdentifier,this);if(e==null)return;let{x:i,y:r}=e;if(Array.isArray(this.props.grid)){let o=i-this.lastX,c=r-this.lastY;if([o,c]=(0,Cd.snapToGrid)(this.props.grid,o,c),!o&&!c)return;i=this.lastX+o,r=this.lastY+c}const s=(0,Cd.createCoreData)(this,i,r);if((0,Zx.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(t,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=i,this.lastY=r}),Hr(this,"handleDragStop",t=>{if(!this.dragging)return;const e=(0,Cd.getControlPosition)(t,this.touchIdentifier,this);if(e==null)return;let{x:i,y:r}=e;if(Array.isArray(this.props.grid)){let c=i-this.lastX||0,l=r-this.lastY||0;[c,l]=(0,Cd.snapToGrid)(this.props.grid,c,l),i=this.lastX+c,r=this.lastY+l}const s=(0,Cd.createCoreData)(this,i,r);if(this.props.onStop(t,s)===!1||this.mounted===!1)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,xr.removeUserSelectStyles)(o.ownerDocument),(0,Zx.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,Zx.default)("DraggableCore: Removing handlers"),(0,xr.removeEvent)(o.ownerDocument,kd.move,this.handleDrag),(0,xr.removeEvent)(o.ownerDocument,kd.stop,this.handleDragStop))}),Hr(this,"onMouseDown",t=>(kd=Go.mouse,this.handleDragStart(t))),Hr(this,"onMouseUp",t=>(kd=Go.mouse,this.handleDragStop(t))),Hr(this,"onTouchStart",t=>(kd=Go.touch,this.handleDragStart(t))),Hr(this,"onTouchEnd",t=>(kd=Go.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,xr.addEvent)(t,Go.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:e}=t;(0,xr.removeEvent)(e,Go.mouse.move,this.handleDrag),(0,xr.removeEvent)(e,Go.touch.move,this.handleDrag),(0,xr.removeEvent)(e,Go.mouse.stop,this.handleDragStop),(0,xr.removeEvent)(e,Go.touch.stop,this.handleDragStop),(0,xr.removeEvent)(t,Go.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,xr.removeUserSelectStyles)(e)}}findDOMNode(){var t,e;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(e=this.props)===null||e===void 0||(e=e.nodeRef)===null||e===void 0?void 0:e.current:xyt.default.findDOMNode(this)}render(){return uI.cloneElement(uI.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};wM.default=SM;Hr(SM,"displayName","DraggableCore");Hr(SM,"propTypes",{allowAnyClick:fs.default.bool,children:fs.default.node.isRequired,disabled:fs.default.bool,enableUserSelectHack:fs.default.bool,offsetParent:function(n,t){if(n[t]&&n[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:fs.default.arrayOf(fs.default.number),handle:fs.default.string,cancel:fs.default.string,nodeRef:fs.default.object,onStart:fs.default.func,onDrag:fs.default.func,onStop:fs.default.func,onMouseDown:fs.default.func,scale:fs.default.number,className:dI.dontSetMe,style:dI.dontSetMe,transform:dI.dontSetMe});Hr(SM,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),n.default=void 0;var t=f(I),e=u(Lj),i=u(Qc),r=u(Wvt),s=Pn,a=ch,o=lh,c=u(wM),l=u(xM);function u(w){return w&&w.__esModule?w:{default:w}}function d(w){if(typeof WeakMap!="function")return null;var x=new WeakMap,A=new WeakMap;return(d=function(S){return S?A:x})(w)}function f(w,x){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var A=d(x);if(A&&A.has(w))return A.get(w);var S={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in w)if(k!=="default"&&Object.prototype.hasOwnProperty.call(w,k)){var T=C?Object.getOwnPropertyDescriptor(w,k):null;T&&(T.get||T.set)?Object.defineProperty(S,k,T):S[k]=w[k]}return S.default=w,A&&A.set(w,S),S}function p(){return p=Object.assign?Object.assign.bind():function(w){for(var x=1;x<arguments.length;x++){var A=arguments[x];for(var S in A)Object.prototype.hasOwnProperty.call(A,S)&&(w[S]=A[S])}return w},p.apply(this,arguments)}function g(w,x,A){return x=m(x),x in w?Object.defineProperty(w,x,{value:A,enumerable:!0,configurable:!0,writable:!0}):w[x]=A,w}function m(w){var x=y(w,"string");return typeof x=="symbol"?x:String(x)}function y(w,x){if(typeof w!="object"||w===null)return w;var A=w[Symbol.toPrimitive];if(A!==void 0){var S=A.call(w,x);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(w)}class v extends t.Component{static getDerivedStateFromProps(x,A){let{position:S}=x,{prevPropsPosition:C}=A;return S&&(!C||S.x!==C.x||S.y!==C.y)?((0,l.default)("Draggable: getDerivedStateFromProps %j",{position:S,prevPropsPosition:C}),{x:S.x,y:S.y,prevPropsPosition:{...S}}):null}constructor(x){super(x),g(this,"onDragStart",(A,S)=>{if((0,l.default)("Draggable: onDragStart: %j",S),this.props.onStart(A,(0,a.createDraggableData)(this,S))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(A,S)=>{if(!this.state.dragging)return!1;(0,l.default)("Draggable: onDrag: %j",S);const C=(0,a.createDraggableData)(this,S),k={x:C.x,y:C.y,slackX:0,slackY:0};if(this.props.bounds){const{x:R,y:F}=k;k.x+=this.state.slackX,k.y+=this.state.slackY;const[D,U]=(0,a.getBoundPosition)(this,k.x,k.y);k.x=D,k.y=U,k.slackX=this.state.slackX+(R-k.x),k.slackY=this.state.slackY+(F-k.y),C.x=k.x,C.y=k.y,C.deltaX=k.x-this.state.x,C.deltaY=k.y-this.state.y}if(this.props.onDrag(A,C)===!1)return!1;this.setState(k)}),g(this,"onDragStop",(A,S)=>{if(!this.state.dragging||this.props.onStop(A,(0,a.createDraggableData)(this,S))===!1)return!1;(0,l.default)("Draggable: onDragStop: %j",S);const k={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:R,y:F}=this.props.position;k.x=R,k.y=F}this.setState(k)}),this.state={dragging:!1,dragged:!1,x:x.position?x.position.x:x.defaultPosition.x,y:x.position?x.position.y:x.defaultPosition.y,prevPropsPosition:{...x.position},slackX:0,slackY:0,isElementSVG:!1},x.position&&!(x.onDrag||x.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var x,A;return(x=(A=this.props)===null||A===void 0||(A=A.nodeRef)===null||A===void 0?void 0:A.current)!==null&&x!==void 0?x:i.default.findDOMNode(this)}render(){const{axis:x,bounds:A,children:S,defaultPosition:C,defaultClassName:k,defaultClassNameDragging:T,defaultClassNameDragged:R,position:F,positionOffset:D,scale:U,...j}=this.props;let V={},Y=null;const B=!!!F||this.state.dragging,G=F||C,H={x:(0,a.canDragX)(this)&&B?this.state.x:G.x,y:(0,a.canDragY)(this)&&B?this.state.y:G.y};this.state.isElementSVG?Y=(0,s.createSVGTransform)(H,D):V=(0,s.createCSSTransform)(H,D);const M=(0,r.default)(S.props.className||"",k,{[T]:this.state.dragging,[R]:this.state.dragged});return t.createElement(c.default,p({},j,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(S),{className:M,style:{...S.props.style,...V},transform:Y}))}}n.default=v,g(v,"displayName","Draggable"),g(v,"propTypes",{...c.default.propTypes,axis:e.default.oneOf(["both","x","y","none"]),bounds:e.default.oneOfType([e.default.shape({left:e.default.number,right:e.default.number,top:e.default.number,bottom:e.default.number}),e.default.string,e.default.oneOf([!1])]),defaultClassName:e.default.string,defaultClassNameDragging:e.default.string,defaultClassNameDragged:e.default.string,defaultPosition:e.default.shape({x:e.default.number,y:e.default.number}),positionOffset:e.default.shape({x:e.default.oneOfType([e.default.number,e.default.string]),y:e.default.oneOfType([e.default.number,e.default.string])}),position:e.default.shape({x:e.default.number,y:e.default.number}),className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),g(v,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(HJ);const{default:QJ,DraggableCore:_yt}=HJ;bM.exports=QJ;bM.exports.default=QJ;bM.exports.DraggableCore=_yt;var Cyt=bM.exports;const kyt=hd(Cyt);var Xn=function(){return Xn=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xn.apply(this,arguments)},BH={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},zH={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},_2={width:"20px",height:"20px",position:"absolute",zIndex:1},Tyt={top:Xn(Xn({},BH),{top:"-5px"}),right:Xn(Xn({},zH),{left:void 0,right:"-5px"}),bottom:Xn(Xn({},BH),{top:void 0,bottom:"-5px"}),left:Xn(Xn({},zH),{left:"-5px"}),topRight:Xn(Xn({},_2),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Xn(Xn({},_2),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Xn(Xn({},_2),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Xn(Xn({},_2),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Pyt=I.memo(function(n){var t=n.onResizeStart,e=n.direction,i=n.children,r=n.replaceStyles,s=n.className,a=I.useCallback(function(l){t(l,e)},[t,e]),o=I.useCallback(function(l){t(l,e)},[t,e]),c=I.useMemo(function(){return Xn(Xn({position:"absolute",userSelect:"none"},Tyt[e]),r??{})},[r,e]);return P.jsx("div",{className:s||void 0,style:c,onMouseDown:a,onTouchStart:o,children:i})}),Ryt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),ec=function(){return ec=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ec.apply(this,arguments)},Dyt={width:"auto",height:"auto"},C2=function(n,t,e){return Math.max(Math.min(n,e),t)},jH=function(n,t,e){var i=Math.round(n/t);return i*t+e*(i-1)},oy=function(n,t){return new RegExp(n,"i").test(t)},k2=function(n){return!!(n.touches&&n.touches.length)},Fyt=function(n){return!!((n.clientX||n.clientX===0)&&(n.clientY||n.clientY===0))},UH=function(n,t,e){e===void 0&&(e=0);var i=t.reduce(function(s,a,o){return Math.abs(a-n)<Math.abs(t[s]-n)?o:s},0),r=Math.abs(t[i]-n);return e===0||r<e?t[i]:n},fI=function(n){return n=n.toString(),n==="auto"||n.endsWith("px")||n.endsWith("%")||n.endsWith("vh")||n.endsWith("vw")||n.endsWith("vmax")||n.endsWith("vmin")?n:"".concat(n,"px")},T2=function(n,t,e,i){if(n&&typeof n=="string"){if(n.endsWith("px"))return Number(n.replace("px",""));if(n.endsWith("%")){var r=Number(n.replace("%",""))/100;return t*r}if(n.endsWith("vw")){var r=Number(n.replace("vw",""))/100;return e*r}if(n.endsWith("vh")){var r=Number(n.replace("vh",""))/100;return i*r}}return n},Myt=function(n,t,e,i,r,s,a){return i=T2(i,n.width,t,e),r=T2(r,n.height,t,e),s=T2(s,n.width,t,e),a=T2(a,n.height,t,e),{maxWidth:typeof i>"u"?void 0:Number(i),maxHeight:typeof r>"u"?void 0:Number(r),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof a>"u"?void 0:Number(a)}},Nyt=function(n){return Array.isArray(n)?n:[n,n]},Iyt=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],HH="__resizable_base__",Lyt=function(n){Ryt(t,n);function t(e){var i,r,s,a,o=n.call(this,e)||this;return o.ratio=1,o.resizable=null,o.parentLeft=0,o.parentTop=0,o.resizableLeft=0,o.resizableRight=0,o.resizableTop=0,o.resizableBottom=0,o.targetLeft=0,o.targetTop=0,o.delta={width:0,height:0},o.appendBase=function(){if(!o.resizable||!o.window)return null;var c=o.parentNode;if(!c)return null;var l=o.window.document.createElement("div");return l.style.width="100%",l.style.height="100%",l.style.position="absolute",l.style.transform="scale(0, 0)",l.style.left="0",l.style.flex="0 0 100%",l.classList?l.classList.add(HH):l.className+=HH,c.appendChild(l),l},o.removeBase=function(c){var l=o.parentNode;l&&l.removeChild(c)},o.state={isResizing:!1,width:(r=(i=o.propsSize)===null||i===void 0?void 0:i.width)!==null&&r!==void 0?r:"auto",height:(a=(s=o.propsSize)===null||s===void 0?void 0:s.height)!==null&&a!==void 0?a:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},o.onResizeStart=o.onResizeStart.bind(o),o.onMouseMove=o.onMouseMove.bind(o),o.onMouseUp=o.onMouseUp.bind(o),o}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Dyt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,i=0;if(this.resizable&&this.window){var r=this.resizable.offsetWidth,s=this.resizable.offsetHeight,a=this.resizable.style.position;a!=="relative"&&(this.resizable.style.position="relative"),e=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:r,i=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=a}return{width:e,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,i=this.props.size,r=function(o){var c;if(typeof e.state[o]>"u"||e.state[o]==="auto")return"auto";if(e.propsSize&&e.propsSize[o]&&(!((c=e.propsSize[o])===null||c===void 0)&&c.toString().endsWith("%"))){if(e.state[o].toString().endsWith("%"))return e.state[o].toString();var l=e.getParentSize(),u=Number(e.state[o].toString().replace("px","")),d=u/l[o]*100;return"".concat(d,"%")}return fI(e.state[o])},s=i&&typeof i.width<"u"&&!this.state.isResizing?fI(i.width):r("width"),a=i&&typeof i.height<"u"&&!this.state.isResizing?fI(i.height):r("height");return{width:s,height:a}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var i=!1,r=this.parentNode.style.flexWrap;r!=="wrap"&&(i=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var s={width:e.offsetWidth,height:e.offsetHeight};return i&&(this.parentNode.style.flexWrap=r),this.removeBase(e),s},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:e.flexBasis!=="auto"?e.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,i){var r=this.propsSize&&this.propsSize[i];return this.state[i]==="auto"&&this.state.original[i]===e&&(typeof r>"u"||r==="auto")?"auto":e},t.prototype.calculateNewMaxFromBoundary=function(e,i){var r=this.props.boundsByDirection,s=this.state.direction,a=r&&oy("left",s),o=r&&oy("top",s),c,l;if(this.props.bounds==="parent"){var u=this.parentNode;u&&(c=a?this.resizableRight-this.parentLeft:u.offsetWidth+(this.parentLeft-this.resizableLeft),l=o?this.resizableBottom-this.parentTop:u.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,l=o?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),l=o?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(e=e&&e<c?e:c),l&&Number.isFinite(l)&&(i=i&&i<l?i:l),{maxWidth:e,maxHeight:i}},t.prototype.calculateNewSizeFromDirection=function(e,i){var r=this.props.scale||1,s=Nyt(this.props.resizeRatio||1),a=s[0],o=s[1],c=this.state,l=c.direction,u=c.original,d=this.props,f=d.lockAspectRatio,p=d.lockAspectRatioExtraHeight,g=d.lockAspectRatioExtraWidth,m=u.width,y=u.height,v=p||0,w=g||0;return oy("right",l)&&(m=u.width+(e-u.x)*a/r,f&&(y=(m-w)/this.ratio+v)),oy("left",l)&&(m=u.width-(e-u.x)*a/r,f&&(y=(m-w)/this.ratio+v)),oy("bottom",l)&&(y=u.height+(i-u.y)*o/r,f&&(m=(y-v)*this.ratio+w)),oy("top",l)&&(y=u.height-(i-u.y)*o/r,f&&(m=(y-v)*this.ratio+w)),{newWidth:m,newHeight:y}},t.prototype.calculateNewSizeFromAspectRatio=function(e,i,r,s){var a=this.props,o=a.lockAspectRatio,c=a.lockAspectRatioExtraHeight,l=a.lockAspectRatioExtraWidth,u=typeof s.width>"u"?10:s.width,d=typeof r.width>"u"||r.width<0?e:r.width,f=typeof s.height>"u"?10:s.height,p=typeof r.height>"u"||r.height<0?i:r.height,g=c||0,m=l||0;if(o){var y=(f-g)*this.ratio+m,v=(p-g)*this.ratio+m,w=(u-m)/this.ratio+g,x=(d-m)/this.ratio+g,A=Math.max(u,y),S=Math.min(d,v),C=Math.max(f,w),k=Math.min(p,x);e=C2(e,A,S),i=C2(i,C,k)}else e=C2(e,u,d),i=C2(i,f,p);return{newWidth:e,newHeight:i}},t.prototype.setBoundingClientRect=function(){var e=1/(this.props.scale||1);if(this.props.bounds==="parent"){var i=this.parentNode;if(i){var r=i.getBoundingClientRect();this.parentLeft=r.left*e,this.parentTop=r.top*e}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*e,this.targetTop=s.top*e}if(this.resizable){var a=this.resizable.getBoundingClientRect(),o=a.left,c=a.top,l=a.right,u=a.bottom;this.resizableLeft=o*e,this.resizableRight=l*e,this.resizableTop=c*e,this.resizableBottom=u*e}},t.prototype.onResizeStart=function(e,i){if(!(!this.resizable||!this.window)){var r=0,s=0;if(e.nativeEvent&&Fyt(e.nativeEvent)?(r=e.nativeEvent.clientX,s=e.nativeEvent.clientY):e.nativeEvent&&k2(e.nativeEvent)&&(r=e.nativeEvent.touches[0].clientX,s=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var a=this.props.onResizeStart(e,i,this.resizable);if(a===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var o,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var l=this.parentNode;if(l){var u=this.window.getComputedStyle(l).flexDirection;this.flexDir=u.startsWith("row")?"row":"column",o=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var d={original:{x:r,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:ec(ec({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:i,flexBasis:o};this.setState(d)}},t.prototype.onMouseMove=function(e){var i=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&k2(e))try{e.preventDefault(),e.stopPropagation()}catch{}var r=this.props,s=r.maxWidth,a=r.maxHeight,o=r.minWidth,c=r.minHeight,l=k2(e)?e.touches[0].clientX:e.clientX,u=k2(e)?e.touches[0].clientY:e.clientY,d=this.state,f=d.direction,p=d.original,g=d.width,m=d.height,y=this.getParentSize(),v=Myt(y,this.window.innerWidth,this.window.innerHeight,s,a,o,c);s=v.maxWidth,a=v.maxHeight,o=v.minWidth,c=v.minHeight;var w=this.calculateNewSizeFromDirection(l,u),x=w.newHeight,A=w.newWidth,S=this.calculateNewMaxFromBoundary(s,a);this.props.snap&&this.props.snap.x&&(A=UH(A,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(x=UH(x,this.props.snap.y,this.props.snapGap));var C=this.calculateNewSizeFromAspectRatio(A,x,{width:S.maxWidth,height:S.maxHeight},{width:o,height:c});if(A=C.newWidth,x=C.newHeight,this.props.grid){var k=jH(A,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),T=jH(x,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),R=this.props.snapGap||0,F=R===0||Math.abs(k-A)<=R?k:A,D=R===0||Math.abs(T-x)<=R?T:x;A=F,x=D}var U={width:A-p.width,height:x-p.height};if(this.delta=U,g&&typeof g=="string"){if(g.endsWith("%")){var j=A/y.width*100;A="".concat(j,"%")}else if(g.endsWith("vw")){var V=A/this.window.innerWidth*100;A="".concat(V,"vw")}else if(g.endsWith("vh")){var Y=A/this.window.innerHeight*100;A="".concat(Y,"vh")}}if(m&&typeof m=="string"){if(m.endsWith("%")){var j=x/y.height*100;x="".concat(j,"%")}else if(m.endsWith("vw")){var V=x/this.window.innerWidth*100;x="".concat(V,"vw")}else if(m.endsWith("vh")){var Y=x/this.window.innerHeight*100;x="".concat(Y,"vh")}}var z={width:this.createSizeForCssProperty(A,"width"),height:this.createSizeForCssProperty(x,"height")};this.flexDir==="row"?z.flexBasis=z.width:this.flexDir==="column"&&(z.flexBasis=z.height);var B=this.state.width!==z.width,G=this.state.height!==z.height,H=this.state.flexBasis!==z.flexBasis,M=B||G||H;M&&Qc.flushSync(function(){i.setState(z)}),this.props.onResize&&M&&this.props.onResize(e,f,this.resizable,U)}},t.prototype.onMouseUp=function(e){var i,r,s=this.state,a=s.isResizing,o=s.direction;s.original,!(!a||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(e,o,this.resizable,this.delta),this.props.size&&this.setState({width:(i=this.props.size.width)!==null&&i!==void 0?i:"auto",height:(r=this.props.size.height)!==null&&r!==void 0?r:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:ec(ec({},this.state.backgroundStyle),{cursor:"auto"})}))},t.prototype.updateSize=function(e){var i,r;this.setState({width:(i=e.width)!==null&&i!==void 0?i:"auto",height:(r=e.height)!==null&&r!==void 0?r:"auto"})},t.prototype.renderResizer=function(){var e=this,i=this.props,r=i.enable,s=i.handleStyles,a=i.handleClasses,o=i.handleWrapperStyle,c=i.handleWrapperClass,l=i.handleComponent;if(!r)return null;var u=Object.keys(r).map(function(d){return r[d]!==!1?P.jsx(Pyt,{direction:d,onResizeStart:e.onResizeStart,replaceStyles:s&&s[d],className:a&&a[d],children:l&&l[d]?l[d]:null},d):null});return P.jsx("div",{className:c,style:o,children:u})},t.prototype.render=function(){var e=this,i=Object.keys(this.props).reduce(function(a,o){return Iyt.indexOf(o)!==-1||(a[o]=e.props[o]),a},{}),r=ec(ec(ec({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(r.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return P.jsxs(s,ec({style:r,className:this.props.className},i,{ref:function(a){a&&(e.resizable=a)},children:[this.state.isResizing&&P.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(I.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var RB=function(n,t){return RB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])},RB(n,t)};function Oyt(n,t){RB(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ei=function(){return ei=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},ei.apply(this,arguments)};function Byt(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}var zyt={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},jyt=function(n){return{bottom:n,bottomLeft:n,bottomRight:n,left:n,right:n,top:n,topLeft:n,topRight:n}},Uyt=function(n){Oyt(t,n);function t(e){var i=n.call(this,e)||this;return i.resizingPosition={x:0,y:0},i.offsetFromParent={left:0,top:0},i.resizableElement={current:null},i.originalPosition={x:0,y:0},i.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:e.maxWidth,maxHeight:e.maxHeight},i.onResizeStart=i.onResizeStart.bind(i),i.onResize=i.onResize.bind(i),i.onResizeStop=i.onResizeStop.bind(i),i.onDragStart=i.onDragStart.bind(i),i.onDrag=i.onDrag.bind(i),i.onDragStop=i.onDragStop.bind(i),i.getMaxSizesFromProps=i.getMaxSizesFromProps.bind(i),i}return t.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,i=e.left,r=e.top,s=this.getDraggablePosition(),a=s.x,o=s.y;this.draggable.setState({x:a-i,y:o-r}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var e=this.draggable.state,i=e.x,r=e.y;return{x:i,y:r}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){var e=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,i=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:e,maxHeight:i}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(e){var i=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/i;case"body":return document.body.offsetHeight/i;default:return e.offsetHeight}},t.prototype.getOffsetWidth=function(e){var i=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/i;case"body":return document.body.offsetWidth/i;default:return e.offsetWidth}},t.prototype.onDragStart=function(e,i){this.props.onDragStart&&this.props.onDragStart(e,i);var r=this.getDraggablePosition();if(this.originalPosition=r,!!this.props.bounds){var s=this.getParent(),a=this.props.scale,o;if(this.props.bounds==="parent")o=s;else if(this.props.bounds==="body"){var c=s.getBoundingClientRect(),l=c.left,u=c.top,d=document.body.getBoundingClientRect(),f=-(l-s.offsetLeft*a-d.left)/a,p=-(u-s.offsetTop*a-d.top)/a,g=(document.body.offsetWidth-this.resizable.size.width*a)/a+f,m=(document.body.offsetHeight-this.resizable.size.height*a)/a+p;return this.setState({bounds:{top:p,right:g,bottom:m,left:f}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var y=s.getBoundingClientRect(),v=y.left,w=y.top,x=-(v-s.offsetLeft*a)/a,A=-(w-s.offsetTop*a)/a,g=(window.innerWidth-this.resizable.size.width*a)/a+x,m=(window.innerHeight-this.resizable.size.height*a)/a+A;return this.setState({bounds:{top:A,right:g,bottom:m,left:x}})}else typeof this.props.bounds=="string"?o=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(o=this.props.bounds);if(!(!(o instanceof HTMLElement)||!(s instanceof HTMLElement))){var S=o.getBoundingClientRect(),C=S.left,k=S.top,T=s.getBoundingClientRect(),R=T.left,F=T.top,D=(C-R)/a,U=k-F;if(this.resizable){this.updateOffsetFromParent();var j=this.offsetFromParent;this.setState({bounds:{top:U-j.top,right:D+(o.offsetWidth-this.resizable.size.width)-j.left/a,bottom:U+(o.offsetHeight-this.resizable.size.height)-j.top,left:D-j.left/a}})}}}},t.prototype.onDrag=function(e,i){if(this.props.onDrag){var r=this.offsetFromParent,s=r.left,a=r.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(e,ei(ei({},i),{x:i.x+s,y:i.y+a}));if(this.props.dragAxis==="x")return this.props.onDrag(e,ei(ei({},i),{x:i.x+s,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(e,ei(ei({},i),{x:this.originalPosition.x+s,y:i.y+a,deltaX:0}))}},t.prototype.onDragStop=function(e,i){if(this.props.onDragStop){var r=this.offsetFromParent,s=r.left,a=r.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(e,ei(ei({},i),{x:i.x+s,y:i.y+a}));if(this.props.dragAxis==="x")return this.props.onDragStop(e,ei(ei({},i),{x:i.x+s,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(e,ei(ei({},i),{x:this.originalPosition.x+s,y:i.y+a,deltaX:0}))}},t.prototype.onResizeStart=function(e,i,r){e.stopPropagation(),this.setState({resizing:!0});var s=this.props.scale,a=this.offsetFromParent,o=this.getDraggablePosition();if(this.resizingPosition={x:o.x+a.left,y:o.y+a.top},this.originalPosition=o,this.props.bounds){var c=this.getParent(),l=void 0;this.props.bounds==="parent"?l=c:this.props.bounds==="body"?l=document.body:this.props.bounds==="window"?l=window:typeof this.props.bounds=="string"?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);var u=this.getSelfElement();if(u instanceof Element&&(l instanceof HTMLElement||l===window)&&c instanceof HTMLElement){var d=this.getMaxSizesFromProps(),f=d.maxWidth,p=d.maxHeight,g=this.getParentSize();if(f&&typeof f=="string")if(f.endsWith("%")){var m=Number(f.replace("%",""))/100;f=g.width*m}else f.endsWith("px")&&(f=Number(f.replace("px","")));if(p&&typeof p=="string")if(p.endsWith("%")){var m=Number(p.replace("%",""))/100;p=g.height*m}else p.endsWith("px")&&(p=Number(p.replace("px","")));var y=u.getBoundingClientRect(),v=y.left,w=y.top,x=this.props.bounds==="window"?{left:0,top:0}:l.getBoundingClientRect(),A=x.left,S=x.top,C=this.getOffsetWidth(l),k=this.getOffsetHeight(l),T=i.toLowerCase().endsWith("left"),R=i.toLowerCase().endsWith("right"),F=i.startsWith("top"),D=i.startsWith("bottom");if((T||F)&&this.resizable){var U=(v-A)/s+this.resizable.size.width;this.setState({maxWidth:U>Number(f)?f:U})}if(R||this.props.lockAspectRatio&&!T&&!F){var U=C+(A-v)/s;this.setState({maxWidth:U>Number(f)?f:U})}if((F||T)&&this.resizable){var U=(w-S)/s+this.resizable.size.height;this.setState({maxHeight:U>Number(p)?p:U})}if(D||this.props.lockAspectRatio&&!F&&!T){var U=k+(S-w)/s;this.setState({maxHeight:U>Number(p)?p:U})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,i,r)},t.prototype.onResize=function(e,i,r,s){var a=this,o={x:this.originalPosition.x,y:this.originalPosition.y},c=-s.width,l=-s.height,u=["top","left","topLeft","bottomLeft","topRight"];u.includes(i)&&(i==="bottomLeft"?o.x+=c:(i==="topRight"||(o.x+=c),o.y+=l));var d=this.draggable.state;(o.x!==d.x||o.y!==d.y)&&Qc.flushSync(function(){a.draggable.setState(o)}),this.updateOffsetFromParent();var f=this.offsetFromParent,p=this.getDraggablePosition().x+f.left,g=this.getDraggablePosition().y+f.top;this.resizingPosition={x:p,y:g},this.props.onResize&&this.props.onResize(e,i,r,s,{x:p,y:g})},t.prototype.onResizeStop=function(e,i,r,s){this.setState({resizing:!1});var a=this.getMaxSizesFromProps(),o=a.maxWidth,c=a.maxHeight;this.setState({maxWidth:o,maxHeight:c}),this.props.onResizeStop&&this.props.onResizeStop(e,i,r,s,this.resizingPosition)},t.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},t.prototype.updatePosition=function(e){this.draggable.setState(e)},t.prototype.updateOffsetFromParent=function(){var e=this.props.scale,i=this.getParent(),r=this.getSelfElement();if(!i||r===null)return{top:0,left:0};var s=i.getBoundingClientRect(),a=s.left,o=s.top,c=r.getBoundingClientRect(),l=this.getDraggablePosition(),u=i.scrollLeft,d=i.scrollTop;this.offsetFromParent={left:c.left-a+u-l.x*e,top:c.top-o+d-l.y*e}},t.prototype.render=function(){var e=this,i=this.props,r=i.disableDragging,s=i.style,a=i.dragHandleClassName,o=i.position,c=i.onMouseDown,l=i.onMouseUp,u=i.dragAxis,d=i.dragGrid,f=i.bounds,p=i.enableUserSelectHack,g=i.cancel,m=i.children;i.onResizeStart,i.onResize,i.onResizeStop,i.onDragStart,i.onDrag,i.onDragStop;var y=i.resizeHandleStyles,v=i.resizeHandleClasses,w=i.resizeHandleComponent,x=i.enableResizing,A=i.resizeGrid,S=i.resizeHandleWrapperClass,C=i.resizeHandleWrapperStyle,k=i.scale,T=i.allowAnyClick,R=i.dragPositionOffset,F=Byt(i,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),D=this.props.default?ei({},this.props.default):void 0;delete F.default;var U=r||a?{cursor:"auto"}:{cursor:"move"},j=ei(ei(ei({},zyt),U),s),V=this.offsetFromParent,Y=V.left,z=V.top,B;o&&(B={x:o.x-Y,y:o.y-z});var G=this.state.resizing?void 0:B,H=this.state.resizing?"both":u;return I.createElement(kyt,{ref:function(M){M&&(e.draggable=M)},handle:a?".".concat(a):void 0,defaultPosition:D,onMouseDown:c,onMouseUp:l,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:H,disabled:r,grid:d,bounds:f?this.state.bounds:void 0,position:G,enableUserSelectHack:p,cancel:g,scale:k,allowAnyClick:T,nodeRef:this.resizableElement,positionOffset:R},I.createElement(Lyt,ei({},F,{ref:function(M){M&&(e.resizable=M,e.resizableElement.current=M.resizable)},defaultSize:D,size:this.props.size,enable:typeof x=="boolean"?jyt(x):x,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:j,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:A,handleWrapperClass:S,handleWrapperStyle:C,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:y,handleClasses:v,handleComponent:w,scale:this.props.scale}),m))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t}(I.PureComponent);function Hyt(){const n=I.useRef(),[t,e]=I.useState(null),[i,r]=I.useState(null),[s,a]=I.useState(null),[o,c]=I.useState({x:50,y:50,width:150,height:50}),[l,u]=I.useState(null),d=g=>{const m=g.target.files[0];e(m);const y=new FileReader;y.onload=()=>r(new Uint8Array(y.result)),y.readAsArrayBuffer(m)},f=()=>{if(!n.current)return;const g=n.current.getTrimmedCanvas().toDataURL("image/png");a(g)},p=async()=>{if(!t||!s){alert("Upload PDF dan buat tandatangan dulu.");return}const g=await t.arrayBuffer(),m=await Is.load(g),y=await fetch(s).then(S=>S.arrayBuffer()),v=await m.embedPng(y);m.getPages()[0].drawImage(v,{x:o.x,y:o.y,width:o.width,height:o.height});const x=await m.save(),A=new Blob([x],{type:"application/pdf"});u(URL.createObjectURL(A))};return P.jsxs("div",{className:"p-6",children:[P.jsx("h1",{className:"text-xl font-bold mb-4",children:"Sign PDF"}),P.jsx("input",{type:"file",accept:"application/pdf",onChange:d,className:"mb-4"}),P.jsx(oM,{ref:n,penColor:"black",canvasProps:{width:400,height:150,className:"border mb-2"}}),P.jsx("button",{onClick:f,className:"px-3 py-1 bg-blue-500 text-white rounded",children:"Save Signature"}),i&&P.jsxs("div",{className:"relative border my-4 inline-block",children:[P.jsx(Dvt,{file:i,children:P.jsx(Uvt,{pageNumber:1,width:400})}),s&&P.jsx(Uyt,{size:{width:o.width,height:o.height},position:{x:o.x,y:o.y},onDragStop:(g,m)=>c({...o,x:m.x,y:m.y}),onResizeStop:(g,m,y,v,w)=>c({x:w.x,y:w.y,width:parseInt(y.style.width),height:parseInt(y.style.height)}),children:P.jsx("img",{src:s,alt:"Signature",className:"w-full h-full"})})]}),P.jsx("button",{onClick:p,className:"px-4 py-2 mt-4 bg-green-600 text-white rounded",children:"Apply to PDF"}),l&&P.jsx("div",{className:"mt-4",children:P.jsx("a",{href:l,download:"signed.pdf",className:"px-4 py-2 bg-red-500 text-white rounded",children:"Download Signed PDF"})})]})}function Wyt(){const[n,t]=I.useState(null),[e,i]=I.useState("CONFIDENTIAL"),[r,s]=I.useState(null),a=c=>{t(c.target.files[0])},o=async()=>{if(!n||!e){alert("Please upload a PDF and enter watermark text.");return}const c=await n.arrayBuffer(),l=await Is.load(c),u=await l.embedFont(q1.HelveticaBold);l.getPages().forEach(p=>{const{width:g,height:m}=p.getSize();p.drawText(e,{x:g/2-e.length*5,y:m/2,size:40,font:u,color:he(.8,.8,.8),opacity:.4,rotate:{type:"degrees",angle:45}})});const d=await l.save(),f=new Blob([d],{type:"application/pdf"});s(URL.createObjectURL(f))};return P.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:P.jsxs("div",{className:"w-full max-w-lg bg-white rounded-xl shadow p-8 text-center",children:[P.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Watermark PDF"}),P.jsx("p",{className:"text-gray-500 mb-6",children:"Upload a PDF and add a text watermark to all pages"}),P.jsx("input",{type:"file",accept:"application/pdf",onChange:a,className:"mb-4"}),P.jsx("input",{type:"text",placeholder:"Enter watermark text",value:e,onChange:c=>i(c.target.value),className:"w-full border p-2 rounded mb-4"}),P.jsx("button",{onClick:o,className:"px-4 py-2 rounded bg-indigo-500 text-white hover:bg-indigo-600 transition",children:"Apply Watermark"}),r&&P.jsx("div",{className:"mt-6",children:P.jsx("a",{href:r,download:"watermarked.pdf",className:"px-4 py-2 rounded bg-green-500 text-white hover:bg-green-600 transition",children:"Download Watermarked PDF"})})]})})}/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vyt=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JJ=(...n)=>n.filter((t,e,i)=>!!t&&i.indexOf(t)===e).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gyt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xyt=I.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},c)=>I.createElement("svg",{ref:c,...Gyt,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:JJ("lucide",r),...o},[...a.map(([l,u])=>I.createElement(l,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qyt=(n,t)=>{const e=I.forwardRef(({className:i,...r},s)=>I.createElement(Xyt,{ref:s,iconNode:t,className:JJ(`lucide-${Vyt(n)}`,i),...r}));return e.displayName=`${n}`,e};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kyt=qyt("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);function Yyt({title:n}){const[t,e]=I.useState(null),i=s=>{const a=s.target.files[0];a&&e(a.name)},r=s=>{s.preventDefault();const a=s.dataTransfer.files[0];a&&e(a.name)};return P.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:P.jsxs("div",{className:"w-full max-w-lg bg-white rounded-xl shadow p-8 text-center",children:[P.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:n}),P.jsx("p",{className:"text-gray-500 mb-6",children:"Upload your PDF to continue"}),P.jsxs("label",{onDrop:r,onDragOver:s=>s.preventDefault(),className:"block border-2 border-dashed border-gray-400 rounded-xl p-10 hover:border-red-500 hover:bg-red-50 transition cursor-pointer",children:[P.jsx("input",{type:"file",accept:".pdf",className:"hidden",onChange:i}),P.jsx(Kyt,{className:"mx-auto text-red-500 mb-3",size:40}),P.jsx("p",{className:"text-gray-600",children:"Drag & Drop PDF here"}),P.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"or click to browse files"})]}),t&&P.jsxs("div",{className:"mt-6 p-4 bg-gray-100 rounded-md shadow text-sm text-gray-700 flex justify-between items-center",children:[P.jsxs("span",{children:["Selected file: ",P.jsx("b",{children:t})]}),P.jsx("button",{className:"ml-4 px-4 py-2 rounded bg-red-500 text-white hover:bg-red-600",children:"Process →"})]})]})})}function Zyt(){return P.jsx(Yyt,{title:"e-Sign Flow"})}var Qyt={exports:{}};(function(n){var t=function(e){var i=Object.prototype,r=i.hasOwnProperty,s=Object.defineProperty||function(H,M,N){H[M]=N.value},a,o=typeof Symbol=="function"?Symbol:{},c=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function d(H,M,N){return Object.defineProperty(H,M,{value:N,enumerable:!0,configurable:!0,writable:!0}),H[M]}try{d({},"")}catch{d=function(M,N,W){return M[N]=W}}function f(H,M,N,W){var q=M&&M.prototype instanceof x?M:x,Q=Object.create(q.prototype),et=new z(W||[]);return s(Q,"_invoke",{value:U(H,N,et)}),Q}e.wrap=f;function p(H,M,N){try{return{type:"normal",arg:H.call(M,N)}}catch(W){return{type:"throw",arg:W}}}var g="suspendedStart",m="suspendedYield",y="executing",v="completed",w={};function x(){}function A(){}function S(){}var C={};d(C,c,function(){return this});var k=Object.getPrototypeOf,T=k&&k(k(B([])));T&&T!==i&&r.call(T,c)&&(C=T);var R=S.prototype=x.prototype=Object.create(C);A.prototype=S,s(R,"constructor",{value:S,configurable:!0}),s(S,"constructor",{value:A,configurable:!0}),A.displayName=d(S,u,"GeneratorFunction");function F(H){["next","throw","return"].forEach(function(M){d(H,M,function(N){return this._invoke(M,N)})})}e.isGeneratorFunction=function(H){var M=typeof H=="function"&&H.constructor;return M?M===A||(M.displayName||M.name)==="GeneratorFunction":!1},e.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,S):(H.__proto__=S,d(H,u,"GeneratorFunction")),H.prototype=Object.create(R),H},e.awrap=function(H){return{__await:H}};function D(H,M){function N(Q,et,J,Z){var tt=p(H[Q],H,et);if(tt.type==="throw")Z(tt.arg);else{var wt=tt.arg,st=wt.value;return st&&typeof st=="object"&&r.call(st,"__await")?M.resolve(st.__await).then(function(At){N("next",At,J,Z)},function(At){N("throw",At,J,Z)}):M.resolve(st).then(function(At){wt.value=At,J(wt)},function(At){return N("throw",At,J,Z)})}}var W;function q(Q,et){function J(){return new M(function(Z,tt){N(Q,et,Z,tt)})}return W=W?W.then(J,J):J()}s(this,"_invoke",{value:q})}F(D.prototype),d(D.prototype,l,function(){return this}),e.AsyncIterator=D,e.async=function(H,M,N,W,q){q===void 0&&(q=Promise);var Q=new D(f(H,M,N,W),q);return e.isGeneratorFunction(M)?Q:Q.next().then(function(et){return et.done?et.value:Q.next()})};function U(H,M,N){var W=g;return function(Q,et){if(W===y)throw new Error("Generator is already running");if(W===v){if(Q==="throw")throw et;return G()}for(N.method=Q,N.arg=et;;){var J=N.delegate;if(J){var Z=j(J,N);if(Z){if(Z===w)continue;return Z}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(W===g)throw W=v,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);W=y;var tt=p(H,M,N);if(tt.type==="normal"){if(W=N.done?v:m,tt.arg===w)continue;return{value:tt.arg,done:N.done}}else tt.type==="throw"&&(W=v,N.method="throw",N.arg=tt.arg)}}}function j(H,M){var N=M.method,W=H.iterator[N];if(W===a)return M.delegate=null,N==="throw"&&H.iterator.return&&(M.method="return",M.arg=a,j(H,M),M.method==="throw")||N!=="return"&&(M.method="throw",M.arg=new TypeError("The iterator does not provide a '"+N+"' method")),w;var q=p(W,H.iterator,M.arg);if(q.type==="throw")return M.method="throw",M.arg=q.arg,M.delegate=null,w;var Q=q.arg;if(!Q)return M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,w;if(Q.done)M[H.resultName]=Q.value,M.next=H.nextLoc,M.method!=="return"&&(M.method="next",M.arg=a);else return Q;return M.delegate=null,w}F(R),d(R,u,"Generator"),d(R,c,function(){return this}),d(R,"toString",function(){return"[object Generator]"});function V(H){var M={tryLoc:H[0]};1 in H&&(M.catchLoc=H[1]),2 in H&&(M.finallyLoc=H[2],M.afterLoc=H[3]),this.tryEntries.push(M)}function Y(H){var M=H.completion||{};M.type="normal",delete M.arg,H.completion=M}function z(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(V,this),this.reset(!0)}e.keys=function(H){var M=Object(H),N=[];for(var W in M)N.push(W);return N.reverse(),function q(){for(;N.length;){var Q=N.pop();if(Q in M)return q.value=Q,q.done=!1,q}return q.done=!0,q}};function B(H){if(H){var M=H[c];if(M)return M.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length)){var N=-1,W=function q(){for(;++N<H.length;)if(r.call(H,N))return q.value=H[N],q.done=!1,q;return q.value=a,q.done=!0,q};return W.next=W}}return{next:G}}e.values=B;function G(){return{value:a,done:!0}}return z.prototype={constructor:z,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(Y),!H)for(var M in this)M.charAt(0)==="t"&&r.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=a)},stop:function(){this.done=!0;var H=this.tryEntries[0],M=H.completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var M=this;function N(Z,tt){return Q.type="throw",Q.arg=H,M.next=Z,tt&&(M.method="next",M.arg=a),!!tt}for(var W=this.tryEntries.length-1;W>=0;--W){var q=this.tryEntries[W],Q=q.completion;if(q.tryLoc==="root")return N("end");if(q.tryLoc<=this.prev){var et=r.call(q,"catchLoc"),J=r.call(q,"finallyLoc");if(et&&J){if(this.prev<q.catchLoc)return N(q.catchLoc,!0);if(this.prev<q.finallyLoc)return N(q.finallyLoc)}else if(et){if(this.prev<q.catchLoc)return N(q.catchLoc,!0)}else if(J){if(this.prev<q.finallyLoc)return N(q.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(H,M){for(var N=this.tryEntries.length-1;N>=0;--N){var W=this.tryEntries[N];if(W.tryLoc<=this.prev&&r.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var q=W;break}}q&&(H==="break"||H==="continue")&&q.tryLoc<=M&&M<=q.finallyLoc&&(q=null);var Q=q?q.completion:{};return Q.type=H,Q.arg=M,q?(this.method="next",this.next=q.finallyLoc,w):this.complete(Q)},complete:function(H,M){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&M&&(this.next=M),w},finish:function(H){for(var M=this.tryEntries.length-1;M>=0;--M){var N=this.tryEntries[M];if(N.finallyLoc===H)return this.complete(N.completion,N.afterLoc),Y(N),w}},catch:function(H){for(var M=this.tryEntries.length-1;M>=0;--M){var N=this.tryEntries[M];if(N.tryLoc===H){var W=N.completion;if(W.type==="throw"){var q=W.arg;Y(N)}return q}}throw new Error("illegal catch attempt")},delegateYield:function(H,M,N){return this.delegate={iterator:B(H),resultName:M,nextLoc:N},this.method==="next"&&(this.arg=a),w}},e}(n.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(Qyt);var n5=(n,t)=>`${n}-${t}-${Math.random().toString(16).slice(3,8)}`;const Jyt=n5;let WH=0;var $J=({id:n,action:t,payload:e={}})=>{let i=n;return typeof i>"u"&&(i=Jyt("Job",WH),WH+=1),{id:i,action:t,payload:e}},bx={};let i5=!1;bx.logging=i5;bx.setLogging=n=>{i5=n};bx.log=(...n)=>i5?console.log.apply(void 0,n):null;const $yt=$J,{log:P2}=bx,tbt=n5;let VH=0;var ebt=()=>{const n=tbt("Scheduler",VH),t={},e={};let i=[];VH+=1;const r=()=>i.length,s=()=>Object.keys(t).length,a=()=>{if(i.length!==0){const d=Object.keys(t);for(let f=0;f<d.length;f+=1)if(typeof e[d[f]]>"u"){i[0](t[d[f]]);break}}},o=(d,f)=>new Promise((p,g)=>{const m=$yt({action:d,payload:f});i.push(async y=>{i.shift(),e[y.id]=m;try{p(await y[d].apply(void 0,[...f,m.id]))}catch(v){g(v)}finally{delete e[y.id],a()}}),P2(`[${n}]: Add ${m.id} to JobQueue`),P2(`[${n}]: JobQueue length=${i.length}`),a()});return{addWorker:d=>(t[d.id]=d,P2(`[${n}]: Add ${d.id}`),P2(`[${n}]: Number of workers=${s()}`),a(),d.id),addJob:async(d,...f)=>{if(s()===0)throw Error(`[${n}]: You need to have at least one worker before adding jobs`);return o(d,f)},terminate:async()=>{Object.keys(t).forEach(async d=>{await t[d].terminate()}),i=[]},getQueueLen:r,getNumWorkers:s}};function nbt(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ibt=n=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof nbt=="function"&&(t.type="node"),typeof n>"u"?t:t[n]};const rbt=ibt("type")==="browser",sbt=rbt?n=>new URL(n,window.location.href).href:n=>n;var abt=n=>{const t={...n};return["corePath","workerPath","langPath"].forEach(e=>{n[e]&&(t[e]=sbt(t[e]))}),t},t$={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const obt="6.0.1",lbt={version:obt};var cbt={workerBlobURL:!0,logger:()=>{}};const hbt=lbt.version,ubt=cbt;var dbt={...ubt,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${hbt}/dist/worker.min.js`},fbt=({workerPath:n,workerBlobURL:t})=>{let e;if(Blob&&URL&&t){const i=new Blob([`importScripts("${n}");`],{type:"application/javascript"});e=new Worker(URL.createObjectURL(i))}else e=new Worker(n);return e},pbt=n=>{n.terminate()},gbt=(n,t)=>{n.onmessage=({data:e})=>{t(e)}},mbt=async(n,t)=>{n.postMessage(t)};const pI=n=>new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{t(i.result)},i.onerror=({target:{error:{code:r}}})=>{e(Error(`File could not be read! Code=${r}`))},i.readAsArrayBuffer(n)}),DB=async n=>{let t=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?t=atob(n.split(",")[1]).split("").map(e=>e.charCodeAt(0)):t=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(t=await DB(n.src)),n.tagName==="VIDEO"&&(t=await DB(n.poster)),n.tagName==="CANVAS"&&await new Promise(e=>{n.toBlob(async i=>{t=await pI(i),e()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const e=await n.convertToBlob();t=await pI(e)}else(n instanceof File||n instanceof Blob)&&(t=await pI(n));return new Uint8Array(t)};var vbt=DB;const ybt=dbt,bbt=fbt,wbt=pbt,xbt=gbt,Sbt=mbt,Abt=vbt;var Ebt={defaultOptions:ybt,spawnWorker:bbt,terminateWorker:wbt,onMessage:xbt,send:Sbt,loadImage:Abt};const _bt=abt,Ql=$J,{log:GH}=bx,Cbt=n5,fg=t$,{defaultOptions:kbt,spawnWorker:Tbt,terminateWorker:Pbt,onMessage:Rbt,loadImage:XH,send:Dbt}=Ebt;let qH=0;var e$=async(n="eng",t=fg.LSTM_ONLY,e={},i={})=>{const r=Cbt("Worker",qH),{logger:s,errorHandler:a,...o}=_bt({...kbt,...e}),c={},l=typeof n=="string"?n.split("+"):n;let u=t,d=i;const f=[fg.DEFAULT,fg.LSTM_ONLY].includes(t)&&!o.legacyCore;let p,g;const m=new Promise((B,G)=>{g=B,p=G}),y=B=>{p(B.message)};let v=Tbt(o);v.onerror=y,qH+=1;const w=({id:B,action:G,payload:H})=>new Promise((M,N)=>{GH(`[${r}]: Start ${B}, action=${G}`);const W=`${G}-${B}`;c[W]={resolve:M,reject:N},Dbt(v,{workerId:r,jobId:B,action:G,payload:H})}),x=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),A=B=>w(Ql({id:B,action:"load",payload:{options:{lstmOnly:f,corePath:o.corePath,logging:o.logging}}})),S=(B,G,H)=>w(Ql({id:H,action:"FS",payload:{method:"writeFile",args:[B,G]}})),C=(B,G)=>w(Ql({id:G,action:"FS",payload:{method:"readFile",args:[B,{encoding:"utf8"}]}})),k=(B,G)=>w(Ql({id:G,action:"FS",payload:{method:"unlink",args:[B]}})),T=(B,G,H)=>w(Ql({id:H,action:"FS",payload:{method:B,args:G}})),R=(B,G)=>w(Ql({id:G,action:"loadLanguage",payload:{langs:B,options:{langPath:o.langPath,dataPath:o.dataPath,cachePath:o.cachePath,cacheMethod:o.cacheMethod,gzip:o.gzip,lstmOnly:[fg.DEFAULT,fg.LSTM_ONLY].includes(u)&&!o.legacyLang}}})),F=(B,G,H,M)=>w(Ql({id:M,action:"initialize",payload:{langs:B,oem:G,config:H}})),D=(B="eng",G,H,M)=>{if(f&&[fg.TESSERACT_ONLY,fg.TESSERACT_LSTM_COMBINED].includes(G))throw Error("Legacy model requested but code missing.");const N=G||u;u=N;const W=H||d;d=W;const Q=(typeof B=="string"?B.split("+"):B).filter(et=>!l.includes(et));return l.push(...Q),Q.length>0?R(Q,M).then(()=>F(B,N,W,M)):F(B,N,W,M)},U=(B={},G)=>w(Ql({id:G,action:"setParameters",payload:{params:B}})),j=async(B,G={},H={text:!0},M)=>w(Ql({id:M,action:"recognize",payload:{image:await XH(B),options:G,output:H}})),V=async(B,G)=>{if(f)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return w(Ql({id:G,action:"detect",payload:{image:await XH(B)}}))},Y=async()=>(v!==null&&(Pbt(v),v=null),Promise.resolve());Rbt(v,({workerId:B,jobId:G,status:H,action:M,data:N})=>{const W=`${M}-${G}`;if(H==="resolve")GH(`[${B}]: Complete ${G}`),c[W].resolve({jobId:G,data:N}),delete c[W];else if(H==="reject")if(c[W].reject(N),delete c[W],M==="load"&&p(N),a)a(N);else throw Error(N);else H==="progress"&&s({...N,userJobId:G})});const z={id:r,worker:v,load:x,writeText:S,readText:C,removeFile:k,FS:T,reinitialize:D,setParameters:U,recognize:j,detect:V,terminate:Y};return A().then(()=>R(n)).then(()=>F(n,t,i)).then(()=>g(z)).catch(()=>{}),m};const n$=e$,Fbt=async(n,t,e)=>{const i=await n$(t,1,e);return i.recognize(n).finally(async()=>{await i.terminate()})},Mbt=async(n,t)=>{const e=await n$("osd",0,t);return e.detect(n).finally(async()=>{await e.terminate()})};var Nbt={recognize:Fbt,detect:Mbt},Ibt={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Lbt={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const Obt=ebt,Bbt=e$,zbt=Nbt,jbt=Ibt,Ubt=t$,Hbt=Lbt,{setLogging:Wbt}=bx;var Vbt={languages:jbt,OEM:Ubt,PSM:Hbt,createScheduler:Obt,createWorker:Bbt,setLogging:Wbt,...zbt};const Gbt=hd(Vbt);Kc.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${Mj}/pdf.worker.min.js`;function Xbt(){const[n,t]=I.useState(null),[e,i]=I.useState(""),[r,s]=I.useState(!1),a=l=>{t(l.target.files[0])},o=async()=>{if(!n){alert("Please upload a PDF file first.");return}s(!0),i("");const l=new FileReader;l.onload=async function(){const u=new Uint8Array(this.result),d=await Uv(u).promise;let f="";for(let p=1;p<=d.numPages;p++){const g=await d.getPage(p),m=g.getViewport({scale:2}),y=document.createElement("canvas"),v=y.getContext("2d");y.width=m.width,y.height=m.height,await g.render({canvasContext:v,viewport:m}).promise;const{data:{text:w}}=await Gbt.recognize(y,"eng");f+=`
--- Page ${p} ---
${w}
`}i(f),s(!1)},l.readAsArrayBuffer(n)},c=()=>{const l=new Blob([e],{type:"text/plain"}),u=URL.createObjectURL(l),d=document.createElement("a");d.href=u,d.download="ocr-result.txt",d.click()};return P.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:P.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-xl shadow p-8 text-center",children:[P.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"OCR PDF"}),P.jsx("p",{className:"text-gray-500 mb-6",children:"Upload a scanned PDF and extract text using OCR"}),P.jsx("input",{type:"file",accept:"application/pdf",onChange:a,className:"mb-4"}),P.jsx("button",{onClick:o,disabled:r,className:"px-4 py-2 rounded bg-blue-500 text-white hover:bg-blue-600 transition",children:r?"Processing...":"Start OCR"}),e&&P.jsxs("div",{className:"mt-6 text-left max-h-64 overflow-y-auto border p-4 bg-gray-100 rounded",children:[P.jsx("pre",{className:"text-sm",children:e}),P.jsx("button",{onClick:c,className:"mt-4 px-3 py-1 rounded bg-green-500 text-white hover:bg-green-600",children:"Download as TXT"})]})]})})}Kc.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${Mj}/pdf.worker.min.js`;function qbt(){const[n,t]=I.useState(null),[e,i]=I.useState(""),[r,s]=I.useState(!1),a=u=>{t(u.target.files[0])},o=async u=>{const d=new FileReader;return new Promise(f=>{d.onload=async function(){const p=new Uint8Array(this.result),g=await Uv(p).promise;let m="";for(let y=1;y<=g.numPages;y++){const x=(await(await g.getPage(y)).getTextContent()).items.map(A=>A.str).join(" ");m+=` ${x}`}f(m)},d.readAsArrayBuffer(u)})},c=async()=>{if(!n){alert("Please upload a PDF file first.");return}s(!0);let d=(await o(n)).split(" ").slice(0,100).join(" ");d+=` ...

(Summary truncated for demo)`,i(d),s(!1)},l=()=>{const u=new Blob([e],{type:"text/plain"}),d=URL.createObjectURL(u),f=document.createElement("a");f.href=d,f.download="summary.txt",f.click()};return P.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:P.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-xl shadow p-8 text-center",children:[P.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"AI Summary PDF"}),P.jsx("p",{className:"text-gray-500 mb-6",children:"Upload a long PDF and get a summarized version (demo mode)"}),P.jsx("input",{type:"file",accept:"application/pdf",onChange:a,className:"mb-4"}),P.jsx("button",{onClick:c,disabled:r,className:"px-4 py-2 rounded bg-purple-500 text-white hover:bg-purple-600 transition",children:r?"Processing...":"Summarize PDF"}),e&&P.jsxs("div",{className:"mt-6 text-left max-h-64 overflow-y-auto border p-4 bg-gray-100 rounded",children:[P.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:e}),P.jsx("button",{onClick:l,className:"mt-4 px-3 py-1 rounded bg-green-500 text-white hover:bg-green-600",children:"Download Summary"})]})]})})}function Kbt(){const[n,t]=I.useState(null),[e,i]=I.useState(null),[r,s]=I.useState({name:"",email:"",address:""}),a=l=>{t(l.target.files[0])},o=l=>{s({...r,[l.target.name]:l.target.value})},c=async()=>{if(!n){alert("Please upload a PDF first.");return}const l=await n.arrayBuffer(),u=await Is.load(l),d=await u.embedFont(q1.Helvetica),f=u.getPages()[0];f.drawText(`Name: ${r.name}`,{x:50,y:700,size:14,font:d,color:he(0,0,0)}),f.drawText(`Email: ${r.email}`,{x:50,y:670,size:14,font:d,color:he(0,0,0)}),f.drawText(`Address: ${r.address}`,{x:50,y:640,size:14,font:d,color:he(0,0,0)});const p=await u.save(),g=new Blob([p],{type:"application/pdf"});i(URL.createObjectURL(g))};return P.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:P.jsxs("div",{className:"w-full max-w-xl bg-white rounded-xl shadow p-8 text-center",children:[P.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Form Filler PDF"}),P.jsx("p",{className:"text-gray-500 mb-6",children:"Upload a PDF and fill in form details (demo fields)"}),P.jsx("input",{type:"file",accept:"application/pdf",onChange:a,className:"mb-4"}),P.jsxs("div",{className:"space-y-4 mb-4 text-left",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium",children:"Name"}),P.jsx("input",{type:"text",name:"name",value:r.name,onChange:o,className:"w-full border p-2 rounded"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium",children:"Email"}),P.jsx("input",{type:"text",name:"email",value:r.email,onChange:o,className:"w-full border p-2 rounded"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium",children:"Address"}),P.jsx("input",{type:"text",name:"address",value:r.address,onChange:o,className:"w-full border p-2 rounded"})]})]}),P.jsx("button",{onClick:c,className:"px-4 py-2 rounded bg-blue-500 text-white hover:bg-blue-600 transition",children:"Fill Form"}),e&&P.jsx("div",{className:"mt-6",children:P.jsx("a",{href:e,download:"filled.pdf",className:"px-4 py-2 rounded bg-green-500 text-white hover:bg-green-600 transition",children:"Download Filled PDF"})})]})})}function Ybt(){const[n,t]=I.useState({name:"",email:"",message:""}),e=r=>{t({...n,[r.target.name]:r.target.value})},i=r=>{r.preventDefault(),alert("📩 Message sent! (Demo only)"),t({name:"",email:"",message:""})};return P.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 via-gray-50 to-gray-200 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 p-8 flex items-center justify-center",children:P.jsxs("div",{className:"w-full max-w-3xl bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[P.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6 text-center",children:"📬 Contact Us"}),P.jsxs("div",{className:"mb-8 text-center",children:[P.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Have a question or feedback? Reach out to us anytime."}),P.jsx("p",{className:"mt-2 text-blue-600 dark:text-blue-400 font-semibold",children:"support@quicktools.ai"}),P.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[P.jsx("a",{href:"https://facebook.com",className:"hover:text-blue-500",children:"🌐 Facebook"}),P.jsx("a",{href:"https://twitter.com",className:"hover:text-blue-400",children:"🐦 Twitter"}),P.jsx("a",{href:"https://linkedin.com",className:"hover:text-blue-600",children:"💼 LinkedIn"})]})]}),P.jsxs("form",{onSubmit:i,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-gray-800 dark:text-gray-200 mb-1",children:"Name"}),P.jsx("input",{type:"text",name:"name",value:n.name,onChange:e,required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-gray-800 dark:text-gray-200 mb-1",children:"Email"}),P.jsx("input",{type:"email",name:"email",value:n.email,onChange:e,required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-gray-800 dark:text-gray-200 mb-1",children:"Message"}),P.jsx("textarea",{name:"message",value:n.message,onChange:e,required:!0,rows:"4",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500"})]}),P.jsx("button",{type:"submit",className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow-md transition",children:"Send Message"})]})]})})}function Zbt(){return P.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 via-gray-50 to-gray-200 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 p-8 flex items-center justify-center",children:P.jsxs("div",{className:"w-full max-w-4xl bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[P.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6 text-center",children:"🌟 About QuickToolsPDF"}),P.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6 text-lg text-center",children:"QuickToolsPDF is a modern platform that provides a complete set of tools to edit, convert, secure, and enhance your PDF documents — powered by AI."}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:[P.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6 shadow",children:[P.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"🚀 Our Mission"}),P.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"To simplify document workflows for students, professionals, and businesses worldwide by providing fast, reliable, and user-friendly tools."})]}),P.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6 shadow",children:[P.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"🌍 Our Vision"}),P.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"To become the leading global platform for smart PDF and AI document solutions, empowering productivity in every corner of the world."})]})]}),P.jsxs("div",{className:"mt-10 text-center",children:[P.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"💡 The Team"}),P.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"QuickToolsPDF is built with passion by a team dedicated to delivering the best user experience for document management."})]})]})})}function Qbt(){const[n,t]=I.useState(null),e=[{q:"Is QuickToolsPDF free to use?",a:"Yes, most of our tools are free. Premium features like AI-based OCR and eSign workflow may require a subscription."},{q:"Do my files stay private?",a:"Absolutely. Your files are processed securely and automatically deleted after a short period. We never store your documents."},{q:"Can I use QuickToolsPDF on my phone?",a:"Yes, our platform is mobile-friendly. You can upload and process files directly from your smartphone or tablet."},{q:"How fast is the conversion?",a:"Most conversions are completed within seconds. Larger files may take a bit longer depending on your internet speed."},{q:"Do you offer support?",a:"Yes, you can reach out via our Contact page or email us at support@quicktools.ai."}],i=r=>{t(n===r?null:r)};return P.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 via-gray-50 to-gray-200 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 p-8 flex items-center justify-center",children:P.jsxs("div",{className:"w-full max-w-3xl bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[P.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6 text-center",children:"❓ Frequently Asked Questions"}),P.jsx("div",{className:"space-y-4",children:e.map((r,s)=>P.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-3",children:[P.jsxs("button",{onClick:()=>i(s),className:"w-full flex justify-between items-center text-left text-lg font-medium text-gray-900 dark:text-gray-100 focus:outline-none",children:[r.q,P.jsx("span",{className:"text-xl",children:n===s?"−":"+"})]}),n===s&&P.jsx("p",{className:"mt-2 text-gray-700 dark:text-gray-300 text-sm",children:r.a})]},s))})]})})}function Jbt(){const n=[{name:"Free",price:"$0",desc:"For personal use with basic PDF tools.",features:["Merge, Split, Rotate, Delete","PDF → Word (basic)","Watermark & Protect","Limited AI Summary"],cta:"Get Started",highlight:!1},{name:"Pro",price:"$9 /mo",desc:"For professionals who need advanced tools.",features:["All Free features","Unlimited PDF Conversions","Advanced AI Summary & OCR","e-Signature Workflow","Priority Support"],cta:"Upgrade Now",highlight:!0},{name:"Enterprise",price:"Custom",desc:"For teams and businesses with large needs.",features:["All Pro features","Team Management","API Access","Custom Branding","Dedicated Support Manager"],cta:"Contact Sales",highlight:!1}];return P.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 via-gray-50 to-gray-200 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 p-8 flex items-center justify-center",children:P.jsxs("div",{className:"w-full max-w-6xl",children:[P.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 dark:text-gray-100 text-center mb-4",children:"💰 Pricing Plans"}),P.jsx("p",{className:"text-center text-gray-700 dark:text-gray-300 mb-12",children:"Choose a plan that fits your needs. Upgrade anytime."}),P.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n.map((t,e)=>P.jsxs("div",{className:`rounded-2xl shadow-lg p-8 bg-white dark:bg-gray-800 transform transition hover:-translate-y-1 hover:shadow-2xl ${t.highlight?"border-4 border-blue-500 scale-105":""}`,children:[P.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:t.name}),P.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:t.desc}),P.jsx("p",{className:"text-4xl font-extrabold text-blue-600 dark:text-blue-400 mb-6",children:t.price}),P.jsx("ul",{className:"space-y-2 mb-6",children:t.features.map((i,r)=>P.jsxs("li",{className:"flex items-center text-gray-700 dark:text-gray-300",children:["✅ ",P.jsx("span",{className:"ml-2",children:i})]},r))}),P.jsx("button",{className:`w-full py-3 rounded-lg font-bold transition ${t.highlight?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100"}`,children:t.cta})]},e))})]})})}function $bt(){return P.jsx(Wnt,{children:P.jsx(znt,{children:P.jsxs("div",{className:"flex flex-col min-h-screen",children:[P.jsx(Vnt,{}),P.jsx("main",{className:"flex-grow",children:P.jsxs(Fnt,{children:[P.jsx(Ae,{path:"/",element:P.jsx(Xnt,{})}),P.jsx(Ae,{path:"/tools",element:P.jsx(Jnt,{})}),P.jsx(Ae,{path:"/dashboard",element:P.jsx(qnt,{})}),P.jsx(Ae,{path:"/dashboard/edit",element:P.jsx(Knt,{})}),P.jsx(Ae,{path:"/dashboard/convert",element:P.jsx(Ynt,{})}),P.jsx(Ae,{path:"/dashboard/secure",element:P.jsx(Znt,{})}),P.jsx(Ae,{path:"/dashboard/smartai",element:P.jsx(Qnt,{})}),P.jsx(Ae,{path:"/merge",element:P.jsx(Tft,{})}),P.jsx(Ae,{path:"/split",element:P.jsx(Ngt,{})}),P.jsx(Ae,{path:"/rotate",element:P.jsx(Igt,{})}),P.jsx(Ae,{path:"/delete",element:P.jsx(Lgt,{})}),P.jsx(Ae,{path:"/organize",element:P.jsx(Bgt,{})}),P.jsx(Ae,{path:"/pdf-to-word",element:P.jsx(jgt,{})}),P.jsx(Ae,{path:"/pdf-to-excel",element:P.jsx(Hgt,{})}),P.jsx(Ae,{path:"/pdf-to-ppt",element:P.jsx(Vgt,{})}),P.jsx(Ae,{path:"/pdf-to-image",element:P.jsx(Xgt,{})}),P.jsx(Ae,{path:"/image-to-pdf",element:P.jsx(Kgt,{})}),P.jsx(Ae,{path:"/word-to-pdf",element:P.jsx(Zgt,{})}),P.jsx(Ae,{path:"/protect",element:P.jsx(Qgt,{})}),P.jsx(Ae,{path:"/unlock",element:P.jsx(Jgt,{})}),P.jsx(Ae,{path:"/sign",element:P.jsx(Hyt,{})}),P.jsx(Ae,{path:"/watermark",element:P.jsx(Wyt,{})}),P.jsx(Ae,{path:"/esign",element:P.jsx(Zyt,{})}),P.jsx(Ae,{path:"/ocr",element:P.jsx(Xbt,{})}),P.jsx(Ae,{path:"/ai-summary",element:P.jsx(qbt,{})}),P.jsx(Ae,{path:"/form-filler",element:P.jsx(Kbt,{})}),P.jsx(Ae,{path:"/contact",element:P.jsx(Ybt,{})}),P.jsx(Ae,{path:"/about",element:P.jsx(Zbt,{})}),P.jsx(Ae,{path:"/faq",element:P.jsx(Qbt,{})}),P.jsx(Ae,{path:"/pricing",element:P.jsx(Jbt,{})})]})}),P.jsx(Gnt,{})]})})})}yI.createRoot(document.getElementById("root")).render(P.jsx(un.StrictMode,{children:P.jsx($bt,{})}));
